<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"92e9ec8b41b4287df81d60e399e8684677816cff16d9d7915872216179a152ebc070840eb1fed6c5c170d6699a1b3f73362bb1d67a4f4f3300ecae36e1bafb7ec4a7c0d78892fcaab4ad5d9fc6982ac5405f2d48d3383f617de7ed61e81d7fd50b387b2e08ad0729c857b8d6e0834985ac972c2550eab4123249b2248682271eff581344d7e24696e4bd0344d4d046f61409cecc75743de1851088f5919d6fdaf912c86a47018b4b4e1dcb380e33e2487e1a76316f82737993d51167411d72a276629f9b6baf63f07963374c93f01a19874d6380d79355c8e042552c6d39163a52b6299c8315243f9828ecbbe7e70501e19812def3a98e81f77c7483b77d0742cc5d4533295e6776957e65b304a4c990bb8d9aaead56946cb7a0ec3be16be7174d52aa96e2c30f939721b9e86128be17f4966e06b2d4542df3fcfad89cc822338a54933375018ed1c36c847ebbc0cb2ae3e42a0775b34e3e92e0901f5374e3d4dcfe5cb78986fe543fff326495f5047a1281546131031f64aab7a36f72f0530dfa15051bae0ee9575e8a142814a42ee32227b82c8c3587bff503eef8e13ec2bf4a109b95dbd268e2ee0d12c57ee9a1f5ec905c3e0c40a94d0f248d517f38ca0fda8e4ad67662fd75068ddc26452ad91f590aeb42e4f3b5a5c13cdf9fc6f67e350db4b78e76903613ff5acc7fb0d645b09c6e8f1ce5ac1a8966fadc533617c443b9a45629e5fb6df245518848cb11e12131ca25f3ff8ed113cfbcc779772e080754eef6e621e5c34093bd6b68ff53fda971e9f7e2418a0dc00f1c047b8734b44dacc262934526496e918c8a4f5bdf6d70383d84b086cd3f87b3382b99619c9d75be9e2614c0613dcd5bf5f10e09af64f4ec9978838f332e98c7712870651787ddfc7572b9e76521c67d999f6ff5924dce84496d167ee585d3d9590f0457d59e314ad31eb9bc38af1caae056630a4af5b27cbb15f82a8df94ee85aa3632ef6933c1eeee4677df549b5d41038525e3e9f4bcbaa7e0982ba1f96f1e09fe7f378bfbfc1500fe28c11f9ee3e3e0ee8eab230ebbda6ab6b33817ca21ff6002b9b18683e400bf1435f45858f32719da3487ca8510d476ec5e10563ab403060b897289127d03a9592c44de70d992738a73dc95ae7ebe9fc6cd3dd2ab3f2dc6ac3a0cd58449ed8156d6a5d59de5f260c962b768e197a58be28c3c08cccedd015d9eb5fc5c280ccbe16edc3ebb54e040ae907b9c4f50c84d9bf0b4a3bcf4b2069fea674f03b8b88a93ce1e4b8e2818b59a569c4fa41dafd1623f87c265f005acb926e1f97bc16762b7d081d0ab41eea4b600dfbbb43467cd3fe99bb2a9ddad199f84457d2d5ecefc78615387e8e4f9a3964fa5c4742a90b1cf4d826cda9fe3be0dcfa4205b716c4b347b068b7f386349f288ae4bdde82a865b5457d86a1b6fd928a3abcc3797b75ae0b201e998ac57b68e09f07fa92510b0985bd3889ccaaa14494fa8a38cac0c3d3ca9beef8142808dc97a96ab053494a3aa4c9e976d70822c921d15eda010783994c538d01f6132dde5787cf706cdc563a5ca61dde89584d49e2a9034d5c6a691891b8ab8902ab7d95813f1fc14bcab46ebd39e947db48059707e7eac9e792cf74b536ad70b974a86c9f3cb85f72eced41fd183deb6111f94b34ebc58e3e4286a6ba55c0c19f6da41d6569687995dd34afc621fd71369acdc8f32e193098f8e566f61810a8f6f4d36c1240f7316e4220af70be37abbf0293299895955e296c1cefa824968d7661b50359f335ef6594c8e1255bb1948b1b9cca820fa93ea69881d3c7073fb71366fdb6b1670b52b59d6017efcbce8ebaf82e359063d300d55daae70a9c1555c008d92427934bcff995b134781160ee28b68aaee908d5ea7007e0738acc48496d52d6c9af1b88c370c98fb7b6062b25f4b2ec1e54709de9712a75ee6cfcddaea0dba422b2c68819d4e15a6d53f4129686c37e139f081f49f05c639abe418b6a454445bcb61c018c82d9446862b4d920e40bed99153871f88aa37da11de8b95168bfa45be798caacf2745c230640a3d98810a62cd85c9ebb0ff46ef9df0c182b8d8634d367e0c7c93946d7e1678f74f2c03d739baaf38b2763f872046f7690d08a8b6b62317f77077eb27f53fcfbe27518856880355abf94f11e9a28529ae04aed44d5178ee6a8a1477921f376ae3cfd5ee7a37ba978c8f13866c2710b7b6734873b1dd3da8eab28fd3005cb05e6d37c76bafa6c3eb201e1dbaddb87581e86c8e6c5c9eac17b6ccf351256698d148b8b6e09f20330acc4f44d20aa4e13f23e789fdd0b795c3b2d2036e6d4a3227e1631d41b313040d409efeb7fbfbbbf963be044d208f0ff21de2bcbd64e9805363dbbc1b673ce2e3428c8a8d2d0253e9828bf6f508184af8938b0cdb952ab51abbdd312313780b0ca862aa7445918bccd617124f4f7763361127af6e78956f5258f215c5c8f6a77a43f2de5089684a9ad922756f453b86e342b06c6e5a29e573e25ff451f3fbcc73ee0dea7b228dee77433d0cd1f17fed6aa1db292b1d91be9bb02779b64352960bed1ff64dfe3a47a07fe6180c10b063352e5f45734052b7ee491ae573a7f3e433629974a45595d6b9f03560e5d508658d35ccb14ef61f0722917d1f7476e6ff805a4365271c9b2893ad2a216ca92a910f3fdcd496a482434f94915dc868e26bdf44235f1ce6e1859993d2732389cdecd38051ba3b73509c142a156aef6339e5b1a733466ba720e026fa280f4a0e31d9783ec895e40ff452f2c69b19539f4955345d5725ff9205c4072a49516ab2d676b4837a51fdf9fbb42ba5f3239be2882adfd3ad19d76d352bea508fdec2ebf19237f35b80554366908c0304e06754984303afdf898719a44a021c8019ef27f4e62fbc19c112f5e6c64207952037f444aae3e97f38812cb13ddde5e04cc34a8ef47b84dc77fb5327a181573ec797551e3371577f620a465ff3c7f5c39f561157a2d864b427b36e5ff559cee28d4e00126242f77abcc27d474437727865f6e857448fac902735547f5744ce1ada75dcdecf4556f4878a1eb575c4363752c74709f149df520d8a38e26d5e77bd0769f68dcf092b32d709cec47f8b54abde1ab2d31e2e893f717d6b347c0f8fbe509635a7f6fdec0ad25e2cc81aec1ed4adb8f62271e8f2937a79378b2d59b220024f8ffb40664e2a0a8c846abedcd81e4d79ba2a41089739bba44ed62d1b99dbbe034e393b29844a88d76323111b91263c37fc4a0610107aa74d80d61c98a6efa44d103ea09a3ea266c45ed67053d64da9d6361a816eb878580a72afa780ba9e830228f8215a4df308594616cd7ca6e91107ad0611882e317b03d798b0feefef2ce8ecb66441ab3e5aa78a28c752d36b21305ed4ef692d410ae9a74cb902bd97ddacda1d2a4f653c4304e26bad1970e5b087742f67d6e4f65aa368fec1d48a73a040a3b5a0dead27f4c6ae810fb80d07e4a1facf5bfd8ea6a971bda4fc62249b27cf7c2980bf4c396bb8334d59bc36a3fa04d25d9253ceaaad6e30a0bea12b5497828e751c8ac7be932f5d81af1e3dffaffb4b5173fe2fbc114455e00068003085d9a476a715c645ffa9a089299026db58254d306fb61093729043955b30985fd6a81678b48d193ec1fb7ffd3d58db6740484a1f5ff479dc4cc072b56cdda5f87fe8c5408c79eb01afc7febc1497bc1a95c12007a2049bbdb5a564fc9b2c344c03729f89020a2dc0b6a96a18e55c8243561476cc23633381c80ee4db63da47c430e76a775be04ac4d57cd54aac9a02b9d4118c365cb215f0918c8b5fd006e5a5210d3213d5f452af57d0cadbe2a70e35a5b93f8580e43a27db623180af9de11c04d9c3c21d275bf3ebf3b218d8378fd6cb8b5bbe0e03459c20d12a7d518b6e53f85af6a6d22534a4a641b26ac9c37aa599f7fcd116619dc47a3bc17764368933c83bc2b586cf6801cc81c6ca1b3b95982238152dcb56dc50ddcad273e68f8674132697f1db89110406ebce339a1be04dc14eccba30de0371414da42572b800fdd00d5b74579f1a160c0883dd7b7db26404fa8a60923e00b2fb642c862af373500012310d5d780b2d9e0ebcdef45a31fb64c7d3917a92ebba623802294b2900521ae6e16e438f628ac707f860504cb8821260581d2753da66153f885824b0fdcac771dd28ea2b5854fdbc8651092a9804792ed5151fbfd8531842b98e0c03fe34ebd5ce6e3ca0e7c1c8781d4dec72bf516bd0104622ae5eb8f3959b7f9e19ba9f553757e09d99a9aa308aa4fa7a7b316eacfb4970d551dc4f6f08d650719bdbc9d21a6993b39aa84a9984c8a8277404c8d96f87b9de5d9d44e42a977844b11792adc884386eeb05dc0b025c2993459f8bc881abb512e68d407ac22de8d7c284fcb9072251f602756c27aae764ca04b017ebeeab4afca59b689b883aba877466a1962bdda7d3f24200ba1053d8eadc55fd68abdd89b91855639b7f14ba863bd464e5ff04faa31b0833dc3b5c8fad2b258a9da8c7b4fea23aeb50ac501bd2aa5e0da881830e66a0fffe0bbef0333b19fe4c3dd0c25564c1bd3b06455852dfbd24ec1620c5343836eed6ac14d39b46f13c16db357122b9ce6fb9b3913a93d540e8f1976fc39f8766b97f6a98220cd53f96571324438cc62ec3a39c193fd3958b4c0490a509a3dad84f60c4df93e8485eed0e20932b29439969b79072661f4456ff550d93e8af246c8015629c45742ce4611c5e1d2eb745de0dfc94fcdcd83fa6fe9151a948e76222b67998d81875e528d809aa58aa6e07e0bb29ba52c92392121f9e1d6041f239417bc8d9dcc029537940e6185f3c520addee53eea9ea5486d0bee6192bd941716526e039a4fc46fe88352ea7d3f3def196602508ef0d8a34a7e8ed12511ad8eaa22101ee60cd4d13a60efaa24dcb292055329b66c3c8ec609fbe52b53f1e91165370cde7d4c58cc42290ead615bfa3f2f4bcf76cbc0d4746260d656967266ab1b9d42649a04133a13d8a5a9ccac2c8f4176a35021b4c73960631616a00757a3c0211bd44e248fb1eecd4b784f173a7dd6a39615fa1c8a904b1d0cefd810b9553f4f50ee677b762aa6c15d723343373236ab1b886a63a306c0cd6d9fd3a425aae0b24807097a69733c7d57c9b90f9e506e442952f5503d611e3a89246b2a72da9a2ec82741675b44fb4f760ee03ef89d5f044e1f843f93423f9a78039656b15abad9c2b12f7f2ae239f3bf210e8c0bb81d156108ff03bb6417af22e8a779ad4f1211532e7d52776778d7dabf3d667edaa0c7be47eab790ebf829f495e5222c1787d10f75258d0bf9dcf401bab6ed9693e5bc2750027964a7ab9b606664bc357dfc099f07a00bc2f09b81b77001d08ed1a5ae88b453e761bce66bb1cb24d6f52afd13b63a332a20a8ceef20d4435df1f379d4180ec29ac1f8c6796ef9c93bb44461c11cd5dce31392423c1dd787c17c4cf506bf8d84347c068d812bb5cdcdd7a4c3003e244ee1db82dbdfab63ab8167956683be0bfd4b27a51af626ffee435cd867d8ff1f2bf4a8db59c36c8d0fba1d4482a87f53d50f2efbcaf7419d61b0fb77b5a97dd67fe77e498e61f51c2347dfbad08e72ccbf8f3476102ff340a4528c89ffcca728f31dd1ca7c9a5504cf71636b031e21f15cabcda1ccdc90425b129129aaff890d8edbc4dc1363cca3476c1e019bb1b7f32166255029e642c5ef1eb6c5767e3eaf699344ef7ada6fe2be6fb846f40b86c246aa166ca3c8f52fde004d051bf243776a1a6941e4ea2ef69e4f2e99a255e37dfd0c02c6afe5266ca7f7acd0f5e5d8935aa4113aa35a50f382f0fd9ff9f6982ee61bec124986f9abf3b061830f66635bd0c0c2299a888011df69d5142c6d05c3d5fa72c221a043725eb03a4c7bcc2d06abf9cab2ccd00ac1e8c939bbd101371475ae0ddde830a7e7363193427db6afdc86acb00ae6e06eff9645f7bc7b6579a7b6ce7e3cb5d87842af1bdf942c5dfc831715493db65b30f5643b30f79eb722f9e89cff97f83ad06a069d8b0cfef4d18dd19f4d43b5ae60130d5411c41eace99cce42e69c96e2616b4114612a8c502f097236a4e301a31e4fb615674a5a2addc68e18dd525e47fb5d781740ba7216bc281ef45df052a886339bb736e259cc7c0e78831d2de792c15509e9b567fda736adc9739f0fadba2a3d0e115781d8da79ca292f63962ecc9a401544bebb34d6ccad192a888256bb7173d5288d6cabfb30ea52925834389da0fcfa60697bf62b0e376c49d46b82614a17266aab05aed1c5d7911ef2c3df2c233915aaceb62d03ba857ec7ce877895d3a3628f9906426be3915b150f3fcc68bff49880742553477ccf83bc918ffc6dab0f0d22913a581edbf04eefa85aa34eb71df1f6e15b0bfdec51095ada29271c6011d41db6efcdf2e328ff675aad5447d0434fe5fdc11bd2ab20175938c3a577311c0061a4f624e5b6682411a625df6559fdac62967302090a374a14e1e12bc1743d0487cbc66238dde9c36f559356c1b4317741df6ebc27c7fb649f63a3f34198c7813ed3ddc3e997d9d094e88f9f6da5fbed6c163b1813e8c18a00db8ebde00163c2c5d16305746a14f4a018e5a95f98b9b10cbff9da4d345a501b0932d53bce64644ed58ead4edcdb38accc786600f1deb94c3130994173a1db1514ea35d06a53f4f2f03445c4e144acd52500f02e1cc5977d348ad64367d2f76c0f638c98b00ea0609b7db4db57417cbe6897ab4c7887a0d18ab672f39fff6fb66223b13603d32c2f33bbf89b956dd830843baac7e885f8e75d356e80183c8be2b0b347d316f5b7e21f1b5745401cd5668764acd9584710515c81a3bfe166fcf3860a3b91bb0c1f409a73a8321fe1fb15daa7ff34e1a795238dacdc202061810e24e8c21e39b47fedc464ee7ec7dd5308da01c6e227677038830815bb54bb2fd87055e4982bd868a17adec79f58c6417486e0248d119ec3a76fe7568b0dc17c82ce4fd9531763bca141d88a00902da9f501d0c8c0ca38c84c58c0b554f54f5bdb15f88a6d1edac7522d85fba421aed35bd8700f80888c6b925d63f3048a553864fe8362c99b9b5543bfa2b7258bd0f515d3ddbd7e9cc86059cd9e220f0e1d9bf3f4a5852a430e2e0209716d7e1d9c6c0ca71226d48bb1dcdeef1090964e53242de58a11fba525a2ecdb8aba4d60abedff524429e1851811dd06adb7eff5e259eb4a79a60129499620f4ec0fe704913d8908a620b26b9e7ecd45e68118eb640f14871ff7d0fd0dcc5349291b24ca4171b36e1ad2530a695ad2026518949f7d770545bcef774c68bd5540a7f6e66965dd8848a4b18cce8200f25a60f973981022fc86e16ceb606990df41feba4bf166f02709019ecf71e662bf0ff7e13fb6f66b3ae360c4d892c557fb1e9dd7d97be76657ea9bf111ed0177762dfee3f83e57f4e7dbae27bff8b2abdec2d73991be29a9c5daf4096af795fc3c6fa2b538564b5afc8830fff8665c4022d483e27c852f06d62343701910481ac43b28dcaa547204fb4b97f6605442c98a4aeeeb4b7c79635a0cedc7f17802868ef0a2332b776a39d1b243cc3068e5b1dad938f8b5a574d48ca05c8876002fd52e732abb014cb6c4649ee87aa12375e95d767741a73d9d9d2e84929484060ba2b74d74fc0a7be97d78280ad8378703255a67e6a0dcf46933bae411aa91124f13a32659fd4e369ab2ca4f0d68a090ed866328d958a5bc6192a7ba5237984ef71d38cf85f11caa6d68a6a2f460977f6c0081c788dca90d049c481c03f6f04a902b1ba1ffec19f638cc4c29d42e38961653eea31a84fb4dbb5a8ef9f06789151b155be4a988fa4460d769729d93d7aed4e25cee315eedd755090df70ac28542030157eae089b0beece438d0811000f5eecd60dcb366ffd38d2222439231fe9d7aa9279767e33f5a5a7da5f80eaf6ea9eb5726f23abfc2e9a2eb33933e3c27832195ec2959deb69ef6be8f76286fcdda6207e61b30ffcdddf15637e2a14284f56bfc23567b0d1eb85a08d2b03c5bc886e7a5d7f3e4747efed86b5c47c414b570a36a02e93a47367d2675daaeab23337e7de4687983974b1a4e019f3ed3ed825cbb6598987d5befa3a2aa41321db465e07c39dd1e7162c84c5c338814ac05887dd2ef251f0d31295b9241cbaf7cf403ed8060f779134196c336e29471712dcb45c3d632f3c8af5c413df4141a7883f981f63b6434a8b244cbaea7caf02a3795bbd96701b84ddc7911b4ac2141f08d1c143bb4ebd26aad1ee97335086981cfa6419ea8b7ff729625a91725b51c64d5db73b11efe203b51812dd25f6910db850fafa2a75265085361b22224fc70a89e6fb2cff7c9f125e71a6717bd543b9dc363c3f7cf765c4cbd299d9f4ce26adfeea41e1b459cf87bb68add530322bcc1d336e474fb09ac0ee0ce28f762c1c636a0251114ecbb36c6b602fb39c68b38672a0473c2f10df73332fb63475bb2e3b65405e5e771235a4efadac9d3eb002b1d5dde8e0b4c0c0791aae4e760cc1a9eb87abd4d494f3c8d7d7a415c90181ad0157d8ee369d0b87e148029cb2215e73ce7075e217ac5c53e7589e3f5eeec3b1ce6b9767e8827afbc8fd5a1e0cbc14e7316c3bf39f882393408474990df88f8003d6ad313588ecfa7d95b8c33b7618ce2625871e1d0d5dbfd91abf0c628b20fbaaa1ac7c655975fd6a5f697d71ba722c5a13fe64bc66b39be217e594994bed5e20fd2a4e3fb3d69d6c6b9febdb456464a9719dc1051b6f63f2a2be0341f5634ba7cb03a5d4525829547b90f0bab0e8c9225637f4ee28872420106894e5cecd4ba1c64f52ff7cc030343e6cee12035cad93ff5a07e8e5cca6bf9d6b173b46423e7ecdfcc89adf9f11926e294e7e4e38d9d370c43fec3ed475c22e0019ad48b6aaa76fc6d3e165e5767371e0a30dac3a7f35eafa2a3204bcc5da89c17a1d1099fd5f5213099a3a9724cb7416e9b01adfbba64fb6c4be12a0e8a561e4808565c412d964a86083947d5605a58395184972b461f0c5b2c2a3236eef15866711bcafa9484e51907373ef75be888415e3de17574599425b6067c5df16aae296443817f7df1b686e954efa4da70a91727f15654fc5488564f7cc293b397ca5df95a81fbbe7046849b0121d6ff60cbb24a13f9371fe83ba3102ec7664d48a9c147651ba386d7a64ceb2b6b11419f8a9fd0fe95e2fc5d69b9a387cd1c1a78a517463792424c121628c4ba9c1a71f0c3b64a9ccb8132bd30ff25fee6a25bfa90261fe028827d48fd65ccb4e6354b1ab59afba6535dffaa5d115a002abf581feb8ef970a34dbb52b17ab7583a983e0d2f99374514518606327f0ceb01d8adb8e09b42aafab7058006feebaeae514c685d566c1f5ef1ec0bf4e79dd568822a58c6e943e85945387cd8bba79414ed6ab35283d7a713435d2c7bed4348e9b93ead184bac870167b588aa4b6b0a898a527814448f0f9fa3691992bb968b9745308afb29cfe740d124a57df88fee662e7432569126b3953249bf7d67ce0019ce30ee3a0cb2694e2cbe32f5a1e855e19800c1388ea3c9084a1ab93b3eee46e675e103737c21afa6785f809ab4c6de1fea7499e2a699b0332fae7246b88a900d6688428c52f5c5bd42e3cc68782afbe33b22d82839fdf451222644dea1bd50564ae0b1a286256f5f9670ad87743f29c4ab91099b797e7c4100d02ad42834053a66830d2a112b83f15dae71520f2df90ddfe62a767e17d30a018405d5671599a2299a10269c66476e95490349fc4630882d7b352d9e6064b1fc283ec0703a4957f7707de04a0375495cb0f3768682cbd49d452c7ddf263ba2a6654814d2adfc90eb9e5de9d2a39ff6d225c34a42634493b3e7bc2c277555f0e899bbeeff32f6ddb0bedcda4737bcb42de5e8f981bd9ef8473151b66207bda39c9eda612880ecc1a9d596b4c34a19bbc1b55694a648983bc125ccd181a1074d7e301d07c923a780b1f6a21edb0d4a20f2ae5d320a55eb5da7d09f45f4eafab3d8ba53a0e3d21eca768447b8fcbb401ea05c974de4332c4f547f219609d75fcff7f249d4ec7e5facd87cbb37e4ac7bba6fc86f4240f8858956a062317597a69624592bf141ad2584640caed2e4a7b57f13228a43a0c782749f5d3fa97781e1a2a6c7fb852949b598dd2fcbad0ab31e51cffb275c1cfa67b8b3b5108da0a9ec9310665dee7119bee42347dcda5ed0f2fefd99ff1ab43e9efb011e454fae32d488a455e4daab3207e6faae5369eff26e1beaa2dcacc149df7f35958fa15986b57519f32038576d03a44c46bc4485bf542ea6d1f09677950a70cdb22281e23798b75ce136f71c1c6f1cb033abb33be923c9c3068a0a93b80aeba113c03052f98dedbb524516d6fac8aabbccdbefae87d6f092e0615d10263dcbff86dc82bbe020cf2b61f26dc158ade2b1504640aee37d85ac7c1470061ef1e5b8ba1540d6b62ec2cd5631a6664f91d28d50f5fe9c4ab6fd714f2b9ef577f0d14b7b60b01dfec38aea650e67e481ef92edeef8c07bf98dfa871e55439d768bdc076364bbedb02510eb709ecf7c2df25c3bc376242baceed64d704a586d51240e7d53e7c310b9f5ef769471244d576aa8a53df486f904f7a56d38022c03c1c0f5d14fdd4247eed1e7d25991debff514d60414bdb1663eb6d2d657eef274efaba8dd2e1aab4525ecdec0b59d62e8b8626ca4a43d38d335dffb872a13bde72417cfd98b6297d90f52aa38ffe9435b009c5807130d1bac7060542076129252fbfbcdc4b7db16cfe2550e3308734c7018cc73a853e0488e56a14a1e506c3584f4c3095e4d773039ac63769703e01626e444c32a740ed2b626c846fce5bc536e2d7d6fb42cce322d397cb4fec62f0df255435f002b140bf676b7b28c1344113df1944c53e99a47cb7dbcebef9d021bee5bb30dc8748fd593cb1db3eca20ac0ae86a240c0162601179ce7f1277af65d97ce5fd5b168e75605d7260c1ea5d0a1e4495c33a8c2a64d7ee759fa9a91a306671d860b900d602845edee4666306b96bc326f914e848f755aadc502e1537691ed7dde9b71fe386363dad7058fa02b5f0c118631c429d12bbaabe3701d52ae3e128c31b432f87d5ce94ec2121c888cd9d595e99e198d55611e45ff96a6a2025b0ae8e8845918ad627b41d6eb373d8f48f6e078d6b561ad9525c214e4b9cfad4544942540a079fa5f569a2a8cf7f002a1ae653a6ebec3a65cc89cd8655ea77c0b38058d363b1cc0a3a1076461db15db784d009bbfb836ece8724f280d95e87027cb71c66a511a2aae36d8490c254acc4f2d5f68e0f5508dc71245026ea627808bed864e2a112bf97fd8973acce04f16ebf7b9cd25abb1baf1285d6bb33e5b18f3f05b87f66fe702a5f3096e4ef148682d88277eadcacaed5058f1f54a3a68f7ffe8a70e101652359405cfd079aaaa2c8e05fa23372d9e9211dd1477a33e1e137a1f97432dae872c15b4cd93a916da7c22e95460a76177235e657bcc5728a13f8e97ffe44fd2d1d312244109625460f66934d311884a7da38ed5783bd547be94bd9d4137aaa30c85e7fe4e976379b14b6df67a08d8edd62ff65180f403a206d7a94db9aeb706adbb164ac46392dc6fc982f880ad65fc6d3ab0274ca3bebc6968773fdcde4faf914a734eae1055f1681609a0ee2c0675fd908b6871443505401f545aca72b60275dbfc7b566cd1d13306cf0b3721a30f4ac90e814563b4d034f122f6954d228c3526b867bcbd35853b6caa4b152db8bdc5c74d06aedd7a01f1ada219caa2f2dd48d6a1ef9f0271c2d3611cdb80764463035e68ba941d99c3c8badf2a07a7c9404e528978fe575eb563313252eee14d40aa397b1f3af0573c357d3c97f19ba79430f3283fd19e80d3ab449b30cf9d3eba0d368885843d992dd307ac3d9203866781b9c26417dc533b9c152ab1fab72654335d304f5451a6870e693c1a35f122042c81904911138c94cf285d407d1b8e80ebbef366fb352394f0bbeba1da273a841495ada76bd20803fe4bde5ec088e5cd4a05bd76232b1afc54ebbf16c791117beb9e281c77540b32063ecc48e3521aee0c0a20f44b95122f743ba83ae2cb0778167d01fb63d262529793f5f9f270e1cf93cc173e959da00e4d0c1c6cc65d6959338bce7b4aea9d0d2206dda4a1ef055a09939ff6e74d25686b4c9fa3bdfa673966a7c389308e20f02e5a86850915eaca82a80cee37a27809e71ebb226bf04cc3f9e61e3009cbdbfa8f462d5d5c811ba33327efe64a0b7c209d7e5c2b8ed391bf13c4a61747647d11847c2d58ffc50fc6426b9bfa5ea99def54a11b147eff6c6795e0aa6b606eaa7054214e2fd30f08c38da9d411180989713e1930ca087852002935c52c744a7ca34529f09c9da30b0fbdf83df1af6488eb39a34cd06f1a59214d9069c4f8d028cecb9438b1c097c5d3df3a08e76b3e06a0e62242e7b7c70047455824c3f9cbc62c1c258005d8aa106bed1079a82039fe04565b80b6b8adfc7480699cc43dc1b70f624cb22f87f5d6b161837536e93e5e72859ddd2437c0c90a67aa7a1da18ed24919beada757f0246b89553a6705940321d53d789ebe116286d2d9b383ffd0a862d3cb5ab959c0a99b6fe91700fe0d0e593cc2ea286d559e2c5e2785fd522a1ce016b6fde700da860b647ded0009fc89dea8950b8541a5194276ad30412b6406a8284b44e805d30465b248be3fe71c30168145e52abb382ab5e352bf7cb0cf882422a9b2acb0d2fc0b6fdfe12d2984af9eef8be5a53bbb27676ecfa20da202b728548124e61f6bf1496e2d17c523097681c19360f76008a2ad5ed12c4a88548ba69171da212bc6716b68df5013f02c934e08f79838c73e236528f4d8cded6b4135881e874c227caefb1355da9c5a0a471f1bdedcb6f67bbdce434dcac2d898b18fee87c6fac791f7e88753b17bbbddb1f9f6147d369fe30c59ee8fb30d7df245e562a786609fbdac745dbe8814e5aeefd6dc0ba7799a21f48a189b451f3ae56d4c6c969d52bf61ca8ba7a9e41360da973e310d1fe36d9dc9a7f988fbac1b9131b408e4d10aa5fe4721f7fc21410d5ce513df304f4176ef24cb21cf9a08ec84c153188519066d9ce5930bba644e929360306311d3f297df00ff970a3fdf062e96925ef8a508dbb4110409c5e8e623039c1c46720be1a7b27171275b9ad800843a94cd36800a41a2b66a45ceaf8dc68d671d83b3b1f181c3520ac7ce42704ac500c14e6e2d8f525930fdcd456b89a9c58a4985017aa974c6f2473e2a8d25c8c725046e13e6bbf2e0042aec4c5c610e5016ff0701af268c861400d6f8aa48133e4c1337328da2c6282e0f5db0ce692dcb93e4cb1941e63d0443037d523e9b6d55a8e3add4d047fab6028d7f7127e406540f0d3378ce965c4cba07605b77961bfc5fdc25d30ab79e29e753739375db1fab914575ba1710683a69103a4bda3b87ec36de67cc87cd8aefea0215cacd8c572010cf2ac49da45a28b1924768783bba80f3487d8830481e94d44bd44b90426788c84ddbce779cdf7fcbf9d8563152497f923028baf0bbabef4d42b0d002288d139562d503e7436fca204d745b95297e6eb1c60ef4a305bd6d343950a4e13f9b87fc5121770508c969db2bed2a8abb7f4cdb89c30fd0c8bc281fc26d01ad49e99820c6e07857c030d477c7eab3bb688db54bf20859a83407f449e6532e560b3b8d1374bfc8030c51804f5c939f0d62fd275d08ece5ebdfcaf607a7bce840736c1062dcb564e906b29911dc9b58173409f91d8bf6441e854499ca617cc28cc592a162617c86561c82e511e1312293bd2590d10c33867e515a35295551d89cde79c9bc741f4090c80a801bd6b4ef256c55df097773c872f17704959fcdb4367b6c5430902b548baac5f3f201e5b08746b7e4c7193f11199192a9a50136d756a2990948bd4d495b618d4f0cba4fa3737543f35031230068df5d6130342cf63d269bdd624745bf9b628590aaf6ae3c4fa43e4b5d6171588fa9e54778cfe8f8f380d6f0cc4bde6bf4f0d83f61905d96215bf1adaed0a6c2c4ba7fd6abd06f61ebda9fb95b65aeb7dc8ba376f7b5dcf89876b9ee5ed7ac543dfaf885f8fb0d48725d7f1500539c08ad8632059d56783819b4a17e7fa092cf9af118db23a75cd5ce73ee84f1f4fd157e77023af6b82e7d0b460fbe3effbf6f9d8c25b0019d12f64c60a01035d65ba6c945ff4291751510c5cb1ae5eeceba468bd3174fa761390dbfc01dddca79a9258cb8a753337e98721884439c5ea26815de8dead63da717d5e586962c17e55d91f180db7d9f989202d1aa7286901994cb4981f94c242d29cbff76611e069bb24a03a4f3b505e26d0a3e2f3096cdea71d2a0e7a514f3d092776290cc8ebcd8444be2caf12100be1e8c7406138d12557cf998c16a97e7f2b1db72925473ea83642773ce0f6328f2415091c9ac13c283b5d6b5121eb80d62d65caefd6566177c57406228e8177ebb1d2e6074fe42ffb0956a66e1380ca9d6bd2aa1006b842831ce7fc6a360d3a28a0529820b555481f92fb931ac7f602b2bccb05b7d9b383b6bb82830e089681022dad6a0eef9f55e95f58f9fa1a77678db5d685282ef65e58fd12d6174990e37229d84b098e8f2d639c0219e7d8c76fb2c5be2374b6c0515a927917011fac4421f020a6287859e547243b8a94cf7af221af6d5f3436d6bb28b2361b27f06c2af8111886136d8cbd74ad84478a153d4de717980b4d739187b35914fc075fc615fbe41e9b7c58092c0500855e8080a6ae260f71dec3f3eae8cdccef2d3eb4f53f261a4a04e8520b7f20f2bf612959bcabffe1e2df0c3f34589de199cf5dde114d2549a3d6c1cd71726b11e20b0e721c70bd0227d2adda181e212622c102e75333c242c8464c1eb9c37e9064bb0122997d1d21227d33a4b15aa688cad08042f7270daf6abc407465d7e60c2e0affe4a725d5380628ff4c154ccec4824ff12c646a70a884ca89f35736706f184b950929ef429efec7a38ad5985765c698d61ba60c0c176ba06e89c4649b9acfdcd7a80e6d495be41661ac7a84b5ecf8e72b352fcda52c0085fb64dabbae4808eec9e239d9d04563e80bc4370e314b58fdd74ca71c3a5ed4b791225a25cedc9cb5c249a903a8c1a4bdaf3e75193111c079810d6840a77a253d7f3830cd3adc12cf722b1e19becc207d5ff2f92185da4cffe2ec3bdf9c0956f7c6475d73e400c6a161b96860475cced6f66e2b05f93582ba2b100fc9cf94416d918b0f25fea0566cbecec19db9a99f02b538da9c30abf38fd2dd4288c42375bd75f2255db294bc15ea3ca9271dfed1f605503153f96d738591ce45876b32f9e571cffd015c724b3c7d3126e78330af5f7fc45e02ea86707e604b612b2988bb3265616f73c02d00c1d064b81fdb306e6425e2b8d7c23be45ed41dce22b794bfc20eb8b262dc23dcd02ccd7bbb2f77e8a8121ac228309f88f31e957854bc48baf2b6a9c5dd7faaad822bda1196043fd5278c0fefb5f9fa06b0316bd82a6497494d8ab94c5cc3a445d81e9d80f06d189384a61dcc8950de681d75b4de48619765d323c07a6d6755ff23c11ced2e57f4474a123cfd769f9e2f2230d52e21260354983296fff8d0094cbb5b66de6b5691823898bfd7011e83de2efebc83d2725a182065a7fe7e559605ecd9b19729618c0bc1e15b4b813962a9efb1e99ca4167a19e06e9ce522acde0c37db7a26335d1ade619c98e4b9b967df5d8e2e2f00cfc011b7db9c2773590126cb41929c10517024cc34bc4ed4aa1447a04d8e82058560a912e29ca1559b610e9d657a6b0570647587ac2c6e7e6cb23edfda2f0c10f0861fbbdd67e922195aa3624a74a99cccb23d8678ca33a2b8f99fdc053a9e0f64559e6017e45f79863e2c88a276b7cdd1fd5a5a5ca68ed0e7cc25bd4e1a1a875384e7a90fb9e9204d0bab80906b86d51d48a187248e5cc359a3ef76b76e1e3686be9d42d578712ec5bbe9e6f57ff240016c5b4dbfdea3db97e62681ac51edb2b3ef9a5b8873632991425cd2077d069fbd5bee72b40e3445cc29385240222884b38945ac7a3495b68c8e7361e68fc706c10e58e3eecef9889238d2cfc5e49ff03100abe955dc143c536aa31cc693ddddede6c4c245573ea2f12b8b327d2293af776d0a785ad8046deb42f53b1ea8b0862371125f0fe99e6dc007fc16eb25cabd894e990b8cb3ebc4837c776ea9d3cba375a21fbe9b962dfc970b4f3665174d3a55f0744a696308c4490458de1b1a349322f2610ceaa76a5915142cc5eec2fed8de2d90462950fef3f6676d5b6385a773198c5e7d0ecc70ec181d7ce4283588209d2a0010287b0ca3cfac5994d120bfada9f7756da112a739248263ceb98d57f712d1b864429c017e10c28502f413f2ecd4eb4c3f4abd4ac240caa32dbd7a20f64744a70a264039656f1d891c1bda023a63c1ac1a444f1ccee640922662f739087e34a9bffec11f4d4c5126170a366935986f10d46cddfed9208a39d81a719615677d6ec3cb1093db1c63d91d669b37e59dbd9c38a17548ce708f90157cca6618e9390a086d969e829d57047577f4355d452db0c9ab575678eed7ee8129fd8f0162a2408ff516604b1c92f3a9c42b7c9784684df8a5a68d0e76704dd069ffc9af4de415287425ba4c21ea7b8bc30695903ea7e581588782e37e1acf33ff28c77efee87cc2d0ac76b6f8fdb83f572be96311495e0d41903fd899a91706ff0c36dddbbaa4722b0b6eafec100277ad849b4ee004edbf86816fc9d5cb826541065168784420dc358bf44a969da36404e2ee83a43cfc521b88ec441b69d234c7bf8e849932d4288626e59530450f67f78325391672675ed0e91d0eb618dbd77df8035893173311fd955578a5a7b2454d6c7402a08b0fb8726800999053b041e3434071f12e8b6f3f7b03331713c58b37cf0965ac344eec5cd84b0caf35308c93a6ca851c33b4eeadbcf86fbcb78f352c066ff4108f45da268475525ee7cdace345143ba97115c65fc8e1c462c38df19393058d05a1c7c520e09b6df4a78dd39b9163ee61a3770e775d0bd9d0e97db09b8118affc4598af6755a43debf50fc3976f5605a155dc6390309bec64863577ae07a7a54786f054750788526165d9be35716dd86c6fc6d9586ed1dc3e8f5c2bf9871037a43756568b17a0b97adf7af3770f2620db7176ec5951507958ac229dc2b3098930eb189a7621684df66a45515def928534cf97ec10c755a451fb14129b17e373ad7587d625eca15fb5534ebb1b44f527c6d4d6743dfff223b8ae02d317134c03c36d777ad193eb6a061503549ed635514a860d07b8a7bfaef5238f14a8d3f45cf794579ef1c22aff06f286c8ae408e40a5ad7aed0df6c727c4c6a0c0cbce7553f036904a7036fc51c2672c87332b7659992701af0acce55489e412d739993e00338adacac21b8a5502ae66ea7a0f49d86ef70b9e2b8cb970ac27b5a07f9a34f78793b7c69ce4d5677e3b4a84ee383eb02b73ed5676d6e762a843071af3ad24ba2e2d8b42eb71c056c54b11536b6b0e41fcec74870fd6e70945606db63eed69550e285dec247b5f6bb38b3d099d12ddc9075bf0cf1c819c193be90d7d8e7a43207ebdc353ba01595ed3eb703ffa7760c870e779f77d3a4d548c3923c7a34deace90d645b7b612f850bbfef60a44b34208988d6b8f7bf378f935547da03abf8f8aed5a92748b5d95c1f4624bcf0b3aea6f2f4d0e35c35bee7f011db78529f4b25da4ec1ac5aa1733b40b34a9ebc6c8d984fec2e1de877542c4d0ab9c475d6413619ddf5c295ed0891f3ba09a7541e8f268174de3579d93d6548e7a081700785e08a8f84d2567f5fd0d7c1d4e21c30b06c0569bdaa4221a8839713a5ca8f2941f5c0f6382ba20dca8f07322bb05b0aaf94a959e9106ad28f88e7c7b902d37c65eaafd7294c1635470e234c3b6e88805f6e1266c0b9fb95846b9445f99d8ba90b71ebc49a8569ccea1fba3ea31ff2b01eabc8fed421c5313fe427236852014831a285e08615acf80c8efc648dec609257a58d9b91d4da15b6dbcf458a0fee72a1c38e30cb75f1601594d1dcce3d640a3ab38d7e0005c5209ec0cbc9ea2e160d1fabdfe9ea12ba3ac6904f094efba4ccf7433a74f69fa50ec93161600d96b0138561455d3edf7c26cab21330bd6ab9dbd8cb40330a4c57b62638b47c75ea2da6b444186b1267b0e4f34c3d98ee9fb60b29381c243e9b2d2312fe98768d491d35233ec6ad40091ed87875833e5aa7f8d26a091703e3c171b3a4b951e2e02f66fa9ca02f9e5fda1badedfda11403f389d906cace84043f8065c8c3c9eb2df123ea84817e7e88e3b53e963177ea624f3cb36be482c864b715ab67cfd1178acb32b03696aaf9377fbb4c383f812d0c08bc64260c98a707d291dabfe615c013ea7c69eb38fc6aac9813bbeef820108a66b5f736197c06bb9275a125d8e422b63b982236937db28b30ebd5a5a540991dcab88321f166a3eaa7b31ca330d51d47ae45744d34351bc47a96747c7715f83462ba519badfee69e9eb115676bbc6a003a85dfa6bd8b83142e6e87508e13a0c1191c33fb337e71b3c4f3c11f86b1f6a3e2ab37b7868b28c316329495d8c599e74de156ab8f3fadcb160191d9f3eeed4eb4402649461e5968c59739c9edff48dd48ffee0b3dabe5b636d64c5cc54bb28dc1742ca0574e50d6df945028a12fed5b2dbeab7f947b21bf2657741f7d0de07dd78f3ac8d5dda90b2d628e1db12ca7a151ca45cc4c2343deaedabae86173c6822f66950cafb744d0052aad4df73a60c4701c6c72cd860f768c9f5eb75901b5e99d004d58c0f6834932eed3dd1c8ebe0b5b6196b72bf5328721ea1921fa3d602c22eff38492f4b10726ccff74c4bfae1597a3c0107620d9148c729afbdf1fe367c9f8190eb145f9e882e1399a4ba3c2ed31360be0129ad2c01a056364fe89e991fe84e3ed5c963ae8fc1f516d69b5bc2c2f5fd72e21312ba291902dc0a13312aa3b51bfdb662582693441087f8beb38e349ec1d7c0ea63093d91628b2e1747fcefcf7d0b5f8f38bda6a76ffb06400609101b28c154b9fa1e7533c498b6f854ca2700be2ef988664803934bd4456c8d6586545b9a6f4f65524966c3963d0032a28285ada19191034e26f538724592fc58f5f626bb476a7970115aee22e4715351d9896191770c9c55d7aeb947859432da2d10447416e3fd6aa5d5cde009398b96b5444a4326c490ec957d4a50cef1ba725fffbff8a5e9c83fce90dfa2586f452fecb4bd78b7afffac8eda2281f50fe309706e67d7aaeb9a41699db23a66dd253a78e75bae7484f4aa758b62ecf62ae11eae9ac921590d5d3ceb05be861b05bcc2db606350c942a0544f9c39fa83c9c4bf7b29779dc00693d9742ccf0d662fbc64a6416372c62d44a2f22f6acb1d8612e106426c80d15394e3dd0c8d6cec10fc98d5a43e77a299041a4101786d810bae3c7312c0d36cfb120f87f142e340634e02d85b3d484fbd531f61d1a3feecbc95f0b3d5ad627627d5861101a81a5209d7e87aadf73fd1a7cf77b40b89ab7a995e3bac53542ddd54381169718a032d2cad1458ece4de2974482035b4c4539bd7c58f3de8e63ee3de7d2f8867136c9165fe8c50fc07a18405763fa1921b58ad697dc3b1d36aa3f08e23c1c63ef9f42ef71a337bcec681b5d15f8d78a4a4e132fbfa90ffc8da53ef6217b864319295cd5642d9beb48a8adb13c1b338a9d22e17fe3d601d03ee15213a7ea762bd4263fbc9838a86e92211ef8b051023b9930ae3d8b85eea49b0e661c1d9ed53901fc3e8c008fe62393a98a7b73244d4cfe8a6b2b63abfc8790f33b437528c61d61ad58fa7440865ee0e47d0ae2b13c7d62f65d61930099c94dce2acf2fd71ae3a86744578ef1165d48b13fd2b0ebb853d7c76f16e42e0e59ade0c9e4df03ff0ed5702c11d0d5229f4ee98c67904135bc724d40207d3baf88662c04f3bca0bee0d38feea6fee39a0ee3bec46ad0d628dcdc9651a1920dcfcc65780b8da6c6d3c1ee812f0a1fae7cc8ec5baa89e60d16c38129a35afa7b4de7bd35ec34c5e2f1b3b2d63ad01e52ff6c09a76c62d240b4d00e22cd10290a5dfdcd340179cffce9409e5cc282157d8f020ca0cb20b9c5a6167dafb346426929668aaae0fc42035d2cad07f3040c4f41895f311908c529af175677b58e609e7b3c364acb784162d43da59fc66273bc50f03e590772ff4482063199faf6561a576c77a94bcb1e76a024e91303e12552971d07a08dbc8dc262fbd50785d348f25d7c3a60bf6fe85c28681adae3c05314951022e540b25bb5243547d077c1f7deeb3bd90007300b815382111ced997d22b1d458bb7979a8fb43383e71a404365947e3f366c3d00a6dd9b8e788d40a5fd0e06747b273bb85a023698eab9bd32fa1e5aa75b27c9ad07c511e310fc0b7d8f037ec80d4c98600836a9943b0401d544550872d3332d86d6e4dee8a5219ab220dc6ccf4fb61397a5cd7916c755f051e2c12abcd6affb129511605c0f1a935a0eaad78437fd631c9dd702c8d19d69e89c78d10fc0852a19f100e048dd9d5bb2af9271a0e3372aa1620e4a3fc932ffaec47bdcb00eeb94604e52c2639900db11e","isRememberEnabled":true,"rememberDurationInDays":120,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
