<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"aa1d8282e2ea903d87638c89352d5394f17d4b2626de2eb92bc34ef4f1769d7c5d48e8f2437374b85faa6347fbd7eba4a47de0960ae2c6148f42792bbd78eaa7c12ed845d49dad0aef9db0102d2c3fa9f170b7814a422cfda9d8fc4e72ab2aa32a223efe89131506b4986746ee0546c2576233132f704529e595e9d5c634ee9b14a620237a1895127fe345e36038fd9ed5fd35bc569c805c12574381f5af0c1ca3507e892438a8ecd874bb9c10f09a844c9dc2b822651653911c73f6d3c42527cc1121c06e30decc99150c7a687d9d639fba967ac41353094c27f1b5ef27a35aa6a92dd646d4182596d6a5cd318e8549dcbaf02e73c0c42c0f46a9c5d7d4f62f9665776bcf0b50cc2f1a4e2839d97de225505b6961cc79eb35bfe1201837f153dc5c59a9f90fef93b247ce5db43bf544e8d235fd31f89943eb2c45ae0c4db74fafff4290a3bacf58496463b5571cf81f9986f1827f2e5a03af550ecde78713195f7e931d974c447e23db7cc24294e0f0e3a888b97a699f39ac4d6fc6465adfaf45239312820b7b7a3e8ce07ac540e09b428ff1b7dfd51922722b38dc8ab64162bc4216a4f6c6540a4a39d36413976576c1a986a562447580c18ac6f3b1aa9a1563f4894fe89535b2cbc525bd345f0bec0c13e02b4ef6789a5478eaf5a087676b0cfd35098988e2e5f24df3ab2c5a708056eac2806c8b805545e7b799b3334337cfe5028953181e3e86cd7426c8238ba2a1244274cedb754832128b31eb300a4d19464beda668cc522912ac70a8e4e57ddffc07dde264d1e75d60ad25ee37574a98f9270915f84d5ad80ce8c8499d8875129fc0abddd70d8f681b818128a95b6d1f9d21919556d68fc7e89d72fd206996f21812039fff48911f71c74d40f20d49db17a359287c7fe23f1db993e78b696c88afbc5da86e872d06859214551c19bd603ad892c6a26ebb862577020fd9e0a81497b80e1503d57d91e4902add70951c2619ca095d6f1fce285c9337ad8e9f245c2e648f1a1630b743fc364b862c8939ed047b6de26b7d7bf330e00789dddf1a75bea56d9f729ecbef19ea6d7184bea3830e29e947f7186b6ef8d23205c900534597c6d79d52eb31992aa7e2809e1c7030c81429fbea8c5c5d5ab47e5332166661d46123436f04344dee7ee8dde977c43101aee9805364a5268f08fb660c493f95bac8409a72d01767c686222c04ec65fbe78a047ff81725cca17ddf2a1f3b520f391f49d19a89698455922c20c3e53f43c6bd79775569bce0a0cebdd9eedda2ec6774e3dd8d5022467908b0830d0800d8581bb1dcbffbe59408e63092137e6131717ae0f305ee714353079c8b9015960126dd7e295a6ae005b7be826a0802290b021db98d0fb9f609fcd3808e304c95a29106e2d9a9ed74f6af886ea7d401820493970f449b0f9af1989d284f8cb6f7fcf7222c32212aa84441e9edc244bd52006ff61075b5b0f32042af799d18620632bcbe3a140a85073cca3bf10b60cded9a03c8f50e7a722c71cb2cb4350b5a00d5446fced331dde3485f6c58ca9f039164870d42a575872321fb97ca20c47c874ddd0b9eed5440098461916c89e3a00ae08ac583a2fbd69684c09782fd2b6cf3abf2b29e734e82c8e52bfd55e819319f9ecd86a2b90416a4361ea2eb4cfa536c4635ebb3924ad5caf200cf188dc9299059aa3cf07d6f05baccc3ab8508b1a7c3a12c5f59653f0a50b5012bc082b7127543c2bfcb06d29cfa04386b74bcfd9b43b368b7bfcd013e0a0984327b2b92d3d694ac3cd9b57203b099acc23cbe37375ea173aff378b36fca7961d945a5ff12e2434982a8409cca3e9218a2f0a08f8a3a0c48439af6ccec925308a83c5ce9dee336e98323df00f2ca196dd8064a1f603aed9e8275d408d77fe2185e27a733872dd200ca030a492bf151cc451b9e0b003d7137d6956b88c0c02a9291a9d910193e23e948b18e11f70367f767dcbb9f0fd107f66554bd36d3de4e1555b09b3dd6c01fc54a7960c2760c73ab99193d541c3636c90f12db9d4b761f0a9b07b11a0f0eee6b61c6808a617eaf740dec3bf846ce54c2a7a2f06e5264c099a0f957e8b513b7ba579ba6fc923837b0d7689c4d37e4c0bdce79e05e6d378f74dc52afd4e5e2b8d2e12b4322b2b46c7660aabdf92aa4a42178df72284eee1be6441ef3da79a13d289d9263b4471f173086bdc26239dbd0fa330701d83ed5912a0fa4ce89874fad9dc6f90772b06418364b12cebc51b60237aafd34ae76a9a65b6286b779287788553bd0c47c8bc5617b6746c675ce601e1fc28fe463bb4cc6105b24a0498d8632e6b94c8301b9bc0ac174c21fb30bd05fd733e463abf5a02d43a1a9d23ae6cbaa18ba9637b477194bafb996c01283242a03bb7951da53c14c520600becb7ff73ac24e5821893c42bc7a314d2450c8606dcb499c628aead54740b38c45237eec58004fca6229c475aa18e233bdf45ab63ed4698a401733e2b57416f650eeb92c82c21b58fcd605dd2fbc2b983c1b4e1d51b40d42f6ddf46dd0369e4d568233e9b2d82378ad67f9f1ce3312ea8952feb1e93f5fe35b832ad49389ee706f88eae6919af16d7c2ef8109b638660b602004bf72ffa6e2df893aee3dca3912ae5f3a02b5ce530c5a14ab6e3e4aa16deb6980d1849588070d6289f15c404b2ebaae3a2775c4c0f118510e6da903d7df7ba7fc3169989b44e90ebe47ba07c11f56f846d54db4280556f0eb30788915f168572013926e6d787bab784e837c7e32cdab9d29fa8fd662feeebfac976fd465a70183a8d2e7638347e9ca7d880e1a3b4410105462023ad8d4de44804e02e6a1efdd297583fc7606049e86f51d3debd3183119865c640025036b6795724f1b55798b3a98fc71e03a377eb4712327d8d4ffe50af24dc05627d704fb7164f2d966248114b868211ca9c4a75b0ccdaf267502cebd0f6c182d845fefd6b1bdcdb9f0313a746ac7f09828981a2e8c3a99b031dad5b180dbc5174b5aa0e1ab95635cabd34ab318686c3ab1d6d84916508b032c69b1127a17172b9e29c3c7bff9d5a92a2a9fcc9b0e6994e4c823450718d2b814d7fac9d836c794a8d50548d69ae697cec33a7fd26673a0a0836b7e67d29d48ab3ed26ed51bc966278be3d28f76ead0744cc584f5f5d9324a40612cdaead24f2212ac4d805ce48dc682c4d4bd4e7c18e14b8dd539d1718968952f03eae0631f9274e23c34267af4f200087de662b7f4ba5bb88e9f38ea082435a4d366159cb0b71e03ee95d350e098c095bb430c508a5124ae78e529d784a2279effb99e58c92971ccc75929b7f9f32133b37d9527a662ed37b7c82091d27cb6c87c5dfc084da3c7c5e4f006e25d093114b01bd0553aca5cb6b17b3200808c1fae9d5c1c37ec89862267a6e997f99a3d5d1add2f7351989545736bf9dd30368944285750bfc35ec0095e8b32c7c540ce32acd79cf19917b6c51c39eb5b4299f799eca46790ee8d7a25f783395dfeb7f16369f8752749b868fb16a6236bee3f49dd49c5911953be77611a522de98c743f4b8d47f086bdb975b5e52c395648316423cf46d55ff0caeba47d6d81f55f1ed563040b573617658f7b3af58a7d519a4aecd5dc0dec4e20fef6d2ff52b77d3a2e265a512c73ead8ce6e71e811194bd1a58d344809a014cd5ba17fb150894aa592b9ebcdee9b68bcfebf6b878b9c58710de2b09eb0a5e49afb7f80405c0ffaa1816b88c35b33375d8accc4770fe85489dd7e953fcd9f82df42969d7962c9086980a560d075a9af40c5019cdb8ffb0f54dd4bd354b49df00b04cff4b7cb6210f1dd865d05dc7ef7302b457afe37de9e5ffc88a05c0ffae60c3c4aad122938d8461831059f88e5fabad781e806069b6ffce31f0b06397c0585e64fb877f65880e1eecccb6ea5befdb0061ce410b085c6ff9451c1a332e664c4df1b664195454ee8ff3eff08e2e85bcf966a65d88f7515b676a88f098a3d92f0a5837a278f83457cded93a1fc18e6e47dbbd69ecd9cdc06129150aec8334fc82e109651cd3fa85b3af24cd0c4318ec35da6dfad0a3329ab91b15d180b3b777d88a893067d186feab9b98e968831d8b00cd4ee73967799ab9de30a986b5a774b29a65a17d183cdd8cc30e76c0d473f5a0269f87dba7b9693580337f5907c67f57dab28e2ef6a61d2f147447e19dc1c1065ac0122d0b67cd974f0fe404363862bd24fa11f66c341cd76ab2bddfe9b45a643be54764b037d377d89f89840ff8cb595681fc3f36d0fbb2ae97e75cf922e44a095c148706af5b36134c735ca6f4c52e07b801b26336d6806d0509d40dea4f1f5ecc3cb5491f0c63def3c8ae3337c4aef37b6b778a528fcc1fda198f0045bb94f3005e63fbf0b7b32c17a2d78ad5792765e32f2891d96d49ff5548f5bfeec06f61ffae4c07a3a50572e0f810c06344c13dc96c70fb925c7158fa4390949d87aef8df63cc7e18ccb2e6709bd2aad50c98bf1e59bbf873ad842456f3ebb9b5cb269d5364ed1a01bd50abd32ea93d6e271bb80da3623d28a4d2f518cb8e2a01518e6331d41c39a6f88eedc52533d1c5522027e82e9f070f6d7799fbe4bd7d0c4d54a91452fed0503d58be8f4fc2085a14f314e8e521eef4f57d31979e3c0b928d8ba8804e0d5fd450ae634a62e548e67ab039b5b06efdf64536b6eacb16e684d7b1f16e0928a4337b698778dc666d22a721d58c8f45a92b2e71c62453d26d0f0e9dab4f899f1189e4b59a15b0846809fca32073db5a732b147be689b5901b78598b61896fdb4da0004e8436382fd1b10a118e02e7adb62d54f9d787e31660a3b9ac344e734f621e7debf975a7339ce3f7e6e817bc22dc8fc09841a86c2712a0d1f6112a7b455baed06b1ac72f64eefe7eeb4cb047815461c8feda0802390cefb9a694c3f82e677d81d3c19368584e1c28e14d6421ead2448f0cbeda5c6ba02cbd592ffe35f22a577db9c22a3583e926a04978b77a8a92e2babfa86484b23a247f7fc864336355aba123b4991a69eaadb66fb4a0f680fc72fa3a79af3e1418cad57e81d7fd99b94cc9381678ca92254091a8177f7efb8248aea36db67c0956ea419d4a8fa6cd714bb60e282282afc3cbf04cba678fb0afa16e380f4e7200fb85f3cd3c72e3ece8cdd4daaa300f8c39fd47b9084653384c8a3a28aadb5f0f1f3cd70aefa70cf6614f74ff3543bc47da83c7f9b4bb0f960b73496f4a5da48f105af220433300bb752ea082b960cf98ccd478c39d9751256576a11d4d76480c9b9c3cec5cea39e671578ba6805f41cdedd1c520254b91a9bf364007ec1b9402e3bf76bbc04d7fb5d0aa083acf107f3ee42943bb8613502598c67fa7f29c9554f042e627b68f1817d73e6e7ceb2a68290296485eaefd8e8a87d1bba5f85f9de75c528f8250b1a6ee73be6b89093083cff0bedd5f2fb495357eef7bd8e210ff4cfe5bd67bef932a9187c903ebb801a2228edbe2c175d23a04ea412ee44cd1d4d89442528894d72c36fef94f2bec699d38dcebf02c4769a6afe6eb4f135ef0ca97b4f6f4518223d6cd62887c7efa14354ed2f9f9fa40451bfaff660023d4bbc4e248fc5f3dc732a91abc2d4d3fc079ead4e53fd3ba498c3d91d31339d9b8ea9dd0383ca8367c5df58ad1d1ca9d0d9bde167d1a7a7832dbcea4aef4798ab03530661c8d726a047889dddc246d513bbd51d6bb5a17017c6a5102a6efad97527e41c4a92c453e6ef36ed4f3e4025a228b814d94a391b974bd0870b1475ea509d2578be48c89a2480355a3c5220ad00e530908f2532b257f774bf2e4057a098e810e420425afaf06a30d92d41aa3bf1a28aab4e40a2168108890fe4aad63794f65c4c37a4a865fbd4d6680c53f451f6d061dd2486d218a78ca192d7b530390a138b256f7470dfb08929f4f4d9368485eb359aa111411867c398d4c21812a1c0329faeafc3b09f83c1ea73ef8e8ebded5925653f007a026223c20ed45082d69ff412cb1204b972a18f0ebdd9f6d32224bae61342b1f077aeb441444150d2218449e36c2ab66e4317de435b874aad9249c92a69ee6823f4a01c6ef01516055b7cceb3915b1890c173d929673eadef7fb00e8cfcbfef2188cbf6344e6b3bb606f65c7d0ff3138cf265df385a4b3f1e21bded4689e0ec1bddc08e353f63d4053a3408132413357d9e976cc60007e16f59417ed8d85a1f4809f4e4fb65efa0bf8be0f3e5f52b4fd2e8b74f36af0ac2f95240ed71f08cc4de889f5553aa5369a79bc831df18a224a52d831408ea6e500c9a6e2a3a60494ac8e74d837bb36c8ebfaa20e1e753e6fdb3e9b196a021b7ea2b943f7f74bc5b924ecb24cd2e7c10f2e874ff0ac85a4b8820afe609740a62c1a9c66fd229491d471c460d48e308625f360b15e9c1371bc7e6f639182e4a1fdacd21997f1eb2679050cab81aa6498ce2593f15671ab8f2160ad0b50d837a2d00e076687c3e8e6f53d47e26e8e764aa2ed1f95dfcb2f60137d51ec6b1fbd658e83f238f239781afac7a4704fc08c9f435c2dd0f69d6ad1d0d0f818f52d7dfcf03d1e43aec37dd1a63ddeeff60d1ed82b16333f26be8563d70d198a11dd0a6e5a96f9bcf473828b4f43c6f81ae176d1648cabc30e9150674262f289f6a0b02848e4c47cd0e802d933cad62e07a4284fc2ada2974a6fc692a866476093c4db34d695c1e2010b876614e2b6dd20713ee2b68f2abd7ef1fc60034a7be250b201ae9b7393e041dbfa8924459e4de3cf6a003be2d5e96a5cde2b14b32789d30560476028a936bd192d8f21edbd46984f65551dbe00985a75fe42c7316b63a87773cb189955c06b41b6f892edff065fed9dc9d8ad013c9e240ddc2d154dfe72e194874a89cf83afd5ae9ad48d4dd4b4b1806dbf670c9b25350d9b8e92755d612811d15c20636bc88cb61c49fbec41ad206f88b4b584a1c7a965a02945545e74c15182c49ea3408bf328d9579333a653c80cd48b8cc79e30c5c120d7ede07766150158cac98495e0196f49a1406304b2c66c7b9a31ae021ada9f481e861ea82e5c0d685a7ad79738d8e628c9fcea72b2d7919f6ae8204f209e14824f3ad21dc32844a0a10753c1d58bb0f9194559f1885f9304f627b623dc1f1a6f5367d830d4b91a8c4516f53e0c20139ddb988c9b8cc7b3ca9688b7e7354456f2b315227ede5634ebf67be152a7df90051f60b2880cac74347a7c1b77dedd6d0393c05a18a5eb0fdf9031c3669ae5a05da19139831c84a651964e4a3d45e88b3002732bca735a2ca2ca99d81562f1d82651b355b53a77ae611f37f62fe2829797df69bb11b4d2c9a15d00c7eca2659036adfd6ecd0d8030b55455cd9b907d9a7aaaf953239227237ff8d87d0136772fa713ff7ba74d4dae989079127f38be55b93500fd47ce11f1595048c7d6253159798fc4cbe04b557fb4828124274440d220d9e37d5626a4a79817daea900b1b2f1d5a308ecbbda2884465c08abe61999b26986e7b316d6ed8e7eec4efcb02c09d97559459f9b1c87b532c8d4f39c6fc1ed9663ba817a0f1900925e7c16ea44794fe53ddc811f3306545b25bb5177c391118942180def765edc6fc1e7c996aaf98aa4d30b5831b4a461a13f1d3e4416f4b3370855c3f3eee1340936362bc7bbbd6068ab125abc2b0a0bdb98b4ff5d941ec7cbdcaca5c3e6d9be4db1efd606adcf2cc697b83f49bfcdad7076eb5723b4575712c6ef4a2af80a7dd084eb663a315595b32d30a7de2fbae5f0990c9455e29c00f67c1f97409d71cc577062b773a270fe1a1e631a4eedc375910708559ce76565ab1b9afef9a064f814d7442e84b56fa11250c7969b03c8235922e2c5a72acd7728a0b760afd93de06786456d75c99e05e3f6587a1dfac49a7fecedfc95ff79406b8083e592702e76470ef3e3cd5e87c5307eaf67348f4ec1c80b158ca7bc7c3128582c613a26ace144c20405c477beaf9248e581b73115b7c419f4d0b3ae716a9c67c4bf42050ff284cb46f5213c9a93e5bdd7b275e61f6851f7d72a0d13f3acf96e80b51e96cc24c76e960d88afd9447a6eab48869631e93eb708d27a0771002da97f163754fe2dae8f3a92b666e1f6e300e2432c12392cab243b40f49a7e785bf835491080fcbe85d4c239d1fd37c11352897710da7157fae251ddfa4981f9d955f1328271cabc096e75c7014f6a652fe96d4a116963c0a605748db8a80550f37f23aab7f94641e310da9f522bf2e3ef4d976976140d835881ff4fddb3f65307df9ddf75704171ec85055d2baf8b84ae2ec7440a71be0ddd54d400a8c4efbf8eb816c7dd38007c1d213765524f47233e4580d872ea920b3fea93103e1de45ad24bb6338430ab6282be4255230f01759e2a0b94a0be9f6addfaafb12c8a4e2c0251da48402eed15dd2847ceacf47a35d12be6a9607ee9fd00db9a899dee278e9501aad224ecac807beeee65191c75674b8ff2edfbd870e324cee0a032ba65d5e6c1c0a131aff9e7a3a1863130bca73a19c4de5edfc6c658a743d47048d4e4cfe204543e64c15366b0fd04e93ea50cb6bbbdf8b4c7fc2b5bf1a18aeb701b5bafc4dfa6bf051a3d4486ca6c0e10208903f381673ef08c368c9e4a4e31c9eb58b0f77b5da8b625b715dfe4bb1fab40078b482851b41827e3c5badba16418c0251f2f25ce57da068119f12d82cbfb6128ba9e640985e7f2cfd32424409dbd26b476fae46d376d81d81020340242c2c5631851a2be22d8fad7cab97cd823ff03bde80ea147e5dc147506c008b6874d3541f84f89a291d0241df99adf9905ae7bd13aa2ac7f8944ccc56477633d5093b88fc5120681842e7a4d392f36e5bd1e33c7e4b2eb207de573b65dddcfc98c229cf4786229e0f9e3e505a8f71b17472707e3b51a636895f9b9e58c4e5a4c21deb8770eb33b831e3cc0b71ec44282d5d551684db9e10bc8e77b9387bd0635d88dc866078b1697297e5ec3e35203cb8052b1cfdcd775a1fe3aabf184e0bbee9128730a192fdb502959c29a7dcd1a52678ec2b0cdbd4be5aad56e9622ea4bc98b9ea6969272b9dab61c38f3e0e5b8d0e4950a1a0f461765093014990a5104f4fc156ee03899a6c57c106a25f6d595a2bf647702955e511883e621a592b1f02e660a064a6b1a797f3d790043e9b9b1df977ecd45bb985bbce42c8087e071fb1e4b756007f4bd06104ac8fa53c63f159e7fd98fc1ee872c58ba02c170ee501d13bac0717a54e641238e3a86039323931f6ea4f7f4e110b080162708ff45ad568eb68de1d2524d228ed897c4a2211534245a9bf7f29f53ae6202b4ce94b324bcba2b8b966383253273f422415728975cc44988a4d17650a18f23c8dbe33851e537329823482d0dba69102a2a5c66e002a768466011711c66567928021de9fdce69d508819664bf9e84a40bdb601da1f682ae1c0ffc09f1a982adcc068ea91a7b49dbb4450f502227c24c8f7b41afc3619db8362b982b0940aa626c55f326f09e3e78a1c0e549e208305ea0857f48507d0ffe02a405362bce483074880e226a9fb5e092e9c054c0704f830e8d5d24efeaa7ae2a09e21524cfaa0dd998881cec94612b7718e36b452e92905fc264e1ecae22d2b31b86c760f9e1985f1359a8cad3702838f527df3c9602d6abab1c7118214ecb39d35fc59655c2f688ad31ac3f08465ba5268c8f799a40c2fc24c9eef9a712461b9312dff9117f7b57b35c1dacaaa5c0d7f18390ff4f807be9629626654cb8d35ea4fc85e6965814b649dfb89862bf57ee66205d6cdbd06668942180acbb8f704a662af48e3a9d81a4d3b712681b79a13fee341de5e2243a26035c1e9406bfc4c981b2a9a359f0321f1e92af9607ed17a6784b8078351f0e4d8799be3a45e327639ac1a37253504163d13711ae16c6d9b2444faf04b67a80466737b9dee91b6ff18adff7ae449037ff39b963485b7a93da4fc1b53ed2163bb00ae0f89db9583b0ce7aaeac11dc697d6c7cbed1d6a5141aa3e52088b0aad987b1b0ae60db6aff55d0530e4808ad968cd2de9ee20a9dbd5f9cabc034d16b3fce8d4c43541be6a897d380b96852056f30c699ff4c4e7f3a1ffd7c53a228adf2f163356d53c5d0c381c4e4a82a5f0e62a421d78966f645136e4c42c34ad4a63466e82e960ce8515b5e206a98dc259d8977cee2c7aa60c2b1bee8a2cde404d540de7ed4221afe23ea10cbde90579a4c7790a89f18c589bbf64fe6f08089b27d0e3b5827d323266f84be2b443cd67cbdf9c1b35d6fabe8b639867a7446e08c896b108c20f352448456f18331d070efe34e4748714e91d39d840e7c21a14e513cbe446b8f5da0c4d140b1e3e03ce31aac14d1eddd80ed4270d8ac5f4a9615a6828fc8126bad18cb4bc3c3a5b6b03d28044a7935325e2022c387e0f50368847f5cd2c0bd5630825aca63acb8783e5bbc87417b20a694d3acce4f8e9ee51c40b3b4c4455f7e8a7bc164541df4878009b6e1270d09ae2321f5b7de14957791b415326b089fda629aa0af1df05da2a03fde0273fe1abad2bc551f7977bfb939e599d68651970721c23f256fd53ea336e87f6d33a39c3bc901987aeae04998d1aff767a750bbaab723d71ede7c795cb86d53fef6e6b7fb5437db1d681ec807a48303d6cd4e54799dea7bb408a011eecf674b1ed775b63a0076c634b8b55e8b5aa5f008ae35065424a34a0a70d1e097c7293f3c3bf78ce3ee956f602a842090982427d21552d8e2a8fc36283e92157ad805a672e92230455c619d1be656c7dff862fafd4a125ee38a282ccd69834347aefbbdd82f28c4624b02a8563ec20747ff0c22152267176b3076547f0dacca70c2d98be42476df7de7046bc824e8434ae94a2ba923875f77a8be9b5e9dba7773069fcee6e36f5ab47830e4f33096983a24f37f32604ead30a2428e6d3bb1535cc53e2ca7cb80f21e81cd021f25d4544ea997ea372f78ab8f03e6d123b366bedd94804f6747ba5cbf5ce12c95cada5c2bc0dc68d6c66c858b30d31e94f048be27a64363ed96e65ce3609a5d87d78c99b062ac4c902404655aaec85d03c51fee45ea54336de131d9dcb88e2553d104538a4525034da0857d21a2d9429752d366d2b72b03754fa5e23878f1209db1172aafa8121256004046323868e5964ef2003420af6fd4413c60b01c6af9fcb05d5ea7c5f0ba886a3a09a6e9b1970bb638e5cd796a667911858a4ab0646eb4b96233daa04c7fc6b58faabe666dc64e474e74cd0af4e1d5b3b5f1ab7f62eeab67bd1c099cffccc5401113cfdab28acf91934f37ff60cdb8e4483e453d2a2011252980d6d29eaf1c3edefe6ab21604c7a13249b8f9dfc667a0efd0c492b00b1b6f59b81eceb8f6f83defe7da3f8b9cd09529f2f9ffa11973b3d8d86e506d00b218faf7c93f000f00de6fbdf36f3721e46583cc5aabdeb95811a09cfeb5deecf0caf8913ae8d19a866c2b681ab79aed7980cec46316317ba93f5c0d25276f5da1022f9ac158597f3d7dd771a77005fd13d71c1e04996e108946e43f2ae994704ff4952bdd547385d8c5d61248b0bd44862b787702cb15d264508944b50ea71c15925015b2756e83ef811afcd9725c39c61726b16495766a228f6c8a2c0e420cd6e7af0d103ce677c8ee6ff844c1eb930da9b41599f1600c3b55af8c5ad7691b7b898ff0f70d0ae61f6c3fbbc2d67b5f449f8a8f55f82e19ca0ed7a82c5b9500758a869de67cffb0e4e8d62f33c32044e13d3cf64a94b7e5245f3cb8294244feebe3f2e6150819279553b0019a8d8341470fbd99a1f1512feb49bcc82d9bdb47979022f917b12455ce5a0437b15115a8e5f1e6ca044bb1174075ed257d86827d9b4b4003164d1b2feee39fd9412f7cb2d1434dfb2e9aeb827cdbc455e5c6fff5c7d0e2ebcf579fa509a400c0db5434b19b1da0a6d20c07dfa47995a87b89b2090bd9e696bd8f9abf00dce41aeecf49fef842416cc7c294a83f9fe10818f9dc69a01399e0dfbd6b740cb4e1530bb7c806c9e746c0e52701f85204bf8cbfc86af417d3ff638fc3e6b526ac0d0d13e4014117f92465dcab5501fc024e8cb99cfafad41054020f7e2b25f398a741c68aa886d5110014b644be8b6451c22a1753833cc025b43ffbb552a318195af6e55cbea02d7449b38b24b5f7f013964c1f3026ff6bf4c397d73b67d50f5e055881864417fb63e83929a091851cb9cdf4a64e7b357e7837614ab2430c45341e19d972c1073b202db9bb6efe9975698fbdaa18c43798f4e0852be631b3da0d36c7f79002ee2dd6f0b8eeb0bcc2122a0995c98705d19153064c18b9825d5032c0a253059de0acddb76c34853b14ccbdeba75cd0c1d1b60ead483edf23ca2da8937166380aa4e941612e1a9d88259d26f2b66f5a064140da3b24c6ade7ec2e77f30358dacd6c33f7e0e6020053f5ccfc8fc7242d54fb66cd287295fe110fa97214ff78aecde340fddc1a5f6bf607b7c1b5555cb962d901838e7bb56553255c05ada6bafeceb2345cf6c024a5688e2361c7a7fe75130db51088290e5e81aa25063129f78f58bfaa0d56fe14cefa39870f70ebcecb6435a2497a2128c3be5aad4949e85e4b268b516a38e801130f859c3ed4976e6b7e36bdfa04e836f3451c9c0978a313ade3677c31c19bb9f6867b3614b5c4eaac95fd46906a882324a6227b8360f3225b1576d0df973908f7fb00e54374598cf3e88d2f11139477c754f0941073c87dbdc28516cd8cb66383d7c50f2d8c9a398d36fe89b169ab2c6397deae75f6a62935995c28833d5233cb4ba28d76465950a1726947d338e91a884ed84554efad057c43eb6513c4ef851739adafe29862346bae7dec58dcb41436fc53126cb7ae2a07227933b927636d559769921a1702b766172f33860bd761430bf184dc4a0c7111adfe3f6064585600f3bb0bf921195cd3e33d98d719170e6e761e9f16dcd87e465b3f0fb16fb4348babd95ffe49d1071e0b3e4e534bfdfe167344b301433f01c0e4a0cd3888504ec1333c348fe8e645ee3af6f1ab733f6a92947ec40aae5e8256de4299ed69fc7dee73fbd576ea0d1ce990926f44d95eddbfa87b629262a032886fb829c1672366c33bb0c11984727d2d6a06ef54633e10851691706f4a22df72f8d1227b2814ecee4840393df203682d59e6303d7dd97527b8d1499d05fb524829be4c28ccfb882adce39c06a92cf99a1507647be438cf3462ab3e56f56623595c7d5b8a739416dc78659330e637754d869b035683016081df3e5ce9d06f9a3eef4cbf0cb5b7bfdd338c6807b56a8f4fe075c4ffef58b30b3d054deb5fe4829bfd6d4e10ec9df9cdfd91857521e51d09770caffd63d9701f09b91676ba9e790773dbe01441f35a0a7a9e7808c08ed8d6d82e4a2d6500050726a841025c1ffd60f4e36cdef5c7b4ca441584c8625a492759f3b788f05c2dbf08da29e294f93a059ede9d5c5c98c7e3bd802cbc0a2317511a34185f5d80e92fd8d21db47923079a7849761037d1fd1873f2db8f98b16dfdd0ad527ab2bcbf382aa45e3a4bdc3fb49c789217fa0574382f715c02791b921fd8ea1a16420c0374f642a449befb12222d7254e562b280077c6291b54570e56ac261ad54b8707539b709dc6c9f344711ebc867a869acd8558ecdd146e8b986f755073336d2b442908dc10bdd2adbc4b390d8fed29966ea8ca4f29477f93837eaf2d121756e08e833ed4a185f809484324e52d7624d64f20857d82e1d143008311948f9fca558b6abcf9c743782424e1857a2d72f073729992728419455c86929e5fd9e59d2a13610141cbe4956ef1a97af762ac68b3b3ee1b01c75bde4bd5b1fda05362abf88ed0dcf03d22aaf4fadaebffa78ad7e7142738e17af18f6ff218e1eda3047de1ffafb082a6ab61e4045d6758d90a39df56c138083c51ce880c60f0f2fea5ef5d76057746a49018cdc203c3c9d902091672608964074504b376feffe257f535196963b69b0047bfe3c31039f551a1daba7068e4cd8ee07bda5065f8578c3e294ec9615da3bd2d33a26c6d5faf316883e914f6e93f60ad5439cdd1a8e4456046c7d2da8808a7a6b60eaeee748dda10f71171253baa2dba537e08fb6eb436a5fa6c256abf1d255c8a8033b303de066eb65d984a271359fa37a7c67b203496f0da75f6588066024ee6c13f82f3edae6531808f70942bbbac1bb08aebfdb8ffb7d76fd4f1514a41f4e3ae77d277e1cafc0a703a19978d85fcbe4a505830b90a75de2bb328a44dac614cc0b6ed826ffe0482f48f83a4d41abbdfe64446037650b36c0e937d9dcc36928bed64533a9715974904123f013338f3080ceb7acd984d94f3373b81f10834d0aa7284cf852c487f2e5aba40f173d3b222179267a678f3ed1cbe84fc5ea3d5d84e649aa603242db70e38fa7ffac0f0997a0482539d2a3aacbbb88c5f05cfeb14e89fa84d7f7f713e7f6fe9395ceb0d554f631f2363c8422c5e3754460ea35a67a7070aaab89c236008bb7c7fb031e7a3faf1fdd8230ff49bb7638289866944e7fe74264c0a0661902c846c9f729ce638d1816b99b0bc255794bc171642e336c99d8e34d51da4658a0c46934ed236c0e1014bc46160f3cf6b464811d810a77f089392c82b095f540d8e449e9ce5038dfef67c434954b3643851f01c4ffbb8540536c7632951bcb5cf51bee52ae1ff40e338ae7c05a8db9cfcb77c84290e7a17bdfef23ae67ee9f61c4ed8552aeab5e90a2d9273af9e6cc1918cc3a9584acff2324f979ebc2b06938165dbc101b4e36dea0ca9b69c0e2766fe1a307635945a00f7fd8ce93fd8a5a109177ccc16c01c52200e64506b01d191027fa06675b650cb0990e62f9646e7b1d45422c31fac8b8f289a2155da3771853e20492d0b78344841e8b94bce5a47caefc5073dfb7ca0ca8b97a22408f7a22b2d5989248490f6f4d4b6a617f7455428f0ae155e8e7ef8a9ec70f6a890a133f33c46db83168c4e484b4a1fdb668b23024b5ca833f3449e3155565568785d94933150d849b7d496c225b695dd4b220551ea50e04a8ddc8c2e9286c8185be0877d924c4efeac095b33a74e6a2b1eb20baac108a23077dc2ff7bc0166fcb88457c9b2dfdad6c166f9a0e095bc05d68cf2500a9496057718bd219a2502741c45dff42e8d643beca0419c32c60ccf9405af47182afaab11891f395b544fcf3f26f03fcb0fe828cb48643a370473b85ce5608bf9381965cac1532a8ce4b26fdf177ee10094e78a8f815ab36c3ea9d8a3aa1df7f23ccf4c88367ca84c12da6edc1804b32eb9d3471aa34190dbfc41e1ecb2f3c27f5c02bc5d22268ad66165e825984e7c0cb1d04f06435115ebe233b6dc632e67d096fc9d684c15b9ccacb07d1cf681946bfc593bb1221374fc9e19014ed292aac5f8d5bd11bb20c87461fb35f730900bbc113dc6682e22fd83c6dd1e25379adf2dc0eb67e75c6f27a03b6bc61b8e928a6912e677fac31a31a19ea49a0cf0982034062f05ae1b9a878926525bb2674109c853414819d0f82d72e3b859cc41f2e541895d7cb957217c121ad175ef2c819fecca9579028c7ae6b1a159d58d29275a2364ce7169fd717bbfd1491780be9f4fef872c0443ca9b9a829db91377e97e3dd2f671714732e6111857d5b4104e070a54ff66e9ff9fa2fa57671bebdda61de17dd9cb3793f5b8d6ad466a674cb423568d1781e00a08c583b673bc2050c11036c336561329268b9fa5f1a3aa6a9de07e2d6d32952028b8437ab9b1a71660b4219d310341efeca3839de7a35c5514e118724f6e365284bfd497a5fe1d657410302f428aac200ed8ed92635879e35f1ef19ddfffec7fc278d5c0d11af5b1fa0f0a44888bb5c57e72e5381802f44a2b10f0ce2ecf1a9192b4cf9876bde5779fc18268e246adabd9c97d2ee5e2c4a633275a970d490745e487dc3d06d0079e5f6c5a0fee9bca9c67e3e82574b050dae81838d6e18c41a820d17d46be8bb2ee40787e2f985e8ad357481ab67b4fe3b0e71a057344280b99a2d506dc1273c13ff5d744e54b076ba839393b030c7b7f41754f2042807c97e513b6b024b237e49125460aeff5be8977212205d0d5064144973944cd0a38c550c62316d4bdd0313afc73ffef612314dbfd47e7d28fcf5679bd4ba4ac7ebc0b2ff962bcfc94891ffc9df485b4c98dd9e3d4919428a2e6638785516cb0367cb833d583efce1bf790e43b7b8ba120098f1d9fb89fecd343e7123632bea8a510368218287ca4d30c742bc283c5dd457fa2d4065af4e23686d10b0ce86d492a6c56f4bb1f1bb5ca6f662c7d0a1b8106e18db751d43883fce37767f349aabe45d617b16e8df2186c5f349d04e604b2da7840766076969c74b90dd79f568fecd0949eb25aa9d93106393fc749bb13c3b34fabd8dda3d6ae20ddf40e8aab5c15fe60ac750573886703047dc8724d84139e3c5fb919677c46b378d8bb197312f0fdc326057b48e198c84fb34754c73ae8774a12de04741fd8567c974f769b9a097ae36216aa0d9c408cf7b07dd0a2b55798e02c5b46e950d7fa88e4bcd81e3579d55bd8533bda00c132d6e81bea54be95eaa160db5a3524c18f239fc188df7972268d7306be717fb4ac846d04ba56995f6cfdc336a5994db963dffe455af8b9fcb43bb9fbdfa9e829b446c2c6a8258266802554b22f2fd80c18806beef11071266ff6aa3b4938dd55e7ba0a66584309af32f7ae21d7bc99b27958b9d3efe8d46691509e3d63f40f82f0953f9bcbded0c9a5dc4410e4a49bcad20d765551bfc4b8f82d860898bd61c4acd778951467adf22005b82186a0c92133e7dece4db263b4d31592fc5d1ec2ccbc8d0378b65cb6435e552f441e4b7375257a7edda45745a78d7f28fd7a230b8e4c85d6c4103edb8bedef18c322a07cf83c4f89d2c4f359919399c1ddb405e5a9d27f6a55858b5097558e7638b6bd26bef8447395d20706eaf1d0d61685870ecae2cfa6beff4a8c118590e2aa270b5f1e97231b155b895664b4a1bab63e60f1d52bcec44c11d7559e848a7a8daea4c51dff907aafd9cb3f1d58ad2cad8c99995aa8ef8cb4cebf8c534d9b103cae126e66aa6e2eb2cec1ba41b7b8399294228e72a4e08f9a32a1a34a0cd051498e4e167bd5fa782dc6d0f95a262c409fdedff3870907c65518326baa2eaf5d034f7f306d3c2b7e0af13a556193b3357ef1e716967cd719acb141dc537278ca6da6b4140d12bd28479de015ccfcf8043603d9f7405287d918b592ff09f06a87664b987532fe5b591e672e82f30487817f8eeebffeaf0237089f6a953d447654a007420a7b69dad74cade9d3f09f520fbc9a2d4b1c91ae2e2eba4af15664c292eebc2b5ec68b733b254219d92ec77b49f7198a09b71fafa6ce1bd57f0a9eb4e05b6258f7402a4f40f24da6c0ecb35076c3e3541ca6eb2a682a8383fb782c86524e2f195f7b34a5047f6e65f4b40c099e92bf894f2718cee7b892e06e53dc872ede031c6d3a1acc75f903c6559f791a9ecc3354188d44e7fda46ca85e981b19e5c707a64b48d437f2b0ef8c643e28173ce44a2cf711ca6812ac870b069882ff740a34cf7ed09679bbc5abbc90f487d6854fc78e5267d59317f6739d69da85ab5a6b755a69c4c881fc8604108c3f0e8aaa555bc68506b32f685cbb69e4c489a7492a4b2f90c93969fb9901880548895a7e0389fded026db0795ca133ce2b3263c3aca3d00756afe596967f53cb311f9b10ebc4e2aadbfda6cfddd7739393c511c12affaf587124d5fbaae516afa2595b73a80ea1fee264c5b0a7d6dc907ffecb38c6f9c11e25c24a2fb0769b0f1dd7fd0a7b173713c0215764a7ad00e1614492fcf0fb35f68b66f3f576ef77c38716951a326259537cc640c2310bd0d460467b1978252d18ca2a94a49c37915965f7a6fba2e2fc762da163d436a4dc0e316a7085068f2d276b485612b48ceed602a5ef765684124da53d8e482d76da191732a53b6935b09abafbc8939b4ed4cdc7937b0c94eaef670de5843769abe997ac7af35e905b49016976b82c9d7a075307fa5902c8d59c41c4c662012751f22ec6eb3dc87d7c963eff02fd413cae965399571541ec9f159edaf917c9a8386c145d09e6285e0c5b68178f0a22f04f3ad8ef9a7393a7b717bf50ccb352f2ef55e6c335cb630db02f3d7b669ee9b9c0efb99f82a6d4c92ed4ab03db8357e1204716d7d7faf19478c356186fec9233181b3ae05002f3a92f0c8cb3e69b70120ff06f964750d2ceb7100566de978e0bf70904b180292a50f3a6e608c6b96d6f452559c519a41d87128f826043cac3db6ba3676d1ef7cc21538a516a3582fe61b1a89f1edf4d67b7e9ec30aae2d30d094a09f60909500369a8065e118724adcd71aaf5d01cd15b0f47f464cd28e595cbd8cd69bb794907a7c2ac565ee5851f002b94c726e12fc206482130b8976821dbfba0cc8f08a36c582ceff9423827d8ef1dd8f5103c2a14d768b8d32c6e553afd22f82f9cdd54528b3ecfc445347004dc8abc077f8c5c7739e9499adc2a1d58866dae9771b75cc9419067211c1360765fc8f15ffe2e48e1f906a701d82892b3f073f6027d50b1bfce33f8f3fc8210e7effafbfbaf5ef34ebe89c341a2d66dfd8ca9828f1338a44f3253e05d5dd13d4fb1d9e54fe933a4ee618e6e6fa9d4bdb3c503bd2b921e9c8cf4864225cb8dfb4c690500a6edbfa477c45c44777fced159a7c4ba7fe12890e1a4aabb32bc13002759a47390de118c84bdf43e77408d30e1e16ce9f0fe5276eec55e4eeab8f81577f987b18f17953537f87f40d8c1a9ff9fdf40bce445396c9da735b735cf3faebec41bfb2db6d4edacc0ef7fa1ffbe1122e356011d02f2aeaec19a86034734b187811452ee3f5c0a538e7f4ad489ac11bb739a0243ff88564993cdc3f2a2acaff628471a5bd4f15e3bbeb82b7f7679f8587ab4c468c70eaf7fdb47d31154803e7257c30011728a7bd45b3d9f1b75810cfd26167b1918a8cf7825789c3b1a538069d62ff0b9f75cf125cb249e9c0b0324da7667259b6de9f23f6ea3580312bd5db046ce366e1dcfa97e7f7b07b7d0938c57c2f1d8e3bae38f4165584c15e28e1c4a4b05255c37d29ea2f73195a5d1399a7b0da85b4679a79e7e93bb88d523fe472ae9817a333933a45bf0f7741157eb902d83f516718e3e75a60b9db7abffb0f47a65ff4bb6d5c2887a60f38cb80e46789468b657bd9fafec2aa92a9df2a6225dab3a47615b2fbd64aa68de1e5fdd4daedef779c859ad9f6dace3b2c8c7cad48025107b9633317e7863ed20ab8cdc12981c648c493297fa5298b2ec12b65d81cecef7e785a4bf67ac7a9cfa03934607ec33f8619888b270f7aec8a7e13d0a00c6ead2975db0c99bffdae3053574157ae47985664b830fae71ec89c14e49747842c478206a82996eb875beb56f1389618a70b193df6e307bba62855e8cf6f55317e9d596ca5e12b59584d025fbee0085a92405c162b2b654b06047e7384b64db4943e589270cd1fc5591eef7eeb30001cdbf7dd95f0f1dafc91e664d0c1ce8cae18203688cf4a02fb1a77a26f1073c299af9f5682b1260abd50b96552e90fd4f6f7f365b46701b64866773d5ea36712e4348125a3fcab3eb4de76c62197fd8fbb47e4b657c848fa507caf53b9e86b5ee000775f3cedb25f2550968fa33d41fd9300380717c71862fb998a0f1bda55e076a8d8aa888fcd63fe3a5d9839656a3cbba2f4d84c6d5f398dd7d2e76f119709d2c54d242f6d400d8e7b69eb23386a086f6c6b33367f51f25271a82ac9e0467ef493385f7c82e50ebc59cb66914b71d7d9e0e86b2a3c74fc6d3daaab8455fa91a6a19e9f0daac544a4b52e7c1284cb740e6f65612183d122b19e6860f11f46aa4805f4ba913e2e41d56cdd1f9a0a328267a6abcce0fdce25e8aaa44d2387ec1bed97b200cc72276717b08a80bde7a21c9f53156f891ce5cf0678d2c687eea032807b1770c860547ff61af7dc6cf3dab48ada4fe8dc41ac1a191c6bf48a416905d8ec188b025db5865f9e27853d857a6e10acfbc994d6508f85d4308be0a44230f642a9c27523aac4f231ff99ee54edc51eed802c593d162c55ff52cbeb57a5b00b40a2e11324c255930d382ad204e4cefe36f48cd8977a6a19c9c611c8ceba3a4e65a4462cbb2b6201107d305a6615b3519c1efa5013550d2f4cf6e0a428e1fbb64f9f0752fcdde17d2e5a3a5094bdd88888fe513ee455895cf4c35cbd10c35ea4076bd47ef8d2075b14af4a6dbf87a2ebafba0aab75189e409a86ddd3f19151ec11255354907061955f8a0bb51e842d812643b0edd74640e945a3535be3e83561f9a04c710bb5245bdbd06c77592fd5959cd261f90c10fbb5ffee0363b577e06e11a86c7a657419f097f1258905528f2057b1e4e2c5559bf29e98a5bb549e9f40ae3ab818bbe9c1f167b82ce39f23252a484e8a5c59a3ead75d59cb1f626b56870bb439f968d10c552fc5bd545d32a0a9f52b05b0e5786f8a8c0595fd526309ae3e7ca338bea905133af42303a7751310f926e993458a130cbe978c0389a01966ded64c74ebe00de8f04113131e77186ece195fb312a5e2b39127229289c70fcc86f60b9e5a778241e2c0b031ad68c4f8f9fe5b02b695e30f36960dabd158a48b164bc248a467448440b882554d2c8cf80d5b9d3","isRememberEnabled":true,"rememberDurationInDays":120,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
