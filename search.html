<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"da738e45e12020e5513a4936d737adaac1316974d0b37eddcfa691edd822e3adb3af77e964d207c849f26a69a8d469f90c3fccf82fb9d42b6edd14e227c5aa3e8459a6a817e07404f18ba5bb9f5210225be1963286d1dabc18a07142448dfad976c1056595321e43f04322e994580ba63f410933f4dfa96ccb5c67f964feaf6ffd3d80b72406e16a8a0645cf92efae736f57c592a6724a4fd0631de90f28a09bbf1af11450d0d88f1a1e3b90259b5d94ed4ba5425db2d9aaedbd6032528285fc8c16bace78e4611fc1a1bb343ab687eb839381d4dbdc40e42f01192efbcb4fb8086454c2bda2be6dff769761ca28a40ee90fcb1a04ed7c090fcf8592315ae7daf75b2fee0e51507cd8dabd4f5710c5854905a03aa89ee1e251e2d8218ba14255a801f7983ce28ebff0014a54bdb7faa5a4f40f6fd5d73941f5f61a7d2602bc35ee47b311edd91720c9ee82409883b4a1ada466f67bc2b9118386279b1f623f94dc31871b915d07b65edd2c56b4008349e74abef6f5e8746d01f5419b98e3102db6c4aeac38be8f5039984cfd53a7403394d4f17a4705325fbf45666fa1cc2a42754837aea0952b56f6b71e87e6221697eef0244413656e2d54c77be0c4c1a6c9d0257b4d1a031ae6c67bb3036693d4717af0fb3a1a50fd78b9bed0b0b477bc453be604b9c4ead553a6af894127a5a7bbec1eba7d1a9bc9e6529367bc82bed939f88c87d683dc34aac9c2d5f895deab3321997f342652767ca50bc5b3c3b6d6e650bb3f5c29311e5e5ee5dc2e89ca08eb55f9e32bcae4dd0f4a8bde18fb41a4903c92a7e32b5ba926a6c630a42be1c72c068b9ff8851aad48518f2ee6509de5e3b1219f9333e10a0cb6602d1524d0eac6d048876c41aa0bb885fcc9cd80e8f7bb2c53f632ae39b74af2d6c672caa28ace5b26720f19798e4f90433bde6d4c190bc123005a0cc3e57fca3a77423f6d141e72661f352e01fa4ffd15ce4114e13b8c23a7208264d3a21397fe37b6ff4e2b7f2793993e41b323ffc8f507065a40739d0d3394ef7c6c07cdcd0a124152d25a1372df4351ec25bce51c66a8bd8307154840b562b417f908ba091b1266ee8889a107952767d128cd03f2616d253b1ba0c4639d0687bc39856d356451f5bd2241268bce20392efd610be9c1946a05837fcac40efea23e3bc73f8321ab5a43c80c479f72cfc2d66cc41fd7339731b5a5edd1b9b52e8e5187ee37d40c1fcd2b393d60c5127b09a405a54a2c52b771ae10dca0c937d26908b51980a7daa2f74b722baa1e8a12b10c2c45e0bd21d711d46436ef76d60a11494a1b641090ec74115d39b191e6aff3d8e39af256e9a969afa5c7e5692b596355cbe28acccc6dc62d698f181f575f68849c1ff3ddce069b685a1db1f0d7ab7c055f3c7032dee57b12d6f5eb37affc4e07955fcb1c72bc09bd934ad3a9fddf46887ee0dff828d61643afb0b03cc9cda3e69f214768b54edc30c72f648387aef68dd9102d6f5fd0a110f9d5ee4b0df797cd495bfc551d8a396628716b11879ee80ffce89dbd8ca18f134243202e364a826f7184f6afb330b17f49da60db198e370be7627ed42da64a4a9c02fa6147ceff2d5ac8d3e338b40495812b00e2a723e33eb253c732fa58b23cf2c6007b555ba2333f47ce06f71823c522ab56ef22e37bcac4c2e6ad10457197df719ef6ecf63fbf97bef8f172928bf70e5fd2dc89c10c9a42f6ee8df1c6306b1cafade65cbb333ae1f079f0e900915e70b15f5c4bf34cee690b05387a1ed82ff01aa80f1c66478d512e08ebc4936c1c75e87ac30e094df050c9b3db2d44505cc3b06db754c612523dbbcd598d32afffdf53522d8d3748dbad3df1ed3a49e5e31eec6c3004c175d04b70f37229cb99d50f7665faa9becff44665ce769f73c8a83fbafaac5228857d9c3e08be93756d4a46ffce644a3c46da3d9b4da3a4c501abfc8fa4e6760da1c12bc7d13eff4d8d58c98ab4454f990fb8b9f9ab01a4c76bda1dd6dbe5a2476b54a9ea710df0cd133440a427f799fc456af09976e861eb036ff1b8b6ed46b848e0eee8cfb802b0978cc53b8e030dd010964f18efefbb139b0f7f669f8efb3d6edbbdd2c9d70b1ebc7f14c5af441f21a789e3c42f01633a5a0f2eed5d11c0b3f2dd0d4b9f2618a932e23838ede19c9281e1a6cd77ef8876c831ccceaf248d44f08e376e9b4fda7604f3786e3c290a562c129b1f733beadc48648b3e6ca50b28e9fcf71ebac496f6764801b9c206c6664529036ea66713d748a72e1905db0fe54f5f03bb5f8593644448b995b98c2925627a32798e86a93643361cb254e3e03dce8c668073669066c06e8e9ff69852af0585fd422a2503ef3e3158a8046d36104deb6818dd48dfe81921e527971ef0a7acf8e066f67e2546028bcb88812123c8e3dba990588fab01efec4f6b55d35dbd7a496b6853ba29aeb0136b041dcd0622e1a72f86264ceb5d0790acfb18c95ceeac60ad7d560634eac6b722588c28dfcfe33376d2c778e318a20866c5f164250fb47201cc11ac30653ce541ca9e371f0b48f7730b36de7f2e046eccb3240e640aa2c97e77553c29d07b414a7384e71219e401c2b278c054877d9fb79471ab08a0914d440259e47c5fbf171d65c76cedce90bc94be84cac73cb33abbfdc23880a21792741cc756bcf47a662fc5494eb14ed1b84e45b484a2c58d50e19af199e81ea2f6d2c3e87a87ad192ce4fc0dda5e0dfbdd488a6c1c5054803d81e905f41e45faef35ddac8d9293984e8ddf95add7a5055eba11cb78843b7bf61150952b6a323013f38798f8d73639f4af0dc0973698b28a5a7ed5688f480cede3d15f63e4bc308ff940d92b4cc4a88faa5bc1244ab1d6c7165a975a677872ddbff8583d0bb73a7d658c8e129d6f4a7daece83648cb0c1c5ab3284fd997bcedad3abd2c72c7e6d4008bef61df8ffccc339f721876e91c1033ad57bd20bce8f06081c07d0c08e241a4aeb0fbb02c3fa50f11b0d9b1bc4e1255b72072121ae61df28e83ad7371c02802103f000c610fd2fc9b47e248e664b82e06ee3cf985dfeb678e1b72a249f762e965fa9d9e22255444b25580b1c1961d266ac8dd5aed6732308b3b9eeaa411ea7daefbbb55f24c02e838f68f4ee1fb14a20773df15a882eb508ec72b32715ca06d68f755a8b3c22ccf1c9ae591f17af12585e75ae75cb1644dd7d10e82b89fe2c7945f88a2e93fc2c3858297e1c36e5cd3143bf84d00e474239eb90dc98c7d9682d63253b4b3b958996317ec150322f1b5f9c88ba9a4b72b2b9e942212c07d183f679b4f2c6d466863f4849d9651d4b6820ac7f48dd6d7aa1d6afa6dc5730f7ad4e306251ba9bb576e898bec625fbaf17f096da03dec3c73e6fadc459864f81e4d308b989ef2fe02bd2848792dc1d5368235ac085e20e29d06fd5e5d92728fd364848419586c0566a05b4a1d1948bdb0fbdf85237c70de9829ef5cf2f104715fce9562a413d0baef4d724a98d07ebb057f95a6901cee17c6863a23c03e7353499222e6f6c64706eb87df790d54f17789cd3d0bec19cbaf28c75a4df54415bf95c97afbc75fb8514acb4b386e60cd21a0515d5832fce7197dffe8419212fcf23e61fac94958357fbfd508129682ccf0d9754a66463f054421b04740036703c82c12a50d0af723eab2594985a912b7a88babb6f6f7a28db2d36c7117ba69e170c747cb871f7c498139899f2e31369d141dc69bb2285e663e2bf27224daf35fe14fb1848830d13a91124a93e12984b0bab6b223d8eb7d91c76e9f4513335ebd12fbb65b57ef0482eae422bf6d12eb1ef34ce6c7645f0f74b1cedc8d3188aae61182bbc4d244a7c612d044b3daf75d9e2d01cc17ac8a827ceb3229a057ede2542423c9079e201ac8fbf964112c5d603820ff6cd1df48bc762a3c7de22d71b9dade5e6d6fe6c639bd4e91fdc9099e8bcb915559894cae2f4e87b04897125ac64c757b50dc717cc64f11177fa9357dd70cd9aebd35d3ef0251f8cb58b2c92cd64e96c57055f07fbe9a9011fd5bcee8d82cbd175e5231ee6f2f819a6e8aa5170659c8885167d98c5201d2a98f06511acad368dbac3340dae0bdd77c107ace74515038f6b89d8ad6b9433069d6f68809ac7725987a5dc927b4ec9deccd849fb5be1bd2556a404f72c2257c1eb97234afb2276757f30bbc0cd05007d441239e6b63e377bfc6c3c77ed7484ae04b91dc1b01b3261fbfd09ae450646cdeea0c7cac06cc0479a0289d437c33ffaf0802a891e42a8eb6fb145c1ce552350e150a746a7ba0fbb82b7d7922d1b47caf00f0467350893ba914e2f29623900449284431e52ab2ccaa0b359284d1d5a8cfbe1bbf08b062211a373838e268b1b1e9fe37ef87b1707fe5321f8b824102b5658c74ae884c5064fc4b346c3f5ed9c2f7a169455dbe31a34d289701a38f7016ae0d63c16d6a5a640bd1f44e4a420bd23270a2b9672973e4aa13e5d8ee144981a2489c5312191a1c17993ba726b029b6261f45647bee5af4fb87f0c675ce8e5a3b6ef154c6751023acd0f6023cae8a54489efd8f0bb0dcd5d4c08a161f6da9d9903f84df6d3a950609526467b88c72b722664cfaa799ba8a1efda2fee1e6f9c1a2ea33f277f403424b89f60ead94d66b64c50c5e8ab1f9e7c7817daf9accfa9a5debc1ac144a1a3cd3f85e604452eaa9fbbd6dfcd433deb4d6c0408c18c950c6379c5112e6d57dc8611c6dccdd04782c6907ac65057656f527428d922115025a96da7ae1ff2b13962d706b485e12c87a40e7d4c93876735a01e5a44bc5a9a1d530cbd5179976311a7b433b69f4f90693534b497db34584357a7d30808420da891ab2e786a488548d023a48b65f1456e8981f8fb999bd12a2718a82c522b00709dc801e855aafc1d4e0bf2d0b5c1ebbc8c83038825f4aa66b49fe29f8ce6a3ff3c372b1fc1b4f922bc40edbb08285e8ce8be49392afaf4656cd5953669035a940b3b768df1b96a4244f2a959aba4d4338a3b4ec8c9ecc177df080ed655e13a2b3e7f74ab52e5ebabb8a90524b5ab1bccafcd4fa4593adf800a29e04e9998d56d7b6367ff0aa9fea00611f605f9875e5387831012e11ee772d3cac1bcf1e94be439d730aea37516dfe20728003245867307e57b762c0519bab4fe0165d9628687c835bc0d546dbc8a3a03db3eadb300c61d70d02f3febfc120c859d5ddd8e7710c6c06ca14e40d777f967d5a16ef616b8216a812d0af095fba17cb2a72d9740055b00e0e144c56fc2f8d84d2c17ed935a31e4ff9f5d066c56c2c4600187884716c0148225d086dc3d5b54eb259f3ac228b5ddf5d8cd806ce3fc762e1ae3486fb5d396a8e324b9ad5c8c2061b6700dc1d21bdf0c8c5f7982d920d6cb4a93c6909668507c372f08a7424547fe7d9efca45ff8a333c1e399f81164b0105e70ad1e2fc9404e1524b0b9a8c5d4c19218b662ac1a7e7be866b92077742575521db6bdfc74cd94c0427fa1f7dd7e7eb228315a36f8b9665339bde0f8156317d5e5901424bca717ee58dcb23d43b1b2ae1c685fa7a329b84673da185ddfcb0f13dc2f798f2339d40096162e4ecf122640ca8467378c5e8c49a67c1ff1251411d5f9ac566002b08f8ddc18acd648f7dcbf1de9594e74f4bdde7246c1c82c98bf68a95687597565f3c2b2eb9dec7096ec8a7644b48b36b2909dba6ff140a51407b5681444881397d2a1801790647189090ad080d430cd8fd205834f94412e31b5839cf8883d685f20d1eb305fd1af16ade1c982918e96a6ff0f5b9f8207998eff151dac557327509ca9327fa35fe4639987eb2b07664785391c0f24b3a8fa9c8f7789a412ccf1b6ec7bac8be5634303edaa9a867013d847b6c3df5881de78b0aab877c0f6248443251fe7f9f705de99d13c6f927f549ee562cc78e02275ac46735ad31829c0f9f36afecab908c0cd5be56df43572ef1a55dc4a544b927c819e52c1ac8b9b2a7672091966498e7f2483f6bf90f28130027f0bbd9a8152969f265627832685e238f68633bfad159410f91d7d7ad71bd85317fb40f4b3992b1145fdf9dec467f150c6040d45236f5a09ab6d70f480000e4c3bedcaca95b17fa48238b58233dc57f26b2a8c4cac9d692082af07f36d81b6b76f1e2b350cb38ae0a22372f41ad6fc7fe5734d02d950638d3ff24e56b91c8a4df35845c73708db76c4c2b6f7b38e3cfa2f21f6b6ec81754ec79839ff401452d9a3fb0e5b8b7125db05bf2a57fe35e0fae47b890a569d6e6c486c1505004b637df657157ff9b294644d6c016a9dc406add5d77bbe649230115597cac2af4c927e08efc5cedd65b3b8046593110326e7b7d9fb847dc7ae2abaa3b35f55a6cf4caa744fb1d0f526d26173beb6371694aec8e0d1ff494bb04938bd81f2e9088e01a2b1e91c88142241ea025a7a4b4bca941e3c3e7bde82111bdd981643c6435b3d1151764adb83865af95b8e9bfa23355e264e5bffdd6cac6a2b16a73a789d17dde86a37688f2f74ecf3ad5f6c357c88957c846249acf9349790b416f785fc2dd7ab2fd0c764ee78d54f249ea1945c9ace6c1d91bfeea49639709897e0f85b8c76a6cd28ec979aabcaeb591969315d9acbb969027f14483c1529e00f01597e769e94b683f3e8bd708b23d4ea9bc156c2a26599aff92a5f56556c295ce70b3b7b874a7f976418ff080eedddf02f225b8472c9fdbb5c49d91556308e5ba33a0256c5c9cde317d05292ae6adbecc62b29b269301eda667bef11980ebe5db7396d0c0c2947c208451a4d209a4bc0615e1601d8cd2651c99ee0a6f94327f6287f01a3f694ad5da683771211b76f1323ef698e816f938696eaf389d94e6ff34c2cb34861f90e929d43f846d3744f7adfd588174b445a16678b703ab4dbfa403e1f318634f2bebc914c9e968af71325b38c58b8cb829d411d79c6143faadbfa4e44a826c35af4ae15b6e862156b77ff4ffa605ced3c2e68e0ae27faf2935b1aa3d1198de8a2e161afb82b5764aaecce2fa39c8cf4d6f1cc1651e8dbfabc711caa8ada14220e02d9a27a891252b7fed5977016735fb4dfec2a0fe5316380dcdee8b8506c05a0d8660d6f469ebf7fc5e3c32b4c0c883f8d181c37effa645d89964c22447efaf33ee10aa7b07677882167f9b44176753e4a82019fe1618b237a1655c980b543c3245b0d2f5459fa0e9efdd3fbd7b2f1460e24b0e19222a980f9049034c109ac6eb67577522be21c4b38b24f2440471bd8bfba2a7a366efd56d0f1c4fa227fe513d92c443765de39f7a071bea33c24474428a0a53f08fc8827d470e57519be0ffa7eb5ca8dacb2203d5dd64da52207c489adc9a1147c5adffd6d27991b0ad485b123b77109e81707dacfeb443c5122b177aab34e6f13236bcac4a50f70b1a0ccd2e0db52b89f55a166e1b097f12653c37acce7880fa8667d6eb9e86dabf39e2f93fe110bdb40a95e3c1d6fa967c3dc2db0928758d41d8ddae92e0b82f0c4be06999d80bbd15b4165241b9f34a9647318251f133140c489b5e7726d46e7d5907c3c9bbc50780d3e6d93b710c8f695b011d1207e6db2564eaf604f28f6f8ad27e4b3e7b4cb82aff521973d7793409c0d284934121d87dc0c48dcbf8bf70f3db2853c65dd6c284446a6ce8aa4b43423e0acdbf9596ec71f745e4cceb48ff5a9c74c71ad860c03664ce09127f82011f6e29a26d2aa0a30a9a9c3bd94e79ef8903166985fba42f1dc9807b96ec916dbf58db1a73ca269fbba744e5d17ae4c97890a6cdf22171eaae9d5f44fa8d90de95fe3cd790bc940445033bf61eaa28e151c12e774ce429b45aba3e1e490d5d65fb2c026d325efcd558bc4261c9b592eed903c2c9803926b33ef04c110a327cbceb3dd1b9ce80018fce567546bdfec0968ad7798ed95c9723d887ebe69ca8b55bea9ea7929836a1850e9d923cbc2b9e0bcea41a0322852ba4a19ccc4e889185c5890e770ab2a1fc4ae220aaab8e7721783d1572235618e854526cb26c8556f7161360d1578914e649d7b1e64714e047825295d027a6f248d6de956c5f405c261dba84e8fea22f7582fa5c563f00dbfc6b3541722804a469f51a4414f698b3acd98bc06edca817bd5923eeed83ad66250a262aeabef18632e6b86507c5a8878236e8c98f1c6435393fd89e9b3fcc3fedfc4df5f8abb50161bff334e2e8f768dbae102002ac8098061b8050330208c7552b4f235219678c06e502d25f85d3c0997b9b34bc20ebd33cd59c58baec75a6aa1489c32f210f8d47d338b34f86ddf3f0eafe6c65ffaa6102e09a62fba8bb860713041103d578e77a8628063cc2b7836c96be27573fbc9e19621b8608b4921ed189a396de4e36a94a3dacd57deeda91d3267fe2d7408006a043b599e2a5b1a4214d73a67720193ffb9ebceda4fae67d7cd10e4125e550df1a45418ca9a8bf544d30991717430eb95e7be94cfab0faf6f5da8d2e9337414d2ec5766f6046c5da30b77de3978f40ade5baba9a121cf71e8fe51de64f8e603eab944df111f58271a7015ec74eddcbb87e6ee102fb16c4bd5753817a850cf02e10f5b0280f9af4794df763352fac5b8583d844ae2bdcb95ef3e60c6147a1f9ee6655b771266e192b2f92938fa97cf7f62b98afa9578d42875b3365f6e9e7e1dc3f5590fa6c55ce1518dac215de7c1c3e64ab959c8f45a229e0543e0937b0c062cdc39cc68066185fd8ff31f369755f49d5c759f3319f1d51488508a32fd1a0f5cc6136d8e53b148ec282ec0ef69a527b5918588359d91de6ce35d9a619c165b82f5c78d62fc7adbb4fb926cfa6767156985d7a62d87886a2fe90ded1dbd75f1a6d26d4cfd6f8385d8cdef764ef82ef1414342c2d7d93b248a96084f48affb25dc97b7f415e0f303fffb920366bceca783faa134bffce0c5648f400f407feb0662552427bac4920b23859b12ccc6395b52130e0ba072ae7f8e127a86181d43b14f8c68e4afdf64414ede37a0920e112b1d118d59471145a2ccd8d82501cb8b51a8edaefe8ba0a24214e8fda2f64dcd8c993c1b490c9a159a2df4e93786762363142f65f4a233e24297664774ec11445e6b2bb53ab264b4bfb651b23c25a5d36ef985cc866e780e49127ab6bdc9f6af1a536a8509c875224b7a8a047b37576e5e0b0ba636998d19ab3998c673075ea16cdad8c576baaf6dbb39d65b1eacb43cf4bb741e3d2071ed5f3aed0cabf16c9d6a1426ec7631811f7ca62246b5a036072454b29fbcabb42c9560df1996799ceca15a04043584c507e68c6e4a24b33daab9f479c49b7835676df192d82ea63fda89852eb525bd31b91dc80eed919cd8ba70fd8f2d7ac6ae37f7e3d857546428801ec00e966cc5d36d3415cddbf13787e9a7fcc021e924281eafaae5f774853cf979118607e3e0a7b10f5a86bd8b2946daf650a37bb6ffa46e0215f8166455451f49310ad95c12465a8861ef99771a5aeabd683e0ad46d377e0f3cc6aa508133d5c8abdb1dc882192848d49e6f37de0acac86836ec070b338c68b6e39a4c5c74934144dc2429ba8c10f3e7090e848949eed2b5c3805f861e1f42aea33341dff4100cb8c82395117172036df226a5d9c8989940b34b50e366616260649329c82ca1d7b16ae318e7ba21836ffae01063a0a53a3037b256405c28c91a61946aca392fdc75f385aaa9d79f9c0064af2035be91da9f1fd48635125f0dbc6edaad804b7865b6df13729ffb9a882efca0a82f181927f29a1750575b54bdab5b45a206e5a9f6806b48a1fa4ea9c727e9e1f3f27c2739fda71e909f73512cf2ec0b2203000d1c8ad4146ab318a05f35158694b3ac05bbab2d045ca243fc63e89ea201e30479d8fe1e3f95d728c6f6d32002db91f6d1648b8244f9e1d5445035a870b33fdd0a246eb337922800cd8402c575820ed24d77a12ba203b24ecfdec0789434bded80d252f95d5f4090d07001fe17e85ec571ec94392443da85558d75cf6a72d3c654b6c4eb3d596f4a7fb84da042c597442e2ef2f52044fe1817337de08765dff0a18b0d61d01b4d95f283669cccbbb154e4320b678261e74e55bc5aebe634fc6659eb5707617c94b92f69073df9eccb3e8645d2a5bf240497981a88f083b0e38c6f679e5dab52de48228a584b9d93840bae571be448346c5639fbf23cf91887dcc3b2af2ea5cef230ab378a96ce8049051edd1a3f4a2c2935c68c82b7357d1c97de5649028845124fa769890606186eb3458625aa27ba4ecb7f4fed36b4300bfae3495049cffe94e96cb266b3cd1edeb1cdd4acad6eada036ed77ede1df975810ef988f99ae48cf82e686e7131dd5661ac8da5f3758eeb759761c4c243e75c1afb2b41ec1dc2f0928b3e8b0b10fc8a661cdf2978e8effb04b48f707ab3dd6843a1e56ea130d285fc19620c57d525e976504d21410d21c0f179766b20097be61dabb262161cffe2108a7564c5db2084c039b5a043d8ca16b0f7a70a3aee6d426243b852ef2eae530359836ae41303c6393517391d57804c1b82fa6537891f0b32d029d6547ac6741e9bbc725c6b966d9884fd3cb96d1d124996b7931774e84ae39ce5a8ad56dc84c64cf413f35bca7f6f6312b2e664a5d2980bc6d38a45673759dce44d73b111e31e4903ff85e6c1c962af64af4a7c12ddf20902229328e164b77507bb21cad9af906e123bfa559f0639b6bfdc19b3975678b4e6b02e702cc21fcff31b945cd97084ca4428c29816620face7fe74b4471329f816785f609e2dd2816fbf657983c936da62098903e4006571c8c14b65cae3453dcfc392310b713bb0ed293cde0a591b74dce1b65c85a460e1930b780c0593ace1001d05d4b0eb8e1723f944ab66bf1ba4766019086a03737e5a06db5b0bb821223bf4c7c545d8d2f2719d5aa55de1ed08ea5787cc724fabf3e17562c67af69807bb5e4c2745c13d2890890ec8b170ae90011b29a320d3f739012817eba4fab5d95c6be110e943ebc66dc2b1bb8dd8ea704d7cffcd0d5af7b64c48d79cdae6374fd0c86a69f32ae614bbc7ae0efccea30417525016048a11f116f97f112da58c9c6cd5b3421d4e7c4f9fa657a7cafda4d6e70234cce421db662fa3e0cec3cf669418299ec4f09a975bef07c9d2bcf2cc677d0ec6b399c319254a9e6c805d5aaa9b54e54707a5e85acddcd1daaa0906a44e8f22c4fd5cfde124ab36f8a29e5e92d1c9df57d6e94a52a6fc2acea2a4c3726b656750726a995e84971cf89f7352f052cbe5fba5962562969e5b5f3b0039083c3bf7720efaf13de66f00d2dcd55ba225dd00ad7df625e7b729bac1ad741a32275aac2da026a72422a87b22596c54d7a995dc57fd90b76c25ecef97d7d33772f77635525278364f4ef67f98ae114c2b69b992c1dfa915f522bc1069995f3572a19f984528d17e9a7c1f5a31dee59ec845cf2c90ef19be9a0ca3076afc91b0c2ca78b50ad0d880d28a6ece7b4da86a6f27b65087a7b42df5f465337b3fcbf01ba34a6580311a9e4dbd41394de6feabc187faffa949d5cd6664d978121ad4b29d393333f457e2d579d3f1d9d74955b8861e16273ecad6e030982b1f52c69236357b51dcaf4d2e988f4dea2d3dbe111c4de0f92d30714c0f06575a75bb5650801300cd0b913d5898bc5da987a873a24fd0443b8f80a7c0cb46d0b9118c86cf8468c1407d9ab0c49c5ca8482f57f74d748dfa94edd496520bcd0a982075686cd0b984f2b6a8c7cb80bcfa4f29a2462d479586a27130c618169264532d983e245919ccdcb8452cce8b39eb67d7371a2df6c1598fb22984ea583f7417533e0db8cd99d4539d16ba7ee10bbfb27fd85263e49b860fbcac1a8efb189e94299ce14df3921cabd11020b6a864984a64260b8484b8dbae3644a05c9f4bb127f94b0e069c9611e618ab9205ca6d727e42deb558a555f0d717f95d84bef643e97fd20ce8252ce5868f22c93aaec4335161ff13f3a9d4d9471f87bd6b9a3507aba9875fa833836604cd6418b42f4dd2c078e1658cced9ded5a511de090d1bc320e05dc62ac4196d3439c9d97acc30082818998837a08420ec27433d92d371bc8237a0c86d2b8c58e4693ff46a628ebed907508a9752a963563a1e1c8258c44bfc2d16891efeac8c2248dab5a7df82123069702da7a1a2c9e41de521ed5bb22ea6f0c6d84bb373380f9d9c860708fab9fe116968e8c0c7581a0564f1aba2a567e953de806f9a6de64d60e3cdf710f433e0d3c45c8ec56a16be138152be57b849b29b7be63f2a53b7a6d9a359dfd88eff6d307bf3fd495c16acde3e402c10f74400ba63913cfd56238f7dc322bbedc771a62690fade2ba53a73b72901045428b137d5f3bd1e61fc716d0e91c4839d8c2db105a57ae60b83bf5f00805a4290875ca92fbaaeb7477ad05511e47bc4ce6c156a2722a025864d459eceb4d3543e8cc3069e8833064d0a93dbfdba073d7167c6fc12dd9795ce8b6ac1e7de8b1beeb95a1902609995548ee0f92480e8c473c59d411bc2331abdee203ce2d5cf68caad106d224b3610292472424867f99453afadedf579527aa311011a508421ee8c204b126140268edde158d615cfde6da4677039818f9dd454ddcb6d0f2c4834d0c047a6892d9a6828e546f4567423042468a103d480defe964def004d7105585a38cbdadef4613049dfdcbf5a1b8c492603434d921a777ff55b93792c7f821c3f6cd436601490484db3c14aaaa25bc922503161ce229a270b936c95919cb7256d7dd1bf2a44b3dc53d0c7b48eae27a140ad2196fa297736cf309ee1f6a41c7026605189c5b8ae966783ade28a3b5ce9a4f769b8149608a0a4441cdbac014c907b86688c7a82b0dd92f2426d4872a944f4ec59a337965be96344ba689d46c72f79de9948f002ee4e4c580ecf3113ff1c391b3fcb9d545d3516454cc51878215a6c39e320a9d057005f2f072f2a66e1cab68c762060018945ce6eb31f6b5104a6e701cf87fdde1103e3554dcf2eccb1cc541193c68ce07c4f9d2d4f5d9049544dd66132b0587415feb975ab4d44a7c65f02150cc39086e8b8935ba3d75bca45a7e685caa2f033cfb53fbae915747c6931981c2e352089fde3b3b24b2d57a8e5906913f1f38792131c2e7d830cfbad7555a5c33878a11a57b064a5433ab418c71e5005442ab5387f18f877a61f90ff3bc2b11d105d0c4f813c7171f9e6057a9218ef266cda737400ba07444caf1f44cac4aef0ca73c6ca04003bdcad25fb86c49286595a82561edac1162aebe52997d0ff47caf93ab753de58682a4d4007aab527b44752d6cc449c23a26caad9fa994a212af16d8e26bc0cf73873dd06f07773c7dbd289403f1d5fd7dbb8322060207e3765b86ee64dcc7047208d449e472f79cb812377d42e58cbb23ba470b3cb080c93dcb10ae4209d1433a2af05010811f970c0f6ef7da3f031ddf583cb43728db87362e507a6d0b0c13467a8a83a50bdc4722e21426b2cf66c66fea51cb541c20b246033de4fc0554e3a979fb9b9e5d033c6106a1df96f02f23fc4e434e986153dcecf61080a38ba2a3cb9dbbb2fd065148d22649b13f0ae87da4efd9ea7369f8e469c102be954d9d7cc1f23982ee58dddbf0c884de3d43c2a1dbc8330f0a0fb7a84368715586b016ffb33bcd7bbf04fae896c63b96dda7959757b3bf603510ab6073265caf9607013e2eac5a753e251714307c49766a64d4b8b10e9d2e821184055c09cb778772332362ba1aefac9b63421624147ec5f03c12b8e3414cb8e12f5f442ade6032bfa9b4c9a5a581ee98388baa441241bfcd355d735ef25446d4ce95cb03044f8a3a13566b5388da472d644f97da22dc499e16ff4be49311fef459cd28b416b21e868a1c1a3174f091f79af13d097cc0a50af084a9965f9576dd9802d67a1a27885847dd97b5da8bfff155587c5637bf6eb9a793c53a94b03b1e1cc5995d7a25601530d72f015baf62da0ef50c0892ad845cb54f2a961f2efb55f95c0c32d9095b06dba67ed616da05976bdbd0cac21386aad6e8cf8e7b4ed9d90f97ca35a07b5400b70be21833386e10ebead494cf89343441a4816680e966df583bb94f30bcc8a0d0c3006e14a273cbe74ec0e2e3ecd9e869033f28505ca6b96ea8a635859df2e645cb7e2abed01f153649e100a76638e32fcfb62f5527d3c7e0648618c5cdeba21e64af2650c5398796d49847ca25385bea28c5269238bfac5a20f21bf3ee2cd751b51542d7a6b3af4d2a2e3d3bb4160e7b4885000f20a2ab97e4a3075b3f285c1c6e0e6abdbc22da6b227da8ba20fbf1a242211faf3691f9cc71ce724655db0f83aa4cea8577ae58d45b3f825d1ee5f74d024e84bd2c8223d32003011727bc1dd6cbb60c3f927d4819e8c8ee578e8a28efb4ed4906df0dd56f30b64dcdd445860186a1ccb6fb335b9e236e8b8d50dc6a9bd8f1b368762c71ef624ebce53370ffb6f44ce3a54773229f57048f15bd64d343aa9bb5925363112d8b017829a73c9423cb95057e5fc4a69273aab627f3cd7312ee483e7612c1da1ee123276fb28c3a65a267c61d1ae5f1df538e042dc3c28be5e25f580abec5e72087ba3019accbe9d34489510cb799e8534d212e0449e82df4ef486c9b5b7baa8ae3efdf90f645b75165cb06a7f0ff9d07829ab58b83400ff32b440e43b784065cfa63fd69d2145cc874eb91a4d0aae457b1ac583a283566a0d4565e457188952caea826d6137a98538efd16d205f6bfa01245addb66ec911d52b835d97f4bf019effbd85d016a83e0a7686fea6e4c8f017a22bd1c6e2bedd38c1dfd763535c54f89885c5d2862790a5122dbcbc02ccbbabdcd6feb5e848e8d4ebdb08de1ff85c6d80e15c2c7c85caf602b4b2f451fec36f9a0157799f21d50769c8e5088a0ee39da6681fd820f40d046e237be43fce163b44ee75edb590e7885237ddc8d82e959138d0828eb4c2fd551fe064b160bccf451e75891b780bf598ba8cf800b27fdb91809ac55595a3fab119ce5c51eae55d47923d1c9d624a4e159896f6a437bd96aefa465af91b4de2a19b48bcec47b87f7b752e04c72a4402ca5ae80c72bacc6d0f3dd772f2e50039f5df80e3136ebaf6b88e268ed3285af159faca7d3bffc8118f89300b92c6b8d8a03e47f7ae16d683233ffc9f08008a92c5a3ccce48b5043b5e7e43d76014b4ce281ba686f48a373b63b353740d5b07b258dcdc2fce61a89f634e5f9f3c82b37fe6e390f83b524bf062d357a44130c9ab509e036505a817bd7c983fa2f20aa772037a4c6211d4a1d64d0ce0f348b5f61bfddc5df195b682933f8b0ceaea78da13501ef343e550b0cb6aa3856e38848e95231021268dfff543737754cef966c7b911b2ad6044b6f734c637879a8a78ab14164b9c56316d98839f90574528f872d70653322b1bd724c81d082d99e6d3ac95e1dcc81782c920d5c9afd122018e489c7cc4fc26417f8c1714e7a34fb48649d955fac82ffbffce4971544133fadda3d3c36b3b7073a9ee7e956f59287c4ff0b6be7bc0613ee929e3ec74cbc2394b2668775eec98f7296471758249beceb773c813401275f3426b963b7df1836d9ef96f792078ded966b965f0bfd6062861752f5e72173d054685c9e7cc4044c18c8eb60f0c242edff0572acd6ebefec0635303d7ca43dfa423b8440dda275060391a35f74f3d111f41b628f08d4084d6823e397fe702398a3230a78dee6afabd301e7785fc3320f20a04b6106c1c36e2e42bd32a56ff34301b95ec9d242c6df02ab8551e621e1675cdc49e38b0997aa863514eec695a326a542fdb2e572da432817e02917726345330a667b48f540de402a4168c4cb35b7d99dcf6b1520aada154098812299f4e1d14a02ddff7e98f53a2d836583dc946348ba23557cb0fc19d5a218230984b49bdcbabd9869cb7543915a540ac643c2633f5d17c2cf78abeec52f417f3d816bf568b590e8d9ad33524432c59bc546ac22508aa157f6c03aa76f05d412eb4641b53be987161280df943b08fd31dd68be47958450e50c3ff0fc672dcb0f1f85ed6dc4b281abb5e1bb54804d87cf4a0165c18e30005cd4fdbf7c363eb046791c419d6ac2c4957837e8abb367f15d556d5341b15486a34ba56c63317c4ba9c9f714cf710a70eaaf74031b0f58b98c378a7f2162df9c99fd57f20f9f49ea654105debfebc7ebb6fd3d16e65aae63481e08d101d3c679f792802bfc21205acdca250ae94f80ad68e02d0abf485dfffffdb8743e0ca3678518fc077f740428844b9120583413639c80647f7c9d229dbeee4cf3f67e5369e28b817e293073f6ad2939fb00b803d43323eb16bd93a8a5bcbbcbd7f66ab82cb145511e69997346513ea3d34cdbac0fb9419f5971cf1caffd8a3111ab28a353c15b9f1702d2884ba51f501fdbd74b8b9017fbd13c6c5fe217c4fc965dbd9fc21b33c9341ca1de0326a90fdb1773ac51673dee8b0849f2d187917c6d1e67b800c9bc6c6e1c1a49a593ffc2ee3417a7a323b0a6d6ef6c4e493700845816b4d651a34a86d27b6f26927a8896e2571c6858578e0a8acc6ed49a58e0fe9757d6ddf7a4e2644084dec6ce9ca6a70f35e0fbd7361a91c580e7002d8363e4dff93709ec8d67a482a21df4380383524c7611e651f47dea4d7d70e8e75d8ddeed19dc4594d72c92bfc415e6521d39269c9c50e48b3f53ba2fdb38c8423baffd60514b58b782fc9db83b6ccb1f917a139d540864ce3f85f87f2d9494b650f3db80989643c41174e21906f963591a7f38157c161584a8b3347cadede4cbf75b11f67913ddc3480401749b601b194c99bb3107b258d6d75c91b5a9f34d58bdb817850c6c4738321a943a38f66a865e5977d7ae190b4b947d5a44d2905977787268ba2811b6bd0d271e0191a5d20395b296c767796ef92928624d9b1bf89766484787377214a2ec9f661af0b58f2916d7725396eb40c5a3837ee3dcc7558e04147062b4416c0fd24ead2b23169a54bd00795500f8586f6256364fd10ed811c1840d656a4c0d44fd84287440fca1b1f64a01832a0f3388fd40e493765dda26012189b0ba67faba2d9ce098c38c2d5938a7becf5e35f084cb73e06696587933783e16b59c55c97ebbf4a2a4c73c87f2c816149951e5ec0d77c1650e000fdbbd76dff06e8e565ccf6454a363964919a53a2ecaab7c8b3183c1cf281fea8db54b01f377e188eddf8d57f89cc2de7f93002c7d6ee42de48e42b114abc5faaae345ba80dc62cb913ab0fc82ce330c8a50d7168db8384cf0afaec2bd986c3e11c64d416b1212eaf96563d90a2f6a21755dafa31a2185b673abdd91912fc7e9236fc77db216fa46b53c37ad7b8fe4a8167ecb0b37769defeb770bad7394763729677c61f9a438ec344f1c3e3292c01ab9937b0829749d41f9e2b239441aa159015d581734c5a685ba05a34fa6536f460deab99176f18b4ee9abbbfbdcdbbad5055133426f0a035cc9b68da5ae6e6184cb0b21650489938fe2bcfeb91b2181ef2ab38838838c528e2f4b321181f06fdaf99de99d1e16953e301bc5f5c22a62649b10a37c9a1ce4ffadb31b562f9810b0f19242f7918ce997c57ffe22e9586f56f1ee779191191ce887572093885cdbcedb059d846cec6bafdc0ad0d963eaedadd19bdf2bcf7bdd2724cf9964de631be830ea3c410f113db658d3fcea8a4f82e444799f675c1f722be6ac138fb9e1ae4ca69c802a681250f885e0e6a5af6641e16a672e05efcdfaf3a93067b344a155fb333de29afd3551cc796785d06996fa0716a967ecd4305fd1c3b1889031b71853a5c46f975beabfbafd68d7f9bc9bf939cae2f5417b6422cba1c08d5d516b0fa20f36ba39dd12640427e2a4b6c4bd7f89d13d64963aabf39ab37cae87d6f25e6e63cb09aeae923017486574af5cbc44edb1f56d8b562703207e7f3afc368cbf1e119634c4963d94c5477cb928aef0bb3b6f551e573cd4b912f41914a4ef1b08f40cb33829554519e87f4533858aa033dbd294c63511cf4df6bd81ea2cd90fc23ff6a909f3979610fd37dc60f8529467cf4d80d384d6f2c0b3b7213674387cbd92625bfeb3b4b88c95cb4e85ee4aadaf12e4ae37c8c375087694c0008b20750905478a3c866f64ce124bfa94ca34068d2655796681126e498157a1fbccd9d5f91a8f675ee93a4048c91e289978d2391c9e1ae1d5d039efae1c3327ff1aaa8145fc679d4c2ddc5e6dc9eb588c8d15e8876ce0aaa6f7021d9f1ea1fce6f0fc87a1900a34e272189ce43132f7184daea11966e26792d5b2af5c7db078d862c95c6543394667333b02c6ff8f71cbdce5bc73ea36aab0e09e0d739caa6f7bdc937eee4b8c5950bba86e9993b1f7d7fa845088751755fa561e65fea5119bb7ce686ce9cff88f8b88bb3a8ef81e8266fb6b3137ea3be7dced50ba93db8223d17ac077beb73400aaa272f2c551a41e31017226d089fe24fb7d7577e46bf27af7af377e95b8f1a830ca3a166791b804629b66cdf334788796d5ade2028cefa7ea4049b645f99b5c8056afefe11eded81b4053f17212893608cc5a9d9ff8d00461829c2f14cbf9b8ea77bde8e717ff765db3ce2e9d437ed4616d4edbfae9df5322c1d9d9a39e5320d63f546bedee17afe7f91143f2e2f7d048116767134aa14f86d0e97400da9ec893868c30a284250b84818afa382a7936f6076bd97371998025842b1e58d718441de1010154cf9829c155f8d4e2784f0fe0b1b89833957fd085d119471ae5c43556e5dbcbde2729c91ff8419c6f5966c8e7ce7f780678a0ddae8a3ed4f616a10e1a61076d7aeb633684b41b0f8fbd84ae34a194c38763772c8477c94adff27907478d8017bfe7434e2e34660aa392e32789b6c0fc0ca247f2639a300cdd8bcdf9af2512fe17bbde8e93a8d75b4e1b48e865eff4bcdf54863b352a65fe1e242e722b24278877dbfee2728fc21514da8d79ac683f84504d5ac7994aa3eb2848c275ccf4822d1119f00c53c99cc267399445feda17ef531f09673f007937ae63fa43c0dd1f23a9f591d5ba0c734a592c17bf49afe9225d26275f785df3a13318708baf4464f3b36f3683242212537b9b53c8e12e387c245f80bac19d57c3ba95d7b3deee3f3d59e75651891201df4ea969f01a285dd8e3eba40b71877d6eab1d7fe6199013b3571264e6f67a24bd004e36d271506ddeef5322cde0fd48c331f8cc00206bc9ebc034b1107ca3a150b0ae7753ed006a91a062aac18db66055789490db55dbe95feed9786d8e3b226b52e5813929e91b4d56c4a9e344136df650dbb1c0f47528c634c98f9a211038de074cd055422aa8fe362b65ee3c2336bcf670354281499e6235fcfd5b60d7e09785166c14785bff17857caf4a6372f5a2a5bbfdf5fb3c6e46cff0098e604f00b4c920d132144451ec49cdc8b41035e2ee6d30502f2d66c2212fb3a90e2cc7f599e649bc745c74d5d0998e0864e226625ebf65a28f55d8aa1556965ebbdafed2be2473dcf3b781dc22eddb12be13ec5671cd6e9fc7702814393d074d31026bf8688199644416c516ffc4f041c77180431dc658c943481bfdf28e1b64ccd6023a6766dcc8d96674d7f522dae2e80d05b6bf11b95a651c9d7d286e1ac5213e79f4c796976f42d2bce28cd81ce14733144b5be800f7b422c460c827cad9f2b5e392fe7e098900b705a01890cc0881895392855ede4f04f0bf0e0fcdf0a58cca2d68f02f86efe4d294d4dda637490f77a3d7ac4339eba73ac1a1c8e1166808b071a561db83ea7e707f6a51cd403c78ebd3d0d44607934973874536ad0a1edf31b23dd9c2bbd91f08af735a1d1801807e1ff2970aa2cbaed9a0e7d7cb9a48f92a919de2fff6a6a370a74d7724ab2cd32c4df398703381ddf79caabeb0b72de143607e5d94612049c0b0fa8c0c8e7847da12de7f5a48954fd75df854c9a32b58f6a2155448e0427146285257e5b8fc668cdd599ecc36edbad95d29ba4e66ad58e7ca2819de74d940e877ff5d6be3f17a4e466bd5fdc0dabaafef289f54557324e3027b50ffe068556917a02de84603dcbac33e6790d302dbad4d313c5e8596f070d8f81b814489b2f6b99718ecebf6b5f3b4c973ef49feb498c2124667ae40d71ab8a422ea4f5772681500c96fdf1aaf2ef7a23e3e72a9e186789410f3799ea60f3b157f6aa45565da2611a82de907d92f2de0e6a3528ff989ab34380de8752f3f3a8b49653031045a8eccc1db31757e4b47d13b8e1eb6605f42625d5d72f488bc5636fd838a5fdbe44fcd3685b32b79bbe89c1e2c7dc8dde6e282623e389c23dd6b45f77150e26c921ed17336be161127d6934a85251c24b153039f929076803a098e7aef0e493b4d7a87d438041852cff9718b64ec520ecfb60444b1122e0c03ec02db7823d05877072ae6f890412ff2e44cfd8f450a13b2064c2d9cf8b8b643a9ccb978e007f5ceccc23eb3d8217c4721f967f04eaf5e808abb9e0dbe334aa390791a6662ae3facae7627198100733eb5599e041862f7452fb9db63644149fc80a0a4fe6c6dc6fb60128653dbbea7846c723e8e3c954b547e7d140d2186658aa540194fa372e48d86ccd6d9ebe6c6a5dcc2c7881e0218fc6d2bc24c0e9b90b175ff08d9137d6e0f949967e000e16d398ab4343fa8bde5eff366f460ae808d5425ef42756d69bf3df85e59cfd4b22f431db2fc9256ae2e80fe00","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
