<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"92be8f9b7c8835a8a25c371f2a03c5e4a514a9221ca4b95cc5e1d76d1d885ab4433ecf0f57ef7b79fd5723d758dfa004609c916bf18a20006530647a35bd6311a6a4c226b16133bd6e9386fffafac61ec0a1b0270d35133352d576ed59d86b7aef669d16380f2e3d288c5e7b6eb20ed6dcc0323d28d50281a2a92f3b8f49dc15b0f37746b19b3d4fd64c824b28cbb50ef742b1a2ba7d51a107a5d3b616942e2c31c70c3766c6214c32d6ec93a943b48a286ce52ccced2b16a8b8b41ced7835027c8bab2c5eb7aafebda6836482cb9f854dbcb72a42cc7b1a5113455f9d708d7c0e0774c0270d403862eebd0f50c1c89fa551853c492de8389f514785a521849bb8c28c41e343c7a246c9db3ccb77e4baea278fbaee4f159a9eacd905104fc21202bd6c541203a71d5a9b7e0101e67a8ea6b1b25433479b3fd646ca0bad24688475616af2d564dfafc6cac2a5a3ce5b551b8c9e72a3f4716784e328f5916d21b7069cc808b4a52f0f134864008099b3535e9d78dcbeb46a54a2975a7ec882e791988bdf297e2721ef3674936208caaec2ceae413a0d456203d60a785b8e35416dbd11e095d5d4bfd8d29590a661fa56fff621e4c32aae11fd798b518753dd8da56546498448dc2fed2194d9cfa76ca4df85da4450ba60e913f426d3902ceb0d90c7d497fdc6df30c88aa9a64ccbcb88f48964f670ce17b5b2c33477eee2be42fb43734bd5572874939f69dd79821ae2355c3fc81686de2b4c4a7852254b91b2f1335f96050adcb3e05863155bda5762f305a264f9a3ab7bdb873da0ce21501af679e18f7f329f278451da98e7ce5548172ba750b27349908832a6bc0f033d4872341422027e47555ecb5b98baa477a0b30cb1b35762e71c1b6e6c2228cac629a1459d9a049ce43dc9f0119a8a7e3e9310aa406a50954478016e94921b7a1ba98dc62fbedc644908017174c2fbb4ca6bcef76e17ddd0b845822ee9a77cf3cfba35ba26ac419ec0c7a8d08f82462f24a98a82f2d35356754dc9ea1815f9dcfe9367c590c01dcaa13c295efd01f00c91174782c63659a380f186092ea5d67062d57fc4121d915326f31bbbee6eba5947d2554c17f355badece17d585caeebd21e3fe8089c5b42ecd57fe11e34d4a2acf6188e952b2abd089f964e320fc682cc809c9568a3e58bbfe4e1aaff579af3377e50b203e00700e4aecf8480caa52443a3a9c10306230069fa65c1f0003496cd2977eace43a2c86bee2007e7ee3685914f150f382c70df7ab53178ce25c341489cceac0d39031701b29ef8c6bea9ab75f3cc260d46e72ef341de6822d2d49d16e1ce91843b34405baf2adc704d0f5963208dcc30ab582b89b2bdc8b98f38ae621d96c96574f1ed5de5c4c94d727dad0729fae130e453577445cb6df94e641f7f7e2eb2cc48d42444a701a4840af68d07269a6114bde717c1c91aae8f455af1c7668b1611780547e575a50cd4755276b9706c0baee7a2541b966afec67c7ef081e900d7bbe96220e675eeb107b229754eab4a5636ea25719e6a473e2d62fc0e5b7d4640a64360c4d8de02acb8e72bcc71576147cfdc78cb5a990ed0bfe370bcf17bb43b575a17f891424368cd4807be597270a6245634d1f1902903775a0c537b655a7a952bdab664f26fc80a932d84a46ca4397874041780be96b12ce52e42e4447ca03f1fd6e1a6887e04ab684897f6f6cd9ceb4c86ca8bdc4291c2028cda44ccd14eefa587cfb301d3b822bb9547e402ce3fcc42e250d9382aba6b271416a761548d84f652b7f9307455cf3e83448a7a7cc58e096864febe6d728b22a9d389584ba2b24b33b00cc2c562748dae070595377ed729a6f97d65b29fee23e1a12aa3ed578f93d715b6110f4de825e102efcb15ca8199a26e47bdf1caa744c62e36b402192c293340306c1b26fae42ba0e34f85e7426ee9f28ff636da392dd6c4aab4ec4efeab77e9ae1103878fa5e1d98f9e3c3d30fb0b1067f8bb3b869f2b314f1005eb0341005c596baad8447abda80dfba9b9a4af08d8aca1fa2092276435c736f8ffd6fe29282924a387e18c3e31fb703ad95786cc2abb41920e01501c2a636b18b170df8fe9dc7277f16cfc0243a03a40831c63d9ad08192d7ee55f2680a4cb241b50ca5e196c9020afdda155c40c750bb230f7d4c8ba6d545e5c6cb3eeef6c14a27cada8d6a3af7a98524708c23ca3dde6d055aca817e2ea4d81a264dcb9ddc967a97ddd1f8f31e38f8684bf75b05a728fd2bbe48846f19effc510da3a6ae717133a18eb99e987a939bcc3bbdf4eeea48e1b955607961f57d025520603df9d8aad2e4140540c3b4083d7480445a1dfb766f3903a616d16ecfd830a9d0e66ee2339870f7c466a2c12243a11d8fba37eb88250c30c770cdc1b138772065091604da7c73a1de8c11269d966058b90b6b50590e8c909a1790ae5baaadd7272eda2fa7cdc2905c0bb80f2eea4c4735073adfbe98c540df624ded91584bb0f091c6d7dc773eb8afc9262710ba927a0cfa93b2d4cccdabdddedf437a1064cd084535b410f9f9f7966e39c7bfb4b39c30e741c58a31bc6227786d8098814e9f8d4435c1ddcab921a07541d839cdd9f19ffa36803c75e56bdbb0730bbd96a7835442f972aab8093fe24edcb700e508820025c105540c61fbebb3644b5350aa9b7e47b49654e2bb355c945c88d88890c950322d400e65860b857d6930958f1c7f23c564f31ff85613b9f4a3d19e996610c25cb4e395cf810afbe114156ca1525ecf2de19391cc92309bb7df4b70486e0655ad55ecde138985c7383eb5f86cb86d68477af6238c83c9e599c5ac7d06c8b7e08197970506a0bbbd60d21b5d647ab76f28e02c9a1726f4c46ee9b1d6f98da4667d677ae5d97ea461b293e72e38ec723aba436846a1dbaebfaa31dcf65ef1c0511d7b33161d9f826367b02b596cf1871131221e19beae80d10814512cda29e5cd805da380b87e77a778a67a93b43304c9bf16dbf0cbe5a4d2e0b564804d5ee13dde2d88aad9d7ee42ba1fef0fc28e8064aafff133befc8985b455861a7a5cfaedfadac580c4e5957617f601b74df1674dddfa4ba06675985e769d65703d3ce6e753d3779c903f3f41bb98b5968467352eddbbaaaf3966764baa71c4eff81435efb5df46326fe9c5b3f75d160d90e56a9d7ca4d48c3e94aa44cd58fedad9e414c897a7e95aa74dc775e77d50d56257a45261167d86daceaad716d3442e2bbd7eb7bedac3814f01daf0a6ab4b2dadb3d0c176cea55b5b6a905998ac68e84e88bf2d898ea67b4aa348d069146b5748a20d1269e6c9ca7edd23fa8b530b7388f15f28c313b53ead9b0670a0de73796480f83f9b1fabea6087998a22b00d8d84c569004c490bcf990131ac88623eb90981c486e727a46b049e74336724bd73f472095d4ef1bbef5d559792ae6acb582e7427969bfd1e250bfe12f5147d2165b52f6d0ed78c31d2d270405d24692351c246a9c64ad3ee7197573593b31cc5a23fdd0f3571ee01a329952bfc338a179c64d53310f1430cf68005de5b08b867167b11a459672b32625ec6cd01b7f9a649d7921aafc8da6d358bb1bb8734e2bac03f7fb82d603074c679452c0f056a178e2b57e7b2070970040a7e32ad98305207e5b619fb0fd384b03c2482a2eb07f75175e418a66a7fedaa01e045379aa215c7f2175464df231556d48f5964c09c5cfd4d201aff5a2fe805391022f3358bc5470b414e39ad40f90f1779f3db1ca9d3f33b5645774ea6c8ed323902c08424bc574204e5bead54c805d40e2deae63fde6885fb6d1327bec9cca4706a8106803f507d57dee562b790befe657903c531aa38a6201024c37d934842e66535b0eab567a3caa449cfd05d68065ce6eb57520d6cde26009c6cddae30dd3b63077c61ebf50f3e621cc8eb2fe0813665fc31bebd140ffa5aee7925f4d0ec5fb508e51679a260b1ccd26970727de9afcaec862bcc156d64f046f0e8f826b3d2bc9d4d065fb9f6061fd53f850f1a825fcb487dbff6f5886b64ce8e88473b2ccd1f0b372066ce208470e69cb5a65c8386f68cd66560b1300af9d21c1ea01ad318a15662b9c7e3471b0df701303e38026007c50d81f5ab4d2470938ecb25984172713ed570ecb8af7faebfa830eb9e5d0632ae93f58e915eeb846012719c0be0ead5dcb1d0e70e9f44cb372c475673f93c8ecc402b47cc18989c4c92f0363e67827c78a39108e0539e86d7d60a8e8269c5993816dfcb9c4452d17793d0cda21dfb0af3701cb8d83f15aebdb9538039e441d37f9db0716bb8ce2d4a26834c1196b3205d3b6ddd1317a51ca71ab6d66ae79e0377b2de9a3dbd57e44f7713033aba956c0a1a4f4bf5c231d49c72c57d6f0f65a39c36950cb1c520b3bca470ddcb46860a2ef0f96135b4a03afecca3c798c4323865bf411ee387aebe694fd96f47469cb3c14e808154e74bfd2bdfdd2e65635f2451b629e20c4520b2e8e02245bd71a61d1d416ad7d0d9079d1786c967e11b583f74ddb6382ced07fdc354a2fc43b29d857520977fbfe2f8ba47e058eb19a0e8a108dff86004aa91daa2dee425354eb662226868061d2abfe1feb7b4780bb0a52cd83bb4527224257ef08d914018c224da5f0e70d5f850f8507e4b6de76d4e7e8d952f198805c97541c808a15bf24454c90becceb4809e7b99f4fd57dc12156a1c922d8118f9630e1545742eaab5431d9397f752569895633025b30f16abe396a47c1062523fe52a102cf46af69f803d6a36dc83049e598be83228d8b776b4a6d917cfc66b13df36412d696bd88e47eaf6c3427e33bf0d913c1b55725be66374ff959c6daf83c0b15e98c2ff38a04d779f65531d9d270931985c847b8567fda08cd84c25f0ad3aab9081695cd595a7dac8f9db9b7ea0d9e8ae7efbb035e00e5acbda7518f51b4f66f7e008f53e6d2b20dba37199377598a7e8eabdb504b23a324c76f57696ae452214599df65cfcd8e9e05444009ce5eb89e5804fdafb99370844c8ea37d7294da33745c639c275270b8da872fe8ddf76cf12ec3ff9a5c72e146f8747d9dc2c8e912bcce74fd98a99b38d1ca26c1ec85c224c5dc765f930bb7d905abb7d78f3cc7805b77001a34b5127cf8be76ba144771bbb4d8bb20c352fa031e16348d5a615e6916b2c32ee9089656549f876d7e725719587eead77270c57f0b3a5dbcdbe1fea8a8ba4cfc9aaf0c33bafb6c912dee4097712c427e9fe2e0408912168388e0a56cbec3a43d79047065de186a0cba949cdf0535e75d933664e2e2d39ab9dcf3bf49eeca31346c67ec0f4e5e3a57fd9aa32fcd0c2939f7ff50b6ce2db97e6314bb2e4469c185c9a60957969406a497311aa97095abacde9bb1b612060da8ced3e393845fa497c8418e520753f556216beaec3581486946e385f1cc296158af2610fdc65cb652dbb988190b9c3ab63938d6462db1189545d5d6cf8bb7d8c8a02037f02f6e656efec18e7cd2e6197baa7aa6a880587527322357f9d0ed2c579b0e8104d10413783208b236d92626f91d50d5b92cf6aa7f6b9016488a66cf705591238bf6c08de8b989a89e371271df9e005a96aa63520acb29b71966bd22c22fe4b883ee5d2144412141a327b238fb3c7553d573b5040022b5bb38caefe47731a3206fdd66b70405a76afccd2ca4c47a6e04413d085876011aa1dfa2eb4e963fb61fdc2ea31917197aa2e4b1a1585e1b746bd0e2ac07490a968fb54ba67955681d6653a9da353d22bdf4a9c442044e272b3303e696270e8c8468c03d3c4f39eac3adc8e2aa0d4f99451f7e86ea5216d7e98def8a3da0bb9611c47d8f6a514e2f8d9a33b22f03a77b7891e47854b5fa113ff978dd7c51b5cf4e7a20fb854dedc9932020d32bb09d986251e259a7ffe0e1c5377442d9dab982b2eae5df02a85e1ae75df5acb18ce9bb721b882578092d0f54a88aee8891d468bbfd15a4079b7a0a3cc613dd53534f83bf04261d682b67e4f22f3b940385d52f2d27a9e9977086f71c7cce6a33f1ae86ef8912d5af664134ec24f317464124316c25197e5bfe74a8a3c8ab19a4b41fe5f4b3f103c36bf4991ec3d08b549a65a9074d3aaf3aa1bd4b4f408881f72fa08a0ad1c25b397ce3a7bf21f9ce7eec94462df38addbcde0f1a2f88c87e280547261aa44e63aaaceb507241395e79a94cd8a167c027053ed993f2da3bcc3eba3d16184dfccc4f08f7118ab7761944b0e3fcec2ef78c8af53ae80baf6e70fbbcef88cf5e2e0b771cb2dd843a2ce7157e845c9ce6045fdec8c2d737f83a2f86408be274b823d485912097e8b31e8be4dd076b0e6577fb3eec8bc77e076e6779b6ebb05538843a7e9e4e820cebc83a90f0c5729051a3deba106c1f292c88c0750f98d086c5e63acd7ecbd7452525e27ff638f85b655bfc3873db928e6ff1e51746304f7dd14efda6d26487fed50206cc6f7b8267ca0c5c433ece683bbf816dbed6e2859a5bb5690f11793eb764266ea766f760cc1ff5bbaa82e30b1e4feb96d40944fa249ac24acdaa3bbb207837a72d88dfc4673b3f0c2e66e0faf2fe3122833b490dc75196510ce59785b2a82322091db620d011319de49da88c2a0a09b312f926d08157ef321fd41d36837bfa4f1990bc4bc1f36901812bd1758a1624dc9c5a132b0d8af8ce8c6a49f56254830ce18abc790a7932788c779dd9bf2bf226e04bb9cc958bc8e58d4e4e79f025b064558eaf89c5382db1c821a49d6a3641299733362339900ef841d053ca7e7ed1b6055a7fa451c58df31103891f9b63c659b8aefb5d9c43c8d3acb44a1d74d73552fb53b372ede890d0f3f8c33a4e60ca8e3e2a576e6fa21f00729d7fbe819afecd2cb9d1a25c629ac0393a0cd30514894e85985acb03c179a943c4c30b27f3e080b80afca0176919bb816680232aa829f0665bc5d1a387bde1de0a6dbe74be9ba551afc8832f8d7695dd6001e6641055e0c44edf3763100b1d36af09af2680352766eb7f0983d38265e3a08c7ce446c3b6f8d9f6985a314977f78f4ad81cd73f0eb34b739310dd2bee2d394f25b3de8fc7f5c1041783ef15e9946c83f15916fcd380697e845fd3a01935b8547ee4c852f7c4d2864fe4d396141cb113769b46faccfa462b7e6370aa2432b51cb8004f3f9afae27e576316e15da03d0acca8f4fb7f0510d127f7b916bcd4c70b36e3cf904cd10398936f92a2371d837313e21c8e56a2753b913102842b699f8be9ff43e14113ef1717b4266337b3c9649f900fc9ef989f0f16378c1a42db65816dd512b9892a8725cce6c2f980ceed482f1e46d7f95a3e5946688d68f730aa8c6103e0600254f0d7e7e3bcd1c223d31d707ae2fdbe1a932bc21b46176b05f07dbcf22a73d020b46135d8e17ef835999544c603de847333f26eb6ea1d71d0406eb0bb5b36171a9261ba5c43b3cc9dd53230c7ad391cdbf2d59f84b4a60456820c79906c9ff013c020fdd671a8de149840b35029dd2ac155934622a5fe3dbae41be4ee080f3cab492d39d11e6cee7ca1578cf1cd5afa1593582b60da555ab5a02ff960f72ce34ae2cb4f7c6c1a409de4218f20ae234af6f8acebc3433cd523f0ec8dc01437a030af8b8f15fc236771904a1c683924ba19e5374c1dba4ccaa5bf49a232da90cd7d823a867565dbb7299120005a08b8f1b27d89e5cb7dd4ca1b8139c12dde03ec69d5fb1c2fdf099c478ce38e40da8e83b093140bbbffc6fedc309e3cd0fd2a43b309c06228dec7caed3282be22749f2658fefa5feeea07e52c8d1c79a36a750271c7800300aee164188ef046c55f347ce1107a748877f4dab1342d048f7055384796e20884543256962d517a81fe2d7f7495ab5a601d411fb8ce39b433bebe4d7dc3f06c7be3b9bc7a0e307bd3e8c674193cdbbd8b2bb39cbafcd549a345641af1d5f24129c2b5f3c4e960a48a03ac1e9af8cbb3e4766489ec60b35855dc901988e711175a0e803783d3d0f8f862409da9ca4746755d3b18fb649c9ce67f905b8e0da84b1f283621a717c5b69eeab3bc98631e3e037773b313e78ae4641e96ecc808123aa6e1379c36a2b6d782b190345736e458c014f661f7c92d9136e37e203adb4eeb7a2732dc3a991ca89299a62a5e0dff18c1f26de9abc3c4f047115a6eb47c6f428ec2d42008bc7531b478b5909b51375e8ea489919329da5117912db3db6a0508432d09354f6f36ed85904a7348191e08dee2ed2bd7ba63b14631dd3afb8da1e8a38622840d97ce7e2994148b265ecc5efe359b390b23175d02df50c307d3d14d0131cb914c27dfa71068bd9d16038e485e54ecaf53731655b6f9023af66b27fbeeaa1ce4eb1973cc782df9400840257638cb65b811b7b362b92e8f4f06104792949c3514b3c82d7f5ce8c9731d21117aa35b486af02a1016198d2e59018bb0ab5281860ea5a5de759443075f308c6309d80a1da6ae7a0f9f12726fd35aa432ed67e9f763cd1d4d52071857212f814b4014058cf99e0237c0fcec59a13d8b0fa9058192facc33ac3b10168c8a9ab7af306440f960d0fe3c9be4f1d42346d396d05cd1d6a66017150167d8c7c9b951ef20e360e35760cf3dc71e44a3361a8ff59578919621712793526b7dc726d7b589fa347cf94577e9570a7d1eecba88a6203ed7f515a1840a0e9f86d4deef742d42a793914aaf02f28d7dbde18ead7fb2ae0bb4e12dec11fc460970ebd7f30da71b5ddc17bea5fb4f5c1738d6d3e6b3f26560bb98d2038c44fa7d4b80cd9c579fa24903492c85a79de5ee78cf52bc2c832d21b8d01b4ffaaee8f86fb044a96bbcab9b883abeb60a69ff04de53e1269026c322808ea995f853eea99d64ebeea2aa63849154bf6d7572650485f85be8a19086516b3c8ed8956e13cfe3c5a53a79ac73dc1298bfa4bef26fcfa80f65507540d2800735cc5a1a84f48b66d376eec3cf896641b96beae23d5bf8a3b2f71d43c6388b1f4ebbf2315a2dfcf48f34ee5f22656485fc3c16c1c81d804a47f0edc422087e166b84e8d398a181236b08d56b7bb3a4db9981dce1231354f8e72a8a6a6febe48a15a9c19e42da4ef4f5e39f1e4333628219f23eb16daa5ea52a88e4b7168fd91b1d2088b403f58401b6017afc0144ca0d98c888622f5387a5d7ba514821a8075c4a557edf8c0a93924c4eae4ff3a51348d03b56c46488f7e6c437174e0b27849924762396ca3296166fb67e52bc37f4ceea0ef92abec3abcb1b6b1451b6cfbad6ff3e5b32fc726380d20879b4233407e3523826c00c35249d86ce8ac54ad3ab4f988de8abbd36ee33779d76ac58859ad857429c195fd2719b3c3958bc6ba3abd334500486b667ad113d62c49f14f4ac1d9f692efdf95e9646688f0b5496f969401b61f6a3aa893319dbd94dd3c5675a68e17e0493949d369c8a0494c899705e4a83bb4a3743b00a3874103a99d6f3f87eab56996199ead07f6e2f9ea65538da02977fdd6a47deca9105da7eb179a267177173f32bea45d6e80b4598353403d131f1de17de253622418e23a2ff1b6b3304900e747fc1b0522c18fd27bcdc41089c486864d66bf94bb7a95f59f4fe2261d4933fe33d85bee3dfc7c29c370a2809b328e195e2a8c5fe69f2a4350cae5661fe1e519e575c71f4584a8c538a7b72aa311d381b1ecb6312e359d038a398ed274b033da1a861f0b5eaea0a04dec57f492e5da5f9d0451f0ce29527798e41db469a9a96ca2a93b77e65a875097badd0d4ad362afc62afd1627507df30dc2dd3c1bd7fd92ede6690f31032c5ac897e4751a5ab6c3b10962e19779cece5d06e8ec5f2a936089ebbc76565879095886d47eddeaa858f76a5d911ef5b5caf9a8014865abe456c48dc44cd5242ba87e678939bb145ade5f9107585ce64938ed5b2d1d3ef97e167318f55a0da886fb57a60528a95dd83c6d3ee4aaab5a101b9bedee7572960600321b243bbe68801787fea2022b832a1169647c070f90559a5328812ece222150358823e28ec20181cf7929a070ae96ab3df632ba93c84f3975f28a8dfde7a72962519a42e7f0504325a9a6b18a205a9a753d90278b03aa221e1290431990b454a073d6398726c89065ea9aee3532c0444c6a58922ed90407b9e77b6c86ce4f83e8c715b6146c0c0b2973d7eb9f561ccf7b25fa0fa48059670b3e12b4969e259b2abd33746b3e8bb9afe26b4148cc2a3115cdbc32b9456f0ffd4ab6856af4e8df41b1801d057ddade7ddd6b9197c0fad64ecf75cc67a07e0083e719db4f087ac112aec97fcf56b7f5cf128824544c2f2cd6c05f4712361ed90439ec4ec900be5e7bef990e6de7285ea66856e5d6a3441da6be6b9f50c173ea197c8138d7fcbcbae3db7cedd62718ef9e33bfd5a9edc245073aaf9139b1a238ae22b83d2524cdca5d1c2b4954ccfe641118d428661f0e9081711c8258a5d82bf045a10259ed68b33cf8b4128eb741b7d861747c5eaf5d221ffdd5325448fee3af79db8578e838772d7a1abc997c75ea5858aead22b00f2265949b9da21a00d42e3e93beee942a81cee863df182b27cd3b7e1820ac0a346eaccb5c75ce7508bbf9043b178059841dfd3ab2ebf50283c7478203418a4eb340401e97132d40e47acaa62caa71ce962b0a9e199a416620ad4bd15d31f0dcc159f7e8ee0515d1e06a6186c246b7ae67f20156040b4c30a1c5f6bab580437d685fc33afb524b6d442e65ebf348d7a28dfee7faed39e913f8c6de08f4f5b308876dbbe90a4fe6997830d39eea25aeb0f7dab02d6349cef3d607e4a92a748c807cfa6f68b46cd3ebe8b63f72d2215dc2ff80a5423ae1ab09cfb98eaa6347be9b3144e7ce5b5bfce359d7133d1426a5c1a6268f36f9ffc5d67b9a55a9b9560132ebcb5e9fd449ead9cbcdd5998700cef74d1b8c3e26435a51010bb1ad02fe02e41b018e6f12ae04c9c04339ef62d13712b7226f1a6b57c1453b1696130b112579ef232623ac0d70e3e5c771710dfc056294ece2677b7c3d41e31f383bc4a1c60a4aab49e1f33caed38f16118001b43afec62e8f674bb1695a4aa10eb6f4e4fb9ae5797fd24b72af7e138b89dd99d79fc5a73b8976ede59ae50e8f2c895d9784b462ffc82223d05fb8af7e4841a01932c7260d527907b18cc5782fee29f4b1d55c418ae801001f3feefa0b4d376cab29c7c12580606b12a941bee77f8680aa0d56eb01306c66b68fccb0599aea3cc1ebecb68ee0b7383a51546aa9c8a97efe1793c87e67520be85cee8b5d2246f0b0398290e15f24477d847ac57dd48f7637b565f7a08fb5a8c3ad67e2f8a289acc062171ad71fa819ab78dc58428b9fac0224ef7e344202d37a6dfbdd33b08296c4ef3cc19100ba40e5935169acb814011c1f13d7e9aaa9967ed898534b5a4461ff108162c9991d0a636eb298cfda3440441d5ff04fd9023c84f95fd35a90e3b09d99960cccdb6a5120f7343d9bb87a67a41674c0d6610bdeddade1c710834977cd263631ef08f9507b617d3763c152cfd48f5ef3ff53dd4f594780ea8b36147767cf2718df2ee74f967b408f389e914126af25303761d3b317d7c15dc065a315e4eeb572e5c23051196b35e76a461a8fcb14033d49da5a340cc26f13fed0c6969fd5826e06fd3360af1064d4089e9b154b9f34fbc81b27b0902ea90f8cbf1d4de3be092ee1da8d8e1d62b1a823cb3e65931b2d7055db217b63f22985aab8d3e48b237f28ad57e1c23c402aab8c0b7ea4a3c348fcca7dc062b3fd3a8b39a644863dc46f845fb2da8eb04f8c30e6234ff5dd1800680d9e00731c50a6599457e16aef5bf8e32f4db3bf152941590645bb7821cd919263718b6eca929e150aeacdadf0c9f12c4bd1ec80b38b4e6d87c5426af29410b045dd623da25f9f0b9f67e62e56a9c7404232a4834f953fbbf7256d23b35a52ac648903f9fb7c3b41260419a6e6b65b653695a72e04171647a41e5f94108fba7f17a34b69e557996b6d092fcccbcbf92a62073654b10d08ffd838ff445424a6dd22602ea8542285dad22e6a31c823a5f6ae82fecda7419163dbd8c9779583c1f1ad056b381cd8da883234a8416ebb2035b3af0e16a09771826a1d75a6830e29394d666adabf3bd2524f396bee724e28510ad5b20ab79da16625c27842a4fc3baf530365d4f86e270282f2652c30ef733cdfe767e2cfcb276153136c8c4e5f2b97d0ec2a31651e3f9d26446f817e87d788967497bba605acc7a1f08985a1b6c34931becb6c6fbcbf050df859623d117a9429c4e88f5f659ecbc7af7bacded99cb2ec618f214445acbc8c62a198d419c848c1757d359fc2b4a77f0e25536f081973f7be2db4959333d78238532023da901b04d8e16e128adda7eb85e5cd1a101ff8224c9d9d4a1baeb3e3e0786d206ed9dbbe8a77a7ab8e74968055481ef67bb2b3e6c2291f4fd6675afa2587f52adeef6a4a3860dde05061adf63010fb286a6a7bdd2f42d03dd313ce876a4aa05144fdf77c6d69827ba2579c22f88a28201a2c2d7a0361c68449dac66007a6528cda6e0a8bf1f4ccd738f42ac7dcf297c4d6a0275aae05f094b44cf55d32bd6b4efa5d15756fa5db193b4c285ba74f91b4a5aecc9de3fad2a7c99ff2bb1410c959f7d93fadfbc86640114a921bdda37732c0c75365201f828e4787fdd8844f967b8f6a252d3e8954772510ff2bc381aefbe0dbcfcaf0e7bf59b6614b6815995cc1a997d40a71a9244e3633cfe9d9d39d257543b9a7b97af47c73eb90d3e9e3256dbcf37982b9a0d90b345be5f7173b57c98a96d14942c488a0302642e982c6db160ed2002ae1c61ee244151e124262d22b04d6bed34ae6e2bc6df844e80d3ef255ff8360ccfd6ea5430e0919ee8715d29de8864e7ea9918e0f181aae83a75cd435f12165bfb2db672b949ab289326274f398b0d0353a073f71b9b3d64f600bf89e4f90e7f4e689374b1c1a75947cb67cd32c8c9b15c487090520466cfdf70c1068263d2c9f6f450179c510845f0e020eef3f10a101fdb7da3a5ff7b8aab41f4e0589bc1f0c2ce08aa0f0dd88d3a4c192658a156cc1d1414572f95d979e6be4cecfb4397f7d8c0cad7a3b2e433e28773eb97b93ce407e3db6e2c85a7021f140b9b8ef8c1f67f5a9b3eeefae3612da13271462a1f104573a1514079ae59536f2d73df0e73b8220f2c5b26824205c0c0a5a016c214d6e3c3efd47bc919554cf6262c8455feb3d9f811eb8d0d9ac9b5095222d79f5ecd171e6d9de4f2e318d051f761902973d611b43ea77f6fae6c98fe1a0f31f17e08554feb59664da435ab2f82fd57d2efa6e06e7a22531b90b42ab899148bb9574dd272371590fc5ad9c4af2274a5c7e3c50d6d665837a89d80cabd26867fdf45b2a7d46cffa35dd88214995bbae121234815872842d266c54627f8dc826e8f7096081103a62b6924f2b5b9379596980cea77fdfa950094ef89ca0cb96456f625742b40647e922eec10cee184d8d87aae8b23b12f918f7d88cbf4d911aad2cc9e4bc598c934cb9d95d49c53506cde757d0b3ab6b49bdf9de4cbf2749a4f959e1ca205a84ce284b0699259c6d288d61654885c6674bddd853ef677a75413b0182c988c07e5d68fdca1f4d5ad31d6e426fb4a80bf0773f382726de1123aabb869d8e652224066dcefceba3ba3764cea2bfd8e43cd30931e7a132bd780db2468ee34acce686c3155def7a0c45dd30c3abbb2004e40f01b72f1c6df6345d5124691112e7ac8900c2f46d20e53001783fd8ce25e897d20df9e1c9b2dfbd60c2f518214967d40421bb84a97b46fb308ed8122b19edfe8e36194a58d9a45f4a68e7c0cfbe7894532121e74a3151d756a2e0c1210d6270ccf0dc9589a0e76e87d5ac844bdcb7ba275e9d4ed85542a94b8116a57ec23950462fcd00c4b5cc669315bbcb9312563435a728daa3fbb32ae8b6867cdf027a3475e353428bd93f49f7409bec4b33473f3a82106e11d9e5494c4d6c9222e5ce3ebf3c1be78acb75d38fd28dd14aac3b45b65f663d055846955be8a86373f88046ce10cc51fbcfaa0fc81c878f8785629f5366ed81d7c565ef4095d6ac6760edecea0469152f6146e7054ab717dd194c759c07a75d86c11f8f9b51074757c8897127013efb3706f8e053068e0d6e397e832f711213e2903cbd08aaa1aa3b2560f74a7e95daedaed9ce7bde8beae83775ad5dc0f75f9bc956006ed70152fd80156bd353db20fbee5bc1a810b1a20ce8349751c492259946c61fa471037f7b59872dc0dcca16ae082b73fba5c072775a2c8d5b40fd8ec0ca0b17bbfb1d23502b468bc15cf55df2909b0732cd63e32f37e7da589ad07cbb730da58fde23ed6d90a9bc56f4716d75a071af269da3834c499c49ff7a3dc7990b8428b335177287356129c10a1f7294913ba111567dd0301285d81b12bb82a3dbf3a71aea0a9c5ce22e65e73ea572a2275e9060ceda9651b349c4410b34d384721adaba70d4490e00c02dc1b8814509bf43b01b633f2d3aa8996f5b16714f2f21ff9ae3547cc70af903cc5a4217811d30d0b4299ec768346951ce22d33422250eb397787dbe914e59963ffecdbf07133a159e1917b27631534397936252abc4f10f0eaf43311025e38826ff787629e195c84e46ec5523ddaccb87d7c6fc5a8335d85718e53070fee231eec46b4f510fbf4524fbb16b353126f1906c550412d4c2aab75df0c5a22f0701e9997e9dc65efd72c55e7fe9898e61777046e832b4f6670b7707170222b2c414f741f7c72213d6c726079202579b3513d24e01fbe0ce297c6001b24700a089001f8411aab60378cce248a0cb35ba8edfc3ddc9057443c11bff4fe68210dff88c7b3df71eda31e918c6c5539ece57b0b51e3053de496844e4fcff7442105c161135d3b64cdce71cca2d2e5a59a2b065ca5239f86b007795e319d9e5b017c57cdbed551da2643d8ee26ab5df4bbe760688e523200ea701d97f6f761d76c20a47ebb0ee4fe35c4281ea9ccff9a0709247fa8b86f367c29cd55b28257aab590b33c6ceeaf939eaa9fe00184154c3d606ec8d77fd8b92aa35c357e5c3f3a21a95743ae69b9d61f42d2c7267264d22bf1952828df92e692716af64cb27e16e6e02bed36b238bb96dae75a77f6b9d0b6499e1f6cfd6839f1d168d0e7bcfbd39da1736d969393544e1cf229353dd1c24bd175838a6b0ac0faf7d98a2b4f18967c20148dd9408109acce6fabed240b680f265bf421608cb3834124bce0479fa586c9422552310e7ba2df9f1455bd328ccea3e93be9e68c487dc0184e136d930c29bd303afe151e9dfed13a3cabc7917a61c200b99fcedc218a568b5e7e7273480de9ae9e9b6badcae637e619bf2dc6e96f4da39b2aee5776dfefc37d9ff623c3d997269b915e8f14a9ddef6163d8c92330049e420ad679a1593ec072c8c036ca94c1e9ee078506facde8c9a44dcb4bc567190f536f7e6507393d4c95cfc8d0ab2480fefa478c7e2b9dafbc8cef090f60eef36b883883a3a14a3f803074aac2a50f21de156b082adbf85737c1f4353fc31295005cc6bf2c234c3808bb87df257a3a99b2279e376bcaebb44761ffe9f14ad90759d720fdf08808e7d8975925d89abf99cfa4588c832ebd3df3312cb49e48db385e4ed66951c996d769ae8597180221dabccc3b26869274a55572b632bae8ed9fc606d8ec007f59a9e4033e359c92af16db9ac7e37059fb8b12dad84f167f24af81b9c02d6db3b354bf56b11a4b51cc10511a92dbb4511e64f800441d47ca5b96daaab1fc552ce1227210bb3233179fed76b6298dcc6b9d2749b948dd1029546e07f468718d61b068eb7eb618394feb195b576a4cc6bec6edbd1ad70ef75c9573897f937223c94e339a91b84100a43b83cc6b37227546344b127e5ed9d1301bbc85dc1cf3fc7bfedda9afd435daf1e031cf4d7c80f428ff8ec299d8ee218d5e0de5f363711b11b62462de87102cbf686d62802025a21eed3488097e0c6bafc0443153771ee3fdc2ae131316c9f4321b95160cc64a2f6ab527d621b4678170ab034bbedf25086fc99fb3b049569b33f4b9d4c59a051039e2b32f4a1af3c4622a82a6c7c8c42899ebbc24a6742791d6ee93cc2885af66f0cccd966546ffd0469bb2b322e297afb9d7b2c7ce7acf9b701eb7e1fca35c921ec9f1b98a317eb7e016341c7e4ed7afb707ccb3f76b0eb483e8d404b5309c4f21c2397e19ad4c2d14d75da1c0ac702f1c2a5ec8c4c315ef6b368039a5997e1a00b800e943f05fcb966674d7fc045c71e0f353fe32c248ad7d1c998350af1faba729d1193c1e75cf824d8906361000a527a272032cd674f776817b0e6bb98b81ba168e6e9d6eb46d32e8bc6e158a95e01d9af27ddcb5f4a56d202232f02b122b89fa96fa1eb73228d89218978b45c63f012a745a3f97f97b49975312e97140b944837db9bf713b74ff534cc3255c9df3aa352e47bd5f6bd5b28ab79eb5984eda6311bef387a3c36f92f21d3b685cef3d2ec057b3c7aaad2e5c31ef6a0ef9383bd39cab46a733164bb0c1aa4d62822b1f1e3c8e25221422a22cbf8b1de8f88f6f6701498f1ba250c40f2d0a1d2387a3ecf7bf30dd58ad8a8469a087770bb9176fabe117ee16fb6f8c48c43c86d922d71712a5e4bf8476c36ad1623afd324d65001810a94574be4a101834ab1dca8d8c6fe2b5705626d07e1e3852b7b3c08c3600d9d97dc8718581ef8be32354a05e05c2a22131c8fbf70343cab147bdb97ae9a5e4111c1a1c9486ab75d7f94b1102e7f6ea021cb26b579c9edcb8ef8754b9f52a46c82b31a87868f116ae356ea2d97826b4fbc837a0df2ec80b8092f10fd68cb3d02f52417b0ec9982985ce076e1825944c4bce920d6c729ac6fd2e68eb922b80d5d91c48db43950376dc0f7dd0d82a2f8bf0867e8f5737651b005e58e6617b17fb2e8d392b6a4182524de4f5426ba25ccfa0bca65cf77b97315cf7e34591de20af7ced2d80e150a174409ec0b98f73df5ad673f979fe724f49e020f3de1f0ed687868b574179f771d6c7fcf28bd4132487d25a655f42079ef98a606118439eefbeca648aff6b50946a1abafe7b27be3efdf630608cb4ddf72f24c9a94c500dbad4084e084440a35b87a44802344198feb22de4b241849be62e19680c70b50d4ba2e0d693556e4decb9a597b4b8bf866268584d71da34303c770c767cb762ae83999531264d2cac871b6d05d9a5746b39e118b2ea8e3015a9f35fbad416053ea75093919f345960fb4c79d30753646ede6822ec95b47b1731112f22f705cd67d2a760d6734b5f5d549a9c0a13c7a17670c9d6ef06545d3cd305735684e4aad460e92ae6a16023a197b197785778265d1080fcb5f757086573ed8efa90cc40ad19b6630fe901f074b27fe9afc29473447c7f0972e548904deb1f191ab217c14959e40ad88e0e11b84cd8a93f726f0b05a3f6b61bf956491cba726e761099e2ffff749039e42a49dc59e2a91bd3a206808988195ce3011bfae61bb79625bd18140c0f62f9b97f81793f99afeee298b67c685a580ac5c640428c12157898db54b4cd43888706e7fe7fb122fbdecdcb8d61cf96b859b8967f452a010e6801d99cd9017fa4cddb7b35c3c4554debdb1280eaaffdf322f2de4c82d6efec95a12aae405033d2748319c30703f6538c7a8d4f343e9f89f94f758f34d38712d08060001128ffcceca3ec6d7905bf84f5a0d9f7d6be71fb6cf3058bfec1c3a8cb79fba0d2797193f51df0db17de196f058c515f01ae7dfb4355bb169c912710c1735e9580edc1c1419e8a5ef369491a06cf67260a7bf48eb1942f0a2c0100cccb580aa469cbd92853d4289fd92d59dcdb9cccd008dffd64abfae0827cee6dbdd4d429adacf1461f97435e728921233cff7faccd8ce0f2437c417bf64c6868bf2e5a8170c66cb6ce1a9fce17f0f8dacc44d5f56b5f3c8618daa19853ca22659d09570bd9bbe591eddf67d23c22e157b39a983ebaa5791f9166337e9be62bdeaa01ea059decf8059441f4d0280f64a151b2d04c38d7305abd97e6bdef179450c2615f121cfd15d8e2d87204ad69c596fa7dc40ac05d764b15ad3f20f3bc87cb6f92ee3ec8e06d4559878c5bd278ef8846998ff41d7f688361793f544870a32cebf0e91efdd302140d2a14e3cccd6fe634b1c8bc0fcae21af65ad50a52821ad9c28608df6a74a3a1254e330ccde831daec66ce4f96a8560afaef87b403e848811b465564091d2497e083f4f9885b01e6d3e0b0c2c4f3ed854385c3220decae0de53cd58f2f4bc294c0485246bfe31c959a2f8a30ea45a7cc399605038b3fb72fe0bb04fa9b42e640ab5a23c04999a3b3873fb07a7992ee96c610682a72dd47d5b2f128fe5d00a9addc458a4e97d8d8a92c5e5afa6ff8fdf7d2cf35acd2be757c6dc43ac838a1b62881736660e49b9cb3a640a65cacd4fad18b6152001b41a74c74138511960b6d7629e0d786571851a4b18244c9409a9d103654dd09fc62a7167fba6beee634fce5a1737625e5b0c57bb3bb93423e567bb1a5bf272dca695f9f43a72d307bf7549f7a2c336edb91bca76aee480556d07c8598b52f5757e3be4abf864d98b44fc1ff72a8791793ec337018022d6c087c30219afde24eae28ef58799b1af42ee59ae14947636b03adfaf8f752838fcc515648aa6459df37a69e0c97290c33fae6a4c294892ead26318ac306bf3718c7381e3b5e7af56f1d8e7391d4806064110cd2837e8a0df062241df627c419585f1c68bb79ef54395d4eabc3bd31a14b2cc09c6752bf6e3429744d8a77f9774c328b562ac387cc35936486e661835c4cdb6eb2a388bb7f7e2d09bbdd7bcb529d7ca50f22a0631b786018ffe7f3ea3c745520186cfdd98e04eabba67eec851359a84749e94e0834cf040ddb324be26ed9e4f8368bea2d9b495ebb173d3a69e34d8e24092e843b85f9a785730be8bb05b8272f6ecce72bb4e77eb963c19f24e4e86cdef6c23a669e48794d6bb8a6537c93dad50023eb9db788f64763689f0dc64177b1dae1b91a3a4f037ac3edfb8145fd97bbcadaeab96dd422d066fd2d2278cd81cfb7966aa779cbddc14d79ea464d280416f5f11ddd668a3cd1c61c4ff0cf812cf642e5cf1f5e45e926b54efdc9c1f22cb03d71233d30a3a1e8a97ffd9490622a2dab8293eb72789352c6ebc7b37ae10609e1f17f9f6df38042d6bd925ecd14abe4ebb20c26110c93d7259599cdec5beb82a48a50e0ca693746b0eb56995750220494078f0ca51ff18675cce64a98589d892a80a3d2c61d88ff8af561eef5e52934207664780d88956cd64909631eba7b6d690c23bb34c6f433bd1f04fcb3c806c5db3cc89480ee9b008342afadf7905468abda9d5fe78958752c9051580cb58c9fc9fd5c5dba26add1d9094dcc355a67bb1df2c6baf6c075d965ec337126374c6bf648d37be9c93a28d41760ab25dba07331117d7ced9736817adad28ab8d6ae853978978acc8d61e2ade29a1f3834b347ecf516d2b0b6477aa447bb5d336d9553efb879238498bf12c7673e2bd1b37c002b08a66beeb624af2ad37e0414690e71ace5910f846eb26d7c2b431b21776f6162e155eb469aa670761b5f3606b3a7cf84f62b582c63e5691f8d08116e160619fb5c41896097d39ad1dcfe876005f2ad0ba6369a0a2e1acec163e5504871a46704b90efb46fe66147c3b4f436e4aadd0edd2c97ee3c9db4c62e2606390558efa47cf356d47f8a48ab437ab93594d9cc67ec7c15551dfb7c683d2d6303f966a42122e8d04ef0a77cd548cd20901ddde1e451aec2511910b9dd3ef714787651ea275929dbe0d6c1e642f467e87c20db0d2f33901b1db4ee7a266b212701404787721a6d517a05e4a3fe477eadc9e611e2c25e8690c257b04b57ef52e4246277a4c5ddf55e4d20e5b6a5f1361a5ed92d446f7a7b57b53882c6871243dc6e0d1c87e768cfa261917cff2afac4743ee901e23c04764f6379d2a4dd0445c5ec7a64b3bedfc504b664288a92ec2c033d98db1039e64bdb64f6401183af5b021d5c24d16aade814a2bfb9902e21fadd2cdf74c0c4843b436dbc246426f93b8cbed9cc2cc3b39e4ab08660546940f3cf9c664e79e6b1671bddc0970a2b54cb1116a4bcbc67fd5c602b16f3b83755d3eaa017b51cdbc916622367fa7f073b04a70444e3aa578a3110964ea75fa76b7244ed2e716434777be0f63f3745874a8afe2f3f82606dc16185b150c7cc2fbd50119456433d6b1a7ae8dd98cda612aa898c74cb8e97cfd3f3ada588044712af49e168c079ce6e8279a4584698d038a021f0ce52d4e214495d35e38ad6fc9703a456882431e0f380258d69744fa49717ba8f295ab9d9876bc12f66b0ed75b0a0f01887df0f02624c61fdd1fd488903549dda82a347509d00291c2f2e448eb0fd075ececf768046c14d721b1aedace1a3bab1dc03a4afd8db4d14b1a51dc9b31b44a3cb72517a4910bc9d9a485459fe5f85eebfae0492fbf661e1e4be79b1139bfb29b7f7d647c058a008291c7164562117307f24acc0ca262ec2dfb9f3238fdabdf63108f391efff4da9d63e34989dbdd7e6a21f9ae1be811763cb8103e2c40c2f2a286aacf47be7c10e5154312432c6985ab6fa305c7a9315657b035b2367aa7d9160de11e593d43c07dbbd3bb1e9d41e13c9e7d430f72769dbf95130e272dfde8a1eba6ef525fe1c39919cf7226c18a025f47486048fd8a5651a700a2c99874fc7ca677c006471b14cdba45f38c900845ba4349dfbce1c7c81388dc8381e30226f316ed69984f1676b67606b67fefbee5808987e702667e2859929036f1af406f095426f59ed627d8ae9edcf42e1ef49e9739867fce02fc654255a3c233e3dac18","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
