<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"33472ab7cfd48e9f86045eeb96900b4380bd196aa90e25f36c923db2c78d8e0549dbf4e77b2114ac73ae190522679ab59904c0d6778e252fa49f36c674e8ab9c805699ad81d727e0999ff615d65c03c2a040f8a679830da2f65de3e48cd80661f36fb1d6781e3bfc7f427f8689a9989ee98104c5ab8fc050ba29652216ecf4f77103c108b701d99761965ec5a5d4d0c9a12d12546dc916c3ad4690572b81309a6c3a57e46afb29dbd46c5c3355d6fe9e2529ea26d99304e0656e318d97318c6d9587f6aa13f2dbad56bf115ee0929878e260ea8d861dd953e32818c1ae7545756c70263088a9129242236fdcc8a39c5d4835ec760757088ef3181c83848669b126dc5d6cb911c930c19082ad0e379409c2ca28846f6856851534ed3b9d4e2e8af95aee6e954ecd812dad8dfcb835142cfa695870c05b670609114819f0537e0d4d8cd0526831a161476f57f3b99f365a44c7ae4943f4fb16144ab9ba6bce543cec797bfcbfc873372e3ba229f5a5d22e3528aafd0ba40531345e717b34ba2e7a333a9f313f11a0094a7bedfd3a7f2b4c72ae7b3523d53e34e8b692962db3d83e87672af813bb499addd1ac369cfcbb2295e5d23d75821395693f734c8a083d67fa41cbb75bdfe2bb9554fb916ed2957eb95b0c43463bac8b20f6a1c216e6cebe572637442a76a67dcaffa51d3757148603cc55f63ec275ebab4bb2920c60026e6dbcf911ac086b37957a41cf7fbf5a1fa2f3fefafe46bcd572343c69da3bee0d2b116b3994fe5d0b97e510e9d5686285730369862bd8e31f247a864a8d9bd156ffad24141bf4df610579b034c08be67c56552ebffbd1c0b6c2ebf84c3156718339320c0f75c9c0f181799f289035b2ad8259f6394bf93b36707335fd670c089f76a49342b1166a762885279b2eead2dec26c6037a6d91e239ce740aec34cde0d7f1e078c8a99ee65feb781cf962c2bfd94e8c4b44141313c8c5ca97a55bae88f05a603d6fcbb799fc59fa2950d344f8c86d1e3e287613b7fed5b79b0c9d37a772b4db9bf13fa6d011ec98e4fab857a55c5ce1658cc447dcb2681ab50d5709b61369b9163ffca68a255e0a5787e5b67e2ceffbdfc368e4ef5caf136b938bc48c1f3bdb0553c30c4d05d9e53dc022473b7c9239d129a302dc48040f48833be3aacfe5c3cab5c719c81c482c13737e6488bbbc3f7519076dd8258370057462b8a6e817893dad68adf624d7ad4b1ab487f577bfa9afa74413e407a56ba6670925e793f6d6d55e71991a6e51cf9eb43bde5a148fc524aac03b423840292419898651483570b67dbe4bab98f6d1c1b2c741e83838d25bdc45bce48479d5a050c55c3c8ad298eb14278e97fb5d0a963b01c950f2451c1bdfe3703f674b57b91cc67321c139b541a0e8d2345f8680475bb47d3365e453f9f748f5bcb3ea31e6f518f57b851496d07de73c29ca21316a5eb87c6bff03e7758cb340345b9d50716eb0eab077c9d7aec7da27d81c68beb087fc006defe9bc01ee92df0afccce3e072bb2dd66d70bffba4a0e57a7ee63e70c12262338cfc28fade160d322133b7ba6d7bb9846bbb503bf89a4cf0aad383c990c2682f9724c7dbb67e0c290244d7d0b5ad3c649955c53b3ed478585ae173567e3c71adc81aa03674f96408444294308eee1c2b3e6435628eb4411caf0499dc1948f4ba7721194aaa7ecec861e65c4b519a8bbcbd85460af0813d87b345a68e60370104bdf8a3bb44b41a80868d5fc85e1d92e1bb06efd42482fba37e4a56907d66b067806072a2933ed339b21e76dba8fe1d99316fe872a24a25f1e828558303aa2f40a3a1797b6e0f7d16e2f69d9304f1803423c1ec00e6e3a9a53cb0c14f3a49d5d21d284dde95236f7a446e9f630e7a0c1577ecd0a47eeae57dbfd09765a95b45c0263a7b51805c5a6d5ff1d20137cf024eadfd3dc63daa0ba354e0486d018a76a374ff99e2d4b6191b6b19c59b55dd17bea514a2bc4635b744ec744858ecf81c9bed3e3e6c7dc6ea51836461344474f70c90a4e89f5cd5541be9049ca5dda160f7e553c1f387da37c7ac1c705d11cfd63c67a028e89104931cbf835c6bfc125a2fb713ae2f55f05f5c741bb75791872969818eaae1c151b63854f21454795e1d4495b640da88706b6a8c613f3ba2b78a060e0fbd22ca91a65e7bd0a7100372b9be4c8e6fe80d420bf07c314b843a583213ff2efa66af32bd39b432bfa34198d7f9c59c3296d7d43160624dedd303718c9ea9f58b08ed08af0b08c7b2f90dd6b3b5cb842dc31fa6d2ccb10cdd21f20c3286fe2cc8da35d435b58c4b6afd4b70dd7548db4ed2d9b0a422236d67f8b4f0de580823a3ebcb26496a91897ae3233d2293aa6ab3b87b545b4d71619f8e9c540ee8022721676c89576280a87db8123d48a3a9ed5774d2649e49be57db2d79ffc33812f9dfbe93fac0c18c40d2567096c608e49dc537254e2fd8b0c82a086de6398ac3a5beefcef3b15f6d6877f00e43629628608ee6f4e2f52624acd72f39c401e9f62e80af6ce989c36073f9725f85535ee6a0c48eae88457f6a976ded268d34011b2f853a51fc88190ba2bb25026e43321debadf041d6068558d4bb7bf99cfec9216d0869bbba8ef34ee75808d7c56938a97051d242db74fa178900b2668120651389f8b4e8c445bbe0fb29d009259b2ebe01311ce878bc4e87eb2248b85e083fd716093c5f7db5b1570c83220b5ed0765beab692afb3ba0bef3eb68d34558be6455f38bae1db3f6fb04c596ce311d8419ba50cbbe199bf0de9baa4b884ba99e077239b87ccea0c44b93d714a72bf5f8af41f57d9042833f233e93cacfb048fb5e4ee94ef9eda837e0ff84f8542a23117a13b1235236724a0af20ed7144768cad4a8915e20367edf1fb2f580664cfcff140f64afd590a9d5e753b6c9532c9fcdb94d86a30233a1816d717cc6b41baaa6cde036ec20b593cac61b8f619a1643dc3cf4c6a4f8be19ee45101d6d65efebacf16891c91eeda2f1dd0de6ab924b9f06e7cc01f1409b185df0508755d08aad3807023f9a15e5c0d9091533f6f6d897504a6fc658fdced31457213ba6359d665e9de981d7b6c2c046751f2a4f6b58dc7a36bdadbe5f92fb8e1d0ea89f1d41206fbb9b8fbe076584dc3ef30d62116aa3eb5556766f91d94019fc7f2066448ef73a845c0e560832718468e0c0193009bac8b02fbe7205d88db04d2a12c7e4eb1d6e4ae8de0da88bd53cc74f1eaa4cc107343f5d201dc3d9d78c805c2034007e46982bf355c40127774ddbc077f060e1ac85299d3cf8d18d6cac739d30c1d18305b3d783ca0390affc10e1e5ad989deb99548d76070156052df395897bb5aed9f01908c4d7b398e04716c06ec471218063b4ed265f633f07083ce8bc1513b9a93088ec048d055c880d8f9d94d91c0da007495b803ae0c6e03a42caa2c82e6ed880f9556b5a10364ae84b8ec67af3aa945321e868d2931c706a0dd595adbba3c74c45e445911ef84c8529151c4714323f4544938503a362c9ff6f468f6b82ec106a0b8e7bfb8d96c01e3de42ea83c23791641a0dac58ff5f46a2aed50e419f7fd655c58f03f97f42c60ec192db233a1551417fd285f309b0759dee1dee7fc0a64f479428de12aa9ded62f34d9c7062e138b529e1d73ab725e3035f582d0cc12dd39bfd9bd89f90f168087b62fba860969a2645ad0d4b23f0803b6dea73e9c781911f5c49f64bf95f70ee60ecb7144c79e0d86b1e3ec52242887cc5bd07a557320580c03895ec5ea4159e1ccaa31d3110b93a8c4a0c6a5950beb380ae84e1c68ab79440b49f0aeb20052055cf12b4c8995ecf5660aff744b94da958640ee8ff281157758f294adcae4a33abc3db2bafc2975b54a95c283e99f23eaa2d197441a5c2045b78c38b9c210b73e789247ecf93a476ad3c41ab1724d8c06f5d08ac98331b927f7f68c2c5ee124de59b46062ea3693f6b7b196c972a3f5995152ce5a57e83e82f26efb740f0dd006a0f00ffb12ce48ef7d0914cd4a3db396b37148bf922bb1c9a4191ae99245f393c9501d3f063be321373faf1f788e331ad1863c15ed9476de5fd5eb06d897ff39d9487900192a4a335cc317ac42a5917c5c67c2936fac8ebc677bc365e13672d1af36d2cafc236eda9c0baea8135c64eaa5ce91b47cb8effc646a45c89716f68ae6ffb173e4d02783dc66b2f719e42e47206253591983a71f7d4289b550eb93cf5d74e51ac45c8c39a96006e8e29a5428c92e4e96bad013c8afeb676053286919845fce5d0de3ccbda4fbedfed04a80c0873ed1c64c2fae016af7e9a92d7b7dfa9598b294e33373a0ed8738b70baf744ac6c654955c6c12884ad65af20685bbd708827d83bd967b7a8236fa0228cf6712f24b5e69cf1cc6e36495341d452de3ed89d229a27d4c7b253ac318dcbad662822e2f107a87bacaa76c61ea333807e316e8d79bbcc3f6fec21cb9a73416619a6ed99c00fd6429760b44119672e6e2332f1012116fb487af068ec4b2c0c907e74f06d230fb99fb7f227d4dd96ddeaf9b13b233456e56eedb0b0dff037f0e6aa02fb1515f562f5c09abaa608c17d52b5a3e41ec7ebef8935ab19f9b0b2065588631341c67d898c2dc8be45e4b84de824f9bf95ff67f2cca42de8c59a1839e2a72c63c9f44187a45b8e14a68c3af8e3f6f29d89cbafb6bb37cfb3700dd9eb1007a8f098f300bec429f27d6f9d6dfeaea5e180f99a578a676aed6026699591f6fd5297645b6609aea7e29b6d85a15f80fee50fe1d21f9f27c5074880ea20c63d00bb8091da5ff28b3760f4b3b77ecf6a03a570a4f4c89aca27ee0b63a5f630a0bbf910764deeaceba693b811dc5b6cecbbed275e25cdcf0f3a1f802c19fce21af2923c012545346e90b981de7e7b4d6efd2ecb689fc71082d317af2f62e084a7df2d0f03fb4c825084ca4a28986dbe61f52b2a1dbb639fa6964f1b068e8b7ca1b481958202d1da7352c987f4b677f20e7acfe427cd1d9613f4d7008b98190eac518a0ec5631922eb70d8e43200d355d7cc01e657afa23361328f81ec61ed670c0232648a0aa0ca394f15778a4aab5138ac85c2d313952ed6831769489f08044e6507394ada11b51c84542bd465d42c252355a766a9275a418c431d60d683deec1f90c5a2aa1b907f85ea2a7f4491c75da214f46c8779a7de8034977c4c851371e413f2e0baa49bb5703dfaf176890918476fd3e5930f421ba591c115c471fc5cd398438f4769aa997a1444d45c6fe48709feaa7eb3c8774ebcd3c6bb2d3afd759e1cb6a700802e58bf4520e65f30791d28722f4792489ea955f3a9e0331e0f478654c090392c17bebdaa5b5d2462ed253d7b8091c1df62489a9595d79822336f4a90ecc1212fd7ee6cdbbedcfb76b7ed23f9af8c9ee276a21191580bb85aa976aa63f07ec98b6ac5e1fd850b75e54a5abe8aed5a13f767ab362a9bfa33d0e2f559a27b402439c451493ca18ff5b487bba62f63fd817e4b47ecae00c1c1c4623519430f0a915222223b4c7011605c4966cfe97071303126a46f490281e72eed28b3520a640ff9a4d82f302ebefa78385e0eb1f09e618cd5371629c89e7f6ae4307df82fb3c4617aee9a8b6c56c522862ceed56ff603a6850ae1ac848578c9e13236bc025d8c41bd7a9188b74dc2214b5a20062732a54d4aa3eeda59eb4a9235d588a716ca65733450f6c9964b2726b5fe7f858e21de4a0e59c67d69955f42fea524b41473dae5506144acb930d19353cc47ba64abf2f1b5af0bf467b06e7eee79bb7b0cffdf16c1de199d30b635169b9d5e2528d1e6839f1f52bd0609854e354c882c194e008158736b4f3d74f91427f5b4ff3fcd5500eb12b1332cd73f7336d3979b53192f6fe8c0ca041c331daca819965ded5358f90b020626b4829e052bad510be70481b7bbf428ba99447370cd35a760bfb7423cce599dbd87b1f48b7023ac3bebc86b3a300d875154920377225d16d411d1ca338e0fc1ad6854a7d69bc8fbcca754e33e638333dde1ef6136d442e338ea6604b5c7e9bfe7af8ac52f4d917bb3f6aa5c4671850bff3b240c145ab8dffaf5094fa69e2f2c89e2a267e03619629e9c62794adb765f08a27e8a64c425f793970399bbfd68d632054ebe921afb71c002066a19f6652f764430cde6011f8c60b5f5ba8f468232d979d127fadfa30319ea2a05e12829d7a2c4775a49f80f2323095745f529cc26b7a18e3cdc0e5962f105804d42c072c1f6c96cd69f65eb3f81e84ec03f518b6e181f639d9d238fe44f8d74223fb30ab5056d534aeadbe911a391314cb26b53b48c21f6e8e0e406395b67cba65276c1aba9d0b44d69243dba3837f5696b1e4dea6ef8087f45136e76e7971192d726a274388f6ad869ddc0c94a30135cde32e59ec63d107636ea2ac84ca6d01dc991c89b36511f614a8faa2eacb87513b81941c4d36e386283ad0b7e19db19840be25be10cae7fb3d20670da1a4347a1c4ca85b687dc80f77a88b3d81b09e52b2bf12929c36dd01c729cf256b78d88d638fcb150b9a80f4aa49a020d91457dae2eecd19859af425efa0721e3ab5116fef5fcb401a96b630700cedba8a500089c66a5f0746148f470a3322f2f96951189745edfe3ca0baaaa7ceb35f2048680a73894f0d0684b865d13fa910c5d4a278d7b2f1143c5bbac57004435ee983875c347d6ca3ee8ff0c731c762895e4886ee0f68e8a625ddfc96f1dcff2ee0744821eeba5157e0cd652eda01fc78d69aa2e73ffbe4a1042b9affc3c667d99fdc05f38ee54260cfd26909a3945edfecce1295039c775bbaa88fca12b2fe2ad0f0a2bc48b6b7cfbb6b2378fd988982b652d76fb6b2d33563eea5fa475dc1fae33ae3ee71188cc8bfd8013c7e43373f6df3503a4c6f0d174829bf5523c1163aec387f9ac560771d126c8005bebdf4953649c09fc27de888e289787a3d5bf5efe13d84797aa8b4d30aa3c0e6a392456c0715244ef5ffee6d4e6e71663b0ad96ddaa9bbc3f41cdd477500143eb3b7e1e1bb049ea41b06190be3a8403ba62a58efa35a7b55a6a762f71dd45a6bd15144cbcbe59f2d24e8b1eed0a85d9c7ed34015935b77515c82a273aa85d9c1b5e8407e9bffb553ce25422a2554d7a4b8de92885c9a9fbb9a68040474181fdb46a8ca03137e9c18b707c335351c8dbb9fedd920e401c0f48c07d54e7d4e9aa17f9b373bf56a9f3d7afcf431a6edfa43b89dd83aafc39e285e67435965cf1895056ba4ae4936e1de9a7323301ad0a3f22e643c4ead717fd2c61115b0e7b82697b16dbb04340b9416a9caf4dc7ac4c116eeeeb03772ce9c50c2f9b60c75b02e0fac9614ee553720bc01c2f3b325135d9dfd42cb6868c8a946a53caa92aea4e8770adad6b074250e104a2d6c6dfabb27fb97e8fd20665f32d8c49f0ae9d075a7c12d1a6bf54cac745f07e46869cac4fa284af227f0cfa7eafa2b3a42346bfbc563925ff88ea530814308c0f91935fae403339fbae96b2e393f00f32fa754d05cd2f2853d8922f926c26692ffe885b9fc17d26d3932977ea0fca40b1041081b665e7c09d922caf9831e774dcd8dd9e45f9f47f420a80b39b45f97117aa91a076f03701d599c4a2e7d86a652ff219a8006ffa1dd084ade994d89ec3e051a778d14341e0f2c64392cbc4ae1681deffb5a6fe0355ca349bcd5226ce4136a83aaefafc54e73a9940b46d0b97efc7739f21cac02beb8b31c5e324a0c2e892a62a4d2fc82dcd9a9d8fb17c936e119381b8cab4b562514eb0b32d0ea81e2741636b020f30748114ecd6130c81e590031145f384b6c39a48ac2a4c0f8d94308078c8029e6fb44fba67fc65abe4fa4c7c8bd44ff2a01a6c04a17920302a4e68cdabc77cfb9ebc0ff052d27a0bed90b0f531fd0675f4f0a37f2de6767d5f77399b4277756a74dda208aeb81f4b3aba2397bd5b61b8be24e7da9ac7c10edea72fc46ec6737dd6db5ab8f3c1e284a737152c04881df649f2123ebc7a8731198bb0c462003bb84ff97d344960f5daa79b44aad6c61907a3feabd615fee87b56863c6c31575135bc0c27319c72d7737498b9a31eb1367f8189285e16bf5b80a27fadcc6082330600d2ce80b6078a7e23459356c7231c1abdf876c3440d159f35efd34efde3c7ba28bf9686509ec3b87dd7910d17a3f4760fa23fd5d8de57338527a4fbbc415c3194545facb6be023e39184116f5cd243367cb05b279ed35d1a39adb5a2d4be554d9bbf64493cd0bb8a9b38ae62de49b016b2bd67763aaf8e75dc12c0eeff18de8f52bb7e28c16b299bb6edfdfaa3f2738880ca949fdab23bd974ebbed82f878c5a26348066a0f2f21c7f6ca7db26fc626a4c0b66961adc3bfee0ee083a1faf5a0572b460572ee261a0d10fa276f3aceb801f7343a6438c86a863de31be10121ca10b6bd8e826b066bfe832c7be9f7a4fcd6e59a861ef051a85f6b6a07c053684c82efad3cec60209618eb85132649ffc884c82609abeb6a1c4735b74f5ec162217f0a0e4c538a30164f5dc196783fae953e030279ca5687fb01928a3d3d72865960d328c8e88f5914eb4d02e2625b2545b57df214b96a71d5e7cbdc843103673f19fa3bf139edd2d890f77ede07831ecc37a487d9693768931b93fc5f2a916ce73bac4564680775c0831ef62cbc4a1d98703072d338d147e2cb35fb39e793324b207a8581ca7179c6d5c6d6ccf16340257ef47a867f0cec04784e6ac1b5e16247c06452b4377545f22986c7d617066f9e8d3bb590291ac8b06dd901f61fdd8a8b693051e9a7dcefe7008f90421a91cb8ca1bfef65ab18c9557007ae1d2fea18d8c148395fe6071dbdd789ebdbd63f601c0fa5130dc238c3d87ec0d902f7002742cfbbcd5a3f3c94a44ebe4a64eed3195f25a7674d5c55dec7e9b5449c01218a592e9bc86c01f7493729887c13bba8d056286d45a6dda35b9535f4e9ee7099d9b3b8d0f0633974c07cae5c1816162ce99c14d44dfee231a84db93488eb0640a5c09d7deddde785fa5a493d71656ce758c47c9b4761fd6e4bfc90e9ab44e46ffc3cade99d41ee8d563777a827acb347d68358515b3237500285016c7f79789d57adff8a41eeae2ab3a25e0d803a9f9017e59a15da7dd11d8ce59f3f9660605404827b078a9af3d5d5c12c5a5037b59da8585e12c3fbf420edb1dee70bec848da9b00093f342a72398782b23a4a097ea82b5e8ada79db3de402b7d13fb29f26c6c624d6eb23f72701bea0b7a9e68ee45c4c06c14ce227443f16599abf73a2ba26792b6f041b7df4dfba4f43624a8ea276d6e9a6bfd4f599097a9c16d009cad097df42b535b0de64b29b793402f499a502f4336653971a9d112bfefce241f21415ea2cc82a48ea1aeaa162686df4506c14c99c5bc188611a6febbede1e9a36234c014466e72d6c759e16e11d5c867052969c5a5f085886a147ad563a344ea9791d56d8c907ce7b3c4ee77a4d78c91c81ff16fea95b6edd24d46df4c3e163576950680089db4b58b32f640e779b9933301fbe0e7c8e29e21650f1ee3db497199cc10b95408d1698f040d01ecb539c284a5c8950553c0e8f407717a83274fd2da320754eb03231dbd025cb24cd55b2f494a027025ccc5a95f69e52e8d94995bd12f0db66fddefa4bda52b678182643adae9ed08d26c0e2cc335dddde0e0dc816c5e4db805fa5fe2ce1725c8be381951e06f81e703e1caf7f15717098181445dd3f574fefb240cfe38d34ab330e3e0bdb28619818a0ab3282423f663f2b71289f15f201474bb7946433f59907af35b36271ead8f4868023624519e109ebbe139df24af79967f9d6828ff2f9d9d679ca3da36202a8b70b39f51fc52676f649c0b3e50e80480b33149edc57c26cfa43dd719d93840bab52ac41a3054f7a0c31a26f937d38a8e72961acf3b7f7edfdc2f96e6cbf148af677c702f3e7fe42e74a87dc12ac25b1de0eb57a712b91f36c34b0180a40f7904a987b6d04aa12d44e6f37e776cc04f86792f504d8141e60c10e63feac32ec8d60ef549772ed00cb736447e0bcf3bd6b4148828716deb186efe2d3f784da4eb267b68d655ee5c32ab44d766b602c7b9d64b34b6af9b0aa134ad52cb7422d5f4acb3cca640a391df1dcb6f951740717247b59817992ef21291deb68037e731ec831a69e4f466ee1855459d3fdc1797632736b9538c0730364efaec903e7d2252ba77d61418e8439ba73c7fe9eb7cce2d62bb5be9159a15bfbb41a101aaca9dc64bf8eacd919a2e7c3383fc99e98db5aa5a1ee5b43f3b8b3d347d6cb98182a2ab654db7ce00ed4d4d0a3c08ada3ee8f4606237d592337b1bbdb39fb209de18ab2beb62a09a3d7dc3f297ad1ec8d080d613ee33a35242bbe3390166eb0178cd504858307aeed4d3e345e6c90616b2084827d64f34d663c3d5d36573654571ade0ae9593c4458ef5e0f2afabc3593291dba41bc6fc7bd797e1f5bebfeddc52c6a9c7a9d7c53615f8bc464af624e006194f286cc970db3afb1f9c408d8c1e855e19e6fb7d5926c4501b7458cc6745acb7d24122fc8a2b4ceb6b8fb163d7cf9e49d3f9a0a308b4ba6372e30ab1d33df87f2dbfd8bb5a16118a288adb4184f7b657a9d1edb7964988f600e222aa0854a51158d82c52044747853f3fa13ce045cbf9c4f54e5b313008f2e36e6b630b8713538e44429966f9122c562754b8b3fc7eb1a47c3f681df8ad2770ea0510e34ac37f22395cf10689f99156e0819928279ec30ff0eee717e981d58f1c545b95c962692bdadea5efa3ab56480a2e853171b16aadd1a1accc83469bb952837ba87451f1cfa45ed9aa524dda37223c402dbaec0ce128144ce0f8040509e7605870a8ba325b006dc10d46dfd179a365eeb9f003d9e7534f888e43a73a4aa6315974625ce0e50c353977aee8985bfdc04dc0c16124acab57f6541847431239b249ae9712f2e28c8fbfffc0db973c63218dc2ddded297f5ae562f0bef67ca5b743737da73efe8155707cb0ad61129cde4d56aa9376519c5dec6c19359536f72c2fe72a6a1cc9389c986ae5ddb93b452a7ca0251ca6055d88fc280bf73c2e099d598835d7d320f51d9d10f0788532dbdcff80389ab30ad0de66c49f5411191e047cf9952f49f4a66302982b15dde8cab63900b63d8285e673770a3a696cc24cbbebffd56c6ebbf47ffce315f6a3a40dc269c5996f4a66fce4e0f4f16b321be22ec0e63da22504235af03569415e61c407d36070760363360a237710696d94d4da794b67b408bd229c0e743674519e026903bfd85cf88d1da7dee1de0dba055c527881866bf3b812236bbf31df180a31c221248b4d8271ed05ea8104bf92670cf80ee9353714e7fdd8c9f5b362f5f5947fbfe01c805a326254be852eba153ea0585dbb62e09a9442c1e317e8f6932d933d90e11e7fcf8c49a09ee9596bdb6fcfab6f222c47bfcd75d35779f23c22d638c8b12ea7aba01b70951f5c714b56a182b36ef53773d6fa4e049384556afdaa947dbec79f3f0e6b17d5b05baa937f282cb430bf3c73344a5a7c62bce078835a364396d4d6331516bbf0b407180c9bd4c20f1ae7a9903bd6f67542221ae20e42b69e2e53ac6fecb6b0c26efad922f22a77d294d1a00da8e45abb0b5db57f318519e28d5d11b3177f9df0358432f2a1fa80a80163152333812bf9e80e339442497d23025fc8159ca27f71acd877cb666457c27f5eed5686fd1cbecc30970ad2d6b65f6d5e054c487ae1795b72ab80c7937561eb6be582347613fb5d6a380aa4223aa9d5cdeca65409b1ea3a55d66b664dfb5496aa89df9f20006a6dc6b676b3cd07e8eba08eb9c4a4c3c6d96fab16216fa3f8c9d571a2352aec462bf2d351eedecdade5cf641d167a5a331ac0bdba167962da7da71505a62da2b599f279b352eaeb7ed7665fd665829ca9fdd5ea4a008aa56e5d986a89b597befec17ec7f1dcced519b3f32a8a078ea8b508eed6163f596c5ad30f554d340fde5eae921bba9fed017eeca795aebb61079fc7ffe460c1223ed38584c7c7c477705040bde8b7adf01d05a81b6c2441d9da094aa0226f9649929be531cf6990e3b452ce11ba46a21511c14a7826a5b38ce3015153448d92381a4dcdcd75c90fc010022c48991dc29c955d5b260ad8e4ea5de68938c7705aec5e188a5eb7d64f052701cb4ebf9d1f70a1d25a4251604ea9c7997d5f233e88dfbf6b422ac8a5860ab9f31179a8cf231a8e74b87077ec378b0eaaff45245a909e39ea5d867b363d3a849edbd460e7e6d5d38586a581455ff4fb243b872a9ef9f93aa62c035227b1ac797f2251aa02c20213f6b602c4bb489986cca1472c2f339500b54750289ae9e940bde6d1226d8573b75c58659a40b613c92ce6e9fa395461745485d6c0d5335187d4652eae4b3564e212c52f1e7b5df29d183806dcfe84f086566e6e83fa4c3ebbf4607eff7b3312025fa02aa1f81a1dd0d51f11abc5b4ff70962a8751d98b549661e043172fb1163ced5d1dbb2cacda22f8eae0e751a19fc8abe55c934e0a182794d764d3330e273bfe5e43642916050faf641567fd42f8f6dbc0a5a04ab183b0441462227ac7cd44452a56f07445437d4a591b49ccc42e934503c14e916c7d50c040e90089085828a6bf40cbeb96c49ea7a4054caf9321008af9095d0952e1c225600c5f9baae661d89c1f6e6f78ee75b8656465cee55cb342455508852b12c70130b294dafcf8e8f9097774c6e7eb6065aa0eee61fa97b69222d10c18f11fd64f78e583b5762fc743f37195db90a38bc84365c14e3044ca15b4ddbbcfd0cca43dc53e451f84c32740b3ca3565ed3c668741599e4214b84c2e4918ffaee57bc9eb0b6480331870adfba3423aabd42d58ac3794aed5728832d8e170148d597479aadd50d3f728a70f1974082241cb96614609e0c04f76eaeed32ad88892df3f0a3a45c0d3cf64413618a56b0582ba4984a67eb17f7a01ded10f7051ffe16a9fcd770484d3bdeb7977dd254ecdde90a45675b710adf4e85de0c09ce02854cc9589356cc93a67a07c7885f42d89f36c98ebbec4bacd124a43d0c62fd593cedfb1dcbfeccf0f553f00ce1cb3a0055425db62bd697b6acab23f271b8cfa9267d2f9ae6e49aa4bf90ec57db64ec3f40b4c4916b860dbf371e0f7b0f31739940fa26212982ff0d8d861c7b08696bbc03c1647887d9d0628acd1feed1504e8b432f9c08b637b4874d574a9ee8250b66f5988690d2ff2f4a3db69fbe0d39f694347696990517174fa6b376501eda9087c654322fba5796b6463606de28516c5f590ec82581b8a9f0c83306f2d85d898532a4813fe22f9ec855ac31b6f6818df1bcc1d9eacbcd571de78aedceb9b15785edde68900f582469198d2a870b589322d09c7ab9a00e7fef5b405a4163972fcdeb91c9e5f85b6dce8af5be5388ab46b9f3e91d773ed87cfb70418ab3e88e1be21082362c87f8abe5afacc306ec2298134f341d6ebf7525622ab2e9ad434ccfa61844ab54e8929949a478d435b7fc70bcbab2af8a969e721b49fcccec0486fad79e658602a0384e89befd37769644af8c69396799eaa8f227fa83ae8ac5d4b4aaca0a47047b420f7f5c9c3a2ebaf7b38ececcba118276a463bd359289c0bc990e68a446fea4c278b9df59dd4d5b5b630598e27a5c1180ca915dcbcf65e32f74d8726122d8596dee01e8770b42e726bd923dce576d75463c68413b580c125b718bf1468c4147f61c117292123b9a44d3aa89bef1e70f7d0e7f49dcb815ea0c12b4a1aad1aad9dd6d7a5f4fd38c5a18643db062abf4635cb305b23ea69af98af391ba03e7fab148805989933d4ea61f723c2313654ca7b3609a7b6df4abde43f1b1ad2b21e7b903bd321fdec954d9fd48c6119fca20d069bd0be4c9502b1f7737339c1d46bc746897966cef23b8fc2bda1c49de8366657dc14ea0f9ed34d3cdb4f8374a50c7fcbf387da9c61289eba3cebaa1f53eca8e4d8584deca1921f21312f2e5949388747e9f9da73a2541b534e953f2cc151cd321c4104aa19f27cefce6501856af8328d7ca78feccb09d1aef961c936c978a57dcd38255a7dab5766c4f57db75770e9189d08626285296b8cf2743949dfc87172b32b1ea7abd15f4a659df7d81cffd3011c080988f87756c9e3248a5234b2f12b72d420677367130f78732fd0a94cc75c3c3161f59644e7cafa4045f040989b16dba4a0262e458f2b15da7df29eb74b719fb9c7def0af917c351f04846965b0dc44738fef32c15fcc43cfbef4943e95e4003e18e728ad13e519012ce59e0ee8204770579f34488746e95c08645c30f3562b55ab3b3f130c6dc6a20a842c881266435b792ee05850590b75ab75bfc5f74fe5480e8017793904c4625c940cd879f7c4cd1ba2203f438e08138ed32deb6846f33921164c102ca3e40dc725550feead480ad9ae1d7cfc915aecb599980230cd63ef87c8d31f022ac03076c3e541a22e217960cdba445110bb56a4dd1811293667b1e3607dedd0aae9a993af30d078a08eebdcc0db2a467434f841946dff9626f1c6dd668a1db99b532598856f3db918b3ee7c552f358a19c2c394a84c904bf4d66b93d7a2d3996204953450aea88e643046d2bab039bb86f06545b2640fd518a309037e33ff562506f11986014b572409ef0ca6022b804b76ec5bddc90b7adcbfd6891120d3f81a04e55c13f4e999b3f57ce71af8ce7d67e1b00ac3887e239203ec543b49bfc32a6bf99a73a35243847c078e9f795e184ad40e5da0375d14520619c43c62d443ba33ef079bb6d5a7b857bf29154dc58a48c6ba5763b8b880b6b7418161e249e567fa7560a6359a67b42ba6c34f88a0108d6327af6dead74e4d1e9e9c8ae4eb1bbb0441b0eba90efdf07ebf0eb12e5df7ee768bb03bc90099e6263aa0532c610d651b86a2154b0446775a8166012a18616ee66a43757edab9c48714f37037a1e99e2c3e620f2734513f2c6e2840851ccd1e7b874852a2a12b5e0c1c2ebef5aa15abe9ca8d601bbf9908bdd59d6c926bb12d4db121c0655be6058b53242cc5ee3782f5c3c30301523b03a44ddaddc34f895cddaa1ebddaa3cd745228c13d5fbb9e78b63826f4bd68b7fe3b982ae9b858f956c13f30f20ca74ba2be9e8197b4b51a73308589e31a2d254f0533db44c90431d2be1b11d6dc25fafb02a77f29b299b8a2517ca6d49a42725a22f8e0d1a05ea8f39f8db084d9115dc4a2e082200488133f32b76246b087cd8be5d55fadc84e9b02cc4e6d3daa9c78ad4419b82a50afbd38ad51cf6f8fe78f9c78672b43a46de2427cf70a742817dc1cd7388882da1d7778847a1fe8991bd84ee266a6de0e61f7268629907e90e99a6fd5275c61c57d400b959cb9fc8825b9e2efac9501237e857b0b8e6aa3ce39d2b122eb1608946fa429d3f88516808680e85642811234d83c4b79f34e437f78b43104e8aa284d14e45cb6326079059b6a3dd870be600dc1e8bbce5564bd10c791e020cfb13a01a5567a3adfe957d5734886eafb307ad8ce59db1cb1ad8953a4daf8dab99951b198e6b842e33a47eb52ebbdac92577e0a0d4b00a5cac9376b71ebc62df69e161af807433fb72c760d79483dd6ea249f876b59179d67f8895ea9aa06dd001676d247ab8910e1857efdd8d04d3e239c30a93923c3929e0eeb07399c817507402ab895c16b420b1843ca804745cf4bc3a55ec2c85bfa5dbbb6f18735589fd09b67326ea78493db45983ef098a5ae48e0f73edc18366533f5a9c4ee5ed25236a377d46fdd6feae3a08d39986e592a29c800bb11d353686d085a132893f60c9502e6e6c396cdb7192bc0726fe34a3b1ca32c4e428bd90ca0287c3285402217a7236f42b7111d33fd8ceaf0f0ae8b5398c915abee5e36ae082b3384fbdef371c52ddb9ce53fcc0ebe080d3f951698bcf49eef75d6bafcb832ded65e58b7b9868f7f5230a5a0c5c06f0be5a68e053480ab32f5ca23ac38194b77f5108dae0dd06f6db6b24f214ec39bbdd317796cb677f909e6a5de9771a152703348236493167f0456fe9286eea4e13356685c55473a7cb3ddcdfbf5f88a900dfd76c15252facee8fe3381bb6f30c30c5cf3240c55a36f4488a7f415fef9cedb47ad7445a706a5d8e5d23a3451559adc0e2b60211340f0f37fdb41b36536dac8abcac211306efd2cb1e6de3f173fb26aedd54d87ab7cdd816687108c232470e2bbef38db73b8c267f2165c76f0bc271052c415f975f0f79fb0affa4eb9f719110537dd885f577da8d4c007765a9e0667dd96e4b007113745a1e4535f70504b1a8b861cdf3c0f9c0a09f639d0f5111ed4e52a46d15302df6aeb8e2ccd8dc8a2ade1e96ccd96c78c5e863ff279b77443a85f6dd267b97800ff10482cc28c6d0244865c0ad0ec72aaee0b945d37ea2d2824b5e73c76a8cbb65b4878afcf16274b3434634f4fb053b53b19f7586a064f78d027e51280b264d324df1785aa2bc189008c07bc045e7d1541efab428c065d95b8b1be91b90486e3b7e28be716355e20a6d308919a78a6de166a86a3ad6f96137d8147279368c3bd28aa159d1d19680f593419415641ef6e009dcce07140323e8d6ec15731ce2550aa9f3ab59f7341603eacb2a24dc1a863c9f3cbbea570f6522b4914d5b459d1efa5036aa29c3bf55ee18cfbc1d993692c4cb72a10578c242c14698e733d494818912f7eba862506964252088e31c4c107daafd772899940e9dcadad998f066a803a50ced5097a0b6a79160ae10a0c65b08b6664a522d69b9ef905ba7c18da5c9de0c67f1ccb4f0970110a7b4ef074c891d46d5c62d8388ae83a35af98cb15450859e0905dbe71d3a263f07b2abbd344fded8b4c2ffc36c6ebf6eb8f417507e2db03c5c4daf36b2b86975826db2516cf33b230cc6622bbf2b916344fcd37693b9ab8f11f0ff8d02df0e11632358642bf11d2217d045b3ff928cb489dcfb21cffd529168481579aa72d95c9785431db86b8d077bdb25bbb662e0a5297b1b3f8962952fe05322ec07c907d7be1a4dfd1864f35a82c6dc9cb69d83f418331fbfcc4f125d3d3fee07c23cf416eaac590bdf3d2eb5182cfe725257e4d17a4563890b77711432d9560b486c70ba0224138016298893eb8af44fecc57e59f6e0767555ba526fae09b8b2492f490e150a6baf3931e9e9e0035f0dc6ff048193ecfd23fd39783f11e51789665f199173ae0f7e34d4b8e9c37a3228e51c609ed365d0b345484c4029c53b80ea16984255d34c38627c4794dbd669ea33424f8cf33e6a537e2210898272d6690dbb3b5220e234058f6bd62be9aa29fecaa20a05027be6b24b2456e774c3c57cd0806998dd099536d8e9b93c544c1e47ea29d34db2889a9670de4e44a88680f4d9e69324c82f9e1114efbac989e39fc3ac38dcbd00b40e2ed888e2c5d3f0770922366a2dd11b491469d4e90b5af110a08a566eb015cfd9bcd67f83a65da46b11a6b75f9f19ea16e8762874631eb4aab64cbc023bcede136520e37aa42dbe3aa2d57a1bedff0f7c0122574a82772256aabd7dce279214a1fe7d26a1202a6296c96dfa7f640ae29f703fdae05b40c00faa4fadbf9a94316e4162db62c198dce16afcd29ec098ee1ecb1e8b96a54898a75382c18d585c6200d977c26a5d05c65fb64da94e583b0c4c31bdd2a74d1b26927b0af6acd7ea7c52c63e0399291c5461f46fcac9812e91e0ddec55d385d20c74749ce8f3b2943308daaf0a24dd3bfe6ec10877a7b67231e7650adc8c03238fcaf15e66af90b08feb60ab26096a9ec237adcb6b9f3b64d4cc5092f62055d67949d2a1124d4c5d7115200df68f5ea0cbccc71ea7dc3ba678a8d91b6203c0e7dd59b149c1007c862b78bf546a7cfd5afe65eb1ee79f21539a7cb661418aaa8f31fd24619da9efab1ea54ad1ffb5dcf7a2589a4edc2aec84e2b34c27f8590c550f0d53a80a467932034f183be1a68beb50c245377b87465de7b5ee349502cfba3e6dc491225d1fda7dd55306d7448e058377b6e23fc545d948f95bc386e771d29c6fdb1d16f43515f7eceb20145c5d74d943fd09f0ba15925f1c8caa539cadd4561dd5e2f0852af2f1d79ae57b3fe006d139f3eafd48bedcaadce0d812381dd57f536dd6f4f6fcd8985adca78a97682b030c8eb101444bf4ee60e019f94290482a5bc41ba7f43d903264d71c7c370a93cc987af510ab85f986d19496f6bebd2189a8f5d5a2db3b9f4446bdda6d6ca8dffb29810e19ddda0d98a3b3ff9ad5a75149b77856e8bff8764287e40a2bde3f96d081e8737ffe484ccaaba8fb012b4dabe8441b8b8d26ccd3eafad04e09aa943123a886c5c1a68160ab0ad5d28b1e331dbfa420931b7b42e1ee7a6106ce7ca715ec12afbab3a836da0654e8ae22b6a9ce6fc6297b35b5e66b1f1a09b18d2d7f1283e3b8a75e8203d2433de9438171deee48f2edd5a0406f441a7b1ef2fc3663b77524b0d2d23620e3a6020cf46c614a6db7c0ebc10c96930f1e7228c43175009c57d620154329a90dbd16bf150ee3865ae1ee107614d1a037e1136f3d74eac0f29886a42e0888e244de2a19e8b0676a46a616c1d0145ad01a24d8eee63c3ab597480f8ff98a66bbf91a1ff5f06d8d7a1bc91b13857470eefe4b666340f247aa7fed4d3d70ef2a772e7e66b3bf4f79046d44b24ae7ec100add908cd72510a0d4867f999f5fd1617471c475430e0f2d6887cb858f9c40d141f1303fba7f5dc44cc9829b726d2a0ef12ed1f1a803585cdc616fd25e8082baf9ffc0aa28a2b5ff2ca9ced153f9e650362884fcfbd20ba511375b1e3ea767d6632795f4ee68f73d5bb654c91e25853931eb58489aa984956e8c1b4f11fa7d148fb3286d7b7968d70135b421582b0f750db00c51c2ba163f1ce715483addc61a3f511b357c96aad6fdec3734e51c9e011f16a0085a2a06712f3a95f239c819691f97651db860cd72fdfec8c4282bc624491c113d877c163fd4ae635ab23e84fee4a5f153fd972391ec6f2d39a1e30a55cf9ef66d66634e2f8fe6fa4e7b212755c2c175f95b1b4fa6632c628b71f16e132d82be9bde1c16ce4bfee0ab7e52082645f4bf7578721b8fe7530e58b5ea705effeb8a9f4b74ffae93201ecb289be627857989a269eb0aa4c07ff28576d02ef8c4f27ec121210c5693b173eed4325bb0a5adb49000aba424a82204d0eed46c29744de04f6ffb80eb931dde5ca2647d4d96ab37248ff25b964443441504009cd6fcb59da57349208263a6e8f93fe50d18c908c4ac4b33b81161be111f105e66bd9f3314ebb0fbcc51052c989f586b4c82de7a32572bdf1162b45a29f20bfaca67c9a4fa97e08a21499ea57da0b3ea3fe9c0db576ad639f0eeb89d64cd9897c068ccc5cacf7f90622b9b6a87f87c645e4f222f453e477cd7e7bb4e131483340393addec8a77d7f204404fd4612c4fcecd490c9abb14525e30f577c9eac75c140b74a686e3c8a9bc81fa26fb6d6abc37ad5757c77db9f31a87c54a66398845b5d3e60c48d3d150c4cce4ca4262fef22947e1ae18fa416a6a431374e0e74da89e172ce7dcb55fe3d2302fbf7ae2fc134048ce888c0c3fbaaac7c969f3480d618b36ae8934f885df5d22864b0f85dde23710510089427934da071ea63be5d6892a39b438f49521be2a9b3888ef82587b3d7bc7bbfcff2b578102bcacdaed89f8c4ea01e75d3db4a1fc3ee2c5adfc45fba963727ad0d5fb61061f65c9f4b82db90be70e06e1b3130af111b86d3e831bbe5afd53f437c711aa553c68feeabbf24542c6bb5725294acd9d504f5b9e318bf2d27175b7b1d9444d0d92fab96a83c94a2fc50f58f3e0b65dd9ae50309e0027880c10112acab2189005273856ecb502f98851fd3985e4e5bb7385d976af8ce01f954fed55a8f23db2c0a2d56c0c5b8ee7658415151d962c598eb6ba47cbe889187132337cfa08848199c6219dc0e1db98c395055ff7eb5a2517db9b33b9fdc55cdac17fd3ced16a91efa12d476afbaad367b86947c53c48e99bc6876bc396d63fa7c7049700124346d0c955c14627814404071fee0a06e97868473bfe5048b220801665101dde223ee82e8125ab9996f7a9265b584e70f5d5c0c4da178bfcbc5d6fcf34c63d36d7bfe31056e509f49879a58ff65cd2fb1dffea5c7879a80d03933287d96eb8c7b0674f2f3819ca53f0e4726194ae2c1585ae512a27a6ce76e70ac81badf4043ccfc47937c1394e5ed4884bde7b9969ec767088babdc318bef751bcee9a664de5df3e30430f3b00a2bea6216a945a464b38253dbd7ed2b56c62427b18cd627816e162cc9b1db453916fd65e826442cad5a417f6e0653ae43c34f20a76a180e85be86eaf2dbaba885b471ab20070e1a2a0051c1e9e0a037c258d444b36c3dedcc12cdcdba8566851f51011cd0f0de19e9e44dad046284bd3b9123d931394c6b5b669e83e0fc577715708fc407d4911be48ed805e2fbf3d24f3a685cbd780f54949f3d9742c37e8336bb79ea59b32500bd29f971edd5c05de6919d31049b5b900abf0aee303cb2f0eba9031b03605f1a584fe45eecfca9f75b619002ea1745fe3918ea551f6670e87eefdf967fa23c054020a100ce9ca655c11b536b3a1e02244e5e926ca1e44e7f87a3174642ae7a1051d9e470f4846fb4f16380fbc51fb5d8bf897b","isRememberEnabled":true,"rememberDurationInDays":120,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
