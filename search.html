<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"f997f77dbae401c96614c0161b671a5a9acae8e099da067977fb9e0f6647d46ef03549979bb4d28d3a8b1519dd6916d61fb1b983c83e3b54cbcdc2a2f251d5842f28ef276a734f7097f73962ce007a606d9cec0d42d370c63512d2bbb80c7514f3e6749545bd0d76349cfc40e68dfb46329b010416a3d430c8afd62a7d44d216fe32781e3e36288a431eb071826d6763d5d53e576a5280fd9054b9e4588c00dc8f6f42490616108eb5e41b38e012ca168a9fb7bd18ac961cbad6a60532046d7045a86427d962fd25e7b0cb8b946f8a9eb6f88205338a8c4a502148d8a7fe61bdd55fb0cdf6ede6b8200d0ccf22c95a4b8fdd78ac3a12ac647d6339e5d04f1f849068c6e9a455cb8b25bc0a910280b55b3f60b63a924538a31a1135a821e21dc35722d72be61f1714a38c63475f5712bc8fe07ce4c5d98528feeb9f77aa9a30cf4fe61a3f61582bf132f7541ca4058ecdb1a3ac69636c858c77d11d247c8f462b4f58ab6d13f7c894f654fd5b3028650c7f647c8d0b0dd3459dd4edc462d0e1e9b754d1975e4d74cc48ed28fbf0a3c6c844d1dae8f00c1fc383ab5cffd566d1649871aaa51eb9c74ee72b57c0c8b76ef642017881287753b748b705964a858abff31a927790b1056b39383d2e1045ed308f1b43e327d8a4ba40c6616c21b42719c6a9d34a5446decf63bbe10a83a8d722b798e6789afbdbceeaefcf68dcd79a961cfc70b99e83b7ddda68c938cec0bce0b2dbbb9f310c67025fa065792719c0a4a0e9cc5abeebf982508c4c4a3ba5173478ffee449db94cb30928549d15ac572ec4dd4eebe52d69c20af0f46e815bdfc05e59d5954d638fc25ed74549325f6a20854fa5b18542c64557b631f06dd39748fb8114a7be61c0b712c079b87f9827b34c2aa1b792dd39bde29bbc9360b5c98dd6739de4a2630840d51765bf8a30cafd7127d95f20c80c555b6a941873f9596ad5f3eca9268f5dfea460752c24c771cc544a0660e218fc3e6d06dc59454c589a6f33c8a91755524eb46d70ee3f8e1e5eeaade8824ab961cdeffd9bfcb0ca3bec8331ac1bdc5aa5a4000e9b2d8a830c601a713e1371614af3d06d2c51b55492eb3a20b4f6252c56767f052da78c7df4011b327ee9efcbdb5361e5aa9c3199c6f5b9e3f56fca5fa74b6e114a8799199f28599aea5ff42996ddf7483c336b23b96d7190bcc52a5c2e8e4ecebc4b58b3c4c4192a686634437c91935ec047858506b81bffee6cebdb381eb1a83ce2ffc2f94182cc9a86e2930ab3aab481a7dde274e3394226c4eb78df864a164b6b6e63acdcf73f0273eb4a294ea9b7c7cd93143aecf74b6c9cd626391a666ed94cae8fecdc35c5219c6edd065f6441f7520ad984b78be6d26c51b270540d4f58aea2aed972956788ee57f5c5462130ebc51e92fd293c2ee06dd8b35007f5453c8be3d19b85a17d8f3ea395af463c76c4238fb15698b5abf0bd7542e0ce6fd344a1b641704554642dc796a9b032d97809d42c412d874e599c195bca1b2719355c6c3f9a773d34a417826a6aa8cf26b76f2bb96b49279ab0f5fa07fd0aaa0ccd9dc1b1238939bf78bf88ffc9741caba64a54abb6891d0c07a4d1d0a8ae6391984c34c92f9b5a5ef72a258dc1eaba805a2b842acc684cc070f78de857d1fa5e0dce5a064c672b95532216fbf297ead17705a84e711283be9e30c8c0d80f0d542f5ba560257138a92afd7f66bf5fd13ca52b898fa879d75b0fe9a0ab8dfb49852a61d95f4a84d608842551c0bc0c38ef87d7ff38b3eabedc9991c3e108f3f7fd741129bb90c22d2238214676a0e9f75f3d1eb1199abc91d674bd8b2a3d9714478c1ca0a43d65009e02a9ddcb8626688ca317c240e491ab442e91898c9c41e6c9e8f852649584225b996a734063dae906c8e461cb6829891abbe5bf1d38266774ce9b1ed35cba623bd9c307262538c81155bf9090bf855b21b5daa8af387b14928bdadd31cd9579feb043f9cb12773969df19b268b9a7583edd74551773f0d26eec49d2f6868ea0eb934582d0d7794124a5cd35a125a33ccafc0a2a00ae9c35b2d96d430f738eace7f295c287e216e9da2e19dfc5df7233998c1972b01db3ce948568c54d5a727f32766f140f9a3a74b00189f3979feece55c51a7b5f6ceabe3371bd3e9b61eaf8a1c281b9e907613af14d6ed218f26cf86a17a999fd619d78b75852c4254c4067f565624e47e89d8a1c256c2de39770ba6cee6d68dce20124510939537b8d79aefa7a5ed210097a3b048e1576f75f8094d1935d8b0fef1f19bd5b4ffa91bdcbed9d20e459bca57dd0c89bbf3a4cdd9d9973db80761e41dbf872849992ff794738ae3336a75c25daac1f4dfd1eb7b03d6c5b3e3c5d3c2ad11d49e51be6078bcd0e45f05eb7bfc53551198db2af7486b54cf84fc99bd181dd1da0f656d44259d241b3ed29fe344e66eecd025047bb3660d13df83cfea5927a114be850e5b403fd27147ec9413328330daf33c0d7345e2159e6a7369665c4bb851edcbcd59a787fc98aa0615248d6d5a65a22348e99c8182396e900a8c0e9010fb5dd7e1b776dee9ed73b690b13549d1772d6b4b229fb775ed82a65c6d85358c70d9ae9cf62adfbd9afdbffc36c63dc7913eca7956f5ac1db155646147c6e9cc2848378b7f1ad975f1480d76513da146b456301925a7d274b8aeaf6f49407b7498bd91a9b600a7167c413714ad524b4953c9e416e96d447e277e1765fb134ecd764146b8149bd46a6d87e2ff5d1af776d3643461beac5345a88a88de10e68958329ecdbd713c0ad8f123f97c55763d52b1d2880005ec694184588eea685104501abb305ca1ed07e33419c4e494acf868a474d88fc7b1232add7abba79f7a4bbefec5e7c795eb129ba9113845d8638f9288c31ea03b10bc5ecd08bf69fe123d4bedab167cda3b533c2cd9af82adeda69ee4c54e82be309079232fb01ef987f359c9c0ec66382b31e1aff10ad3dc2a349d9efeedfa32b78f12a51c38e41dea42bf0e39bbf90baf642a8fc61d336f8699d4da136b9cf1a1cdb0aaa719c7edcb11b2e15de23e2d19fb6929ccc0d0a29665d819baba8da9eb2fa2d101b2970fe2b6de4483e56bd142a44bd19d873b47fe161285afd79d5601b7051779bcb91642f5774c720f4039769569e7a5e854e506ef5dbaa461822395c5f347ac46bee35f89b1467f53f2f85ec8e681164f824132c52a9a7e6df07a5583979c0b26a178c608ab3b4a3359ecbf4762a374e365ac4b021ce3d841fb7f4fa401df8152ab4aebc3b469db8a56fdc7ccb6d6f4e98e0914a47e77e24ffdac29acb906288702c520166d7923e37e3f13c2610a2fd58f4252cb68f996bb6b55fac78b863e60bea03831cebb0b06643e3d383876b82550071f27fe91740e0f9ce501341771f5e6e24256101dd87e4888ec3aca018e21496cb4ecf380fb99b8ec54433085c9b3e81195b5407fd278d1faec94e08bf6320ad33007cdf6eee2c6e50d32387d844816b30de0464415b64143be528e16f5b226ccd908e56d2482ce30b5a446407602d5e3942e68ec2c5b3606e39f8a06592cfe959c8aa92340ae6595d2753d17f6b655610fdbf0c05483dd7a2b7f0790ddf5be75b54f8cd6044d3e58ff2ba221090fdfeb2284ed2dafe8a1a2eb1e084bb2cefb9214f81d746e386802969530be74d636c5cd6725ab149926edc8108a259304575916fd9502071dc6962f8ecefc4f49379fb31002645919d9ee4724d40b502c58ec6c5c875cd903fafd8fbe8f8b597d244c85bec0fd6c76dc49b12fe85d13c85ee9f86e1c62fd2f3293c879edf82bc10a06719b56587649e2e3e22de9c1dbd1c2a3f36d16382c9cf3c16c489423abd4a4a90a78923a6525cce033cfa927a2d480fd6f53e95cb4e33ebbfeeff0e4dbdd99a4c70e53ab443010e645072080f2c20e8aedd7f557c56c337e5a2604015749896e61ec7da5e00ee7940f489391d37c09638def6c88d76fc6e2434d5ff56119dd199df7ee555c7c7996a3c8713c6efa15b981260c81dbbf5c4d8bdee43c7c27d066af78a077045cd869507094abda93aa9f4a1341802f87419a6f59eaea4d62f9b183ea5b546ae2daba7d98e20dc89c98d4c3eeae61b1523e5196a450e7438dd8a8767653cc01c6e5cf27891815065a6c932e53173b40fc9d18e3472db630882ee37b533b330a7fd42548abfe05cbc0f862b5924b4e297f832199d4b255408039d412ee880f407a6332b72d145fe66a71253b4e48a6c8886c45776d7825d0b9ea84b4f328f42492c70d470fc336065d1513e3d026b28a3e0499f21845bf515315755eed8b9782b38bb7be94511e61cd657bb203d603c5d8881942ebca32321f5dda36bab4a5bdcf04fadbaecdeffc2a0f8cfdf312b3390507c9e04ec2f15bf06f7333b9f89988669de8ccc5ebfe882557acfc6b3c7f6ba6b1ee70c5134aea860c2dea0d21f2b771ff11aa5fb8cb6116f589de307672e5ffe87f7a840f467a7334b58fde1f68fe37e5e4dc799e200b371696495d4c18cea4ccb55f90f7fc99335e3bd144e0a5f70ffb2971e3dc47a3c18e3ba4cc37e9b2a2427418d114446ab823f45c488781a10a9ad3f0bee6721f3c2b0559125338dd8c8e2336c6f8baedcfb62497bd6588d939664f105e56eb86cced0fdcc1f912423109d2c8888d452e199c7612a92f7e70049e4f96bb8cd50a747b769413ad0933b8814396971ffa298800895b8b0581a2a086a675ed607c2e874f19b27b65a787ef1118682d2a6c17834c69c95c1cd97509d994afb7fa13ba31caf767a42ed839c50571e80f0ec1d56d8d3952545456a50412ff5e0a0f4101c706a5c600630515dda63c9702b3b1e127d5a67693e60402d4b591b585b5397e27e232dda84fcc3d5a5751549c5b3463912b814d0451f54afb5aa18af3b565cdc27378b7fffe992892fe2b377225fe508f4e2f60cf9a9cf13dffee0038632557e1f08fe9054a5e62fac8df0289dbffdea53d5bea82b66ffd141c1d1a7aaf287a8dd0518c60a3010b4fe5da0b362fcf0b20e0989896a68c555108a48cdb2e3ffa524bda120b5ccd9462dd593f46aa340ba120d980819a4bdb690cd5fc95e9a8c61a96a68a1d6455ffe06af690b0988ec8a3275ab66ea2849901bc9453cb1f4fa6ddcbeb5d41d90c9e6e553aa3a19ac9671e674ff87fc6cf4e976c273402b152270d6f6b5ffd5f0508108b55d9b668d46be94f2337a6203c52ec9d927bfff5fc4ef440c2726a9835fa903f17d6361d8d1942e4a13b2727d0519bf21d10c94fd034266dc3e39ba73c92684b1918d19874b33552fb59d4ba89b4190fe2cd84393a938cabb954049960ef4e055471f60ac6a562758d2ae107b047b450ee1c1dc7cb3845bb6e5fdc86a91c3ca0fff58e6edfa80241c2d0565f644262082bc08f01ed45fd7d80363b7c4932861c55e10304ecef8f4fc86c92a92dcb1fbf86ebe741f2eae47b62aa243eb449cb29e9b39a03a296c60f6690dbd7c763e2174d736a69edbbabb58874e532e6279ccf82df0fa59212bb4e23d01c147530e2f701927161cf11684bdcb8b576121d279706bb46f1a88daad2a2d4af4757e95f046cb7e1a00e7aaf5bca48f65df3635e3a8c20cf17b591716d2e70fee8db4fa23a413c14371768c421e7d207434867345a9f5a6de459c654dd90df1ad428cd0633dc0e036a16acc861bf54671024112ab9c579097a621a9d99b1ab9524a6e5409363fdc24770fe6ad28808412f82314708a18411b31d52e4d59d6fa4afefdcee38afe581ce700c73b62e0a55558eff1128fe67efef4acf07f6cd06b4c55db45b10c8bf5cff5624668c1d14c29ead9ee18ee58e16f2ad734a6aad2aa2fca1c8d836d137c127e9c767ffb62179ac55d47a91692e85ac83b2354c2dcf852ab2713a93f92ed12d041ba7c88ba149dd6d340b0dfd34b6152883ae286458ce0f72c564f2cd8d1d12f9e9f93546d4ab84e3d869e2da7c60b5f42e3039d51484aa489480535a99fdeb6ff4450c29db58e0521e3a2e0b623c21db394579d0577b19c5278bc5211af5a05622a07f0a82f958aaa3ca527b4e530e67fb8777fb88346e92f9f6f33ac95c8e5464960eea62f5bb395b9d93865ed551e132fa0064652cbe50d9df5376579a3440fbe6cce1dd0937f69a2d178ac87c2362126e354fc3eb1a950904c169b3ec8cf4a8446fd346a1b5f3d2667246f92e7a1befab320744dab610f5d9622c0618693cd3894b1b7392997d3ebc5939e6f5799790eb84db46b032ba641799cf74086e0d9d96dc7a06682e1dd193d6d6a97119754a7e7cca2284356251ba9375ab72415599d7114100b3a3f25bd68c94f9ca7c7c81bb2c9413039ad2bda3cf7ac9eaf03a05130318f3fca23fee51f49b9e6ecdf40eb58ac044326b8cdc842ac48aa59ea6dcabe6edde4502a3fa2809c870c14034b86957835e7e978ae1f5522174a8b882d86189c198a1d4f34309d67e64ea1fa768d1e044e6a4b99ca6e2abd8fcb33702d6ddfe44e78103861391319846700f15e34aa11e4a88e6b83053fb13d6d61a7097706f2f00df9b72e0f146d4047c02c781cdab547885ec11198d0e7d25c528806f78d2eeddd29fb7cb1a7f3117349724006570e7db9b0b21373301a4e70657c0f9370ae6e37b02064a4a298db90e49fad4c6d2dbff032fdf6e28bcff39f0617ba48fac27d0bf498338a577cb70945b420833c956f408d4b5a8495b65995c1fc71449c9cb54495c6893de127ef099427c0a5657e5c2d576a36c6e35fe3cf39b630544e997709b006ce96dbb057c7806811eb5dcd069dc67162459099b4222c9bfb9751341cbd4c50d45552c19e0ac831675ad19e83f592f7b6e12c7bb3b035233a65e94727be46adda7b230b2990eccb501372dd8b1a85a66c9c2feeefe07ef0d9e5b0621dd29b341a0c1b0d8166f2bc4318e1883b440a87e40f32e180693f1a50c65b661013af6cb139ceb25c3c577c70d787060ad2e26d686453dfc45e447bd7a4a718548e65856623b623fcfec2db736c869deb0c50c01318213e227fcbafec52b51a08657c4a7875e2f2f8845843dabd9c69ab33c2e3a01653787c243d8e119e473580fc8c459a569bf8a77385e3b40dc5c5d9db2f9799ad2071618b957fd0b519aeea7ab423995ab9ef0ac1415071a22b66e819a184587142d1410c13068682c747b05bb267dba6fe73c4acbed93af010890ed1be1be58e0f843f46346273c0e0e25447142eb1d55e76f55e09af006090358f209249f2423f9c8f893c6f6cc55dd124adfdb69295df1b29c5d4468af43043b50e81ca83a640c508d0fdfdf2d29ac64d692328d164ac7bb54d346886719eacf6e28ab51b8d979c2837a790ae81d2dc28779efe1d245d5cbbcaf9a8bad15c07f814861a567538150bae9c371e12a7923a3c0068536bba8cf742bf3bb4cda9f9656395087452a6d0b3388534cad49962325a7d887a54bf6cb4684cf02f9c23f63bc255e4b3821a84ed6162cf897db49ba38c22bf9771d05edcfa9b6135f14f9818c80bd3df79fc2217e80125919727364643203e4e2d7206c911a9630cb38118d71c8478bbbbd04d1ac71f1238c1a96b4f01c66854104228bbd59454715b89ca760a8e62b8773cb7c7970a67f40d8e2a9c9d5d4bd5993ccc47bac5d8e3a03fa85965ad20d606f875bfda7cd154f501e5ec0361042247962b6190dda821b97513e6076c9470b2f26c36043ec6193a730d33a7bbe0be21c94509cbc5b93a26cde20e1804f1858cc7efb1572581eede1e6f0950abe5180bd923419e4f0775fffb2568b939aac2c434bb03d5145cdcbda7c03b063cfa1508d99fb262d4d83f42ac497eb468a9e4aa09f795831adcfafabb797b656d66016da0ee74d9a959eabbb5dac79ea180b27c89d6e90a9b37b396141f94a3e7c575f01855adb614006e6c4ad83e8d44264214d6338b309949809a8d7235c8b15542ac06d5d1cf712dc94bc674b200666e2cf01cf5c1b28ef08c60c6300b1905e48dee71f714027fb0b93324ceb3e7ca02f4a68bfa026b6d38a3dbf1be7b6c24e3c3e2ab846c05851c83036468ab5d4d4adce16b424b654b1a21d4f3b91f60feb652dc03d47ddbe9a8fd61b1dc2dc1556132a934e7fd30ba41677a7eedd09ccbb89b6d184461906509a33f05872ce903d18787c7c8412368bea28fbdb1f0f291670563091c644199516e79f419f7e196474b046da8912a463c0d90edfc024ff5ce5d519f247e42ac44fbbe02cc44b107de22ec1cc5409bfddb7c28a01cd3e99fca39a4ba725333df3190ec4eab5beb1b8737034a0f9d3c106e86acc2fb7cd393c014430e4060e6f2e6ad2b860f45cd3213d3a0cb70b43e6b9e386614ef9e4dfe29565bfb2f1feaeb77e4d14544911552613fc0bc430c7e5ceb57ddf1a2da910f94bff5101a0bb61994dbe5e0eccc5b9afda6543e06bfe8418f31e8a9b7a51e1f44dcac38b0d180012242875544ed005d4aeacdfb11e8780277b516d27f6223e40fe29098e9ea4bc19899ec89b567ef3c85ec0538d3a27dc42786234888a78dc571903a880d59e8e4a37b64b77ef1b186d69edffd92b281055a275bb3803ff893e14b879e132770946702e4a0d7051fd9397d407ebe6c2d62da829db17e498202ec9adbf562a57fe94cf0da792f39331dbea384383972eac9f09ce649770cce200a7bc06fa886a3211dc37cfa85fc6637c8c091b47e1871f1051d81c80cfb10d1585671c03608d4b4fb1c8a2ebd96529a5287bac815ea419f15e191859426f3c4337a665ff3cb1eafd64e813bee4233dea6f17ca37ca48c67fcf3b097c2e0448708854053cc949e59b1fba1e3cc7e19094e16d43c8f30c02fd246aa3f5c90201a6650022ec5f40875c737161c696f7383cb08e3bbfdb17e41fd3b627445fd5f122e0ac62e6a2dea774a22e687dfe18738a290d1051bf551a33f9b0293b5745b607363d215585f87c222a1e00a37046f04cbed9550502c057f87062d3d24a43d853c1e5c5a20c6c7406c4918ab3b65b877c58bb3348e20f411b419f90001b471349770571d4c9fdfcb2bf218f8fea6d586939800e18efe3ea2e7a063f92209d678a85a898946867e2d5f21f52666c97f667b1f79a05adf080d9327dbbb135c5b7daab990c3513db41e8ece6239253d7ad633a87dbebcbe4bebb615e67198d45bad4eb4b54377d4ff797708b13c8970a55b5caacd2f6cc21bdc177e6fdfb18346b363e175ede776c6d2c3dd23d4d29d5d799ce562dad9813ba9c74b1c94f9fc71b4ec595e6e92c736efc52d502df37022485d0a9c46dfb1b2e519c86d91fd3b50821512b3bb7f9d439fd076236c524f9f507cb02175306c64c7e393fb2ba22af5b704ea466951739431c5961513d3f702c84cfd3aec240592b81a17165ecc950591f4d1e23282c504b0b1af2b59d78d01d6b4f00a09d9c5f719d08bdd3dca62bb7a15dae1b049746bfefd0a151e9392bc616ad0c21ccfb4bd6a7c3dc2b03b49253641902f8ea1ddc202dba5ed6534b14c4b69f5e6962aaca7fae21e4f003507c012d7bfe8ae81e67a20320a2e5130b9c231981aacf2c5a841cd1652a9d365bdd5462d1a91a06502cef1aa631a3f1c0f98afd520c7707527532a6deac73fc05f962dc0f5bb6ed3cb454313ca996065f45c36d7904378b7c15e7168dd3a29a449dc26583e128f4f834c485cbde1b274309be4a6f556cea3ae0d5ffdf30b5ed18579a434a2a1c3b41082ac998d621c9b380e2e3f28ed69cbe817091e2acb1871c25e4e05ae57f67f3981806328a75a12eb5bcee37b1b9f5005ead3e602f8b26c2de86d800e1a3435b20bbd271ae347a8370ca26da62aa73286ea95d818dd21c9fc1fee8a40be491fab039c80e68000420a7449dc39d428c0b4ee307d8a03731c57e77b40d0adf75dade7d578f1312815cb9a2eaa0259237987a118297d5a34bcf6040dcaef3c6df6b7ceef9118f89ba2cf63c0ff1ccff55d75cd3bd599e278eb8b85701eda5dc2177105edd73bda87c6b47d9d7189be5c321a8c220f3bb5febd2f0ba06c039a734e7483624797b1c97245fafd17a41d506748e908452de0a3f5e460def53d35e8ee02d23b6f1b4e9497034249058db5e26e20fed136842a698a5ac76f06de104de1d98460dc44c3aab2cfa36408e58704855fd1dd0a7f0d7eb89151f371447cd42dd693c42fbde16fcd9af940dfe4347493928b6d7262b4306c928683dd3dad3f29c2e583f9cc1f61577b3f38ee5720c61d9a9efd0763b170b1259aee67cd340c168b82950f519d8eeb768936c17945c17ae2f5ab8c4f94c85f89885c66fd68685e3bba6314c385827f493b06362ac1996cd8c405d931a2554cd1857a39086a3e575b9ea1bb7861e1008eccaa412120c806f8e272105d4193061d92f16fb4d1c7405d6f6ccc70947fa2dec005699ea9d234a748b64d9ea7c9b0b10d02e2030eec0ed5fbd9a4f86eec253fe7c62fbfbff3c72e3e599857ad0bab83b0f5b5d39ab8fb82f4b9b3e18eda1ad5aa69a1fbede90762f026dbb82152c84b1050a1538d318214097d50ec9a3cf211e0f89a60990b47ac343d85a460b4beb8d27b59898c92a418dae5a5ca8283d27a617ba640c0effb5a11bf2d9b79a860541ca3aeb75873e189d6067a107323dac0def04127fed7968f228e83900414c3fc3e8380465b4ecf1ee9ad7cdec70174395fa7f21aa9c9f7caec25b0bbea8867ea3d6a1b14005f73d257de04d644d9b1818959b22a6e97040d77f0f06ebeea709a933af8133c2ea3f18dbe7ed416826d38fd69c99f80a5fbf9458bb4f209e1d56d9345fa53774a27ec2efe30f6bf4929cb0f04aa854927c198d9b80c597a286f186eafaf4cb99fc7a739b8beb5a9b60368f92172abad5875c42c585715d07582e5028a4bbca74d986f16d0cf0369c391007545f8719b6df477543128b7ba2fbc87c5a4baffbea74985a97b746f704da8000d6368ed1148c5b72bf4d58e10b8c4e4ab36a161f038edfdf02cbf4c983683613d98959731311a6182bf485a677dc322ccf71bec4c3e456725c45539708509ad598209ad32d5145fbd89b2bfcc1c3ad8558a6605e1a51b15c472d7deb04ae20f678b81fec37da9e54c30f3c7c8a494d1c3a1eb16ab8a099339b86fe97c5418c50c8276e71fdf17897c0c7f66cda7b89f0f7e2f563dfad1e4b7aa65737a7042aac9d139eeb38f237c95f7ee02b632e9cd4c9b19e25caf3e9df53c9cac82826de51f1f4f11cec6b32657a1b6a836f31297c4a9abc3e72e2c767f9e76b9c155bbc18574de437e68eb53b46eac3c9835d7cbc57f1782633076707f2768298f18dbc33a1da79b12334ebe459367171f75e7064a213a0b44fd0b267418edd51ee8c1139a7cfaa56e357043884bfb9a557f55e2c7971ba90d85d76967864aeebe56c887ee0ea58b6349f6f1df16c40b7477058bdb3078be134063c436b25caf818ead83ffb66843dde2f5d4403e5b851889a19dc240e5dab6ce29f73f355d3d0e4c4bc58e2d629fe7211b1cc6a114d483e09d141fb2a2358a0a0d6ddc0b05fd98841ac7707a7ab404c2ca564e91e2c74829a192e62e0608777a21f63a8f53367ee5b17737df14fc6e4eb1e4d3de0bb6059d749af03474e426b15dddf5e546e4dcee9eb0439c85a8017b7c13792684fea453accce57b35837d2f2bfa37909fde2ee9fc476adccbf45487a562ee1ffca9a167244cf0a896d1462c07f28cab20a45753dfeebcd9222b6ef1822ccceba7688e371cc04241792202b5a68474c60a5fcf652d8ab710acdac98b16d85d030338dcd5d42ca6865bba7f67a94f8a3ff2a45e2db80961c79da68bb98390ea0498c0363045ceddbb41fc40fb706a347957fb9c6230b35e5fe593f9a761d2e35c9f571c8d54679d7a8c6f542c5db87cdc061b07ed0aa65707e5691c6cf4291c5fac74c7ea826ab137203c238113e3c0a2232a119915efa8794aee5b26eff80acee371878cf247f4d1f224a5eb2abeebbfb6709e01d893491e4bc6a0a06a3d0373180794e227437781c4118932708d436ecbe2be629f8275672790cc280a71f14a1853fe60df61a98e176f95e7df140ff3adedca22017b6be539993526c28bd51a8518886041547e8b7101d542b498d234570fbfbdc534bb9390e51e9b3c39ce3fa09ead7857449a79e9ec2082840a941f71506c228509088e530dfc4e0fa8c8f4800348aa94aa32c802bd2d36f3561c5aa0e65834ec8ebbe54a7778a46474a08a9c0c1fe883c7c98b4c33f25128dd25f7dd307a79a13eb86cb8a8aee084865612107ed7fc1489ce080bf2daed45f3d1f342c0f064c393f70912eba0e87c5a69930cffc104aab7b929a3ee1e87c273a946ef5e7ee75e45c9e02c8e7cfa5fcdd14bce019405ef900a14c95f47cd919609254965b849d09273767777b43e56cd985338278587c692458d8b647c5fd962ea7bb87805cdbcd0419436eec3089ff517285e902e2a65618641311533e96bb60e5ef9500e8ad7d08724b346a1af50d53883b027203c2b4a80da85e5255521cd5cb09420d75a4ca12903dce824d89d7765d366bd71ba4f16043ca586a90669bb2e3cc030864ffc68d396bb58b6410557cb3dc769d92a49dc013858f69a3dc32e0998059ee146e5c475cc4900ef8ec236bbade9760276cb8fbdc9c372277a979d8ebb2efeca867ea3d0f1b230922207c0191f89ddad192899143104832648ce8446bf5d3b498c1f967c615919af29e9bda6fc7e8c4d8d48b185788d3cd70f20aeedcf0e7f844060e809b6190eb37d1653cc9c1e37d5419eba4eda0b9f0650e2275e555c678c8e2a4912e7e6c8116a56d5629f6650bfaefa522327b001aaaf088d957cc69f2272bff6cb1b5cc9bd0e2afa8a00bc976a72b5102113ef07fdbe6441a98bccbfc1e706857976994adfb8be718010f6f41e174f81c20bb3a3a8b3f01a8699a39a762f8d8e215e145924ce26144123fc2ab79f5a502fc962ac5469a68b3b7752f6e02cceccb2620767b37f795b40c0d1e6863f9abf3ef2d6eb8bf2b65d19b68607cc9da19aca9628c1a517829a7c5aaed253c183548cdd02a1ed286d0fb087e6d58e7f36e2549a89643a33ae357e44476fde57056e4319c51f7f2a63d26c5a7e1e57a7951de82894f9af9d5d8dba1bf0982436c8c4fef321e41ad8094a55e00eac2f1471cefec829129411e4cdcb0f6c1306a4d61ee33addafc96b51d2931035ab5e9d02fd16f21446a78188dd03a8ac950c7dcbacf94055f5936d2d38395c16a6918d6c955787213b99362317e6d80a132bc6b0c5ef391394e3e6c0a867e27c6a97b39cd737b7955774773de86bf713b39ca32164d053bb8e6bd0e0f7be77a4b4c9961e5b6f1a723ef2ac42cc71ec110788ce523a457af6eeea31e2655affccf8fe4a992dcd602e599023e085a1665da576b009142b09c437bc20248d6227d0470de2529fc7853610e4c68a0525d6d759ef357b625fb71fdde98c288a7d09fdf37cf76d42d9aac1c4cfde37c51abc93f503d8cf254021432bab94be7c3da4e04cfca6faea34801c1a505eb3dfef6b828552d7982e996594c36e4467bc2615a25d11d3ac013ea7723c4d9d5f8cfb25b87a74cdc9cb49c8781db47e01afce1dce4dcb85372db18315a56c1309ed8a71266de99ff23d0cf53e1149ad8b283ac6c11aa3b92a9a996fb136857538ba3f2d4b8e03a424fa836f9f8d7d92a84f47520d1fd2a39730a7974562279025cd811f2da8c25e1b3fb60191e306abd37fe76d0f268c271895ad3efdb6f9d36c6af06a3d4617f0000ee1e3567da541524e9b4a9c2795b7915a3dc5c83b18d0470629b823eccd88bee0eef7dc90d23302e5ca81978e5869c62d263ce6d7c1adcbd198bd7a09cb61252e2d7cdd4e76eb130b5449bb974fcdaed1cc4eb114c07d92e9a4b2f83eb1deef13b837b57bd44bb81b6128528eab7e5e9d64e0e46f3b9f1589e4c8cc0874101b198de84ba7a4148e43e90d00030674453cf46ed8a7f776e0601e421008487494c62169b1e47e9d481a2430fe33b762a6e31ca03032852af353617804339dfb8e8c9ce9afd2bebc59cefd506cc1f7aba89d1a09cb71f8b9f7d4e3cdd0182a390c0628af2565d491eaf7729bf788b768ab0ba0e6c7a64edf303dbcb6241af150082c916404d4e700b5618f5c606222f22e5bf850e606336db98a3308d4b11e3a5caf1dcd98901400f0c7a6a425666a6085a0004ca4ff4132f5ada043e856259b484544c4b2c4ba922e301de83b9fbc77a0513a5c5982db153041aed2039a3edecc001d7ad11a8486f9f2396bcf89b5c6662c1473c1c276572d3217026e8361f9cb6605e7c20106d6cd842665a181da78a2af9b496dbadb5811d89643f02179cbcc41c968b40e718382caae20e7fd6a4d8a0bd37b838371827b832425f49d92db17028dc001e62502cc5baf9aa910d4d9a2f2fccfcf634c102fbac293c4d70808f91944255e8f89a9a2093aa3a1620c3fda0152530aa565bcdd29421e50a5eda1c1d03f51a021c92e24c026533c80795d7a9d19a4efa1e00f5f2875bad57d4dbb2a767c9f15b35e82e9e6fd344ca0f0a39de46dc6b2fd095e25a20b29a19ee8af84023800ce681975b6f74fc3bfb806e8d50ba92930e1549e792d8663f716b0a395f5c3c4ba2e498c537ccdcf939591aa3fdff2f662b984bcd27951aa739af64b7f88a0a0a26d66199469b8d4995cb5d9672b4c27274c01b349e9711e702fce38f51b96b56f4be9b669db01a9bd323b0377e2f17ef778ee53a27455102d902aa6b323de98a7c0bfaa3221a6d045a1ac2de8a69e8d596f750aac37522cc7a22c98794e5fc82d8c4b027cc0e4f71f8d95c8ac0e04a15155c25c883a197258d3c4fd8665ab6a01eb2bea1c74cc365be2f0119dc3d1a9310696073b02f712e21d76d1bdea493939abede6f4bb4f4e236d0959b780b1d379f4b862a1782cedafc1a426de53316a60e87036909273024820c10e9855470f596a5e0a188d04f9f5d0a84fa4261a18a701b91ac07b2fdfe5672685a252f04a162245ea24c5dffc29bcbec37e8136f1b83feffb52acba8e327caaf0c1b82932107c7bf62da97d2c4b8a17ad8ba500dd8d95da84f241f89a231a0d1ab63027f4e088debaa1cb9ef88d9612f22584006201ef191a127b7557cf25b271e0f386e3d0373a3b3e9dcc790e67ac95619be255207eab32ee522eb4b836e073623b3e4f965214ea991a5594e98456d055768c8c3123f4c7e8c33fe1172c36d6f70904979ce4654a2b54bbeb04069197f37f524e9fe3f63b97388a090a91d01da583d6c685fa4d4711ea1098db47f2639036c7166e224cd6fcb36d7f93d52017c60b3dc0c67306119473aa41e11077ced907aeb272c1643212bab7d76034a2605cf7761d2d53ac8070e4f8a60fc6ea286d6759c6badca9f80ac066d914027c821759225d0edeb16b403f6cd599f20178b650040d4afda53a936282b15ee004845bafc283465b0b2f44092758208f544aeea9cc933d861e62aabc0be0fdfcc047aec581765e7d70c74ede49d880ce6b4d0f3ca90b3bb2a471eb40872a2489f7cbc70aeb5db3a4e480166c61ea730c925f0c0d2c3a0315fcd9a8a14c7016e71c5942bbb13fcebd95b2d9dab5b96e9d7b628074581af2b559ca4ad2ab0b2c0be5c7f2242ca51f4d8d0962ece1f6ca2432bba7512e3f8127cb440dac3be06ef3aa435a3b64db80d61c1754eb8c9b7d1f85cd3ab09d54ba19217c37db2b4124e7355d010fa701f8561d876e193220982faf53e8d368998db7fe06c45891f37658f94955b24bfe59a0fc375294148b276389e5808a8f15576f0f5f4175024ecf81a3434008cf09072dc3df47d452ec2df60363d1792494a1384090149b50ef9c02c21d7855514c21168526c17f5afe71b7bc815437022159049ea53013be2ae6844e914b686b5eb04ecae26cf8bd837c1f71d73f6006cd41ba08b60af2e9f0b95b885629d2cd300ae37dad5926648bb9cb26b598e4027c082db3683d7e006e81cce4cd791283466d4f85dc94f5fabd361952a26aba721abf6af3fa4cc24ad33488c07e54cd22dcd5d87bba5132e756f60c8689e86e875bdcdb31a5b51ec66d41ac4388cd6fd2b5d6581f20cbe9a19906055c0f7504892d07324275f6515f232870aeff87b80c2bf6c8a174d161a9747069288c1f46fdcaa8e7965ce2bc345342bac7eb3b9f464495c4bbfe4285014e71deb1fad92e2e088510732f2819d365cf981b8be35f0826bcd96acd811e619b115856c4bab1751c6d8b24d1a606f569fcb7c42f5f4872fdd612b9dc50e8f2189e81b5a9ea48beb8fac14ea31ac8c54a127351630ed5f7bd5efe2dfa44c8266f93512d24e1064cb024d6598ba881a42952ec04f31dde87164ad59e048d9022cbb5ab3e2cd8b6ec8191397f642203b757bbeaaff52c11a53da57dbd49dc9aa2904beb24bc3e52d1d8632d92d10853a5aab53c03559d0fbcfd10f552d0a5676837c9c1bdeb79b8e78b4e882fa3244700c78b21e1eb30bbff0293c0f6dfcb0b1b485afd046c4ae2100bfb00eebbee66b95cd4a5796030abf2c80118c97aa8bfd7b05b0626f01a693eb3cb6c37dce76c7955223c116c86bc1e552a8cd983b9d0d1880029bc97d8e2ea02eb596ce9a71b856598e2bcb109e87f784620c36598e966514af8c18cba765fb88baa7bb23775f4daf28ec34a62a6b7a7b0ed667aa2fe0697c458a1f6c81656de496111c9c7c9f88de60912ce0deb941170bccbadb2c8604333b0851bca3489354efc1e7bf54e79f3d995c57518814c96aa831465e9e2adf4c621786386f655ddb34fc401385dd899ab2b2102bbca38792a71c8caebdbb86c1eb302855902cdc3607bba94afba637fbe52ec3e1e3ecdfb107606727d6928d0f27fa10a5c31e8c1c78a1485439a088946f24278189f2ae360642f072db5f0f1842682c4e5461bbed3eabb53d13788b55e5372f7af72ef7e5d6433861d2f15f8fd64087233ea96681054ba42fd05e5b94ea19c06720e3ebd81d188e8c3f32b6461488032d688b6adc2a2564c6a320f94732f67a30cf0108603aa6ba52add54486e2bcee0e2cbd6653a7e9b44d1ca88492e1b08c9dcd8a54fe76f0d3681b25c2301b0dccf9c450a33890a3a9b938101db2bb0d8ddeaaa387f2e7f61de2bb43ef8b2bf613a8360bb23cfe585ffdbf70793cbf363c57440701d36609010b00625d45e63dc63aefcbfbfd99b94443b1e34a01adba8880e95cb94e552d358fb658043c2fce693fcef268f1065757d7945f44074f231dfc573914f48a9d70df9fce788d0dfa9e43aa58b659769d7c69a4b85649f63c391b4485156a0fcd5c1a134591b1b182884373968b7af7d239e7bb387dbadda7724a1fff89783ad792baecec565ff9164b054c1f015c2e65e640d11b1a0f4e8efb77e6568af73f540b837c4ee20df28d0cac49a27f58f2ce0379d235cb2681eb8ff5c90d0056e75020be0f34168c93953320822a6f978c6454f9fe7e679c42896f154aa5668bd5aac9c6c64b201b4ac06d73ff268c7a3b411476c1b27e4e44990364e66b06f808ad14ab632e9efdc4e6ccb349288361c411e476deed9308c8d071cc23de6dc10336dcbf186395975bb1feef5982e662e4a3c925d4b4addfd76672aa7bf3f962f17dca0bad333296812c1a988dd980e49c259872767a159613e8b4c46d8fdc11018e51bf27847217235eefd638db1ba6dbb1cc14b4846983e0673bf35393d87fc5e2ed84f2180c849dbefae4ecce5a07e9e373c9755ca42606af30080dfee4af76f06c49116150449fa94de6d19dd252f4c5c6a87be2444cecd7a0bb986256d0b38573952f26a794274aee96e1d5dbc2b55ca1e6bdd88d2fb909b2d4f04f733e341c744bc91d0fe6787ce4d786c6185db3cf2141c3305394c694352040a6cca38ec1f328934b1fcdcd603554f67fc0b3c8de49339a291d9232d84bbbeac984488815aba23bd9fe4533403b54e1c8d153d9cec29017bbed78f5a977537cc65d972ef9924c57222cdb5236719f7522dafaba068f93262ba8385c43b3dc45e9dbda7c82258fbd582677103f94e92dec96a1c3ba9e8e8bb8bcfd894f11f68c5cd888a9f282c3a48206c09e500302eb72255b1f97da5e166bb9101944bef8f27d44ebd2fb13308ab89b46f176640fef6952872f913e32f92817c03c652774a59c104770fa5d13582d95bfd83edbc6f96881842f43735126a8c9d3c8e96d580f33efdf9a0dfeaf22155d9418121bca92eb199faaa798ce0fad4b3026b55e7ab8fe7fb7b359f1c2a9df8cebe860a5aaadcc08384d3a2bf4f6f5dc661f12d019c1ed6c5806c5731c5de2d079371cb683484de249f0497b93dd2cf43b0b496d60241f2c5a81f71cd6b17057b825e4946d77bce78bc1ae40431ab88436f839a61446b56a43de06f05cc60209e629a7501d7a8b2af6d1d1b452680788e1e934ccfd2a657c0b3e2fe3d3e5dca59e8d1b426fef210e08f3445e4aeba89e15e47bb1512cfd21d9b7c972cc20abd14accc36eeff8c531dcea2c51c7a7ff4d80cb20deea3b88e5f33b5c17b094501ae1404340dec6af26625c2b4137aad843bd338f9ef77eb378ded0dd15f2a44886f293d5ce00400b079e457fa2c5316158b80e0892a9202c2af67c3efe863d9028e326f9d762a2eb147e0712496942207d54d0c4536ca4b65b70ad379c1673f07510f29ccd66ace08edc93f0f5f0a53900d19f47c99985bf751a603a759c81ddb73a030167faaa8dafe1066d80246084b01019f82e0374c1fd3f80bffd1b90f8da253d490bcc19c81977ef22f7380d0e41b9d01e9627b953b9a9bf41681109bbaab4683b2084412389305155ba79e882694abc6244a6ae742e6baecb2b77f3dbd3b677bd7814beff312c42ebf6dadbe9d1d96205a89e7065ae4d61bd9231cb17227a86b0d1de0d4bd1a525a141966ed12aac9c3da7d8c7c9136afab836f3285cfaa41c343ff140b519ac988a8856b5149757fe809f0ac3d92959128326dde21d1b4fb1aa242fe5c0a07b5090d0d82a9179fd7bf470ea867fe22cc84693fff5909e188b76be60aa79ff28882fc71dd5a4529d3a6e213dddff4df805fb8f4c6df3292c502f6b606dab7997e85817f798f1d674d15a51716652eae847b1fa18f97df002eac959721d3c08bb2c647adf38ac3ac4c3f13add2f88f08c897262543080ce5c7acaf8eeacd545de9db85d0a1f1f6f2ca96e24e40b5ac656b55f16c2d13fcb46ae9f7ad9bf67117791b9d70dec137795c413f68003e8ca858b766d829e1072759e0f34640bc49202cf9280f005e6ecbde7aa7427f1d3044d8b8133175435f68431c6ab367b3b2680337d2f0cadb94096eae76aa2b1ddfd90520a0087369f94d6e4348e1b23b6f156e20080bf339bcb9ef622af91e3b0e78dc0e87b14f6eae7f0d938f91fcee1b8fbf8f03584268c0743ecffa01f2c563a219e2cf368c0300e915ff6f43ef6fbf2dac1ce1a9633d97f5a25566de96943e09bb18d672e2752cbfdf5205ff7ab924f4e362aa2542bb7ef48eeb33a842e5e4bead4db40ca1e40b9d9d7fab3f76fcb199e335fb53da946984653df2204758972c1adea1eed0f071fe85adb0accedd692a3be545a82c7176a07cfaa912eb144ed1215ae7c9b89d11133d537d46caafee6d0a27025201449ac28c2c1ccdd0f8a287eb710884278c2e67bd98a4fb4d129041a38d05b5989215712378d593db2a90088ab44ffbde3cbf3b8d4f06d74009724819471c39f0b33ac1c2b5e2abc660255cc8f6598d4cf689e73ca4d49f139f8d676d1a4b28abdd584f9a59bf689fe2c3d8ec7b8aca2b2f086012b760d47f81b8ad0adb91d225777614328bc0708cf1f0c845f687274b3cb68ab06e9894d689d7fdcf49c007d2181132d28d145cea9218b38c1d4719ebd3778745112ee81d4e1535e0781f7393218137204d430f933bd1752ed4a2a03f9bcd005e9598c6cf720781fa33d138d4985ea03270451c0224330a4da81e4532b9baf50936dab231906334d36d8e05a4f6061ab7a7b4f274468c367df6fca054834ebf6d6420a1eb2b324e20fd7804c4f201c25572ba092f63aa7a6cbbf4ce0ab3d2f39e4ac73c0a9863dda0345f988b41219a534f24a70333c4ccf76e777af6b1d553674a135166470dfffbb7a243565314b8b18e29ebaba9637e861b3c7d0f51192d70499c7e5db7b47ca8a97703f2eb8be8170a09001faa947dfc2797baa697667d1559d983950af59e7c679ce66e64727c8f9f6d2b3f4ea5c3524f65d0db3ca38246153d830d63eb25875511c706107b5abccc3bcb36104091abcf937c291cf26476899cf2f40c5c4b50b574cce3fb6859b191838fbf0f880adf21f4c63ff8e314d22476c5f6277c943bdff6f1ef8b2940431624514c4356a2831bb1b074e4ba724988276c55621e7de2285745aaa54856f363e2686e6510f3a4fd23b9f98e94ef385e70d86decca9aafb411ed441cbae80ace9b462c1f0841ee44b0923ab9d480baf8541d7091b3f1fe60b6c33882bc6f22523e4cee010b33b52b627823fad1b5dd561f43719843dbb8b3ae9551d5fb6beb167d4e50963538d9261c8d6e3947481ac5f0a60c054fe84441f5e4a454421e3486cef1ccbec43acffcecbbe3422e863d8f9a44af9d9763fa99f7075776fc06dc","isRememberEnabled":true,"rememberDurationInDays":120,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
