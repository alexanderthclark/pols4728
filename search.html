<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"2c59d3b6ba44aed57ccf09cae748354fe3839fae5a5a3556a7f29332454388896b5cba80756d4c0a7322c3e61ace66cdff79209246b276eeb5fc7a72d2219447d82d1f91699b4a3418e69febfa9943270a22a709f9223ecf7a844a2c28c6033d09ae0e08588ca1b012011e5791379d136718e97bd474557337a59f0972bba579e0647768a4e35bfba17653b6915919c58041a9fe258204dfa534958a5d7066c3b43deb811b3c59bcc0af3f72ad829fea1d13a229798d491b6658542d068df10e554871cad6355115256b9d1d6562e8c530fe784890491b61c09ce8d2de19f33d7fa4ec688180f30b4fe7f41c55c83dc865ac3b2e11c31e7aa47ccef9cc6e4352afb0dfbc691f370d4a630859d1b3440c4e2b0ec7f852593856edfc30991557b2ba29c50e3b76a15199f4c8f004243016b677680976a3e43e53eaad4ce547cff5abf9c80e35ec30684f7d4c2046c511804556f203815f3f7e23dce90b8435176d7580b27a1d988c376c42cf358aeb1cdb57824485df0aca3de4c9b9aaf1aa36c6695f52747dea6c1cb45c192742581ae8f1ccd9a47a91b69cafd0fbb21099935445280d7370bdb3665a13d60200731d37c1e80458416ad9f8a6a73a02f0521f2aef310e5c8eb975244344b574ee76462a5855f62e52a5acad97200f0ffcc2dc4689849e7465314770d158f278ac68faeaf5ab7b3aeac24920249152ce4ab3d6ceca919c308215888cdc5cec96738abbe9a432838da0bbb5ef1c2922b173b963d678744ec40e074a612ecaa6aabdc0932718d391746e92480c9949b677cc9f9a50f17371b202ce418f332056b9b57a7b70dae7f0c11fca96e36a6a786418d7929901d7102037a034dc46a2d41357d892a08ab4c6a0dae5fee9258877a10d879dad62da09abc941ff13002248dadb5b11ce41412f64bddb7068c34c7fa7cc136ecb6766e26ba842205669cbb37e61210f517bbb6014622bf0f5711cd3e912193f2f398ef14db063e32a52666beb72afc7faad81e25b8d5c083f1ea67c13b9091544bbd7c36d3aae2aeae304df4f9ec6fd4492e9c9177774ddbc5710187d804afdaac0265693e596753b1a18e4621fbd57b38926ea26df795d6db3def7cad9fd8a07398f1ab4b77e28ddbf8cd8373796bbf0723effddc4ff9826a968cdbc1ec4143764398675c4b69414232c3d70e49f5d81bbee67e923a5ca14b8b8e9a11124a242854a632706f14f497eceabafd0f82fc9982b1139f433712f90c491f9f01b57c0507e31d12cfdb019227f19f5c0ea9dddc380301685b59ee5ed16313d2272402bed1d36e032bb94f3dbc5cfe904c1bc4ae2b86b2087c94874034029ff8dcfbd69bc9ecb387794e164b0da991bc38d3292542423d77f2c8176e09a8abcc62763b457e61baaac985f2fdfe51d83671afd0123beb7a45ec50ac7efc1eeb91a427714c459a86b4378da0555687dda583bffaa9f3905f2e205b6d63ed0081aeb326a84464f95391dc175d98330d19bbf223e8f185c01f6f7186bc022eaf3bfda239e798ec75b857f50134972c107e49c41a61f3584a10a2f17534500b3d3ae075bfba2e09efeea077b24e9f7ddb6d26afd2c516104d0b4e114a37879cbda2b195b53c62a543616dad368795cef3445060c3cc6352fc05925686dfddde7070f95d0ed7d5766badf298ce11981055b5e32ac3c445e77f51118aaa2512f5779c973441fc015d7649c3ce6f3cd11b090b79bb632be5928c934307d0904305b556cb697300d85f84ab7d0cf96105ca4dc619da7a4088fd24881ca09d742b0cb64050d8f02258368a3afdd270dbae12fab88d778698a5c2be29ddb7d9e83411b15cf5dd9552e9489eed545ec46759a8dec0d19b7c4f878d2bc6def665e4c14b4051b66e124f8db5cde20a2da2afea9996cf9fd802285823ed204f3888e771a78760390410148e2feb6281c1131c08fd1f6e5cda1b05454da523c1a7d8f6373c5dd2eb332d946eb43392d33a639f2516a22be36e0f1affd2ef927061b6f96342d5d695ef534c2184999a7582bb9daa74a8902dd2d220e2adb80b09edd7598a9141f47ae3c1921282bed768bffff74f958f97fc0c64f50c1a2d14e48d07384744b9c2d8e9a816280b0b3c8ee392f315bec5acc6126bb958c607b6c1e306fd2d953fd6619d7b1bac4b0ce0467aad0925310258bad671f0883cf607c491f6415c5d82ccbeaa2ff74ff8a22a931ba348f57a8497fd56c7b3b3eb2f0d9ae79e6f195c62053fd55fd41816c1ef513af763cf1754e029ccbe581ae93b793f2f196570eb414aaa9822cdbf9a663f7f7d9b39e7ea07e2586c0f9a813315653385e22f4ab744599e61d66eed31fa89b4052b95c30c52fb884e56f885d23f1531b9f681ab71a50349417f457352f87965175009e816f0f14a3257e1549863d1e57ceb8a3ce6080a5e1f21f6f16adce59648a1db771e5cccc57582122dab9212c294444b979a3e4895c64f9bc5281b96371076a1ac47611eb1d6040cea0316004d64c87c7a9092d48e2d68799090e27a37891ea066ab6cd3dfd74b3f73367eb551de19754543ff16b69c46f901d6e16295e9c8865a5cf5ef4d0af423e5f49a65c82986a04da8ba799a2a746e322964e9f8d526df5b472e1f0a1be7ff4a9b23568a07f040f1ce7dbadbbf7840e511889bea6aea6233104b9d3276aeb7e69058b0a25e0a9fd6dc4d367611849d5374164973b8f864091ea931a685fd82ddc1de78fac73102f9664aa051a7016acb688a72de8d10dfa5b68226c917bc4c8710c59f714b623710cddfdbea7aeac114f90bb4d16f9271fe2d948235caacecc08d7321660e3795d270932f0c4c78e2a2ae4c8acde94d89bc3e32501c3de429d846af3524ed4ce88a00edb6837435bd6340af2775cac6a285d35dd32d072d023b77a002786dd3d9dd451eff8a0aabe5bf8ae9508fb184683fb60f65040835e043041b618da2fc278cf3c19b246cd99588061cbb476899ce7cca8ba43a04de2ace459ca6288bc33ee6c888bb6d5a6c0e3c761a0bc425aa15dfe9ef6e4ec82f4602a8a0b07727145a3c65e079f7d6a3c3ce99a40e11cbbbebf94be38501bb1d8ef2c813ce0f4706b46524872df35b6a70a5e0bdf7d393cd91224ffd269004f44860f58baf353e52bbbceac7d7026535903ea97080f012cd269a1f8ba25969f270775ec17989a45b55e605c1201bfdd39b4c0c0c7bc0def7544f98b3882f49ef020dea7d7ec694ebcab33101f9deb11e65b224a0af57ce6c158ea99aee1c1b08dfbf594337ec23a2c6acc692261a818a0213534c96a05337e8c441e78fdf3a15684f1ff5bb67a55d044cadea8076f8f1204a54d93d311f30ade466003cff8511a13218bb62b8a6d9300860c1e92c45ebb4306c49fdc322dd871bc956969438feca925216f4335638ab4a32666fc1995e7ac4f4a4f880b961d7c3472f583050c77b248413fdc7dc98a9cde050cadcb2a4668cdacbf1b5cd602ca4cf3562da5da1af8bd5d164310e0e99548a52975cab0202b49db56c3a00e087466df2508b39060a6523ea841884a22828c1d04efa0eb312d307e2c53ccad4492cb9bb1c799784bd72a212863b15b96ec042d7ea667f6bed40bab8d370a3bd3df6f99b66a2057a0116be74717831b179695d1bba99b2f99c12a82cec79268432549f22de51b662c3a28c50e33f3e71baa35d500fc992a9267f0b411d3c0066c4390ffc600221f298778ba027889e5e36fbc0d647d28b577dc1864ddc8f65c3e3a4c9732238864c690eb05bbb3787a437aa2bd733177a2e0d5c5d358e2ba7e1a7fc8f646a0bdb2dc8ba35b9bd48c9071c85a48a095e9dc30d7740ab691a0059a13da1b7e8ac7951f7e293dda97a54868d25bc062cccebc8e21e173b235371e7f1ff3ea3d8c93eb8bffaf383b71506df4ea26ec60c339ef18bced69e6bd9c7404872990530aef3d803668b31ff42750cc3133baebef59ee14f68fd984a65c8cc4a433015a8673b7b78cab0b781d8816dc94f0dc1f9b6328abe9adfb0d3ec52cdd19a7ea06fabad95549be31ee07b8bc8ee7ecf384b48b9dcb6d216e2bb6320b7b7f2165762f91f6eb9ceb7c9af3be9acfe1deb536273f8f59c4aa708624b9d9e11398f124fdacdae85539522facb9ec4b21f88eb6a93788fc7a29e24921747e0d0ce16b7ff6aa4ba08d98cb278ae06d6d2f37217cd657cda98ee8d7ed1134c15f3780ea76b570755115a13afd36e360bacf4c374e644ffc93d42c21aaae479834ef272de961f5d9e30e5c244ea449d637d874fc6230ea2ac967ec9009cf94646bf33dee205d343328917c5e17c644d65ee244d3c4032e6fa1bb4245e18a0ad07af86c678b5438e3c842fa034f7ea7db4fa883bb2fa4ea351e65e1f73048fa48ddd8a9b48ed54a91918b52ce58e45949ccc633b910ae583c42f03aa6e650eab3b2c1493cc6665a7dc1cd619fc94a6dac7f1a792f2ff28615955672f787228e02a56326e23d22c6994f1e0bcd28323ba628a867756359fcca5c80473250ec78df8468a1c71f4ea88fa69f5d3d6efa40c348dd9e3e1ad54ff5c417f5db6c7910ec0562890ff57aa421b5f604240809192730af785a5c1dd290bf4cf561948b194b5f0c84d79cb55ffbe7644e681f8df1fb5cf38dbac26da4407bc1b852941399c4d03d131c987fb3832c616d5e1d574f3ad7385e87b6bfdf0e8816ea9823ae2a359eab80ca9cb2888060847bcf6c55351c49b749f3413b3ba06d0d9e850275cad0838769ec3fbaf4ee4c5d44e19b00b22bc012b0d218061ccc24635a133ca078992355db340a756f034947aaee3a04bd9349e44962ed3b679a48d39623fadbc6f72b6254361e602e326aba43e18ec415a4294f18cb4860b1f096588b07ad67a55049aac5b3806b952e42056145a43be795cf89d8e061d0d07a8d8ba05b8d08be0de9bffb3e254d0e24a91131337392e6fc58db4049c0e864b560a5f87483ad556829335a4f3e57c1a035241a49a182d1744a8aa5ced52652ff56a1471bf4deafd45d9e0b6599d017f4654d0d3d52ff7be515d5a36ca986cd0f8166513bbdbf7e115f02428f21ed4b29f4a525cff49696a7e3d9a070b52c81ca4af49ed986950264e75f1d8258634e37f7a6566da8b9adb794952eeaa259740fab7384d79ed685d3f07a08e7058e9087abeac87a33c2ad411778951aee636549987159cede4fb1034a89dd52525361c513f795a2eff0636f3da4ec29eabbad961614250626ad8b63bb74ae3a7f5f6f155258f2f44357d758b83747dc684ceb207c1f438f4f604f635411eb4215a2736a524410d9c3498dd95f6dbb959477e4d474922e6e5ecfd9df43ef683fe117300f2356ca66471a124fbfdad10adf9dddf751907db14c44d448bf9fdfd265261c748ba54cca6b920f902ea106b1cfd9a4545f82f9bb8748f73df632ba6794faa2847ba90091640b3dbbfb23028e5a44302f5f2e82ae112bff8e6b5108c6abbdd801ad3d0a5969733462dfe5f5f91054d246102b3bea32d7a1729f8a725b641f50d39256ecfe3a2ce0343245c50408614eb92606d03a4178ba0af311a54624b3a93facc7ae458b411711c47bec2e4b514611a41cab7f2ea5e0ac685852300766cf374f6b9b3b60098ebeb4cc5a4a29c116b4575bebb2b4787ab8bce83f692fd1501cc2f6e653d57cef0677caec1990b4b23c8f42f1e521da48fa79aa6dec8893d5fde79c48c3ffce7413508e34b2929c25a11469819f7796292aef3b30340f8d03983d136c1dfd19b38d6bc1b4d42583ffb9bc969aac381284d4522c496de2ab38e586b7437fa04b663db4072ea6594f112dd42b732a97c1f1e4331cb4d2cd655256658138b4a77c7a5aa75ceac8f35a15141dc758c6626d567a5962f4790fb97b9d5285f17ef10a5e14968de076da9e8232661e8ea439885cdf11dfb6941d9df0731d9fe6a6b90da1ef75dac23ae7a51ee393804394975aab7710304409a760c1ca681c96334fa847fc4c53a381a94cbb330237f7d3a824c0f1ce549de5854235f8e3847b528a6b8ec879b11606f23dd60c8e3093a56a27369cc0d2581b605ebb528af95d5d23231b89b75ce86bb95d48bcbdfebff6cf54463415deb1bb56f8faee39caa303b08849bdd0566853c90a3418a9730a65ce6d4dbc277c289cf951515eab8b42c96c9a8f82284a08351f6b56b79b8345c49a59e78702c8368e4f6e9cd3c577ae72fe80eca2047e61293687863830eb11ca78b03c92ea85fecedff97b000898b4cff93c065b2bf50886da30805db7d4865216db723b759dabf666634de28813dbac9dc118e5b9512a4a9385bc63634a2f34af375ee7d157cd35a2bc6799e4ff7bd3b32c7273e90cad251541ce09ba78af16f18b0ce65d9df686cb707b1abfca0d90ea599d34c414bb9c66355bbd2b66e942b6932c9a446375a62a76063a110abc38f8420c280c8dbf12d7b00ed124f2505a9f292aca5fabe581f514093731b80397c78850cb59606693162accdb5c3006d617871b9869ed1725c0d31c3c07ae75cffdba7e61f1d42fcaed372c2f5b202392fb39c3cee4ebba3c8f855f974b309df6ac16dfb0cd337d6ef3183c6cc93d21eeb6be3e94833eb3b767c629675553d9b7f246d19d677d53ebe49b252cd553524e554ed1df60572c85691804deb6dfc4f703cf9cf24837c9cd3be77b12a4c66ed2928e2826dfeace75c8c8229e56a12355ff0fb87a4fa234af5ce1be69d673ec119300d248a6d63d41e4f92376455f9c5ea4de41402938451ddc1e160fd544d659cb6b7dae1a0ff37f704b53207bfe85e5dfc14f4792116b8025288b101aa27524b4042e57f5d5dc18f6fc56e991ee28438fa29918c90bfc8ad66711ae395c1ac0c2065d673c7ca7fcef2089e9056dbf9863fa464033a89fd08497383ebcc0dcf41db127ebba24742c0444ff950b56d2c4f7749bada8b6a4450ae3dc3168cfd00fd97642b9f20dcbddc3b123d2b3ca3caf0fa9f18c894a04cc1294d2177016b0ccbd8363cb15378514831352f07389b365020a2cea10c61ffe2386cffa49eb4fb2438e594e8e63c347055aed23e31246d890f13b526dadca3f6a83ef1d81e778033e1e90014279ccfe2e1bb79e22fc9d38f67df6aa522cb2f91c8db32d292d04c29fc8a7937527e21c211d109253ff01d149f0b6ce7dc10a123e48c7b353b14da334442823694636320d46a1ada41fcbf734976186c521c55109059fc5136d84c240f057fc208a941ee66c63ce64ee471dad53369e628e1a9caf7f5022c5674aaa65cbb50881e6713d26409cc20ac44f18738817f5f822d7a6f9ba6d20e9f2e7787d950b73c8a673ca313640c1bebe38ed5dea344186fb3ebb2a2be3ec4436f499766806f3ea5a2a0c9e2b632b17954b5db5fbe13fd34330e6f8638e417982dbb469f7979330b80d9678fae86b5f1e104c35e1f0dba9631bd82f95066d1e375127772ab5a6961cbb5915ff65acace0ace9b24a0fcc38dcc5670ea65e24a5767622d201a1986b9d9a854b54bb15303c9ec588d6f2aa9e0ae9391c72886dfef42fe3dc986705766efcd01b89b1dcb952c21b5edb8d3132b276f070ec456328c8cdc1d22659c069785c88f52ab0ba87dbb7a6ee8b774e4742f5c081e9a217eef783ad2dc5330056cbc7cb52e4e9d7abd5cd87d464708f6224846ed9d5f35a5b0ef9bf1bd6101bf9b8505e7cbf460a4fe15c2a3a5cf1e3c69a1ba079d4f9cf798e937216e1644b39a918354d8aef97df16192d9857ec8b13bd1653ab936ec0dadca1b136cf64aae7123396990d8911a427f2f3a7177eccc114323d8212eeaef3bda52799ce0a409daf4da8e6777f631ec2d6c2dbb23010a5039443e03255e995e9bd3b6d042bccb8c1b1d93ba00c8d90604d6ad6a5bf25f81779cbaf2910cf1f420c254281c01cec15a4787ee7eeeb09ef523767e243c69fb79dad22e3e352b231b78e6e9553cd1f9f105673a21f8b0ded35a564d4a7d24fa3042b3aacc6d8d7eb60ecea90d11076e7123f94bae817f4ab64d775443eda395bfad96fa2640c4cca576aed0500a1ce5bab3dd4ae5ffb8c7d151685da78529053543f48501dbbb60c377eae750ff5d525fc22c4e1b2d31fc086ab9b4e58fe4bdad6ff5ae3ed87636198baf247379673a91e77aa36bdd5b22acd40826529042da7927cfa5d3032a550c3ae62ae241865cfdc7bd6362136e9fca72f03a43941d26fcdc1d600d9e9e7da2cb1dab7a239ac32981422417e868246d8f560767e4c75dbbd4497fc76d4d95d4db52c76c66b2e61a954b800d067dcd2f9e568cbd62b593ca4d9476bdd82116a2f4c1d0ac9d189b98694eda02c0ee479323e828ca2d50716184ccf854874eeececcb54efd2eca61b33b50f4980fd66a625c967f1c9986e012ac88ad7db10145633ece62b8ba1fc3509fbb058bf27c80c843793b071a668f81e0a9ba4612fa5ad78dd3fed5b4f6f8927e2d7c2051fea491b63774a6930e63c72ec202f733fe954312960e78806a1820617a6f31febce8488a326c65a73ba1ab37b6201f0f28546a103283c8c1cb3815f847b6331e35bd2568c517700997bb7eff3adc0045df0acb1c29d514b0206da3ac76a505e5bd70ec9e664a4ab7edb5c54ef2497b6ca6b723655eebaf8817e3d7061766fdb67a27348c5aecbda83bb1de9d7a0a56bf60177b728bd7b87fccdb0f6578ea20162561850fbc49b56f8309407a0bdfa2d8014ef3cb93b79af0597adad26c83dcc7dddbafd6ad1fbfd89394e5cb1c6e9d07d02fa01b8fed09c003b95a2485345f794524418af7a235e93d4c61fcd51a6d94e737f7482130dfdeba6031689a941b3a5ab138c18c6a8c516de421f6675a67ea4d6be144f55fe4fffc3eefbb6fb57879001e76a13796888b96cf4fc293d082333d1c0025d2ee18599c20ad134da5f6a0f68f788a7118d12f371ef58594dccb0ab0459d3526a7be70941931705a53f2f8f6b9bec4c547fc35339f9622151f182f1b2c1575fa1437fcbd0aef6384d27e3f859b8188b2746c88941df309eb28b6a418a8442191ca45ef83766345244cfdb1cb5b08686382a58febda7693111a3e35cf8793adb86a1fd69ea0a0066a66db54d39b0c76976c1790a3c4b8459e9ac162a311452aebe3b2403c36522be9bf892e6535638ce4ef43a27056e56e1236c4169b6db9f9c8d012f8ff4630466c936b4d460548e20dcdc502da39449488d5b554aa8f044b378160e214dac1db0e1d0e2db74cc79ea9d4a60adb1928a0fe54632915303da152908a1cba07d68b2125287af9e4b5df82b3bdc0af54021c1fd1b4186f0298a47bdd00538b78e8175f852b9e7cc95bbd4b441ae4fff8360c6e303a2ed3c331fe919a7fc76c0574e0a42e519954f92b1b986c4e5b0ce46d2d670030d881b526b549ee479f61d38d9505ff0338bdbae0abd67e380eab38be2d48cf484cae55c56baf8107586cfe83b2acbda3da6a9cfe58198dd7a82ea491df911e8b245cc761d00f2885f23530520b7f5b3dcace58ea98b09e2bc8a709707875e8bad4fb04b4e5a27511db44e9e2a38b96e1e3fa56e40ffc42f09ab01906211710c40bf43f4cbdd43853cb4558d410abdb3c9b46bc229d289f74c010656400502c8416e933b2eaf06dabfad27fad1ab718f2ef783c1255e683975d59caf087c55e155bc10d8fd244a2db932af4c46f2762e0dcdc2de513f8206324e231e94037c9dd3c51627cd980af0e027a4253e78f305e8b15c053fb0022d83195c6347e4f5adddb0c154fd36149f2ac2701ba38e912c24948bd04078e3712b4030d8bbb77bb2ab8234e99783eade9b1ff432681e8110fb8c0467d686d0b4dd250ee1b599b0e3fab080121c226c0ca5817d97cded88594fe5f673171d4bcbb09a89cba376441157993a4a7736647653e089ba4850f24cb6725a5d53caed34d55a5d5614cfe6c7bec8832f77a133129229e15bbc64edfda44e5fca0e166cc53e29a3ba77b32131452d54f327d9dcdfa95b704f61a6ad77c66a505991200b083ccb9401eecc7351e50de2464ea5c1f749ddb5e3c07c4dfc515aa3fd04b85e45fca5141c6c348914425e38d15475a25c15c51102d945129b626081d9e5d7ea81a717b5dffd053414ccbdd5e0753427727c19b5c2f206e06e078341c86199c0593ae2b5f164037363f1999a89c1f45b9145c9bd9a9d1a62043e9af0283c64317c7ebff653e923fd277aec8af760b36a261c9b087e4f02730408522f427ef45c113021f7cef8ae86b45228a3d8b80476e85c094f3e22b564a1f7f3a784a3d6751ffe8599ea0c4057694bd88f514b05a5794b81412c1f90595c37f298e4445e3aa3ae3e57f8161dd2fdf8bce823f0c31b0a236df72e0cc0e7b4a9321d8d04bb445924f28eac341304cec711cbb7a34468fbffaffbe9a9f2522fd4d1de7bdc5ba3a996928748fc73a57b96a0cc70fc3ee34db323ff7b7eff9084266c4132e798a38a2e9c87bca0f72fc99ad5d2cdc8727d136deb57bf60172b10fd01c13a3ddfdd82f49df86e252cb9251b07f23befbd224652769c356d90286d817e9ff7ed57f8b8f43f39ca35bb0f70b685be75fb057c236c38168995bbb6e457777fda25c2e9f024f5e14157e848d7032af2ef0581147d69a8526ee81176f531a7349c5688dfcc2acde636e9d4b1ed416240b2dca8790428df763977224369b523a17f1b6d4247caa4ec54c1dd02bb9aa2cdadfc40b02278808e007f98674e32bbf609c527bbaeef648731789833b195cb901a2b9565889e8685c0fcfd2e4cb2b7baf4bc8b535328378e897b2232b69305294b68a9e77060d73d329c48c3f02bfe7e00685de6ec7666bacb084cfdac37d297e2da07ae3227c1c114c94b7bd6b5fcbaac5cc5024e84c232a052f06d974b8d4c6be2693439124fe40407145da362735ee4cbb2f9729fa950c23a43802aea86edc19689832d2b7dfaa01eebec1e58d9b7fde3d81a71bd238630aad49b44c17e1d8028c4976059cb68dfb429986a0ec7374ad1886dfb02e2b1edf227d85f0e6ffc8d054e7edc5be9b022a84752b2287dd0793469c4bf784902f877f61746d429304e68d294fadac7ee153977812b85070ef214bc524ccca6947c1ebb66ccf29a21a1ea30f8429efcd60e6b6c3dec483a7902341dbe1dacf26bcc760b624ed56fa0774e6ef14543fb584b7d7f596fc2e2b4b9e0b197822ce5e59d6b593bb024bec8c2edf8903b9c7021b3366e58bbb4927986df766af62be8a6153474e7c944b682b348b3834488171ba4cd7793ff95b495c761ea9f1526a933050d811386eb79db28766e16593c67f7e3aeee350944a56dbc8df28a83012648c6ce70fd69f207941595f763a8aea3ecf4458b32a936b9ff5614088854293fa9f33fa9e708936ac36f25711b6f75ac26259c6bbe4d4f1abab8c0738e018113573c200e5aaaffbd2122bcee985e493e396e7d162b5dbbbb36f6504bf4f0ca4f563ebca83d8092139682733a482b751d417884d42a315167418e19c964a9a1c84ed3e6e2167c8adc46f5e2d6845a5c6c87c20b111df4c1f88fa573be07570c72e495ac1c732ba3415136b6ef8160b724157cb68f7d78d7ec95bcc6f1c2592454314b8b6f947081838e42149449eea9877ed97dc517206fd5d0c7073221f3fce6695d0d7b65dbb459d9b57a2cac79f9a8f29d23071fd3fc37ddc23e6d7c85334c98cebd7b83b75f6822b112c25865b05852c1a449854ca9c966f20ff21c29f437206479be6f88b92c1af9c64c115effd39f6afa06232ba7fac84eef5d07045d4e73630dee617c97d9ff6cb7cd2ba0ae225aa1502927519aee9511ff58e129f6f0cd241a6ddc02f95fe617ec0f3e252961adff14d4ccfdc3d513d7811dc3ac95a944945c66b92d3bdab68776ee3b6ed87df9ab3f812337210dbc9506cb5a4b1d645f35ef2a8b5eb318c8d2dd56f0b21f09cbdaaa4863489a4b8653aaddabcefe94e1faec4f4a9bca7ea313d1aa918fd2fc299bc88ae454fd2a2851a10481eb23c3a6da405882fb36cd82e72dfb831682a2f76a49decd33fb9ca927b2e20c463dc79864f612607e51b4e6fd04ef0f5011fb74ececdfbb42d5278e88e506f071b703c5887cfa2204dc84c075a2f4b1b86db605f16f86c9a7783c38fe86b30f185a0d1610192141097fe4fc09917686aaf9439e1526fa58a3d445385b49298ac66fcbdd25d4b68789500bd0aa1e7db5f0781089ea27bd25eadfb464d02ea3ea38cdc04aa69b7273fce579d1028d1e18baca08556359bf9f4cf12468aa7cae08191bd21af13af83e66766441716cb9a22cff419f577a39d7cf138fb9e00c9f48eaf11f24ef376c23d5bcbd76316997c14d598453b123540e1dd4b0f4d1d2b8a3d1b2a640dbcabaa4627db63cee143998235c05eceeabd034abbeb5c75404cb1cd3abfe1b8b6a8d6179dfc58d97a801e4fe846cdf52ce823b38f47b19870dd7cb66004d945c9b0a7ce46f60417d4dadcc6ddbc1efe53d3dbd02a1c06fe687eb45bef9f6f6f1ed5e0fd6458447fbc4e82138b33827c5c5b7cd669168d96be8a82baf95160a2234c43d4781c6f7a36ba0e2db8253f426183668cc1068f0e03281d9e4c4cae827a6eac6b0b9e918472b79e92a7d070d122f37f52ba782462ddc1a2542e30a4b5c466ee79767227043d50c5d26fefe4d0a2aa71f852cee5912a1ee41c55a64df0b7b9262ff3abbbc35f73194f7421890b608582591985bc9388b4d4f53e16b0320f707b2f29d3f3c55fc0ad7e54fa253df3ccd0a5ac7e5cd3d3dcc738fed1865babb6ab7ccb805857863ac6f47e2d020956320d7d2fbd17ffd08654cd19b77b33fc9b84f1327afb6d9fd72205a4fadcd7be38bb619744ccfd03b821cae720b0d35290da174cdd6d7c23602f1cefdad4b7b80f22a8eb78ef5787aaec8f27431d23467100cbcfcbc831e4675407947b9d75c36782525a9fc5985641db429bc42b52ad8bf30fb5e081a0b90897c8a9d3cd9d5fc3fdcdcbe28a813eab668a259b46082e48a2bb3b4802b762171e333971b8094d4645b70b44821d16d4a6e5382dee6efb994dd72a60b48c8e03d8d65760bc8c77f4e98cfcf9942d5468afa9f54674c2fab3177f5bedbe17d662fd4bf4062391ec79eaadede517ca218796759ab6b034474defa51ba787cd9fffc8756b50063b3aeb84761f2972266f7f0e4eefb91ca188aa05d3452a343010fd6fff603cc1a816df9d4ca8c8b1dda34c3104c6c8f4e6a78cf6f6e850913c75a4171cb967bad5b268e563f0c7f705daf629784e2e1765288c6fda4af6ed8308992f1b0e52e9962273d5e9cbd627d3e766b8f16847d55dcbb32e5fe1a5f11cb3748d3b8a305e3b89c82078a05d1feec551a9c248379ad7b5332423464d42996ae79e1ac5892fd35cc7726666a3e81ba7f373e6c4d37e04c234fa4314488859fe13dba0feae8dbae1f337145d5cafd52fca57866da9b6b8d0792a8a37a2d28caf0916efe978c9e35e3c707f9cdaf57d70b06611dfe30efc6a2572abc522db38eec305cdae07ff2d773d091ea0b5c6f7eb4039b4c14edf7a91c78e63ad26dc17626e2850d2afab59e4ac93c4c6f2dda8573eaa445aba754d9b7fbdb697ccfeff64a6118bc8b40baccea8b55630d3808fce5cb6af10bee9bc47fa3ea061b83e8a5765d825163239adbd1aa67c8ecde0a2a260edff97c39127c4e1178020db192dff80470b71e8e065da2024ad983fb4fd316e0e1622278aff205b66504a435e0d8001daeed8971d4db9414ef7f4db154907a249a6ed490198df94e28b0f01a21d9769d7a8acb84b367acc00d2ac79b651a5521a17918b02f3f05bf92b55fa183505cd8fc504250a0b6215b33bc1d1c525c6ded62c20c93db03fa854f1696dc5988c28686ec61b4d3c587f8c9d07ea9d1b5c886fc350c42a25f397580c064f93dc342a002f379afd7d76c33205b3fcc7786c0d92e52a769f05a015222134d6c6e0a1eed67ddf082d173e717ec028a980ea78e96d07ef71e9ed5e4d7ec27f6b44b30e684a8ba82751eb3e39deafaaf2dba0ae4fbdce602b282545252f03558abf2d36d4ee7320c51519b27d236c90c7a1639df3217a5654dd3ba2eaab83ea93f9c94cd91a93c258e06925daa4e3210792a11ccf72837eb863f53b4db4af2222e9785df7bbfccf50bd3fe3c9990c2c7692e5c0566ee46eb4ba242eb7f47c7ffad15a8f25e9227796ac4b4102a0b121521668ef99e952b3964c9fe8026a28486721d81e9b44950e8ea112dd532482dfdce0145b551f873e4aed39fd3bc77ee70926a9041a53ec365323d4e0eb1439463bfe019f7998dfd0b08f27e4327e015eb81099d28a9e7135eb9158fba54d3f04a339d53969a6af913b644bc3ce21bb452f183531c1d764fdb61491c82dd596ec618e7e9ce0d764ce6004d26f7bfb4a76dfe0c7d209082b1465d4eeacbb40619ef2caba124bd2a403bbc3ddbbae569d240b27f159a452a8050a008efc062b435c48596afe91f151e59bf3e82c881bbd81d2b0db77be803e0b2b99cc345629189feffeb5a714966d97f1cde9b1d820032e82f12be549bf2a16ac1f78bd339cd5c073a0302b5459fe7453ed15b31da295f42af33151e4f8ec95075c406816c58a680a46ae8fbba3ce8e372c027dfb093ee793ccd129efdd2a00220435c4ee23c961f6db0010a92d00790243a33a8796d9e79e37933c5bb6696fb30d8d96ca1c6060af0f3531ebbf1229d1d0fbe6a8cc283d7546f0ff35594fd89ba141d6586949374e8446700d694f05e7b7a4a3577ebb21ace2d50101637b522803891f92462ed5808311e3bdff0bf9544add2d33429d32da1c3910f860f8791e0faf639b25968b412ab490655349e6ddcb21e38106fa7e8bd76acafec0efdcb8bb613a07df49a5be3d6cb30515a29a9954f5cc9151499e44e71879b5fe1ae49a1af1746ba9688197b74c6b4330c5f417e34901c2301603aaee7ec01ae559dbf433c5365986dfb161a4cf36f4ea2853a0ebadf7f430664022e0906e65755834c21f64bcc39e3622fde1e5c95c997650d4f4b2bb701c5d65364d9760dd427d91e92039bdad2574d9131ce1be359a43d0b782744f67438e445acda4c5a212a71ca5b61b67ac3ef5f87dbbabf8c40d06f2de9412e021d56bb3756c3d3cbac6a66409cbaee92e5e9277c6026df2b337bb590f58a9bba38505f81d41927f29ef3beeb29a5e40f0bb15b1d57268108490f12cd8a02a6a59c282b36910b79d65db80f1a98a3d6d0ff54c740dc5c9e7363270c46a3826a66d8d6bcba225f2ab824f6f311ef1bc252e1a55f7bd7e348a84a16c182217b82d85e159bd3ceb0cd2cd9f61b8535708c88f910d5dcc9b0f1b548e7802bdf2e6481240cfad6ffc83fea69150a0276acb3d0ea6325dc4137b2a01ba819ca4d1fd5e11a2341368e7fecbe0c9a0d401c121f6ca2b928d1ed92da90f8ca4a4c1734b585d2d49137a6093ddbedbab6e45960f26e4ea7e69b4a91c92225c92a756e6317e0e3b05bd3db29deb6ef4bca212168866a66b9b169c01494430b887e762f0aade247d62a18003b4fb07b8f0e48f8dd18a313cbf1f079c4dc07cab5cd639b410dd6bf888a2f338cb78d661e0ddfab0c3f5fb8fe8915883fcb093027f7c4c57589db4199d2ae9ed99757b17efb9318c2648500c5c285ddc992de9aa8a572ebd1841c934124d967f47f2a858152b3d31a229f998a589b47f64d931de4ab20c1af13961afb026456a89360a7b8af13fe16679a152a2834a1ba323ce98843c5ac9b9160ff15ace18ac21eafb25699550021a7c6911227b7a6279176e6bfb3b0c2c8b7f0766a58a74e26de92e3a5a2ff9a58a05435e92753fb1e8110fec0dd33c89f0e695c32c71635a348c5b43a0ccee7c54255266c9caeb1b37e0fa7ba1990f7b43e2c782cb1139e3b3c4b4f5e15a628caf471859d056db98d47c749d288abbd0b2931631e3819751a2ce63187da59ce4c7176be3ead9f87366434b78060369a10a07aaa77c5dd69e7e8e898ea9d32d0ca180b203655690abf861776c5bafde6382be1cd5b5a2f4e21fd2b29f562ca26ea6ef42fbc737b31eedbe1861bb1354f2679a9bc9375e8824f7b7623b54aa34867b0612723bf3910ebacfe382a3a12379e6684c5e44facfd85835f0ab73d81e344ae8c11915e2f04ff0ef28142c6b2b072457300f6a616a12ede76a79ae508c6c09d670fccc3dede43d466cceccea7e9fcf6e4e1289d96bfa7fdba3a23c29328a89defb4cc42bfbf66f8d3f723c5bdf795cf8d86a6e646c98410630c96b45121f16903242dd53674157cfbaa1ff15f79934d2b353cf2cec293079642c852f6dfb578889ef569f81bbcdcf26dcfd37153c35f251b14fca50ff9049dd97603f28425fd5605f7437e0788b16efa630a0704ceb44e3002878eaeac50a6421a053a0ea586205eb1e9bf4cdd879ffab5d1e23e581093c5447a022b995df9df8283d0f1b618bd2aa3f45e0b82022ea48808efc63357a49de519e4c6c7e7e7d589014aa6e5d9168f045110113d403f1830c5331a69905b658fa78a62b60fde4ce734304e818d356788bc758ee8c0495e0d4376e9199c02b3acbe39dcf6f75eb53e7a89a26ddbe828e67a1604fcbb31006d071d5bcd9081c0553205b8e8444e996da5cee9371845351226f7e4b27b945e048644f62e8464b54d11c8d0eb91219a42f5e6fd647bf291092f13442421fddb26cd959051bfde5f4034e51f604fff4fa37803e8fab52ad7eca30b5ce86f1a8131e5872ef9412ea2a7388905bd40091f56b5dd58efa6fd5e99abf7e2fc5b8a153097731d9924a08a1f9367c4b767d925f21f9bf8e59854d924c3bdac8127bfb65f0a7b1538f06c5232e4b6d68feb371f5952ce6d253aec7f0cb500961d0f7edda624294c0ef3fe65d287d6bae311b7fa3b060b1319bcb5e7fc4f7145fea90f0833deab392dbc0f018f87edd1afdcd6b2649cdc671822a9f378c6a64369e2748d10f53fb9f9aaa2aedd5015192452eee5c5651d11f300e0e511699ee442960eec233dad71e938a3bd93306930d4efaf185804a8415c062e60bb2f2b228740e844ddd027a7876e2974c231d00ad7877bb4507692366cb355969284779ce03f7191295e8495a474a11e8e2fe773b4d6a4c948d7e18f21dfbbda63fe877a04d295e82756d726747310cc94d228d6ef99cbe24b78fa4687d2f522ef3decf2fc22963ae221c20dc3a29fbf091623d6eb522f134be06b27711734ea51142d783386b0dbd41d50eaecc87dc577f836ca23ef0f5248ef6db01160d5c39f7128d332837d14bdcda74f0ad8ed30e7adba7714a542c142a7bcf389fdf1552a31d1c223ad82e9da92845ac344246eac475af1b5e0dd3946d52f8e1c2e0369151f1c9da0e551ffff7868174063475f0b6a41cfa73216c6a7d136d93325f21d69ddd5e5ab3ef931b097f62007274fa527f653460d96cb52af04f953fe1b8806c585d2bfd278871fe4b82fade4f51ce7e088d2f1524d5e30050c1805e9e74c0536ad1c1483168770a778be5303f022936404114de299bd209027f02e9b0b94855e3e863143770502c1cd1a8c6e10fbaa2ffc229da12ab645005032de27803c5c5e458566967b25db1b96a5fba59767559914c03bdb539b276d15645ccd159f8446aa74160ebb4ea02895383df0828775ff41e4f733f53f7b9da0e22acea03c22121ca3dec5e1929e92cb10c1d53fe7f3b32c94772ed774a55485115c380d0a2ac4adfd7e5361722db4686e1fe1c45903ec137920bbb683627e075026ae7161d08c5ee1eb843dedf87998f5964a31d569187f0e6711ab65780e15f556b367d417e85cb0795dce2410d13a6fc78f2f625a8ea08731c723a3878e8a737f1b165820989be28ec4abcddb3f2168e151ec9b03a390edc6e4aebcde80bbd0a8c334cc3b9ebb9f21c5fad7e7115cb8b4e862bb7c66ffeec6ff9f13441bbdb1b3eaedcbf7756ecda0ed8b3e78a1025fda1e495d30ad56d3ef6732ff7e678e4384c9debf74679501d7add2c1e8e13b0f96515d971ac4d83b9be8e4edb312f591d9e4de17097d77920a14692a0ac6e04d84d848086638f818ed4869706787df4369d2178c19e372cfb00ea425f898172d68f8ea42d7cc072055801bce2991aa2d7fb0764943128456988126a43ccf8885d39831a4afc1508d95bd208272c78b8c4ae6f5fd582a2fa7fedb7c1e8d381f55df37a3f02356a9b2ff7fa3f325e7458dea887f5868deebbae78ece573d9e5b08d22f55e66b28dd87964c0e706a36701ad2f64a5afcff53d422b22336e46bff2cbc0bd0f5eca78422c923359f21e71ed7f7ad9cf46abc36c5449deafe8a6c99ad04d469d2f88643177e955fc75e13fea33b97b44d9d3c88242bd21b1aba717af2ef087ccff1737b75d557d0b9c3f6f632660a902eb212ddc8e009eee86f6e47cbab9b8ec6a45a22105ca4b38b18c1e08e1557780ca5dc01edddbaf0deca34aa8f5f0c1012bb339ba7ed2d6472659fa0bae0000da341f2d16c48fc4acf50249b2f37eff77409fda585b68bf0515e242f2bc51f36eaa4799bc2cc05d24c35278c57ef79bd09d97891412ce40a11b36c92b9cb39614b9e90954a428f1352396e9ffae9362d6c420c9fdd3b9bc5673c9b385ac950595606fb5356b74a3af2523becdf67a497e6bdff328d7243111590e434263691b70c5e36bcdcd577796d75d2593485fed5fe67ef3feddb74616cba07d21fc590bb4b6c2c144946c7e182645e932038fcad179931b0ec547eaa933641b3036d02dbc8e0029191baa688e27112b2ca55c430825c8a4f349b147e85418c4cccfc603277e1c6f5a0fe19f86815731bd9f878090173de25027b990f0bf0b135dd5402baaa1c8affbe98de3b35fc08d577d1d417901565d245f409ab5bec85f797162d994062fa7ff833cd7a42d2f8247fcd4c453334395d6ae5d9ff70fce9b8776b8e199262b072b3ac505d26b364326a72133b21da6bdecf98f2e9c3e0a487688529c8cb5432425b5b18780478849d2431d02b5905df9193c224c51871a8caac2977f86c4ded946c1089320043a22970a1762f2fa36418ec42d31d60f4142023e19c3b9e4a2e83a2dff3c38115e01e5dfc5117e6d4e797fef05ed919960d8eda6518836939b84fb686babfd015f8638c10d0f02c26aa888c0946098de91bc0564d19bb3e1e30fe5114881eb76b8a62da541e998d7266c5de11d6ad593922c3e453d32c443e0b14f1e14afe94c7c4ac8822121790533b8ffd5c20d0a8aae8f9187ca0f514f393800efadbda27d177ac5d0b9381d546ce876544090014eee17aefa21637620df27476b4506675ac7400c57ff1de7fa1d73f3f2e073cb302d2b26a52db65a6b473264635d2b6552f24ade16a23f4b4e3efa081b824235cf88d18cbd04260b3b60cb67578127cb271288e6600af82767702000e09639a78fd787c6baa65ff7a7c10f4b1f5dab7858cece7b6defaaab7d52f5dae438613f699d6edef3e0b416ac892c8d5528ed17b2b4adc15085be039924cb5663c9284669f8cf69a2bb657d9f71ea681385806e258331a0e1103eaa7a0a6c119e506c6b3c5d884af2dfeb81ab9d2c594927b34a4832a03f53850decbf1a9f52c77a3ef0878b1161760b8097562e2a0eca5ac4b1bd2a37df7a1ee8ee4e08b0bb5405c7ec2f81d46b2dbda33cc7f1a119dc5611684d62c7d1ed18630bbfd544e14e480156d3bddd7e2a974cb25eb27922902be2f54f04ec9adf3948f698be36d35020ce11f8d7a4864ea82533ad158f3db218e48f7126b4ba08925a3dd6f0596884224fee5cc7aa0a7df8180487e6698a26380b93f01c40bcca7a6746d957d078b02249837a6ff8b81f3faff17856367584dc7e5ffed10e5a3dc0d1d8e44de50970da51afcfad7d136af3705f0c10476ed9fda2a7e66b857542a9957a3ade7c86cfc0e3c1e712ec7c267ce941dcdbdb9b2d9dda2ba662518efb4dbc72e093ce1dddc89fb0f5c624fa1f24bb89983661f32b0fa8f02db483618116353529b0f3bb4a17d3e5d7d0ccb21803f89a32437fd8047f7d7d6ae048aa607cd308a2cd71564fc8ba77ca12d2304bab35a518f9a9c2143cfaa6ad255d5a76278ae18b744fc279d8857a478dcd7f5e46f65872b1287e411dc3594455aca161d8e33c4f28eff63e6443b797775a3b431e350d0f3d843879914f5a25257fc0ea72bb0b66c86ea172d166602c2df8e814904888e32cf27fc8a58fbda4b4d3f8b915fd2bee18dd47c1e3e7160085def82d4f3e1be9b05949f161fbb34a155a702b763f97cb87c81a0d9614c881915e5419f94051c6c493d8ed987b32314276c0d45e9cd24702e6b1ad3a1776f4f14078c51f1f12b7c9b6c6568cfe6759638c856079895ae48bf4085b6c566cc705c26695e870ad1a3a7f8efa4f5c358d20143ba67e465f170b08215ee0af8d3621d8817ff753297668bbf0623dfa85ca29b3bd7622cef1c255cd6fd5072b4cdc94a60f28e3380f15141d202d63a87f1b29067f9f90ca49ea621ca0c58b0c46168fe8a448070c25b5a6ca1b8270d23a96f46c8a005c44e0e1b6d0f97e541c93a8578ebbecdd95bc95f82d7ac46394050d145fbe295b0a5cf78c2926f79228f367fbb6579012020023d7ee7bd4a2339ce16ee82b2b2e78847070bdf5774ccdeb42c340096a240b1fd955681de2b66d0","isRememberEnabled":true,"rememberDurationInDays":120,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
