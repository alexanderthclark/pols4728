<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"5fe9879918e0b91f8aadd88b32ef38e7bc6a2ad79dafd6f7d25f7245d10f3fd85d789ceb7d891fdc4d7d1d72e7895957c41c8a7694512eecba65bbab0596d9dfa44e2dd644a99ff1fc20166ce78bc7fd2e4293eb801d1631df29a8742dc0575654d9a77961da52765b9fe3ee92d07f7981b200f455570cd08848f1398b8e6f9fd620c604e3db7f84aad8429c4214676361878a598127ab24125b4e369ba8d6313167ef35eccb5a0cf4300fad78227c747ebe8c5cc5d94037363924b6b94bc0af0a45ee9f6b3c8c897daaa484f16047bc95182b99ebdb39ea470e8255c9421a6515d36ebf7de4e1ac9a256afd674719c7f781015c40350a517f356bfa27d7529cdcb69ef137419dc770d295222d8912493c1e060778a828251f218f024e6b0b1cb0b1dd01e025a48eda30b2c6b20275b0adb164a12df0e9dd5d2a1ec3118157295c62b63c66133fb954ff4708eb47f129d89ed232aa2159e984ad102b5d84b6f2b6ba94eeaaaf057ea19fdbff2e58d54747876b5c52b56c7c968a6f66f9d5ca219b024e251525ca7202c154b6456dc693d08849b032d4059c33c415ce8813117dc6e10227b2c059889c244816ab43121269784421369aed382d565f61b2afc89dcaaaa1ecf95bb778a9c83eb45e1e0842046b4078ba23ed84c954c483e1e627973d81ae68bdba7f914d6a43484ae502318b1293ef65afd2beaefb852b92e88a3a8eff61f973b244ad57817e34f5da5965bab2e6b555ba26e830a53fea065f40ab5ffa57d5feae56743a1e7062a6d876ed72a2b6612289edde102f33ac250c43b8817c6a0eab8df3ba4ffb1e83515d8a0f9e0bdc70f9539f40cab7dcadf74513912324b1a84c6818a2ead20d51c5de995e14856f8cd7220801f1c359227a0896d8cfc0d8a0bcc251980aebfc4b3bb1947b616d02beb913c6a8642a3c2ed44a124bb27023ed405776cdff009ec3c4e5da49d4904c2eb356bd5df74d134336fe6c1167a39a3eac485635cc1ac878e0e22ab022f8373e900a69303da0db7d90d948c5961519a521869325777dc056df7bb463e4bcac97b39f920d26b373e623ad7d905cd17ca48c5495aa0f9751b4d03d161cd01bf54ef9e634b5a2fe86175abd2fb2a23c1d09d62af48a888c33748bbc56aed3eeea97315fef2695c45174dacb949ef980b0c5ff1dbf19666e2300451c56d5b88223a1a1647eac05ba94e72762e4b7fa0ddd0008d4eef9f15a3d5667742525e0364cfb306d3c8b2bce32ea62b5fb15f4a045da6e3f435a04d09b724af0bf669cd9ecdf131623e5e47a52bbf7e7b9a0a8c4c3af7f5ec787546a53163001d246574e2bd33176063c572e57b638487b4dff558523a1df8717d70f37214a1dbcde65d0446bd79c11db33fdaadbae015f1ea5054fb834122a1946f04c472466edf00998c3685adfc814a8c9aefd224e8072a492f95c6c020a2a7b91be671800bd6b26e714436c69b6f875a3d253857341b5818c5c72f22d86a2dd301f76420a6071c1498237f533424fb500df9ba09c855910d320a9dcff1e73b91b3ec51060f3f2520512288d09fb47faf166c698036962c3fa425bfb5188a5ba95ea03fcf94b0692dc3a6f16d9b6de11f380fdb8b9791ae44721801c4ef2de07121cfc579934221cd7589c670d1d52d44b5a34520f0ba6f4278abd0302edba14a7fc67e6c65b879064214833ba2697439237b763c9fc51d414782ef5cc1cb1d4f6e99a810f7b247c9a82fce76d5ab56746ac6de4c23a9792efdc8319d276a7e64ea0041adf29b8c2fdbbd7f6fe87c4966a36e020d94bc0a4d79adf7886af032592ac551ba8008c8453962131c237584eea1670813ce4af08f0f387785e4594aa224dd3d6aa4ff652852faf13466d41a7d8cae1945cac01b0125632d77136905a930f4fe48b02cdc10116eccb31be5525d1aa15d9628ff3222337f8e3b18f8530fab738d4d72e285349703a354b1c2200724191f4c8a754a28f4361cf49e4065158ec95bbde21ab186c3a05d8400427208ecd47978727381672fb2952b27ed0d44cd5226219d80ceeb0375d5262a4a3319796b15e21dbeb1f094c96cf3c060cde2df5cff5ca5055fdf3e268c0c84953eebc5348a652fa8773a33d83b3eba44fc24f3801e23d513f886a0cbff99dff6fb74d1b7b22c5249828ecedbabbce4eaecfd07cf1b6ac916a29ce988bb761cc222197e54b794b08ff31b5272ae5e8e93eb0af1dc7c508f348cfd47518dfcecfd6903383f3c34d6a552c52fe1166aa031ab6ca3f0ab40b0f3466158071a6d2a8343e2d85704084a1308f3e71491ade037d0f225e5248e04fb512aefd91d48fcd970ba647351b749a4345537de522305e2d108a14dd245be2cd8b787e23d5e9c2c7fb43f21fbefd06770076be0a5053e07f098c6846eb33adce9191e7dcf4b3d099932adaf842289fac66bc1656c2867885da7cad83cc8f31598b95a57eb83dfc0040fbc56ebbe094fcb3bb4cee6fcf301aec4a8ae7afd747aae053abeae66e1ceec599cbe28f5b845952fe7fecfb5ead16f6dcf7948d8abee32659bfadaabe7c53e7459bde7b2b6ab8e87b1c2c694da4f20b947361eb77b58ab48b95a8878f68e8af5662a1c24dec0ee7a85d7c4fd4c07d053450a925533d038ff1318fc6d76b684c94aada134be55c1e311a0c2614d6d2e957ae7c3cd3b8d53fc1df9188cf2f731dd6f77c5558c14a6dde87af8134b5b560403ee45e48668e5b5e5c5abd6044e399aae1eefd98a4f7fc1f5196bff06e2d763988428d60b4337ca97ef35be8cb160861e0359e3323da7a30b8fb0f9180d068d47ec320234e75754dcea9a3e7682d83f0d58538ca93f5fc4d7da8c099da221c3889566c73885f8ee5513a74463627b8d1478220390c809484b0cb1d92ed19dae5f7fd2138bf8c013e54e079546bb24b48688cbfea3a841b811f767181c2565f92691e1f4f879c4f23354ada44f94921b5fddbed4482550ebbb0417ea798e496bdef0aee6a739ad659d67bd5586268da898a9968d6e6350ce5059b16adb8170bc6c3b6ec07c554c893d6dc463277c0774c255542ce4377b6b960410a9d16013e39f7e585f71b5de84c7d9ade34222ef65130a99d9e74039f2f7f14308afd26165e2766c887ff4df56b9cca723f4032ecdc6485388ff1bac3963073d5121a5b795a84b59dcc4e2d448796c993a467b13f19ecdb8a77f8b89d66fd21e1a89657a22c654c606e366d5de2440a9509d65544a82673cea4e90472fe5e7fea7d84d057dc82638c3e3c50e94306d1c699693df9771e240c05156000303fb1bd0c8d59572fb37b446fe6ab49c0b7763209191a016262d4a1933633cea44b57fcedcbc8228769cd9008f353a430d6127c9a6ceb8e3a73873b6b3c5aea3d2e752c24653d50c6aac0f32e9061d7877149e0a166a1f03587493af50a329cdf475292b5a43972a9240ac2080d8f631fe7cbadb1bb33e0b4ca649b4ae1a8d18c56329ce7910569db484e5b38ee74f7e8cf1d5988d018c83642df3e08a855fd9c29668097681aece75930076018253ae06c4ac205f67d577a762512b10f4d869b30e5e80aa70abd9ab3e544d59ac8bf6224827e699daa5608ccdcc5bea9f14abd176d72dbfdd57086768017c75bbcdf7646df3bbdf9074547811518906793ce32bba347ed032e7e36782159bcdeb4acf107e770cc1bf7fcd63958f186608e1c6a3bcdb4efdc5fb0637098839fe2793f70ac9c6e6c681f4f60043ec486eb551716f279aa1198157a8015aff4e4b805904b122aa38f854dc85ea7b481c84872648689fa5013f46f0231242171c3b7dbc79c04eea1b128bba6986eab86fa08ac987112ea28faf4f30621a917e3a0190d24c7647c72c3a296ee3bb25b3e81a570e23078ca86f7f991375defdcf078e623169d95ae2800201e25844812e75ef5b4d2c87c1f926d608f0b227f083cfb95b57accebd26c3d567d587799a36ca9ab8b6170aa28277d415d08e5a8be7ede3488256863176c38328e787adaec0a43e19850d64395a0b86ebd0499a9ab13839232fd9da871f9b367f59749b2181547bb74c42311e0eb0c05f617aaf99b6d9079025ec8a66fd99bd20bd030afd0a30caca6b4bbe3b29defa8b07c680c83c0ea0a7ec9107595cfa150ad7fef46d329e8f509cd39c885bd2356c6a4e56bcd3f4e8e8608fcb09a59389d293fb5bee827ebd75e74eb81fb27ed85559e99450799734542e7dbeb320f5c60169fc9b915df64d0171ba41dbad31e5f8f0a304fcc6f0d6971983b1cc074ac967774d450c7e5fe465b7a906e58aa8f64a0086db5cc8b452af70fdb575160aef6aab88e5473d5e26addc5cac9200e9efad76be71bb55e0d6431568160a99e44a8cc5a24903683be22a7d2c9466c1d26e9df83ffaf5fb76b8be55f39f3688342409604f53e8a198e71b04c4544fe09305850f43f88827212f266816aecc40dd49a8070f34ff2b26d2c16afc5182b01964a16870340e58f3471337cae3d983077f3f0b00f8ed594a3efbc6ff80888d4cb22ce27231c295ed97b427581644502dd88ed2ff20254befe0cc69ec2b598985228d38ed0635289f2497b7476cdf2c0fc0b3829b7c46dc46621df99046f0bd9fbf813f50fbceee6dc6a7c59f48b4491923fde4f465daa23c7ec98823b7dd89f5c17fb9fdc9510eb39a0dafeb9c9707ccb8c2de69ad8ae9025e3eda4ef2f2a892716e65734dc81334eaaf668fe53b94728320f7af1dca81f5163f3ed3a45a6557536e06b011e83bebe2f7fed4bfc9c8b09c488d126ba363c0ca79b8de17f9ee3cd5a4fd484d78174a3f135cc157c9eba36c0f3980bf9b9dd4a8f4982276b7b46077dfd8d4f3a37fa8a60cd0878eed69b64de6297b5647c47ebe5f0b419279eca38b61e453fbdefab51a5d43269bc29ee30d6d23f98b23f7b5d7d822845598def20254a2ae227b38da99dbbceb213d4b3475a589452bf8fc95a973baf2be62ed721385f37483a575859b992e61ead9e1321a0eed32eb338f18d659fccdf86a4e1193c60c28e0bc9edc41c1998efe44c3529689cf22867130720c10854602b0ff9f39ec2dbaa85e1d01c297bc9bbe476895048b4169b8df445406149839087bb15f41747e72c5fde088d8de15118eff181c30a507d22b9c17e2a2dd1209401f8a69e22208fdbe7f5992cf683d66451ac48fece8e3c68b2a9eb92ca09a59eba87ddac6c3bc2888bc83f6325cecb1ed292b6667ba277483757424a75b76e7b983952306ce461d6acf62ac6033c9e6cd2ac69161ea26e3701d77252a3ffc58308cca8c8fc8a62d5f2b631473b0e227a0986e7d92a80a9274c6b8df5bcbe58978d84c21fd01d5b5d19798b456a801aa05f0c21c399c4b6681c6803a48b1cb1e391903af24ccec4c327196931019aa2af7dc5f7e108ba54c3ec26513007893af3242aaf12a53c27c5362ff8dae4678a53f26d6a48bafe5b1f6d930a6771f178fffab8c7632ad1ef8b55c4b6c57b443d7ea010ff1891ad0461577934ff0054d27f63199cabb959dca4ec9944cdf3a713585f47a728a253dc94f50a9f66aaa03af2bb3555321b69fbf00e3f384887149379c654e2181324e587e1395da30f468eaf838e660248810de284234c585a3ae1f892df66d3022dd7b922736a55d47ba73447390aee8102d60dc4d802176077440f522b078a1ab3a00024a1ebd6b5f55b2f2dfe35e23dedd9d04d7fdcc8a68da0f0e72d9dfb9965873914dfb1f458283ca29b2eab650c73ef2b42f44db50afd51c52aad5c42badecab882d8e20d5f681fbf2e4c04cd375c623b24e4c8c6ced5f1c7d1d58cb68d1c027f668bafa1aa8b44df916cae4fe684807646ddb249da9114a9440cef584b12c327201cdeea39ba8ede1f2261bca60025f79269466b96fc29d0f8ba155fb7ca854b2fe551f6599e8c95389e9a7be1705af98bbb0cad587d2eb77cb14e88f039a3ad3183b300451e18c98c436dd41fdf3706515e8fddef196def4b6577cb3c6c8400fda2e123f7e104ef4202dda48efa3b31ac05b2b6a248258d6df84ffc271bc6d41a9b14b73b1ea051e93d3adf3e0dc4bd604ef47bdc8cf2a36e9e4fc5bcbe32fcb1c546d2cb7b7a9c97fac9e3c8e38a9e569318256db682e481570943f16df5954c4bfff16f00bd1e598092cffde8c99c8dd180128521adc74603793f88c927fbbcd3cd223aeb8fb0451ebd9c9d8a1a30f43884875ab14a7f55f168aa3d2bbc6c96f4b28aee21af1a22f6bd962ff57fdfaba92dcbaac7ded96f8ed2fc87db905554d26a021d89ff42f2bdb6727ab08fd01c858d8be0932caa742582f70be5fbb30288c4795e35e572b19b94f19133cf5e48fb8fccc57acda6819b338cc801bf8269096f09649c663b11bc1331a6852545badd9804d4d50883072e638ce44141eb542e274475f76bfab8900ac5331c9173b6939c446af8d6020e0240f2497da6d62a61cc9707ab05f9c8a2aa926ca032cc9896a4dff1b1e8dcc5cca6d035613e1febe0dec908af25ac9aa539adbbebe3cb93246a828e31cbc683dd3a5f8ddbfb348c2534ab3ff12571e460b39c5d9bc871d61c384403465022929b0439481d0d152eefbc396bc17a7915f396ad16fdaf41fcaaac2bff8a9733529e19c8138f8400523707317e86e7c862e189a90bdfe556d529630a3976d32b61f179bdbcdaf4ae23aed53a133fbc811fb388c746336360f04f606ff172ca8838b06b079ff86227d9b2567780642d337c88a81cf77d3c6ffee30a64c347963309238aa8ba650afab16b7346768c813d2bcbc68760749f0a64efd7af9887e1ba2f0f3260a24dbf0ec0f798b7e858bc0443a12472bd2084536c09c52dcbd39d463a936dc4610e6bf4f8a0e5cc762ebf2cffecd8ec64cc2da6bd0a664cce78e1504485de4eb596e6923419e050253b494b27252d60919c85814ab3fb9ae83291026f33244a4d5c320ee0a1a427966e11ac9bbf05b5b899e3c43e980cd5e92433ec6131542ca0a0325908dca16cd125d4ad2d71a0b383356a201d509dbaba71c00d1f3722bf0e729eaaa64ea87399c7e95da6cf3c89bb5776999d824762ea77f66e085e0291f86271de42d647e1ca347a8daecafcbd376bc67d848d5e761329e2cd89b20f13d502222c31e3b0664ee46356d1303affa4a3fe1ece4790f867897bb1f1c5eeff04cb13f734b0a107feb159907218fa88554fba99c12a732bdeb304910b2cdbcd32242e6716ef1d149dc534663867c7f1c20c21c2fb6025613bfc344a62640e44623904a432a7b66f54f66d72725b7a0d28aef5bf92eb1b4d845bfbf69ebf01afaf1348c2f004f0eb12388b4e042a721885856c19295fe11586fb9a84949f33e799d1309911d4452806e2fad8d95a6ce8d8e376acb7700d52be01b34fd01bd7cadc5c01e23be1e17a9ab650bfb2e8920174f0adaf0d78cac4dfceb84e031f2f4800a9775604b2068bf4129b771a5c0c4440c446cbae6c60263836b627748b23e7a4ef8a6d4234b11d043ad405cafdbafff17705f1ab2d6681fa6d009448f93e719dcdf5b7acae700e7f97280daefa0207b5ccdd4b8162407ff8e63071b27cf1901a8095dede10c7b50055a00e23222e296eb83616ec7cf192042dfa1cb384e77c8d888344e29b1157455f33c7db45d75006db9cdf579bffbe25ebe5376c3ffe0974240e9731b47c01337afece81cb5d5e3fc028fc509d0049853038b6be6a68aef9ba30be591ac2073d616162f6f0d593d3fab0bfeb5dbc2e081f21967985ff701520e03b00d747127a36b4bd2ba9436e211cc5be1d76eb8bd29f202939a5346b67d30f1c01ede8fe091f1fc0c41fa9b143e0db99d9fd0464e35e6aa0e79d9dc04bf1cf5e1313dce8ea01e6ca40bbb135050297c7c21d44c0c253dce6c268a1d66f3df5f3f8f177e10ed2f0d8a4c1de7750dbee13e553492ca96948005cf1dd00e1fb6b1b1f64deef1472e5b2126b2aa5df8c022144063072f1082953e30e5bf5cfbbc6647c282862c2af5c16839f40f4df6ef4e1cc6114e18f0965c92494b5081906d932d14f38a568508b936303289da90cab122406c5e8c589bac49368d13ac2650dd547e962bcb3f2127f08728a8cdd73e366e63b66767db7f40b45b4b35d42a6cb938f11132b9f02cc73b6c5e2e8611c9cdacc48fcac943c263f8137930a3d664eba3e44c9e09b76252d876331c09dcb166e058a833353077689c162d02ecedf09166d3e069b8ae4c5ed7b26f6b3de764d8230fe92308de4ff7e32d6fec2a29afc279a9a3508f6d8589ee84a676380063536945768a002e31dfd9def13441cdd654ddd07570feae61abab4321ec768ffd9f243e952a8ebd85ba4103b44e605caf5137aabdcbdce4a773ce3b728dc30d0bad410926f23bb4deb6ef0e6636c1c56fac0b179984f32c8f086932461bb5fe08eddc6a372fe5f3e9d4dbd7861c0c0113fa5fc1f36b218df65a976a3a5559b39cdd1fcd22e4e7d396449e8e8d24255caaf23239b0884bccf2cb916103bd2daee1e16f64f099a8d0f2683cdf8847e3f1519de430ae9e6014833a4f8b56978065ad87c4a67f8b5be57154279156dcaf369c11cffa6f7ea67445c4a93a0267b97524e870779a68727325e788d2e1699886b19376b41ef43640392c70baf0ca96c65fddc6ed2fb24d43c598aa03d31bd06521d2dc29b0a04ca9420cb502f377dfab1477c36c17927d559c846ea183ed7ef1026c740e06b3fd265a6e4368bf3917ea2ad3697863ef01543623703e14480fe976d9e6bbfaf4911fededf2765d78e426f93576d221a8c3733e0008079eba3d3c0f5e9393db918b7089aaecd58b4de815f0355f776cb82ce80a895f534cefc6a1ea572335a52eb6d0d4f9247f1c83bb21f922f14bfb0cde5ab10e0fab015c9453040957b137461e348424570e2c09520d6b53b9a8d36eb8f6d1b8d306bbf68b594fcd3f962e0c390774af51e19f1b7c8dbc050bb514bc3371f037e7942a9f511354dacfb7142046a2b02efb48e2de48f9acb792f8109c2f50ac56b09dd2104519cda8cd131cc5fc447268e5da70ba785cf11320087df2b0284dff81b9ac1bfa5633fab94e3300f4f4f810ebb8fbbd912324521672e10e9f080057fe485ba7feb379087cdfc3d9d8ee7000f098e3d32369359849f82b697352e9957540bcc5e7342be0bfd7850c0bd3c24d9d20d2503d9cbbd087e4f9f3bb52907222a48d396c9b4324df368e7e0016e6e08c980ca85cb994acc0d61eb231d0d6a83e1c8abfd07ff71fe096e9db078a711925692df462fcc13d361fd39a08962a227bf82459d9545fd2d790aa9be1ab40cce3a2789bf11269527122493eaa5cce993bc55cb1bf137b94fd36f83039d6dfc6cb53b3b2fe4f99332d2272d576d6991c4d536136452388fff6d8b1578197fa601779e88755921e988ed1292b62dcebabeb84a44b31fb77d592ebeb914ab3cfe99dd8d3d84c9599b8c3b34d31784808e6aeab3d0ba3756e66bd05ed37965c3474715853dd892230527c90fa5af6f8d9d92941ce950d36bfe0a33edc5f9f61348ab266487c407b9246656b155c461f7db11923a51904583f8e4d4b19c6c593b9ca0de15b4c4359dc0d709e6666e2043b053e2075b28862436ddb48f777a67785273342e40a4cb79a33fab986bdd6c4a778822ce75263498d19a8c063331747a1432e8779399ab5d30c2e7d46c19c16d8d60ee93fb7484843569f20f2ab194fabb9ae1f3b4772083c2b87a9c310e164f243e6f891e3cd138bd7883ae5732f7a6837142771e6f2b0ec6f38d12de0b25234b1e0784aaba69d8c9d03133c73627abdcfec643ce37428b7b173ca6e2d1120213bafd5245c167a2ebfa387884bf402cdb3746a879ac0f98adfbe420d7ba63b643d1c5f140e04800def7a4c5e65ae88bd08ed40fa0f8ecd8c603761d3f20d4b4e20eb38876533029a4c291909d6e840b507c36ea5ce480a9709689fad5253fd9114aa38384c64ebad3003fdaf80dd6a6ab4a030c55152a1f8d23f75f45733f1078e018fd7c9e49f72d5d77f715cadc9d1a14602ab39a4cd6d10ef5572616d733733ecf25d42557edb3e5a47c6f0c1d50125ba02da7086cf731b2c5a704a0fe0524315c22073bf864d12ef461697ca206f483bab268c8bf723359db1b74984d79e83affd833b172fbffcad95f5d94eddf9a169e54000dbc6c941cadca693aede5bedff5eb6c6aeed4de8aedfdd6e1284b48091b13fe2462374a1b9df1e5f57021016f3b5169f03eed706ad8a5de572a80c3482cc374af6de93d26b4572b8cb9d35af35ca20966103f999f7fee5672ec65681e3967f627d6bde40bc9155c1088312b3b9340531a66392f59e7e1d815057de7da7f280f7b777810ff28ce9d0f2b26be1aa3892d3d7d5e581c4087ad04b46e8a6445ef035e9d7affdbe1ec5aed3eaf1a4c79289810af00ddf068f54edfbfd27d1a92ec46e4c41bd8e20ddf5839c1bb8cd5bc5c1f9a7de73647fe654aada8ac23d9730f98a5faf9fe7c448037d9e0fc05289308c60fd42becd05fb45428c2de9e4c0c24e450a3ca40d1b80c88ab5365fbbb6689c5d2e6ccf1ab564c294c9e9b3c7b8fb9d47753c0fdb0a03f08ae59aa0af82bd3e4effa372704cd6fffa177410a2e39e15238e10cde15e8e99bef92095a1daff58cba9d79adbde9fc9c4ab3249f044ac1c8083e2f00bbab8219b8311c4166878725449eb122aea2c8ddb80622e2a77e76119671018d2556e2482b0c44ef7d2375ec2adda881cde43afe16b57ac6853f2efd202865c99279c2a9e22862a46714798ca020a6588dbee87fa8079c5099df42fda91634e3eb9a8ab377d64e2b62b747fafc2154d41d25645d53312352e8549f014fc7199315f4e81588e72522de27059d412946835684a098d4c0fe0b28cecb2e7c608a1f27b1e8023713394fe3e6f2104259f0ad446368b7ab1e9e4eab7c0067374bd18a1638b4a1e82f9416df8754d593fe79af51f854e9d226798c238da8955dea0b9cb7fd84014a035b5ad420290de0e31cc9562c74bb6613471ea6df85591d606fbd4ff96884fd46d96b4ac79101569f79edc03adc5a036630073f940cef071834e8911029219883678322e6546370fc6b6af84a4747b79f4632f6c1491a842b344dd558a51b60f9907acfa44fb4f568a0c9682a43e2f0f7b7e66ff4373d25e6be60241dff11a7496b04a531fdb43d091918549d0711092dd5ee9fd04a4ad703606fd31a0c1320310d5a2437102fff4462c4c4b589d437c6f1835d2c7f761d2e9ea0a618f060247b7383094b4fe690bf9aacea61f912b00174342c4d015549bf6ca76e381c48fc164fc3c8d24d67bbc494ad39bd845ffaa926260ca27f63b7941136bd66a3c0c93b70f30c4d2a96911315c0d6fe91545f041b6cdc138b8b5d125c72ca77523bbc5150faa75b9bdb2b71a173e625a221f30731c521c2989e37f04ab42db58cc48b6be809e3a8dd68e2cb3d2769f5960d97e810f4dc89cf11eb9d57081d17437fde6138e7e19443d19c51b6d40a8767d04259c5bf1efe2809e750e4856fd13189a44074ccc739464f380eb7b7ea2e76951e7daf4cb6b27bf353a3a28c28f6a7de1f725b341130127e95527b96eaa4b1548727c926dcf82365580868ad044fb283860c0d3f73d3b358292faee1a02d0977411bbea4c67436474a755a2294f2e4e269799fe17616ee0f607145493bdc8e74dd11d627840f040160c0c4f694582833864f1cb97a639433233229d6feaf2a17b17c7b3685af76630fa437b2bae73a0f83a7eb78d56352a82ff52399c0c9a1e49ec25dd637f4a29c5010f21c86c584741682b40065026d92e5b55fa31e9bb7bc91577aa5400d88833caad80ebd0e38f5c3176bc96a13f7fd506bf8992fcae1bec02b6d2f56c07ad41828ed52f367bd81607e371d7859b99db8c755aa2e68a251bc07e5789aa456a3d7a2daef46274d04610ed9a00faa3a968f0ab0c264b66f8583272fbde315f6f21ebed41aa68f8b563ad1ac3a09d357ea5e2519681c0d6f5a758ab544f8d1867732533c1e41b4c0a471c38d212441e9c57fd10493c71a26bd9886d2bcff8068c463924880cd3bff58187daaa43696be649a689f9d5b62efa718278516d9d443fcdeb2d9a0d03a2f327aa7fdd089bae40151a066a059b4daa44786259b3c48684387dfe1aea83d1bb83c2391a64b41d985c3c6ddf4c2a53954d3745cf0d50d501939be6da086d6696325788afae90abca3afe62b0a5261eccae2c94012d23baf72b80139727c5a4f095fd8aaf97fe2f910abd6bbebabc8a52eafcf42021ef51354862bab955553310b3b7175e3a091ef4ec15a4c8d7a445e288ba8bd8137bab29f533eed4d087ae076e0195b589b857ab517043a8f6fd3e6b974d6cf33be85853e72bbdae7c9d24b52bc5322c42e5547dfe54d2b0908ee9db30a531aed688832bc3a43ab4b7627fcc1dc4a45ab0ccb3ab610b49c9d09693111c5cf9d3ac9fa66714de79fdc2680d05249a3b67640f34c3beaae4c8951b2d53c37c9d02c27e6db901a20173ea5a098549b2aa3ed15837e7ae7118c04bdf1e84355895be292321f6355a4fa41f3cee2b6d27eb1270ed13311a61760ada3777aa4d1c1cf5bbea226b5a51a5496a0051d6eebbe017ad3361eba256a4ff724c0b60a366e4369cfc789a179eaf3ee2a30400af6e7bd8eb547cc9f65a55e1d8444715c6168d4b653031cfe36e28e738a1d9ae7565c32267ed69b995573a3cba2c692ae53f3eda82eedef32f9506d96d36fe5be96a4cc9e90338301a312d90e657c54dc1d6d088dc385204870efe7baf39a7567aa3d1b3369eda0a77d269445be7ccd96d6d5666b9b29964dbb1d029be5d897459f935fbcee6eaa0dd4fbd0c889f77cfc8f8d4c9b2390c602ee5657ab6756f8b84bb29c755d19ef0d172fd47473417e0a788f9764ef97a3bd9998c12e8c82fbc540ef7cf323f23bce2f0d0dc7068e24c194cff034561497d9da3a29498ef8faeb202c1f903ad48e2c99bce1098eb28221b55914233d24a96385ffa50aec7e99e550c3e49d58c435ddb672847272fa13d057c17411516e51811c5276e00d5dcaccb16dee7de608795609cf10d5dbe13639cee92df65843a74a3a9a30cda7b1db6d12ec07ed87f09bb28e739fd8f57e8012c87c59a57be906410fe3f78c18937f240c0b28b5cb3f75b9bccef92dd4502171e146858b2e4528deacf7fa2002bccf84cd0a81db383814c5fcdc7a888928a5866ce55513c3e06c00affea6e163973d203e14bba17dcacde5cd3a0418070d2d2203fd2271cf33a9d7fb5ad074eeef0ba6de048433ab058963469942aa8de2c8308a0841bc5349f55eab61471d6d0d889ed372046a3c9a33579635acb6fc6659d2da2a7c620cd08d833c89da64d6360dc171d0728c82a45c4d8db7e2871464a927a1b6d8516fd48d5d96af75f59760e9af2b8ad7b0c251c5d49fcd07e076e372d0df06126620ede6b73b8d69d577301353e60385e936522247e25b6df55ae6ef57047e290b5f6498a3495b90c6cf6c13e4f20f77a9f28c3987b1740c5c17adf5cb2bfa5c6275ca56e0e0bb054fb17c00a7890ee654fd186104dd4688b9b1be9533e6fc9c0ff94b36de5f114c8f5675295b3c285c32ab90b763a926e5e05d7e8b336c3a3e9e911576d8f98e8b39ab35b6019a2ae2d3a07e6deb7f0715c3ad2e029273337959227352a78c2f509ec6abea04201049acb7d3f2c38f00d344f5c125bc1804e71cc294bfeff961962d2fb5765dba3d3de0c71cd732374e5db482101aef4b52c27dc5770cba2bb3812f91e617dfa5d0168b141954cfe81e9e915321c858028a746f64c97e67f5b6ce6c13b5df3553cdbf919945d460ac51e562a54e24b147d618675e8b7ad567e9f66614695e6cff6be417b1678c43a51f028b76da32509db6affa80c2e58c2dc9a4c2f577ee204964a3f390cd82f157337239e0ad0e3b8c48c7c47d513678004ec0d36ef5f3fa435c5f028acadb5ea067870571da5a323a03966a4da9d25e03053268c348fd5fc128ce4d60c9bf4b6000d4f909093aaee1a0c4bfdff17458c99c20af0ec649697d8c015d0ccb24be9524d657c1884f84a84de1b073e10f5973e75fa541f7c2499b6bec65872574ee9992e8083e090334434984b5f57f34808f6805963765e92410ab1f8475042306cd5c32d91f9e762a39fe1670843c8f6625479705a6bcb79da772c1f5dd6829dfe90267d7bbb72b433bdebc92968e1238fdc9b24b56219c72de139170b46da786fa97cc374c8cefaf04dc065368a0d1810484a6bb94af8053da049d15d32eed13b3d5aa1a9c55da5ab52a9c3da19293c8c704efdabb86cc090e6b6eb06b60b3a485b29e000408cf65bb5998c143f2fdff00559c2d350058c5b876af8a9093fea692fe862187de22d8be8ea46812e97e8bd581fe1020bcafdf9b845167a1a92bdfc3464d8bca3f211a29ce4f9bfb22093a8ed433ccefb3c02920fc8c5b9b8477c6d6929025f7dec8431580c0d31bedf85b3ef4d8c76db9af36e1d1cbe02d2b65d5667e2b22a0b4f7750df1a839188b28a062bf8448080585bc15b740adeaa09a6d9e21f6a83d98647caf99ce4b3b94eb68a57297a1a0902df6c078797ecb2c4d7214cf4778b60e6719511cf6bda5fd987aa04226b412da0419e722ec0ec181c8ebfa4491a0813279a91b4b8f4841568e36247ab4edadbd2769df655b9e8fd9f07af9320749458890426752bea65ef5e93e0a443bfe840b63a72e922193863a7a02bed0a5528b30f9e0944ec9406f4b970e276c8dd72b8d0eaea3a994bc924c512bc2a336166c70d2d26f8adc61e7a944478174dcd3bdff3e557195b3b7e6933477470cc4cf1f4e51f9abf4f7d538fcc28278359842cf531bf8af64dc0c61689a698fa6f4567c7a0107dff64f4211697af2a639cc0d0d3b006ee4df2a91fad31a0a36aed1bd30c752067b9d91a32fc2e233b3c309a4b48b2b28e7753a4cb297f0665f72b3f661f029833eec93e4ccac5e1427853ddd94ae4bbc3e9ad9bcf3760230ab62e0a88f207f9d2e0146852caaec800d0c43a12c1b963b8c2588a28fea9aff17295abe8680a83b6c154964e107685b9f03e593cc67b6aff126edf1a8c55f4d358897a28acc54a91bd7c6f6779afe6f0a61cbc05a1c8aa88c809aa5a014155861ee5bd0c1201e9eb4112a11625550de552b1a3c31a110324724392c45a370b10cb4c16be3be4a5271dcbc48ce23b5642120729133549138fdf84d4e48fb8d953598a6df9aecf07977ec64e3b00a2e819446918408d02ed26e1083b1380d6790d59252ac2fb397e411bd84babc26a04410924b20cbbca602022cbc2d7cf30fe23e9026ef88f24f69607cee5dfedf029bc65997720f9b5016536a2c1122c228eca8686480153a936393f46309bbdfb458478d18cbe48ada8e62a565e99761814d914f5fac3af6442ce6b902ddafc8756c49f3c8608e615b41816f2c0d98f47463c179dc3c4a4eee64d22fc16ff58f77e9b991389bf18ae313cdbd594e7f3352427f575a3830a075ab54cdfae6cbb709980fa1299dd8550a2081852d22c76e3caa316e1be0e4bb4aa46e358b09d7b28aacbdb4cafe6a8ca62ffe3c00348f87ce541b8ad6bbe57f0664afc1abe3b9bdcce18bc01cf0f261e4bb6ed35e0f17e9e2b9d1bd83e153cdcf35f2a62c63cf69caa1f87a2424cb05a25f9e2c461fd4d203e76ef4d8525bcb14d13a8cf54283f1a9054f734f822f588174f6077ec360c0a3d29fe0db8cc6b972da1a2afdec652d8f486d5b51be7b95d2bcd4d1ae56fd7473b5984124f2fe02075b3d05b2b207ea5594cf0b89944dbfb9117e51a6c85b397c40c14dbc21fdf07c2f7d5a1ec0c687a0f602bcd67085beeb072042bf20bfc8df15fde56046b3d4a28efc09be9fb5f0417562561b3e927ba28e503f3f7a0ffb134056decff263c6a843fc6c92e51bb01c2830169aaa358849340a8491c2ffb76cf71add85c0a100a0fe8b0b34580a85283730f9e0a87d702359f8aefe1777e903b60f95244b425d9effbe05de8a7cd922d6333fadba9d26399768aa989bec67af957edc77b9c87983b557ceadb96e0832d51a2011ee4356bc3aeb773a65402a097e46acb2a822fe1fde0187f8097822d08347931dd83039c901217aae0d2816a1b8c0903b3922547d2d7b01ba12adfc3aa8347e84b0dee62771f3f358733bf9bbdf9f30b0e3f1b32f3d0aa19a8ab9aab2ff90564e5f1150a05fbc36abfd4313bf1b4bdc64541815e361435c351febedfdd3354dec5ef4c4626bf08d730123bbc0e928340300fe444a5016ab2158f642ec0c30772c0765716290f362aa5d6d1f47517fdb0266c6d55a114986170487af2148c37d57e11ed637050ccedb9c270010e8f5bb408de4163a88899a27ddb70bf20a79376979514f1a8587da0701ed49d0067f0f41c960ebee2fd4cab20612a9cbc58479a77dbcc3b6417ca0f35f0468753cd162c7ec5ca6007f6a1d41bfbe8e2a1cded564654d87f1f7421298f1d38d375ebe640b587da1c80851a1e1c08abcd54f7d1389fa5ac73ee97d6316a92c3dafd2604d77f071870d5155edb548f7b07a1f5c3e34c5c1346c9caa090f7862a2bfe3e6e91bc124c91fe61c451926b3e11b68b7921ebe5b5f02334f515aba239c64396ee172b008d5372170891c481921e4ef24188fc9e10e35be8e8c4e2c185842c764acca2c800cff70f46a595e40ba25e4694adf3770ceb2173efdc621ef95055e93809414387b5b903184541bbbcfec016d8a8d2c74468464bef4f747f3abf96a0796fe361111c88cacccae0f9560c2c8006a5ea67202abda991b9904a3c23a1d8858033e79fb5096344545aee125f9b64c663baa5da376628e05d5af7dd57392496599ba3144c35f209956fef1965bbb4db39418168f350aba62e10e52bbce346c3aa8a2d335fbe6fbfb01222461480f79696770b60b69008892b25bc37cf6ed9e9660f872d91a583423bd265241ce7034e9575592e8b3072a499b921993d221e499990711073925ca3b12a64f75efeb802da520c3de95e76d0068cbdf4f60a48a0682c60213f3a571f3fbf51f80a0c2cd909c5202621c3800df107a7d638084b7c7f717cc27b99b203b7179af3b08706cc108f878058d11f69f705cb8b7bb3547a1a81fd7785cd56dd48c2a5f14b3003bf69e4afc8a5e96adc44bcdd881b6804b618e1b11409bf51b02764ca35cfe63ebc684574456c04095e1b59608674ed8a47910b9e189b2cef9b55ad366c551307bd8cf0c909137d4b9b471f91920e98838bfc8927c3382aeb0aa8b73eae65ecfbc192c01c94e92216d16f843f648cf5a46bf0670dfca5b8903ee03566956baa2a63fcf68a89a2fba90e10c6fcc93cbb982f3611fc190f9b1d6a82a7e17e983c89e497fc9fe4c3cd2c305d331e3eb6593c36e633d45e64f11aab49649a06888fd85bc91b9b7f808ae6dfc3531aafc31781d1eaf2167a86acded642875b7721a966dcad67e5fab82e1a650ec688a96d6a44275c08bbcc7bcb5065eacf846c1d9c42d2e888390745234f2cf014c9b9ffaad172e8da8352abd3f38a2351a1c948fc203e6c325b456832ed043ec52d200e4d91b455db3e1b013d248de0818e3de7199ffa34f5e911de7d0fb2ab7920f975f38c0e510ddd174837df12828f18d31629d0ca6e1ae14d642246f20d17f63165489e8c339ed27a9a308ff1f0ebd5e1b10b9dd87c13f301a23ea3dec78ac3736bf5c16ad5d45d3ee07f680e6df6236be987fd9bb33f7bd32cad251192e5d18be855bdf77006bd4794c9b71dab8538c97277902ad854e2dfe624537531d25fe3271312866926721d119b49a6d8e4e8d6c5694b840e32bfed77c6c5351dea98fca5569cd949d3d91530fbc26b240c806e1fd901bdf7de0598350ef6a5b0519ad16daee4fa4dc0eccabcce6b2643b481a8f2df7cc49b91b1fedbccb3a6e04acc31a34c7b12348c17e0f2b31f01b69235c30d13b29ea1eb795e0af402263f7269265ca45520e9e157e0d897a2c86375bdb2bc434e32ba80e28bed83f808572aa00ecbc471176bec5354f712088a0650af1f8ab03d74b4831a46577c3d3b2902e5f0df33e1f14064728b4c8299f452c3fb4398dbd16039a60bc7dda49a6958f3c3a7ab4875e6f3519e1525c4b3c840720911197b23c5b568cd1f511d1d9f1328893f2e36f5f1387c27247966de445a622f8e57e5e2ac3181a0dc6aae13c4c14c48649064662ebc2d66851ee1b62917cc584160952f64cab89c52ace64ac7f0c24b76d6ac26debd0b5294beec968b068849c1572a1bb8da0f994a81a064a184968d98ead06dd8112b6233b8b9bada8850b25d3e6ce90adca9272ed27daa16273df2e36a02b7343553d8a9aee27aeb3e3a74459185567f1583b6c741f2e5a1e0a893f1dc124baf2c92bda2b3d22dc22c9e31925da8841028bc0bffffe27759ea982c5ab4a2ee511409f5f203d58b040ce71d60dbd432d98056c822b1d0de7ab274c4c42dada76ca5ff6cfe6b59cdfd43a2132861ab7ae35417f516a953092e3dad75481a71693c3b2f092fd7a0c9228fe71c2d8f81d9f9e1fc83a451a0d9c30fa1a880bc8c5197e2bf2b18b09845de5ec7c7be4a8741017792465bec8447a1e81a83b4d68e90e9af7272ce62c6004d1c0e12aeb1ecdb5b83a62ca30a6fcef937f3675344d46a74c142371b5ba3ff4f39af6a26b072231b11e857d24ef01214921daeef30e73e9a0e3386720247aeb6411b9b9eda1a202874bb41d55e52fba2c20272b8379d4565251f696dc3f6f90853af3d2547cbdf6726c100236c24f3930e9961d856bfe82ce8ff6c4c101054b9a73b4d8e393d07ea51312bdb729cb3e74b7ad5d1a8a70b0c71d52ce0cee286bccc1f98276afca7de2f97a478eb52356f4eb6a87647e611a92829ab242d7f17fea84946fc3e2874c3b2c4bf71896b3a9c2ec5d84568180fff92d8c4c101434d239fede6f1cba31c954069492a5e8a21200f808e56e46ea5a0ec59a784a84acbd8777daac252d7317febe9ab7227cf37dc66515fea1a182f66a2678933c36f1a46edda44afca296a5659b94d3663ccc65dd42b795d1d549570c155519fc80b541fcd483d4d9402780b08a855515af9fb3c40d5c587cf41517933a179670ec2303071434df2bfdaf901e582d35a8f63923c5a6e704e1e7274ea4b10d979571a5d470f3f2aa46cbf44f163a3ce9ab7fbc7f29a66336e51e8b77cf2688076103c9b388b1f36b4e3d7dc8d960763be94e7d68c9e1c7a563a347bd271d14ea9682f07bf7677c80b3f7c396a6638bec821d8b1ef3e10851dddb27c96f307bfa88970d4a951988c8d521dd7cd9a4ef4db80391017ff0cc6cb5187cd26dd3a306650259b1c220c8bc2488ed0da1dcd83f5ff8945456770d651a83817bcf2a8b2ff35df16ce40248084fece37e1bdb99a7f4fa8ea70b64ad373d343ae9deeeb4491793aa9dcbe1a6d96c0578466b00e7478056951cca6812d78950b3effc80149fe5fe1fba9d9dc1fc096bb4182528ad33b715efaed50bac693285f8892c50dfcb2fe86abc1383d96fd1db744a5f37ef211cc094f56d74b836a5f56254e8ca8254886d3f0b0ffc75aa07254538dee2a2f579faea01d63c3ca754f92ae7ddd06baac39f9329c7890656fbf6a66d9f4a585bbb5f957072ff5fb8b02eb5c7ec33c480b23dda307ff50a245f7ca2bead818d50c1e7ed72e15a429d49f17ee78adbbc2f21e8663301a0278867904dacbf13b2f646d1c6e9b012828fca1ccc6aec76cf52683552dc3cc1d0523b8f6e63f97ab4b647c9a63dae9a11604d431d049e1800965bcf954df9599fceaeb35321015ebe88b199ecb9936a81e1b78e0be793e86f11a52d49dcb4e36683f5b2264104387f019b2cc8de206849f9e47dc6f303efbca7bb644a6be075fa9e9b289d5d34468da11ef7cb11a6e97f7be4f0b0851ee0644af30208add295226d81cca1af5dc559c844c7aa4d5dbe019f75979df5166d9c20207388d620c18babd233bb484bda0d351ab81467930be5b0883e78400c12d66fdc83e84578635ca8707f158b5be01333cede9a1623f233e413ea16ea7a6076daf0368752eaeb3ae1f7ab2d01d6cd880596061023a1e0d7ee5b00923785a511ffaa3f5c778c77e31ed8687670b47055ea1853650ef6a00023420a891f0767d72dc09477cf6ad77c0a43759d439d98f6798e23c5d8f1573de04f872e60523f16c15d87496143cfecc28655f2d561f7662c7479423ab7b7a23f191f14692c5ce0f0ada5f7fa1c28c4f07d9636fd9a6b2bd4dc887402549781d47735b87a011321e8764d73426f0eea702f737fe1bd22fc38fec079812310dd07580c8e76cf45db032da551140ebb7e069121beafc3a3036b5bfecd7a0b09264ff4627dfac03b22dcb53e11b060bf49d2ef27bc76fa477511aba196952da94600e1ba9464b5a93326a47ccb3ff65fce5833ec1af8ed7f2d598066205faaf5dd5e15159758712b0745a2491c6211f1c130415a1a280b18ae56b4e5e341464b71ac083b1034c0e49f89273a051b0a49cef2af1edef5bef3c32885f28913d215089306c0c854977db5f16be5d458c18b9205832efc640736f7d0e185d8bac8eb7fdad226b1f76125e521db6f8e196f0d575b7e30b334006e22ef47bd1e3916a4","isRememberEnabled":true,"rememberDurationInDays":120,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
