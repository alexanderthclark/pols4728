<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"d828608275846564471ccc5675d810487c6e5ea85d2440d02243a7ab62c7aa19556cf0737b3b22f31550b3db17172c5dddbf5eeab9e38aed15d11e843c5e8472cf8546e13a717033be7b05facec36673155c9fec9a677ad9809e869c8943c0a40eb5b8bc4837e5bf1c7a425350ae4c9f38156627d7ffb47e47772ad415f99014bd9c353839ac8d68aee107e2870df7a419233bf1a619e7ae6329d0d6777254aed57d551ba2787f8597f41383f07a1e9477dc022345bc23f64d92729834dd196dbea1924faaf9866aaa7a7bd128d456488c88ed3eb24b8f671c2c93bb2861ecbe017d3572046011ee07e67ab309f0749b4e0d4d416745c84d65e9a87d49b0b62f07e9ab7db157da624788e744d95f231acf0df5dc520b91f5d4ff4b02371c45677907828e17a288a3ec7e86def728238b44a75826d979f6a2545595407149b7fd29cb9f98997f186b74dc3db0f3e065580cce9c9bf847e0063de5a2f35747be1b4fe486bd936a53dfbd4dd4cd40f74db92122a109c37c0d5e460a090dec0015ed9f80c2988d4534ef605dd0784d5ddeaf36179c937da82674b5bd94ac6c93ebec12a16c9e3a13b96f98c124f3e316f133d31b72ac044024541797e3c570225ea4ec5a807964920074beecdf018984ef16dc972936a32f25586950cf7bca0c465dc6773e9b78a3aff64ee2320f43d2f1fa365efcc67bef82b9b585faa19bf6b035399a23ea2b41c8f2acc6a6b56f6ea53421b6dc88a8ef96cff62450e6ae8ca68a12391480752c77b6c6bd7a225d66b3eda072b526c01f0ca6fe4a37196569909ea27e14cb7d3ab60ef2cab2468359b3e2d8061e0c55fc31db87cb1fc26a0547897e049f898d0aa6223107804e107eb6ec70bd398ed224f1dc38c23bce7f14c935e4cd6579ddf0ab2d2d34abfde512f07fc15e2de36146ab827506089c8f40ae558ef34d0ade06d986474adc8c8919ab1c4c3131924d79b4110875cfd6247a93cde0d919471634b7cfa15e49e91d1e981208ed395ddcd72bdb2be8cf01b458812795f4cf351ec54805a9f198c618695df6a2cba78770fa077ee700aa3dfe2e189c54c1414801e7bc45e62c34e7761a924a580fe6b707cd50744f3a7d6d6a46b35b4e4d7b2d60f1eea447b4e99643064b66b3ff8580f5d2e4f278d457361bb0648a8b2d138e5f65b037308b7bac071977f5ae20d344e2cf02952e975d0ddef44d896f18377beb7326a3657559f739b22ffc86958d8c2d0cff462c4b258f5d0bdb0efa51bacff88ae6706794b35d1bb3c95b21aa1026fc7e2a811dc85e0ea96c84462832f7af6565823cec578cedcac2b7623105b6c5fd5766b2bd216d78c5728927999eb4a21691c14fe950c1e25120f6ffe21f486973afc19f8b3e7af5f0dd7b4adb4071d40c918a92f5e45be7ee89ef5aea13841c05e8810f0b8d72e003a056531cbee6a68ad2c10be803efd9932bb81aa2635cf0b6266b74344ac5034e37b9d977c5ceb4870cff4822e7bf28067c8cb1daa178300651d05a02a556ff1b8afef7d142cb682b3f7171b4584804e2924dbdf54429db01cc2e0718604406c83f047f6ee442cdfbc945846c7c275ef79aae14823cd326a50b85c2b6e1ea777a1e397579d34e528db65965d80991976b2ac8c9435f9fc0b10c5e341fdddaebdfee86d88572e4c400f06e656aecfc7b279b70bbabf369dae39856488cf95b8db4ecd889f896c3c50d663399d984961a02b6b2c77a2e75ff035656cda25b75c70ce697d8ffe19d1dad2f454bb89095ab33ffa3b0254c078059e141a49efc314805bded755879ac7cf75266adf87273027b1d0180da97f5376fef77170a1757668b9670ad3f5d7dd385d840217fe2a31955f4e303178850a82ba949d420541c1f73be6b6e2af4a9ce2d9498ff7193b893035cf36bef0cb5be9acdc4d296f0613577ad3a71c6c6b4fc78c8c4ceede97c885dc9dabecbb513ea496e02c61949bb2ec09ae18fc0724f7b727a5e984e9a02a784e1ddf919c5a25d981eca705b0058b9af525a0b269b8d7f39eaaa0d0b8bedf57023c6742800b996361e60987ba7cf7cab849a45fa5a87d9656476a8aa1e0dec98b1a1050e2259ea368b2f692f29c34027025f7e48b1a09f53f72b82a1f89f5755eee11495bb895be8c8243fd363ab0fcb183c1b5833347e6d2731e0d204607cdcac4bb1f09b7199a7a2d70f7476112baeefecfdb662ba549d06041d46a92fe8283ff4cc826beb9f3e7f2ad3d2ddac7d3ae815c2cf2d268971d55f0895209b27f7ec36ab5ba82a24034285a3afb271af639cda42dafa3d7e123965ae06cc1b1ebc3c987ebe46e26aeeee22e4280ecf7786396e3345b8b3d3b220437a40d36a22c229317cb1110c534af86c0e4000508b0841f781e8a0bef89817246e88cae5da7441aa50faa0062c0a90a6c0ff1bc536f5e53292354bb32d48f9fef01f75a698c9915455a3af622ee687b465ebb5b24891de2f970705a45ddbe8ff9f824e0e9104a670c61808729410497097876a44901dcd78cef48493f44137884519c1339eb68f31ee1820241cc7fdfb1f14b95968a8ed6c126c2b867f4357d075cf6c101f2dc4a4791b4af8f1e1e1fdcf2fd0c184bb02f3c51b55e36116455abb932ff6a744e6d451c6b5f6583a9360a8ae5131c3d12c8f56a5c72a26a917b0c9eb20e1c0dee79bfe37e4e1ad70269352a32182da2073adffe3bf45c46a677577be6e28a043ed3132499887bc9c43ceb6f9810bf1c1a868a38d20e8bbdd5946ca084645a87186d2b2e556b5031c0357b9fb77ef39cfe69182b8f4ba9078bb1ad23daed9da0dea67cd1eed5262ccb9ad736e85f73efa85a8085a8868fec1e82e4e17df045eebdb99a2b462ae80d00350c8dd13cfe331c14fe8e8096d2bdfd31e5476b42836778d6d97bc1b22ed8991db9f4c359da3d8a5390b338b3400e5d7e498d053a760a900bcf6c791e0acad267ba39aba1991b80f827312ae0e68deba3df5bfe806c7e9d51847be631530308bd7083f4c64c6d9952e667a4c3ccb82a2984f23f3364b29c500a52f523e5ae2fa61f763676fccc85f91838ae2cde6ca94961c3fe366699697059c77ea29f2857cff9aa2f018d0023696ff3e74262c59c8f006bf81d90111550d286e2e0de4399555750e2bb475b98f9150baf8dc8cac23bbb6c655b2ef49ca56dddb5d16afdb130385b3d73ee93180635c910b6dfa6b573c55a57e664c12309f40f37bc26b04888ffacd6bc2f8aa61ec6b6ff3726ad0275e7d4738762d0b2794d397c4c5b1469c7f8084774d1206b8be70652d388e503561a36ea6923eb0a527270a07c611172cfb8781d91e94decaba1f19314623f6a563fffec84bb5ab01a17f88eb17bfb89e2430f5161c45c46852515f75374005fdd9f96d162e7261f6fe2eee00126e62f824940730e94608101afb66814a358eb903d4c114d86873a9b8a8edae9dc2d064fce1a69d422ad364dc2ced96a22f8d2386d72fda1d4589ef396750e15fe46b46b8fcf8f723c6351fadcd52638ba7a9513aeac5f9799822443d6b6589858cd96532b2daa94ceb07a7fd6d05a637e7aae011ad089518b0b5254f9fcb98d80ba715368859a2c2e93ab679c58c4d082cca2ab7467bdaf92c4f9a40eeb5a0816efa8dd01f466e99501eb518e085e1c85b2974774ea3b7fb2416cfaaddd2e146c2ce162353442b2db86ccf29eb1ffe8dd6b962d7d3f850d1b3be89810195bf066ef890a1c86950833dff977438340ab925ee0a4784815a4690f07ec7dfaecda6fde8b0e141624ef946d739d396fd1cc9d038887a7fc2681b3dcf7e43208ef1bffc7ba6656b27f01d85c2aefcaf7ebd6d989a22a8876a85757613a9635e1e16b9d5afa3c2fb3fa76f91c3e9c5310f4437ae7aa3ceb0cf0cf2bac4b9123ad2d0704fe8a1221d773c24dd0dea8563b6850d9a5bf2fc9afb093e5ebcba24058cc10ae28840d34237894aebf9fcacda8fad5d5a71d763a00bdf18c6f1fb4205e7e352cc70b851ded6b3a9c462646ca284def30724f62bf6ea0c20fc29112a3c973212f3ea76d20aff9e0b79bb886fc5c1459137ce4a2fed33e1e49337f591ae2b93275ce672f1a4a5db0fd82293130ee617cecd82bd4e81d5baad16814987d3424c1d970cc24e478aadaca709a53aaf3a79e446240e47d324eb479ff5d61beeeb3759115b0d831abbcb98caee25b055aa5bb7f80105d783bd5aa0305cd90963b612a8e60c25a56fb5cfe2871ca8d13f8b8f50a6051df77b7c333c8a210cd3555bb65d1017e19fb63d9cbc5c1879d7ccd7c4b85cb9031af6267ff464b0b216397fac01bc10679d32cd4ff93d423ee617e54e430fbbdbcd840ef81f6aad8e0dbbbde2dd0bb356e85961a2f783635087143de411dd51f8384e11be2d95836dcfd9aad636ea714408da87feaeff3a394b01f9d02d911606ab04fef97fa7aace7e11f9df51734d26a3b1170f45c458318f41a9721ea1d8544059c3a52f566e7430115270b24645ece0821249afa6079689e2034d19d39e74cf84c4b7bed82136be3a2be6cbdba6cb947216024d3ec2c2391238d0aad576a5efe5b92afb0852a7a3e5ebea7e30e50f25b42e7ada4ce17211f38b7086f3f4ed15f14612df2547ce7f005af417728370b1a300c810e0d43a31c91f0c2b07ded98bc291403b81c51c7bebec49ad752a03fc0bed02e18b48bcd010801dfc0458c39876ce6fe54e92282abbc68dc1bc347614f350a69f0d2a88e848f823edac396b18280f23b28f9802a322bef72e0f068026f0cd43ba7024320b6d79552cf901d8b66dec8f5a7c86ded145a3b8f5d36c02aec4d6665dd0177bdf23e41ec0d593e02c645a8f63aa6dcd8477d4472359235f05857f266846dd13a737525aff5ede8b1a9d95d925382e12f9016416ad6eb24048fd72d029426a931488b1d261a754f317cbfabbdde673f420b4b6fae5e4588a59d5196449cc1dfc27b4b42615787928d3ae32c026c6431ab3cc2baae23ee92318545fa16b323ce88127a96dd887e350090bf26e54cddcfd61f302e20592fe611187da6ccb9a63765d5d7eea56a507caf1f504fee4a145265fd29f562479b41dcbc86e8911352f0c5a2be222d4ad624d28abdd9d0b8df26c26a9ad9f2c5ae083e05c5d7b8b2519b726e65b3122ccd8f8fba0a8cc254e7fe935fdf2014b90a49111dc64d2c0e76d3189f45a72b29bfb2da30ff1a82f62d01eab0ccd23a615f88fe91913e39b6985fd149c023e5f7398175ff3731dcfb4277665191fb6224834035c9faf16345a7d98bca0e9946fcd76a91fd4533c0e167ff699379fe66759a894ace52571a041949ed340ba2672e3a7df519e2eea038cfe662dc55b935a3ee64e58da0647be069871030f51ba920e59204e7b457a86e46e9713617adc220c04cfade752f6213bc7e57a32c59d95b5f469673f72701cfcb525d620a7c60c3b265313da387ada52ef604ae88062396bfea6d38ad64cb4ee52897ea90f554e6c0be36d93471cff38b9a8e60de281e82397e6002dacc02184d72dfa155d9a36448ea6bc45e8c607d6a2fa399efd046933a278777ef7453eed304bc052d53bc261ef0f8650eb439140300a7612e81de372d9cea838cb7265ef67cfd862d2dbe8a7fba877b095363b3bda02f2fbebe67de3bec31bd85d58beba26366cb392a25b940c815e9586130405053c178775cdff9af0437198aaaf9756d7a0bc78793c7e46b3911eeeb50004159061732d5c112be61234ff59289b9bb0b4a5ed5c7d6defd2c11bcc86ab417c9fc2c50682f9dd6cc73706c39f49ab4da53362ec373631783cb40af9bd38650770bc1bb472730cdbbe4e074dc6a2062cb1146355e179d6ba156e559790e61cb296e2be482aa12f5f7cfddb7923449fd25dc290a8a810fe1121ecf5e850404e165b0cae50612a62b9f84f3d947dbdfbc31e5b3af4c80059457f536d15c305a92b17cee1618bd6b1ab5f9e6b8eaa0bd592daaa292f6d4c302353bd5591abc57dad62874766643ecc1111309021ece95adac698c16593d9dfec10c37e4f5492dd9c4a9df78a9ed3c86d232093f6f2a60ffc6da29a735cdcc1d0b2c607da4c1a6cfff42ef3e7758de9514dabf78560d97fa0d41afd3c983dcb0686452b4130fd732975a6f2457af815754078e27b615603f65620b0b235f9adfe062011647fd4e462987787aa79a3bf7a4b55a6070b18c819b04610bbb56359fab6cdab68604dc63e796a2d69d3659b17dee8f1e803f79fb32cac09182eca24854b6cb05ab3203c255ce5f11a305f78b4e1cd99367fe5eac197bad633bafb6ee5f1500f683a8a168ae1ded0a68724e2f5b7b6bd7de8874796059d5e31a920eaa31a097e56e901fa9f1441a76f70796d0c41c405887023ce615a5729368bff544387669a0494bfa4268a2a0a1b018bc0ae1608532afd6c40583cae7bb879a41b7f9dc5afcc64bd9d3882129c00a0b612998c8806b901623a18df4f1bad02e0f70cd18c36e908757aa52c8cafee1df386204362f64b5d5f374380b9f9db40562b709635e413c6377c285dce5759061e5f7f70b1402cd9bcd9151fc2c8f93c367c4e3adf56c96596ab64afc292218326bb366ee8d3426cdd8e1c5a7c657f62dce9966dd81a4917d90c5441b734f8f8e6583adf8a51380de4984a15dc1818c8f773bcb586c1e15513e49093969299a4a90b3a4d7e5c40c1142da1880f7db4a24bbe0b373551aadda3b1b00da646081f9321fb059a5771be154239fb4b1598146d82c7f8f2b7ddbb6b1e28525220f5794ccfe1f3c0db656bc5848da255fefceda7083884b04610f8ceb323d7685e56668dac948f0045363769bf53adf07c00b58958270cc7e5699e1d9032aeb71ff63988dca3e48977f7f8a402493cb59ea0533a71cb7826c27bc3d755f08a9f3a592e6c9002e4794d4f9a590acf0f0c21cc77e32052a4fe58a4210e59115271b7650062003a98fe31969ac68ec83e48e2d17925c334a689d233fcc25d5fa9026a80676f7ddec24aa762096f72a9955bcb49f595a8f4c37e1a6cdbfad6787f484258d9f6c19aa75981e056a7b55dff4205e8af9488690aa2a4240eef9ee5100a6b029c3ce8386ed7af01efee12010442fe0051722a8668d2128c74714a0bd6970f1af50ebe1ca88cfb7f72b2227ae289c275a42b47d044da07e63be7de82f360da0307c0289aae9e1fdafb27f7fce1e77c987bd2a5c39749791e8b3eaccd525fb7dc0acbdcb378d860de6a92dc375377c04b72b0907aa8a7b4b28958cbe9ae4dcd016228b3089609367242d206e1445842687bbbacd17b2a99d690b3e1a90f6d936007c0ad849fa9a50aabc1fbbb2caf6fee4bf607c67c87f890586a8b419cfee90ef0ed126f9c126db5e3701b0dca30db0153b6dfa514a6406a0bfd27cf92a75aac839e97e7babd609c2319b5100cea227de21f2b560dc9e6a5a3e9a22da5a7c9adfeca5f0d71856feb5bf4c6cb2fbbea72b8f13ae9e94010c0f6c94c05d2f5e5b8239d11e771d9f45875de2f8ec73ef0d8e7ac2272c4a94306aca281a919cb9ac7a472e688cdf405063ea9a8e645474e73e92b0574b592d1f55faf342806f62a64975a208aa86a6c6bc0822f302701bba5fb47d6f357ac51543a797eda86b2f69839fee37223b2092ce473c457b8481b574834e5448e1c12f855a28c3e5fbb6e87cac7a806d125d23dcaa8dc8125742b166723fe97a0da130ea85ce1ccc71ed85b30d84cf2f6a7ae32b81f96da981cf2853fa5cb5b442451dc136ddaeaca123bf8b4905a901c81db5fa604d536fb5df20e731849d6dbf6f31589f62691dd28c5a4793efd658746c19ecd16c8e4bf0df5f2c1a17a9f6054d5f4cae8622b66638bfd0f3b80b8b553aed490d4e993337361422387b6b1be3218cd1817eb1d078f51ea2f59c5f7ccc2ac631a09349b6b6f7cbad1e706b54289d19fd5d13ac2626bb78d1ab65df5c138a05cf3d656a8fd17a0150112b8530046e093db8dff46e92994b31c9d0c49dbaf9553f4a8e8b29d74c8d764e3a66b9085cdc82ec29b6c541a1db549cd4af9bcc5ad56b10919a1b09d97eb2ce88f4e020ac94a70fcbdf028b7c6107fdbb0a838192b564212c841a6f50e69539b250d8ddf63e613aa68ce661befb0b818ec709adeb1045b3c0aba851fe78332dd01fd6b1d8e5e24cf7f3ccb98866d277e7609c875180303adf5cbac17232e1803f6dc1e3769214e4ceda67c9b187ddb100ab047cb138cce9e527620bd632ec69ec1b10b595f79094363449608b6d6b91be46c63181041b5eafcddfbfa7f8301cee66815f24b77dd130eea0f6a1ccb6368be8e1a5d7ca10187bca3ac66700bf422c53e29d5ef8782aa5f9e4aff1f8e255416dc1f9260abaabb2f53d4c3f8ca80351efc6a856436887eb97ea300976ff5dc5309cbfaa9e6769a0854777e0f1013f786fdd4b666b6d16523a7e827ae94ecf641d387174e01948726f04c47ad61e400368fa71e5d7bbff706c82b0b5464d78ec5350e81b3419b8da1deffb1513378fa9d7184083aa058e76ca7e19180fc52a67ac0590aa58f4f794dfac6436cfce0b94567e3941ba79c2ef2e8577fd0f237417d7d72669754dca75843c3eaa8616904b7b22b23c0e0537be3f67cf35b22d4712fedd4e3a4d6a9492123c5e0051f923831197d4abe9dffac887031524d849b183bf5eaddfd835bbb513ef628f3c7d1da94597f9231f4fbfb6e18b2f9215bcdf22b6d1c5ca4acd231261614c0875a7e955e39a92b50850af84dc009772ea63853422ffaefecab27b0fbfa826748ce46b79d64772ff1ef58778632d06d74c6a29039f9accdb60baba8b5c48b37b2f6bd4aa8c37f73829d853259e3ef5bc524fe7706a3f9fcc95f82b6361e0e82679b58b4f0d0a7cad88ab200b40982c65c50a3a296d3f8cdb3e353ffeb8e574c3bed66adc152013d3c2708aec33ebe27c2a3b2d295980486a02afedbecce9e90ffd7d762ac0ea5132fe8db94507b4d91380fe8febb75b1b21c9aa5494ae3d264d75e16ff74b673a8b71ca3a2f84f047222a712b913f489581094aacec073191620f0fedda5b9edbf7e65b1954426f96459aa6fbcf2f02a8f07f3d19894f3aa44af89f51a7aef9c39aa84cbb588a098c0ebfcb8c6200db3b796f9dc96a38338625a3adbf1d4a6fd38db3810a917c42a3dd56a152d51e2b4621c8626a7365d6baf2c6319d1bdf8f1f06e150cc974ac243977c82d45aa830a5d15fefd497d7292694ec694dd526048c5d1210c9936f580846cc3e5c7939511bc1fc4a48fc3dc9cc09cd6a21b8ad05e0a22622f463f296a2430a7089ffdb48b1aa660fb09021141db805891631cbc027bf7331901762f016147c13faaad204bda9c2a427013d4398668826edc8d3185a351d8e622b038fb06ec45b1050464af195199f9e05e87353e4d5831a07715372a08c8dcad7e743032cefbebe63b0a0028ecbdbe1a34160cf512301d3a5a1c1b93f166bc9ade110a6a0bcb239a462dff958e2c3ba2bc2ee945a4e728faa1f6e94d3591e133af4afc7fece410d3ce6b393163a66b9a1c03765e2b58bd7d3270400ec19a397654e5955b4d8de88759fb88714cd5aa00249cacae97d4bd5f7bb918461af7d860eee4299e946621daba51183c6662e2e7c58d327659fd4abf6080beb269cd2a5c7350356d4e2aebaeea7f27c564f40780e6b9a6a17b3a70b01b40dfc207cf251fa9bb282a24214a7047d7b057d127c9bbc0a78ebe69d1aa0dcf8242fbaac0022edaee4fafcf2666ad978d7f6be65ad0a7fc7b21dee79e76074c0d3086689f27465627ceee4c41b60bf1480270fbaadef083d8e8193397e2e5caa2773e27c9787d3e9b29b59ca3437cf09f67f0b82d4f94d208f96a786046720c2dfe9717fc96716ae9f141c5600f8f57b75d1b7104f63d65994bd319181cbd2927d90a411d5342a1e8ae235b8d605df0fe547dc3625a21971f65b74a3bd6ab3c3df987a4cea74b9b5860c3a0bcb81152f91e0fa4d79b657e3afa4d687baac4465baf1ef5f89bb07d1eff0f4108e7396579c230ec494aa36c1e5f0d2adb184f4c651284274bde8669fd5530f5889746f7ecd2915415396232d1ef77aef1031c00008a9be928683fc86d293821dd63fa93cc97d78611e0d2cfbdb5d26d4e9b1729314672566cfe7466fc483bf12f607f70317e563420f6f8d3104d3498fd05b177cd9cfb7c0a6cc40e166fe0706a6a96d026f89b965342262aa35b721f7078c264baa336d92e76f00aaa568883c7c5dbc3a72badaab0d3672150659052756c3086d707bfa77c3f3b18e58d46b9bd012825e00beda698ea81af03166dce80d8920954f70f2d382dca274da7985d741e46e71b019ace61cc3cb3e9d993462d9a045826cf5cd1a7f78fb7c2110a019d8c9a8d73c7649f3972b68be4caed951f479b9bda3129c5e37bffe50f1a87a2acce6bc365c7ce4ce339472bf08ed3a09d7e6827716d5876238c9a7ca05130dd014352ccbebc2efe37cdc1d17f523130907b6415a5b342904da6234485e4c5ff7c168a344bc1c6b4d3ec5302e3d9e497085a96d7a9f915a884ba4ee270d231a986e5263b197a8770b2c6cd70129d88783733c8835da6bf1835adffdb1270a07cc8ec72bc08dcfa70238911784fc3156704076db0e869d564752efbae4b2a75501fe73d09ceddf39720d03ff9f0a32d3e834019ac6e57fba9462ede8414204874ca2644ffc4fcd4593bb03068a03f7b318a5c83c4bf920a875bb2336e7f3a70f1fd2d0b149dc2b9b901f390a172ab260a18b1a60390c925784325c47c5da19c97509a57618517c3c96811ea73068ada765a3b7e13897448524ce89686cf99e78b6e70401aaa24abec79613f327dc08853428ab3c93abaa29285e76a52f686fffea1b60f70faa1b00ed8f1a46575d130f722b052a4e20f9d8599e7b76862c54fd67409e66e46fd5fa4525df918e69e9bd3b942ef4032a4c7c3d23e312a212c9d059b84a5ba910adbaa961817dd1210dc54295094c59c4dda4041a320a994b64564d392bdc3e48e121edec048b8d003b517874fe222ac02a7463d3f18a14dac32c7f92c8e4ae7b95a1288f6cdd026075aebf1a61c3211997ac00f321e9241232a99f0ae3f4efef3b05e79622511bfb5ee2734028173e34bcece51fc4fdbde0d2784940b7b81ad1fb2b17529a72c84846cdb0c2ce3cbed4ee416c139bc578925995c785a397eeb2f0115c8c7923f60418469819ba6ee911a0b179325634d644f3729c62cda75d1dba454b85c036e321a669887600bb36353a927e51b9ebe22d2d79a12f98657d86008e93f784a17a5e4fdd66b1a653ed849a6cabf026e79e14fc80a9dc67291e206ebf62c6b516aa9b113ed76df585de8e07449078850f306cac356ce899825f313911a53e0123c8bf1ed7c834e05753926df2b92e8190c26438d6ee9cdf7634389a86b934e90ba0464a4bbe8dc7a960a13e565b975afc32104aa99769c6f710ade91037e64dad98e4c076e5de8f5dcaa861c269a1d9bb4271d5383ac25fba60fa400576415942da556831cf91d4ee6686613c33d4d54daff9c586ff57b7814c072d038874bbb149b2fefb8ed020787f834647e3ee88f4640300275320e59e0601a3aad5af4ffdd8b949d15d1d820c02367c2a2e7d0eb6b361a94423699e0b23608983ff024ad5d3a5dd16b913a615c7a2aae41a0415047ca10a4eaf244da5d575c9e0661d445bf59137ea39fb435a4faa7308251f36c217e74b1276a16632b319eac0d7ca93d7f3bbdf98c59c6f0a36caf05cd74571675a7b63221727b4aebb4052be91ba5623ec69acaecdfab6f2eb92a5c09f808bef54f5bb9f8b1ffba66fcf3a56bda607df2e0345d0bc681f33341d1fb0ef5d6b8bd91b57d2c35a0e265b5d7e226a2f31dc385bb23c86c1db2f1a257f2e81989b9e4a9a81046b53d6c90160b7f2809b33b10c45137f25ed0757e865936de1d7afe72739b4e823eb3709f0c0a1c9255c8d31ea58959c6998cbe6553e515c94f12c4ed184df0a900c8040861d7b600f7f6672e28c9dd6e43fb2d5ca473eba90d14fe2d8d45a1a50d2db8f54cfe1084455877e750e8cfaed2d8dcbf581cdd8346ba4d8004e14b80fa09b8d5469f81eedb5b1a3bfe035fb5887e189c59baa9a097cad33bc77f9d779312ee9feff6adfb878cba7c80cb7e5d9af77afc2fdc8f837947a7b151fbabd03419401ebea67611e8bcf1d81f0b7c39a2daa0d9a02ad6dc777ee120f5b0b3f628bba2905f0ac7d9e4c3596edfe92033b5ce592bbb8158ea7a334c2f2bc4b19614829fb2ffa761c7efaebf7271a368bf84f79b12f503f70e9426c281af56c49033f2a1154017b2a33a7cc621c5f8b58137eb2755db78018aaaaa4e6ee7f8088bc47d44f2ebe483ee6da222e837130eb482a79b0eab908f25f6eab24ba0e36353a7b1f75b4e5e4d11203168e21f413ccb9dde9ab700b1584b3ea137fe618b0433c9c4f6b46d034683acba6a2d0125d0eaeb7f016a6089a9e4c805b0d19bbae72ae64033f16e3f91a7ba382c6ec6f86ef97be8107460c3e3a32346231e5db907ae7862c46d875b487fcf217ab3ba041e8a207b08cbb3c4b5e083c31bf76e7cd9585a55ad758e581205f07a8ce09972a75fe3c9c8439a67e5227db8b01b94f4c80fe87fd8894fe222f3a02b2f6f78b805231592beaa17ed0bc269163f4122391ed9943c76a4eea724b52db047155410e72c6c432678adb69a29e9e2da4c346ced5ca3bcc1160c052bfb97777460b7af68838e96a0e071e0a93064a971ee40d5bba7a159d7ecb30db9cf25015a90fd48a2e8fb474734739c419072198786a8301856047100bab36eb2315c2267a3ccd53408ce5d87b7bc58a4a82fe8223a5762f57a98a40f5c8d41c8dcffeb3a398cd225ec7061964d50e8d8d2f11aaf3f5cf2e93cfddd45d10e7810f4a81fe1fce6aa1ff50517e8f505206a4db59b64e97e433d62c2906e6b1a0c84d277f7ed1d0b9f333facfbf34d9b6bf286552c96d62e94e41e7ee4963ec8e2c9db26fe1eed88be6fee29a6dc5fcfdf0c5bbd0ff923eaf63863f32696f1e82a489f7b68200f9bfe4c79821cba2226f16d36a189a80f24e752eae15558493cc35ed1921d4e61d46d18fd06266b427b4c052208406005e9f939912c323543d50797043f5c83954cd294103d1f7950d4d070f29f31962d72b4edd03ed241d88138c62b8bfb776fe6fb05424eb4311407dcf692cb3f4fd88734972979ddcf5236f95bb9888886b69afab0aec35c5cd8ae08d21c04090ea90717203b82546314a7ab31dbad7b18e12f3e5527e7f1fa04fb1cfe8b682df207951840852414b8a2f33ccacf218a270142997c034f576874896850fffb6d60b4e7c0d29c0539f6acc520ff3f91d3bf3e1a71aaa81116f99b3b34fa1834504b632c994a612c042dde766e2d321590486e1a85c78696c8de9f436afc5906ce160c5d9068b9ad6f2aff70e696ccf9a2825df6ef420cc62a614a5b662636b46f9ef1d805f5b916b23e29859c89f299586c2a978ab9262d16aa745fa7175435bd75ec749cc9c05eac06fb79a75d46afd6653d512e9a0fa7ceb232f6d717649b066d64a939ba425f90d3ae1b4656737b2bbcb7ad065e30052ad2480cd79986d1d69b1ec78d9bed4af6082be795d466b37b02bd703f5d6ca5a10343c58dcada21bafb0eb94e7dc3851633ee5453a7ff747e14dccc52c179aaa183373b41d47d5a4ea62facc9c70c0aa70eebf5ed76bd328b914ed16211dd4c93edea4eb48256926f7ac43d663e7e6cf09a3813c9d9351edb469b6d0a4cdb229d531a6ed59591a7766e3ca1160cbe72dabcc80148bfcfef40be04dea9f5ae1eb85301317b1c1f030ace93ddc6d17acdea3a58c467b5acf51a4dadb8af3e301593a23e55117dce8966c0aec0eb5efb2df91189126eb7121d5d8947a15b625d0babefceca0db72cf01d459700361b61c0dac659966ca4685cb1d7a3e9de1e6a22737875adfb563b13b8c8fb520508830f08697ec585822b0eea65844e8570295f933b6744acaeeee738ec73b0436eea72201145d9c480e87266ab4cfa85a2615dd14e7ca8ebb9f1031d34fb238ac67fde42dc4e52a1c5dfc5054c5b67f62416703154f00551b8c1cd30a838b1c863e957eb75f9af059571bc60657f354fcda609395022163f45135bddbfb6d1cd2b92f693b57069c31fec061a36cb450845c0fd7aeb42ad0d3ca1ba6854b290b23c099fb2170572e691f459d8a1233f9a1b67eb838b79891a97b99247bdedd2ab98d159068bbfd47f0932c645aae4e5bdce79915b6319555223ccc2f3718c0093349b769635357f9cb2907f08f5a54373466df5a8ab34eb36255701a065b0e2ea02be411919bc78f456f72df7aab5c64402332809107340a4c3dfa399a00657c91da3713a130ab3d08723d9ec994530d59e88b6c36e34704dd03d8eac7162efefcee4bb1467420f285b779d8c88898aeddf4e3b8689bb898febefbb702393d4bac5880137d77e893faa72329d0d6daa2d0d3891738955a21218b85c3e63c6e1c5dd1243c3cec8abb03cfb267fe1778206388b7f96bdf15333083592c114c1814db870a9dd2d8b124cb2d79ba359806bee6cd336b8dc7f2fc19e499a23c7b2d0de5fcfad1a673a5eb3a7c9a3fc0d65ed6be3572c29274b3074b8fe3586a0e24913df823e3be6a03ca27118680db01a7ac235ada6f02a17e28bf7bd71afa7f1fd8f9661d9d2ab2e016395373bca944144b913353eac2190d21c905ada339c35481d5787bc13076176809143f4d3ac6ffdb32d1c6bb6875c9e2f512d515145b5dc26b269586f5be0c061d0787c535a6a2a49b753dbfff9ab622b5d343f329a85060b6daaf4c03a25500938c48bbf1ca98a7ef165d1d8cff7553f48d8c844427d85b9baec2c19b5b20ae4f10f2f749f57b3ee2fa0a32d6a710dba757283bbedde6d32e23c3bbefe1a3643c7338d17e5d5442dbde3ebde1546efb656162c92512fb35d107e4f65cd00064c99eb9950c7941bea6dab535b589551daed428a7ff503c22379dacd1a80af8da3bbb9c60e71236802b1a58f58d86f801b24d68c0bf61357122f77d3039d31b41c0eeee6419a4f8f34cb7534d3f03ba475196b57afa9e3e06a0f83e5388c28e9faa610766801ccf0d507a6fcd12bc7383307f22b73a8f3ef72fe6e35614963cc78459d03fb16c7619a4d4b3e3c0d187c43b5afe197df868490c00181139e9e98658ab96c5a57fbf81f50fa28a117e4b574fa473e013887fdb62cd541d2cdc50fec7760c6ddebb1d152666bdfc98569f968ebd93f18cfe3981a083f5d07c426b85fb171d2fb77448d523f252c8e0c99106ac03100c248a563af37e1fc531cb23303d8f7496bd856d048a35f2b8ff48d37723e9be0feeabe92b63955dd41f99cb392d7bd454f0113d9b236bfc923bea337de9b0b334710dc818449d850176c5a718ac9b9a55c2989ddb46ea4336eba0528509fb23733ef84af4fedbf53c093470a094d7eb134e201fdcc04c87faf873b54177b4909dbe06a6cd4a6480fed6c1865339186207da8bc52876ec354ad7c583b59d7534221d071f6159263030680ddfc22615906cd99285d5abc95f97ba249ce6f2bd444b6e07ca4028afaaa3609fd6b5c8b65d93a7fc6dc252c2bdfd7dded30e7db91b68c0c31d9f0cc7cba62335560658e8a5868e5079ec4f12a41d431375ce45e9d870363d8d28b2ab5f1f6b048049823fbb1bbfc855473b6c63008ff2dcebae243eae111f53e4e568641bd36cdfdda5bb36910a58fbd731327ba991e3c16f583e0344493068a35069da91857738d2b5432af4907e5b3b9a70adf088994b224720c4cd80f64d90aeb337e8409fb35795bd32c13092e5e35e37b628e01aa91bb56fde85175a33da74db6ce27a5f881b354eabf16739c6ed2f38f640f7cfc8c67a1aa331ba08ae2c7c95dd3ccff75ddd96a8bf98c47a9eed0d53b0d774ac6e668421de6fdff51420b7738dfd6ac324c839ba123164b35b79240ba95de8dedd81236ab46e81b601532383ca97b652807e3b45131f9d6ed4f7a67c4f9af8ae0ca3f6e416deba6d6cca80ab94841044bccb15f6d71a6d32ae5ab6f42281f817bdaed565bc663bee962f5c940e3e6388d4f5d6c0b3161e46f5b3cbb7aa7d60feb53e148f5074d4d8268daa7febe0d54f3651b67d270e29b0d6149214c4bc77e92ec619d83669e7b7ce05c810efd8b01369d15f85349215f8b692d7ea2f7aa3ffc5b5c55bd5e8bdff471ce8dbdf4f2d7f556a55e602905054d50b0c2219a02dfd1707296c5b75591291f4d98c514fe7588fd6b6f4d1b67246758944261af8e2b8eaf888d1ecccdeb91236522e718c7111c7638a5e230426587ddc2284b8954b02dc88b07c0f4242b8821a05e7141f66276ed25641a82738229f9bc3b97ad4b63c320f6e325071982a65bae0c26154920e4a99a74d1828625fab57ff2a9397b60d5c03e26661847e2b85bfafe8174d05c93eb2ef518f788e0c02a5babfc3c7b589b19b012932c458063b06929bc341285487c213ada93e964c93bf561ec26604bd6f865d144ca2f38a67b6c716e804eb7fd69d59aef3bee0a2164452f9a8908df0a6f7f310258cf485415e3cf3b0bb8d363812650dd755ae705448b59717cbaeab01496ada0e22f4e7c51f5cf377c274fe89c95d5b754deedeceed519b5c8c87d1c0800ae9570dd08397e6c493e0e99a5e5438d5332c6961495504a319250c9293f602dc76701687e8a5b6a83958e85be1908b091f6b1247e1e4c525b12d6f9009e81ed2048abe90ccffaf8077a508496233511862eac3d7efb49021cd173591cec6390913e78afa5b673d28747ab41741ebf3fa7a2448710c8c753a6c57b3c4e12c5c708c62f4f0183de777b163c0189b7f64267bc364e4469716d4a6d9809310d397fe8ceb0cfb1312bd918f51dd9e8ef6cbd19ebe8d787a74181c04a80fb34635b034ca032f8adfc61125a475db4ffa1bdecb65efe8b1c7b923195c9a3421371561c8e3cafc9d8c22b4ab7f8325ab3f6997bfc461df9b72f9a7115b5905302e57a31ead1a228488fb53c99ce4a6add6faf523677f71e736ea7915879121cb89d0c266b1b89f35ac4d4be6565e9af886cf318364bdae03a4dbf8205b1283ce0e3c0166c7a9e521539a72db56cf9d0acc43e88948d18816bdda0d94ffd929bc0106e58898b82b2cc238e34436b99fd7f23f34e5eb35c22a11a6918bcac1050801c5d126fea830afc9a07585e67c584e2e6f6d89e92a6116c39a9c7add3fe273ec165446a7578ff15af6a4cb64b61d2f22fb23b4fb9ebf0ce6b5172b2ebd3b761ddaf9317708bdb07037b1aef883e2106d30cde439612705131a529f48ceaf4da91c21c707fd87a1e2e06268824efe48ae36a702c8f5f549a7abe1ba79bfaf12e3082c41a2758ab3fafacb3c780a6720237cb9cdb5cf818e5947d93a1aa07b9017b7276913c15f38075b5f4b5b68cd78699faa582843edb1e3a09a4cb374823fce9fe919c810baa8481f057a6a9dee54e1e72e10bf45b9095dca1c2637602fcee10850cbd7515b56a92326ca4b19279fa2fec6fe552e8adc0015a6935fba0df71690b4198e9913d329ce61a7a3ed6944ff1b4261fa585e904ed73854d4b0b68eb11cc9efc6d2ef590f39a3892af260e323963eccd9f196b539b803d6bed4b181790d218bd7d3f17255b5edd4104bbcd60c88e7f559e2a5cab94134d6080c507d77fc10a9008504df6cbb8e30af2cb4976edf8b71cad2b06e317eb45fb94e9869542cdc5bade9919ecf4f30db43a907d419ca9bed00d2806076e3654200769d5247b9cf4bbf14ebbb3d6df563e1bf5df949134241ad79912e2de6b5a8a014e6732b45402f787fb34c3fd54fa4c833694da5c4483f6d4bca61c0fec200ac0c2ba834687cc0b0db3a22b1ca1cca102c5edbc75eb9ee12f466995be72377268c536fca5eb5c1931938c8f72e2fd1cd80d8c341c1ad795e62da9b2633632cc2d861b30573bf1e2286287092a815f306c179f442b43b3e0716920358359f1d1eaff5e9308699ee2ffb5f1ee1f57f3ff2453d674915419e4b08680983791470dcf7ff07e7908ac9026752a738d8e6a5f689ad6b083107dc3be9fa6aaa2142739241bc1b1572e77465fb3867d6cf043933aa52ee2854c84cfde0a246b53d1aaaf013b38559ebe10101157f6a501e8139e75bc20f09d7255ccf41c34282979793d2057cc2dd4b3fd9a2579ff2b9ad94caaf3fd9bc1c3a265b10fa51decaf3abf0ae51abce023673015f2f49b0bba4c06321e034f7cd714f2ac9798ee69d8b3e5ed9b684d8eae37b55361499ebc7db972071edc516513c748ef56c73db00bb234e36f874ada20d517f4dfaf15def2b58861922ecccfb8268ca37b3979fb80600b869581b95fccf62da0358a615997baad54c15e920fa87cea62d9b3bc5cf278ce23768bbacc96170b5ac8f4c259254fe5facdf12fc702edd1e35a5cf6da958a9bc83d2f26cdb092e49fcdd6f00c72c65ef89a6920e23e808684be3083bc4874d4269d4b9e6a538e88177460957f9729157ace564c50d6d09cf44ca5479c18063d920f19831206269da38f788b29ca6be2f271b8a441a1763ddd64e030c42a20f520f93970624818df8a640061503d90a7c0932c320ff20ac19c47697a66d893509bed0908780b3e3f3baa0c7b86e5ba514534b5c8801fe341d9e009283915ba52b880bff707f4d24e0d6e3d2ecb2cc80d436746cdf0beddc6f1a56f5a5e3d1608cb01f9e9a10d769dc139d67078adaad29de5b3cdebb609257dc111ae5c42cee0de5711b6a70c5bea7333169889f69cc21ab49d7fa8db227910f8742870f65cb9f1c0a3b9605e4e8b27fba2c3eec2605a5d7c3ecbee436048301798843dbc70401ccef5ae13908889e356130748a543dd8fdb75af279cf537db5fc6c0119e0b18bd97263e9107f502487b84dfd1448e6fed25024ca919db5fb3e3273031162d9e8338716ce8ce0010069f8a6cebccbf3e18a661892157d7d7dab02c66fe2e0ebd62c6261bc404a968d193dcb0b2363470f780f65951d0e6018162570d740ea89ebfea5230a9857dcaef7b2d4041a6b0222e442c32928d09c5333f756fff5a2c08f2cf7a97a7fc2775745560002205c4b230e885f1fa99797505a2cd4f3dde48c05ef6def3ad0e9427be6b4e02c1d1f82acf454e3e161b095e9f057bbe971f5961f8bd8ae851a1cd4d1bd73516a53f7e8768230fe4b0899bf7cc7b9e5bd01c456e721e9851ee8a761fbe82e263e7262d445c4db8564990fdc325f47d8bf66046da5429f53a5f61f4f50f7fd7dd56a6b9b475659c54f1d4b416edd0f2106319330f58c9ef397d5ebc693e0264277c62249bb2a727e397efcfd9dc7f0254653cf1644826fe55bfd9f936aa8cf79a7b775856075748307337e5257c9225684a1120441aafc0ce531ee0704b3b8ff480be5dcc59176698d957be9f933dcf072567aa5a76c8b1a3aa96f31d20e839e5797356ce437cd7a77203274680cb54208d6c3210cca170ad847b43bd1d639fcca3612ce3cb2ef0db66f503635d4852877bedeb561e014bbb6fc68e58150828453766a42152507d90b17b67a4365102c611e1eeca5d4ac14e243abff2b851fa2c03987c23a8ae1ebba02d4e53accae4758ca42485137f4df57a44368407d9c0d09d9a258ede813a1f92295f8a367db9e4f7483c1242d8575998c4e0b2c3eaa1fe3ab1b349767021715175a1b39948074ab170e9f1452a91a560d54fdb77f6d185cefa2446b3ba382432f15cacbb1371cda380f62e5db3841c1bda8671781098e8d1956d6202654a8e6f55853937dd506f60ecf0a35853324d0f82013a094278fd991ae5384be6f256bd4626e51bbdfa224b3bd6616936bfc5ec68680f4e321afd1b65668bd824f0b787f7479e16ece0057ae1f5223b720c299dc587220c2f38a404ab638e01d72af639d0c33bf75f90440288381b67d9b31d3391e14ae8eb7013d6d20e994f4a0654a0d903b54a46684e7932f7474b305f83d2a3457e5e7dc88f907b8f121ae14b0e2a0085af61deff4f7d0a56a3ef0f72042b89fe60f488eafe233aabaee02a130e48cb607570cd3ab2391ad3a14cd5952992c2c9895398c19392c2c3faf5493739e9aca989fb4f7fb996b3076de1004c94b572af015eff0facb58ba9e3c95ff3426a06049fdfa7fd6429e5fceab5eb1aae780b9b1e4c01707416c7a448dd39a0df8383c6e12408efa413983a558cfdb16f6f0989430fd55230c8539b4573e8306cd979ce841109e71944c071ac9816faf384fa3ebdd239c6cf6fbd0175fdb2e3629b933a36ba8303b104bcf2b964658513dcf37fe59ee4572b8433de3dee37643105bd6dd0d58cbf4dea6fc6096006f4b93e38fde70454a57968e0947f52de5d5bdfda03271d7c1db6b96702f43e77bacc10c74bd1cc0e4e318c0f9807cc95d25f32c4bfea357248b7631fc4429b70af0ae8a53daa1410957a68d5a7963ecf17b2dc551ebb2766949d7ab12c9875c7b72348862c360ed944d0a0a38771e9bfc067902df0a7e2f65a277b9e6478cf8a73ca4ca624d9d471dfe26c9226703ab2b8f99e06e967a66cea90db283e0c2d1beb5c8c315bdcf6e24951f88579aa257b540b1b01ef64f24469169afb297b6ed47d2ef638c5f37f209f89275550551498524d5ad8274d1b6d9b6a88a8a9197cf28e2dd893aee4ab05c9a6ba66d652277e62792010c29b70aea29dc7e7c1068196a06d09263a84172dc03a2dcbf4416692866f99c703a231f81a4c17b16650b06e9ab7dac7c4a9f5967cc9bda9aee0fc9c061ace323c3a28f44ef7ac51bcc586f40f29","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
