<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"34f27adaadc1863dbf979b5620070811d305ba7cb806b6e5bc8f15d11f94f8bf8f5767b790be75bb926b9261555a3492776c4d3c4e5e7272f9be4ac5a06dfdf18e020f1fd82acd4744981c0bea80dc760feff2dd80c7e6db7327a6d4052ee4a1865527c15140626f7cde16d334ff84e3c66390342d837845d6db922f2dcae056418286f0b10581486f1417f11719d8e7de712a62a06d786c9a4695ea3532250093915db484a27826fff5f2686bb5971aad9bc24afea063e0bdddfb283e3a7d1d32673ed3875eff475d482c9bc46fb6a0f5db6528c501e63edb1cc6158129c09ab237e5122b516c9addd49215390e2c7c72771aa09092fc19e87686dcdc0ba9d1bc547b22d3df27e9d6864e6bad04d96904a2fa9cdb7a88a121ef771df8ecc106b761b1b6a932354b905b5b14642b3fc4114763f4d44595dcd8f96f02ba4314f2a615e50ad2a77cf9b054e7af1b6a254f71a01a269e44b45870cf9e4f18a0db8d9c6b763170565dcde007ab72845ed15efa9d8f72632219d132b8b765947866cce186fd113efc4478a323d99ab08bebd579564b9bcb84190371114242063153060590c05f2f585422529c04f89545e7a810617a7462bcb5c4842a02709783b82b7fdc324e445f51f63b9017b259da819acb0fe3de3be23edc89817084094418f90ab0360b5658e9998b9c4fcad3c110e9a2f1a39ea056ddf582d27c0a6b404ba20a66c64b7b854ff8c2d993ba74899ff5769ef2f8b0f2a9c650538c9e8c2795e2108bc5037d22d393b22728c881d2cc1503f2a7c942a72851eef18f8937c55c9affaeb2854478b6641d6c6c254bee2bb976be707af2ffc64e1bf0a5e555b8f7bfeaf6971bf0a474b5060a97721f79b03050a3ca6da425971cbc94fa503a13b8c29494a226b7b8f41a2fb8fe7fa651319163072a8ed2668d7692c7a42266565d7ff60c85885fd309a6d37df536fe2a250fb9c0ce227b678b9e65e79c9ea5d9eb28a9b6207c3bd3f5f63e30f4d39ab972e66ce6cf511323f46bf37628f3dc8593096aeda82154a5021045dc333e105a8e30744b791830b2fa80982b0b0cf82cff4df3ccf745a2ceabca027a9e28bd99f29ddb187b2bead18a59a397de8175cb65d20f02fe6303443eb0bb3a4371d629ab10c77f2d20a0f081aff43823126de4fa44fdd22753f878590b11d9acdbffc73a35ea3dda06a16bf82c11ac3701fc74532d463c1ba99b892c27885b45d95d8f9edbbccaacd49de99ee7298e73b903ed6151357cf97d1dfeb70aa825d5f122213ef58e9df2c7a9abe110f5c3550de18f072517f627a5b28ee4d757e5c30075ad0a36391bf468c090ce66f5bd4e35dc18b7f4201e5a6bb166d458ebca62413c3964f25458db6ed5b2781ff7eeeddc9ad4bd4cfbad2cda40e18bb99efd2d9bfcb54f4bc788b9d7347701357f4ffd36ccce7ee9e55c54a56eb471e59d6ca7f9df4e42a27c803367acb3f95ab24e35c77fd38b35184eb333f9a78efc14a14d8b3ecba24313ce570ef9ddd7cc1d871158d19f3b6f3800a56aaf84f41ff0f39fad03dfc3e971f6f1f3bb8267246f0796b0cdc37e3fd6b68f00b493edde698ebab85b3d4307cddaac8bd4a42e5935d511e2250daa7650dcd5f1a4e885661fc3e726a54abf9c497567bdcb565182ad7ed2e1a81c2a8f1eb21beacb7a466e67f9a29710ae31cdcd8fc3f5bdf6de3779748013d3bf55bc69b94f912cbff76c2027cf94fb640e707c76ea320693514ff63b02ff4fb38a6c347abf7a1a21036d94fa7de4d88abaf47696ba714c46123fe23e01222f8532432ce657ac44626af2eb2eaf014df185ff65d062e2d7f6cbb71c5857fa3ffc54eb0510f3d721d07cc389eb011aff6b316cc2e2be060febcefc312ce9dde4c0042718a246c0602d666553e2ea52367f38fe61410331b4aa78da659e5d84fc2dba5cf830046e3d2abb38e02e01c1c0825de850561a2c90d791d0f39d272653605b951083633458bee65672901d95c77e0a54bddafd4d0b7a3cae96776c29fcf9ea12e97dadc00da4d315c2cad169205a162eb9ab3929e7dae0917c3a010ca28ee70999f59106cf4b39e2e2e47a5f97d01c1c76c3544619f86de10018100022f710c1e39f224ea8dfc1e7b5ea99b8c4b0eecf1653992c9a5266e937ff7be07248589b0864c5e83bc8987fb873b3a464a61cb8be52a41d57f628a202f742af8820e367e7a7c5ef967d0a37d88218610941482a9a88f2d6571cf9a14335a5ffb9c91b11e725c5a5ed725007ac4b9d895b4f453acb499d3941691ecf626929c7281ecc335e1b19f59c50e8552c5c79eb6b18ea8f72e33df4b0b961f9a001e7ab0013b92e917dfb4ea09cf9fe375b3fd568f072274e44c004bb0ad7f37fe6dccd79da180b5d5b85c2d024e08c3dc9d598c5b8ed29a7b5229a373cf886b708e47e8f912a905552ff5d52603e7bde4f0c2ed7444c0ca65da559ab2818159011672e0d85104844e85bc7a4f73977d53cc69190164e5cc2ed547e3523d57dc06ada7547cf91139319c6da7822c61ef14bbcbcec19c4ed1dd98d9b93974f2f0b23cc26a3c3b450317e7dee7cac41dd3b8a6fa51ea242391aa44a2825e76fce7e126cdd51e58f152121d632812ec8ac5b5afd5fb0b84c3e0ad58aa687becbb330d16bcf120cc1690503d6d14cc1f3ca4fb25cb06a6c5f3b26fc1b8ca0f811c9a61d79e5afee0824224089ea6131307a2aecbfd81a8f6fe7d43bc70f2d076d656fdb7214618b95a21c1da9af0acdf11b965ee97a3e878ef567619beb626b160b72a9139fc9b78564654687d2f0ccea88fa00a1e1339b0340b077b1fecefebb5381c6d1d85dbeddc3e0fa871690fdd3cf564bbd18cac52acffd34787673ea2ec99048005974bd332c8012a3ec9c97ae6bd6f5ba7f4567c1d9944776a1bd780f9d9b6b6bce3a82a7977d24cf048a02abb97a74d9f12f7d547e8808c8e074d932c9afe43c8f58ae5ab68ebf4bb93818da2c539361cdab03d65314c9c33861aa1b5777b2fd03775a89902fa2f23985ae689abe8f1b616526c39e0f18e69629f2a86a0a68a22213426490753968dc642e997b7099d25b4ddea1184d1f45254ae5c577be45d913f936d84320272d805092e17dd9d033aba6842a46c09b2a99f6637d587092279b9d1933840ad850e1d38cac730f60c7272fc58c2e93a2ea6c8650e5d7ec009016ef972f257e05c535429bda173bb5951e00a389f976a725eb4b3ade25f45fa851c4e1dbae5a06aaf9b5521e33d33add2d1e6ca645f430359b0302702e233e4d48417409140ccbde443f0b44d18f93398cbccc0e5d076266c6dc1be16eca4aa35d4a2048f46285c30e307475caa52530f30b30328dfeef979d955f24963dcc08cc453187bc2ca13b8cbb6d226f0a5522c17c546d30996a774d6faf068bd07674661e1166cc8c1791bb1fb08b6bd3503ad42999ad6a134b91c8f16fec57d4eab423d5ce3b3dd5d24d2294ec03805ea91e423213a0afbc7715c5dddb83bd75e986899dc3f5f6642dc1073425ba6228e895aa3ecd1431ed77e516a053ea6dfcfb6f011eba3bd19eeb6e87f1399e78cde05da3949c146be9ac20b841fd7dd2b8a18bc02fc39c0bfcdfcb1a5d1082a09035e8372d0395676a39283b178600d30c81bed77cf24dd3c3273b21b5d75706a8ff7c0a56453486b7827dd1ad6031b087ea48ed6e95349ed00ae601c84d6fbdb698a9c3043f9829150630b0711cf608db57335b628524af87e5fcd5923a5a94900d4317e42f75e547cfdd152bbca1834b1215e7166790945806fbd277581e234eae17f16af588ba66d83afa47ae37cb86c1f444a0606556f645f59dbdc892fa417c15c05bc5e4f5deaa98586d2fa2034eafc61556b0e1ddbf43c27771fa1ef949654e579005d771f03daf72441cacdc3ff3784561283a1e75c2bab34ff54fa5ee517269488610d6899a2a1530ca8668a2bebb9e8c9e9d989c00288be96d29061598b47b7c924364a8a67059458111d6be0d0fb874889001faaa6cb7e025c730b726901f8221676fdd5e517569f6cf283def020c2390ecec7baddd3b7b5a400ae1bf71136ea17322db5be22fb9a9fc7ba4efe3e49361f4aae6df31b8673ac8c91b27c7c6eed1a582599bb804caac6e009688072f8540d4bdb620af464b8f19f5aa3226d24eaf5058ae1fdef3c296da5473fabdceacb6cdd4992aed02a6c84254dccdc119da53347569194c39f9bc4a65d31fcf7086341f8b3a4f778174fa42d35602b5cc6228c3b6365559cc1fbfedc0c230742ca032d8e9db82e925e64d66ac1e134ec88f873828e29ecc6f970aac6625ab56b3fb31456af0c96000733f8e648ad6d0c4c8e8967c7446f5472beb79bc9d3783abb9f43ae64b2e2d1f2e6bd29b4711d352c434b4221f83eecd564032a1ea61cddf653f23a1e570ac7f36175711c7e18e25c695c5d98158eea6b7402908b7f2b1e7038735b2f7baf06f8ebc7c56eb338455f46adb2a586d80d52e22c59fc9fb096c7cbfea0617159f399e0cd678864475393483d99b5ac2a7b55c73de45be6d0ed5c23f6604e43a935c588b4821c0be75c52a76e7f7415b867e61e40f9432e8a570b4373f01619118a9926af88eb417bea3d3cf443d011375cbe3604fff5c16e55f10df3a67773d990f2e7f8b8872acc6b6e25163496e38ee51447aada0b10b966c1e48462b380d5da6a235a4f5786348b5d2eb8f1edf8e9d600fc908a3ec30ddeed65c7621d1e548746d1ce8b0a31d366d9df94dfc881f0d259f7d74c1cda8510b0b111a55a83edfe77847b5f1ff19bd99ee3a0d08500d9ace9e54179a10b9cef2f571196d7f15db857525c1e0afe884194eaf30a5c15be3f6c36411b8b7a66e5c9b1f5ef4db1785099b8e7a64010b490a347e69fd9848c6fbbbd0e1bcc5f5e0effd3d198d81f5a0e080e8130f16b8890db13d0f6010ddefa870f80137d3475134f750123d62c030c36cb3a6ba21829b3ad00a9aec4732740d532e1bc78b435058931943285a0ceafcac9f5664824fff4f1191db180a836574c5684942659955d87ae9e127bbd1943d637edfbd98625a14de7862a76d7a4daf32e455a61a4e3c27f44b8dfe47434710125bff6a299aedaae0134bebdb643ef413ef837be405691df72ba03e941c6d9fc7abe8a8eaf7931a939702a3dc8df42fe9cfd0f44e7da799c54bd2b9acd3a1a6648bf94f8a09312824eddd3bb253f603d74c91cef49d1e95703687499056cdfd3544a4c949f2f596bef399f58f74ebdc5b4c4054b063683bacd8659a8daded152ebdc98f4994a8953fe0229c7706f668f2339d95c52062749e9e6a9f749f756d9fb62d4bfb9deb5d51e2d82d3c125f9117574e5c517d866a13eac82d9b66fca1d721c3b12cbca9c785b78a51cc0becbe1bb6d4138d93093b057dbd2c86e49d32d6ab586dc41b156fe542f17284ef84f0a8d44190bedf21dc5bc430d69172e4c5108188695af1d498a3dded7bb036b75ffe8965dc3fa81e47722d1494990aaf9d506b8f4f40688fd36d0d26aebfe883189562dd87f03050328d1472bf0844bd8023198d79c80e6ff1124ad6980e821a8edcba9a4b8e4db9ea3acddb9809ca61db707989d34520e0cfe57776dd2d40d6a62532b0b5347091f53133cead8483b84746e80826a6a0aec9d3e1267f1d06453547319496cfe430d541dffe12e2fb1d6fd638a2b200a056f12f4e7f15473d63e6a186e1f0c58b37da7b63b85a08e46866a6b6e0971c584101473a27e77dd4c9d8541e70785daa26f16d3b2022955364789d33ae09f14880649a2a15479143799d069a589ff65bf4f7c53f50bfaef8d60b3fcdbab69d501fc722b2bf9bbc849cb09dd2ba3aa35da419061b9da4cc6ad7c8321eb95da23278c51437d0902753acd2e5214954960d5381d34c43b56ddb5fb76367ccb119e2bb8b01946f492536570a8c5f514bc2caa31132af30f184b608ee64ae989113758c89af3d596c4fc1ee40b946b1c9ccf9b7539d3eeae2e37d229fcaebf298ea153bcb27550bde28fc159eed603d4273266321682947662635874c32174faf12f5a8f7a529c289bfd59275927922adef0cbf4d5fbd34ac0075fd9bc572d8278406b2deb6403a797f664f8e398334aff39e79d8263c9b02e31a30f4e757a4a66c3879f8028df1e4d11740dc962d2a832580c1fe0d318a9bbf6b2a1b186971d04d5485428c99896d2e9b10c0f02189d36230b95f3e66d2a57945c4f55de5cb78fb162469efa48bf2c50e11500a3ccbe9ade2a55e4542a52c7197ccc051b45a823f7dbf7fa6a578ab2e49bb32069d3c0adbee4e96c4865280b31b1d62a614d3b1aad1ce0ce5672d8254a0a0c59514dcdae2143ff72e9cdbc2562053f163aba479b957fd0a6cd966e13d3087a2d806936673df96bdc1debaf18c537d75594f230c47fd79989b8f9744534c7004f2e89275e936c92343a6e620ce2e708a11266c6c04164d0b79cea629634dbccc33c94d038f30a8db02b2789036412d5e13b02c618eba0037596eed94bef73662c4092eba4a60f98f428e524f7bed34c6729dcf2bb24ac989fb18b39b0b246623d862a53d43eede609262c95c803eed60a7cefb50c487696e7960172b292a5a0276b09049431ec78e1a8b9f36933eee163c99a41f9bfd009df6d1b2f1143bdb6ffb81620e214c4406ec86b3c67f57ba81e1273ca5162926e29c67daf534401256f681b24f8548fccfd0f04cbea7a1e6c1fe65d42392010c489068329b83e2a9aa248fc40cd45cac846c1f6e3692512f8b6bd55544dad8174fadb1033ec9ba9fe3b35a4e9604d0a9249f218640e8a9ebb0b94c3160d6341cdab1e5ee389adb92a5111b1ff9bf00a112b4422d78fe9d072ef2321520891b7b8f3ed6fcc25032621abca0d4fe8d304a329e71e7aee3531d6891975204cea252ad00812923770ced4fac5742098e394b42e1dfa0f26acadcf4433c4f65ba8585071a239a4531a9154b7fd2ee8edb639c4606881bf51c6ad83629915712d0e8508a61ef0f96fb1c72c82194d4f7e7d6c36efa3a2263f3c0ef6d52a2d0a4cf68d44b000c640c6cdf325dbe68e3291ea42aebf7a105e7d62af40030a82e3d60d50cb0504560998492a6ccb2ee63ad3afb21030d0c5b0394e4c316a741783911ae96278f467f67431bcc5c9285ab197647c9f8e766420659fdbdbe4ab5325491e9a586a3327136b5f73c06504192ed62b5db0f2d81941e288d45f26e0e0eb623b6f9b402f471a39d69cfa62dbae809afd663d42cda27441de1f699072204099ec85988f0361a82e78c72f79fe90130a5a2d8eb054cd0efa3369cff20c0b3ce893eb61a95d990f536f2ad9d1bf6e7d9e89a2b72312f4e0e3544fa24786224d9285133871d02925748b110527508ca8ef580fd9ef0b33bf7ad2e0efc6b2a822f0d954752c7d770ddd56c3ca9dee1f5ccda61414e9265457502d5cfaa4b8f9a48d1f955552da3c40713cf15df066a98d6392743b5c736d85042cf81261c70be0323633c3b15be5a8a4fdae75d5e9dfb0e126e646766be334ba17f7609536ef733db2a34e3b63845052c3629ce9b329939fbe6bc0cca7f0210fb9abe057b02675f0b9bbf060048d3e0f7aa68894c4fbabdcd76df0bc0541411d182e58deddf1c4f5374243869bfd37be3ee98c9461a182c25b2f5a835e0f76461655d25f9a0ad93124ac1f2db86060c33cced95d1b86bd2ca60ec652752f05e5f6ef1ddc6ae08baf459746f97be6afa33deabdb21618769138eb18ee6e1db3c55f9188928321cd29f92da38d362f59bc0ab4994ae09379a5c39920a53f8de4ad4d0c4b60a6fda42909122dc7d1c6749cddea6ccdf34cb9a6c72d425b925cdd1822d72ad77f00d9652f6c5c6b3b1b881055282222dd85324e756223e4e9440bb219c6b906ae21815444528805afa88c2da6db8b774cdb83519ddeb72f1c0b322aeff7c08a288530a3d9827ad3b7f4fef43f92e613554ba522d71488c0ca9cb0c36f3cf5996262e780a6d3cf16e8a637c153dca2b577f458d71040976f28255f7b22e8182d6329a0935acc28b537cbce246174e620a5aec000283ba6a70f3cf787bb0c0ecaa82610b8aa88e911e914e3b17d32ef8e2e40b064d2f725fd46b8f720be9ca03cc9ee46ed2380421f8b1189d01402657638e65464a1bb3fe7e09211caef76c98a6222785c1389cf5ce5fcd7e6bace259d0804fc882952a697aeadc6c0f2e93767d6586a65e6fce8789626ff12e858e2d06e58a695ab0f3be3b8aa314ef2841f642e0b78223dd5cb504188908087f11f6da26a4c51e53aaab81871bc8245f175625e3c274edc8caee98e7585b6624d6bf2aca127e91506dc9bd08fd42caab23edf74d7bbba02d07aff09cba93299886332b281385ea871c5ac3dc3c8235b41f042587c6db279dff974d8cd5106114dfb9fd4b2a5842886316f409417662ec74c95a6a891e2dd777b05a48e9fdf9b27c941edc8f063ed79b64a307d77465f8e29cc5582c1c141d475584540f53d86c3e494475ecd744acada2808b914b5fde37359813163e0e8c13ae5007193b60fb3258a5c78685ef7da5a70a7788d42af92d6eb55a793a7e080abbadc4b7fcce2b02d0d821f411ed6a0a4991b742d655cd6dd4b3c678c55c13a1b33f860b321e12a2e7466097db8a5f86de873afb6992cc521c3d213c060a561418bd3255fad513a68b8b5ee90b08f9c3987e051b10492d6c25d41c70e9fdb1460bddeacf8df488d37ef2f4834596078f060f5c248df70123657c32875ba7c710d4dbfec87f1102abfc3d80856db8ac739fce653ce23f5bc2231ff5b87b9642d2fca9dff5737deb99fe40e332ad12d1ccd904cb863d7994ffc6703a8e9187f249468a44b06b3ecdc49ccc85dfdc4abd54e8285f56d448f1e0faf2d3be9415c9dd1126fade236e624d156d5210faaa1a56de839d0f53ce2ed6b4056febaebcbca40dcff9330dc6f94962010b0af5cc4c2ca0d0111f88e005b79c9033d68bfa003ca98a7a96f813559d6f8d06109716c53c6c80a88067e9dff929329a089b6b9149ca167f86f643cd1ae32f21dadb05d3763300dc34640bf57b9e116cbf0870c85f1f4a600acd18a84be1d68073664e432b5d76ac124afd99191217e26af8b49feb2aed2c213fafa47573662a9f997caa8b7cc54e445b8895fa9a053b457e9552d15322cd6b79ec7d2caae67328134d3405a727b61d4691d4480a16bd7c29968cae7c93f3cdc95f2c7c63dba0be450db48197fd7234efb381006bdd215350d78ac359eca0254481242f9435134bc8a6fc989c23fef1928867c53500ad7321376b9e03dfff310a2495c6f5223c8e33bd86c8fa7f3bc577f11cec7a8e1b269d1cff6cb0634f1c803d9cf00e5fdca48130b9bb69d8ab3f78de032cea91b52e2f3a021429de102993dc7acdb2302519a6f345a4979fd831b1a9551c899b5b6977b2ed3373e5b063fdfef88ad679e7f15a65f320420c28402d003e61955a41d78c97796f6de4fd092ff61ce6473483de25c6e5ae115c21f5412e3c143edb49e789d64cffe531fca174ec356f188f844e8b893afc6aab1e013ac8aab19b5f6c9c56f888a47e269535871e38a71bfdfdd2301864688ca7a88f4f3098c90b9151b000d3eebdc030ab2be058eae27f4c5bd42a76fb8587ff9e96ea06da441644ea054e8a5d6a8f2058984a833f8785f45c5ff3c52498347a480bfbe2287eec9c86245e4096886a465308a5155933f4696cace1470000a3b2bb1ea79ea7d48a322a2165776636ffcd562f9a03181c6aa4ecd326f886ff76faa31b1a2b8bdb6f0447232257b9a5adf9558e81e2b0c148ad36e75f61910c9e500d41796c4cc1af87664b2e7e8a57657d5cf565ec21e2b7a2df7b1c39f803871dc754cbfec1d9ef878c01664b38454f1bd1acc9eb33f250953fdaf5c00fcad44397fc56083f1ce7cd17974ef090cedaebd4f95ab5183f7e4b36913f3a476bce681f409018c408488832f749d8539200b2983e1cd9fd082be862d74f2501c095c7ea8842910fe9844d1fb736f63a2e3a39e978933ca7e346038d02ff4e6995dbdcd4cd64b385285b5723b2a1eb3cfb7123dfa5eee6e88aadfed9336415fbbdf7b0d857ff6b262148e619b914a911d8f10d743bbe0af9ebc35a7eb249658b6b08c50bd58f35beee14835e639291571ea0c7400c1286f19a712e44b3c61f3579d6918a71fb87a62229dd21fc7bad858f779a1abd56cd98ec1e4b565d067bcac29cf7138a14d0c9c11644a452b96fd236b3e0296c2f2d7610f5063278225d71b7bf3fa6dfe560d6649e393cd271b26fddbc2736a39f3cd2d995fb8177c157980264d062f53ec3bf53f557dbfe83fc2829694285db281f43b6e4c6006791c1e2aa3231a35606aa3ee759bbcea9ca658fa0f5e91ffab9a9f771ccb427f8c574cf3821fd6204dfbb471f938e2e2f94d6d6daf352c19689decc859fc8ec22ff7d1b586a88525cf54ccf7748669a2d5c1be339849f5a8426f9181f83bf46515d2afaf72e287b7172bea5592cc11222fa823a36416f0fd5a83c5986733d662c3c47c55074caeb8bf5d6289874180dd0b7f9c9654b285b313ad26ae365f65df813e2e8725ac07e264318b93823f39ece28d3c12d5ec24dfb45c2e4f2c2d6162b55baa4f5017e75e222bb25a1c9e6bae87c84a21cffc462465b5de17e4ad0d54129ee341f9fdfd3a34dd52567c2ec621f9082e0acd343c1a281a1202258147cb88a346a2c874294e5e1a872a27b427448d7d0f5cfe507c2462765099d758963a58fda27b278c2229b7b2fd73a3a27e56c5a7fab4cfde89a50c465ce6af152cfe92470517045c60de074aa44d15c0aae0834e165f052da9b05c13c53718d821d2b8560c6d7f1d724c303cc6aa2b60fa525e3f38bdece2ff72c6318ed59ac66aa084ddde190b30979b610ec4c1209d44c031cbbb4696b2f9a4009ad91ada0e5b11e1aa87f84b35a77cfab9bc2ae03da195afbc1f0e4ba4b335c14ed0a3cd739825075108d1d1a7960fecefa8062ac65a34f2a1e7dd228a2589b6748a06b1c5edb9a970a5f5aa5570b6437d4c3bd1484dabf0fc309506d7466ab9b7c17845709c50a55a2f1884e0b1c9273a420d61da0c3fad836abc330946528b48614ee83319ce476558d524ed3c1aadfee7d3eee778c6bfa6dd1e21a83813e72cca8d82e591a434829cae17f95a55500b9fcd6a3f79428b1fa3073de3d5bf41ad02a5a146d459b7394cfbb4ed71a695314e6cf137999ffe02c8c8eba762062b7fa2fece5fa527c678b95fb7ae99212e06533bb66737bf3edc764d18513aabb686369a03f83125ca6f39b59dbf9932affc57e554b8efe4a4b3dd39ea70dd750ec0d753435fd958fefc68ff803900b9f88b5acf07fef2f444dabb02821c0cf334b4c7fe4332dc521fd2c0501d98128c1c9d5462f7eab812e05494069ff0fb61a97b5acc77dc0b233fbe9822c1ba60b0bf3b6805ecb9c786a539c691823d781f1d9bc5ac4783da9ae335c7ddddb487b420aff4508bb6ff0d4c91945a6f05dfc2cb3f91be3dd2523ec40bc838e31aebde33ae9e5bcb64ab615236fc91f1caf72d6c3b692073b9df6d45213770a222dd4679ffe2270530609d0f8aaae2a6cb2f1b1a726e7f6a471cefc66cb21ef63186e9053d6ac9ad02e3db1dfc45e2bdf0fa7589fa9515bb70565e79570d5cab9e9a49758f334d733609da8fb3b2a18be6f326b2cfb9509eab98f0f853addc7c0921caf1f9926cc0e03a0ed699280f3b1d99f0bb321202e7055c8f6a7b40224e4982bae823b49f85d7779e68656459ff769aae1ce3c1688de24457639395a7280ee0e949304579405a24385d20758f61f572f602ffee4ad774390d9ba2f5dd00b3cc5067405facf9bbbba16c25d5e3d7b3da631997a36d12d1ebb60787b94893f3c7d2ee18b1576dda0ead9e9e3c24be04dc3999e71d3166d20eeb797a12f799d3c795a397f3aae5d5b74522dab90260d67da2879e59b613ab4d0a4c354fbc9e1e5be4d2f562bbfbdd2bc9bb911961e93eb0ae6127472a30be8aa16427299aae65eda176d6df4c6356ec1f3756bf561172101da32706f6c417a4aee2ccccefafe01e93160c71d89c3c66d50aec1b9bb59d086eb983815160a64206c8d31e5b3104304e6b12cf79af467251fd10c2acad47055974181aa33fcde0749f8e7ad39eba6665f5b15a218aa34a11b31300582bc58caab35ef06ed3b62db96535e35f0bf34925fee08c67dc307ac4244350a4e5a4e05d905e7bda3ad5cb22d08b243465f66cdd3788825233a793e23c00d9f12f2e07a01e82e9cd942991deac00a1ee67f8f0912d2d2ce5b2d4c950e54e2fcb5fa748fce5e358201fda8772451e69ac8cf197a4b00569dc7574e9d0dfd77c87976ca3b578ef918ec9505da9289b44d84d07953e0e533a910d4b440fb65c512279da88c3bcf6ca65e37c235cb49608ffe53bd143ab5d0962eef2457809cf3c536eaf7b5160536c9559102991292c52f05eb85e541a92c428762c7e5b8d8c2f4a595a1c20832f5daa4dc2b9352fcf7c603e4f2e8636e4b1e22443d784e9a486be32bdc39f0a69fcf0653e116d224562dc3dce7f1e9e8fe70a13be5336a283bf98aa39a9464cebc1aca6c74fcc9837be680a8b2653a7555bb6e034f571641ba121814a1885123102567ceca4ba0f21013b8e22c460f679d0fc6eb4225972e8f9d3e81377bacc066083a81e4c3627757ca91df2b7a7c8e2525673e382f82037c5c93cb56ae9f7f6d6c37a7141bfdccd8c7c4bcf0f25a4eab2cced8d426fbe240d32116af5977ab89090b46553b1644893dc95944666721a9e5d08d9351c006ffdb91e0b8bd126241ba3b39145d77051726c5ec54b61f542f472f4a186f5f7cc18902a1607291a04aab5c047fb4c5a52db275bd04bd3c6e90ba63ecb99d2aea7d9025688cf168fbe6098858f50c46866a8286c6d0ff133e7cb9f7f0375c0db597b55506f63944b9fa71749e2c27385c1fad6ddb99e67c7170e576f2a8942d36ef345585cd9c5aab0549131b63180ee0be4e730041050a3918ad128d11aa613ce72480893402dc8523432fd095f1855916324b35677cbfc4e0e92feecc22bb583ac0dff42b9f89e2e7e314d5a88ae959f86c46b1cfd297ce69a3ba1192b2240a436215a2d5f857a8bed5777e5a4c5be6c3b9295ca8de043bf48675833eac2e7f00fd0371e19925cc41cbddfcba477decac78083bc40cff905fdd2149e4c0fcb287c667ec45e89158e76f3ee57b0a3ef949ee3b0c1445838b973c324864ec6476a8dac10720a9db1ac5bd8222603505d891b804d183474781201edc1a4b93d380541907603eba4eaf8da319339ff52f688116104dad44abd71bfbe030e5d8b0723a132560d23b41d648722fe022bf0bfc53a808a025c39c8ea5de76c76fa198fccde98c5714b068e8577b991229e15c22e2e9803c8b439d76ff6f2771b15065bbd3d2f3f96b88422fc77e3f86db841bf9f478093cd50768bc3cd3b60353d3c5ff15cdcf9a51e2afab759dc71d0e71bdba77627224e2da1fc9d041e0bc8741223e9c499416d245b1baf573a08a8af50fb228402058ee78e2abafc3ac62748be4b0ce603179ab681dad92ecee9c34397a7bcacd62112888fb16bf21c75960721b6449ace23ff955d9b24559c978af8c9b6c4957d9ab10f5040c12882f5a0bace22f99eb53d2dacd08f26404bc876da6b96d8887edf395a7ac447d6ca11ec16c483b60c2cc7de4425cbc732cbcec050d40a2e5f7d36c8cffc66f973e8bac840682605b5f2e9322b4f56afce01815ca80139572373b966ca8758952398480b4fe81cea6708573ffa63890b7a420e95d8c694cf7eac86ac9ecfe79db3723cda1d4349a9a583adb7f20929fc1598e51d05ccddcfd2a3f21f41ed79a8185b71f46d85779d15eaac841546df49cd92cd9d25170e75afe6f9076f752777d83905794318900403586bf8a3b8c020ec10c53e4edb208dd55d85dd857644001b0775903f96bf682b46e4b6a4c74035470cf90da5a56bffbc743793894a13389ef1d1b68e62981546a39bc5063a6a043c015308ff230574fc23b041c62eefd1b2ae00c4f8b335216190c354d9147f7544faae6cbce2b694523bc11e5fc12057e214ad2b291549e2f5769ae926725e997945b75ad63bf1d417dc1414c9c0fd1b59df9270f53332e208977d5bf735566254bfcc3225114ffa6635b44f0d4de66c1acca4ce279a01d831bac1443dd86c5d1ede7f0962607619a9addeab9d02b79367ee6f7e5d087193505cdab9e10f4636fc804b654118ae8ff8db0b9df19f3f8848b5e4d3bb1006b61a235d156112ebffd8b65fcfce74a31ed5f54fc0bbbbd6db26e1b44db17838e23c435dd96910d4a946dea6ebcd556e01c2bbfcd475d5d04c2242e5d4b4900e28856d031ec7e475ff241e9fb0f360bb4b1aadd0ba9d380b207bde74f6ac708d777dac3479ed8267ded60350d781c7c34fc976dba1e0eccf905a04e963634cd14f81592082c3ad39b34e30b4d37b00e235bde0bd214a98cb08af28ad9484e52324379598c677f9ef1f05b7807576229a3a33bc3224aba1545631d96f7569cb2ee7d85253a9590ee29dd562a9bb0c74cb0528f28bf07f1046198fd000c76ab743353a600282e4f1d1baadbf3c4f9d9b763f8e40fb720cf98e17516b9b928a90e24e41a355526dab6faa8d63454a2fec7fd890a7941d5f2d86e9e09fffebd74dcd374c50675e756b8e00b0caacc8febed4db90c572748a3af54c5cdcee0f2da0acc2354d147de7de11ccc7ab2471b597e4d5c0808bcd7e66669b8bca92c88ed24a1ef4d03866e218b3e88e7228f582ef8a07a718e280e7332e0303a091c3b28d25121f9456c0cbb6bfbffb92a22cfeb9e721f1e2e4d3c066d72d50756c1e7fd0fd011211bfa5b382e58a2bf2eb5be84021a2ca26b0199c8f513d3ced12126bcfffe270b1782f246e590c1de126d1dfcd5ef9e59d756bb9a2c81a882fc8c695314de9a092bbea440f20714b02d117b91e0f4d2f256993017de96caa2f2e67b76cc1344306c0c270f1ced7d20e68a2ef5f41f7c1a921879eaa754de8781a56df087f6303c9317ec4acc16742c1dc395dd0dc5218b9112cfa2586a286c5c5415b2b124c4b31c7c1260b18debc96381b20c9e2b9427d55dd96e947c90a715ec1a55e179ae25e16e6f2b1112ecb3da074c3c566dd12a59d49b1aa4340bbbab2372aaca6051e222f8b7f9daeee6011a5412c1345eb0948018d2e7f0d038d20a1e16a5fb401fa13e32254fef76abe41a1cbd34720d6355275d4f6ed75ac31e5af56188898ede0e523476b7a93033bf0bdeea922260ae891c9549ce95e70f619a25d069ac3ad6f96d1ffde45b412cfc577c1a957cc75c7a2875105f588074c645b2180c93441749bd04a2632a0a862c1899335b6986b54f653a62a917cfac1f9dd02f35753b0021d5f337af40b394f1d8b1becfd3b8cc379244dda99d2378ebed7eb95ff63ea85d8cd7981bc81d7629a2e6b8f6605b4a7299d33f927763796b91179057e21d41d2544210415c45d52290656f1472ab9acfd8364d508ecfe64b92a5ea849ec188901304c3d7dabc873912e79f3dc7d9185143a26ccdb7ea0253a3244c0439f66f136d4016dc8a4aa3493544642b9618f1b08a7bf864263a1a2267b6ccd97ba8815c750ddb4ceb126b9a5bd8aac5dba349043c1d5372ea239a06fb652e472637a425fc5a9294baa21c72e653ae41b7956edb93f3c125b4fc41d75ffa10d0594c97c8f426cc990054e245d68eb4d242c79a063ec2bb6a981d0fa3e9c8e22fef0308e023df8e6ac63086244999d9665e951910372a0cb1e2dfe218ea67ba0515d80f354b3abfb9adc4eff767084bbc8e121cb366f7d17623387292484edae7a6863976029c177d900363fdc208447e243912e7d204d10ba9d1fc82fdd265878442c355ec1be3b66a3a02ceebed7e51e4754a38d982aaeee2a443477eaa33c886d6f627b8118cf3f2b63dbf9c7dc8a68dd6ae99262dd47b00aa4fdcc87d664afa5b988e5a4a2d6c88be4a9fb2ae37abec5934426f3647faeeb12641988bd6cdb89f84080233f4bc981f1d543b0363fb52819d76da9dfc2109e5c798de270bf08a9b916daaec79987ec91285abbece64e791db4e9a78aabae7fd40e2d4a46bd0753ca1655b6c836c9959b9ca037eb99441dce59377ad6f61505ec383d8ab2ae1e587e9d37ba9a227d26c31b210bca262140d6bd90fc37c1b0372885ea0a51c233ccce846f7bbddd84d789e6ba9e62cbf4f812ef0484bba8556f2dfc47e59b817934bdfb7449f6c89e2e8d0dc1fcec3acb39009b5ac5d46f8a55a1e8e6637776550c02d6ca0483563438e3a8caca82ec4bf3c72225a5324286b6b71843588960a29242b426dc864b83adcfc65f807f44a734045ddce9b838081d71f55d9b2623500ce1176adb0cc01636e8ad3be01c678789e1b7a95be6540437ba13cdca45735798de066b5d1e21205ad311e729042e519a2c557c1081115db7a54c22296cbb7c74d881ae783270e1d40fa05d8c2539a173e237b048238952b9e607556ce10b210ed025b7c9b98e0812fc5d5924602aca307c7d724192656f17730ab8d35c7525b1019046d9f543ce5e9a42122cdecb2191166ac21b211b776225b2b10d4dd253713b91ced9d39312bd886c22eaccab731014b0faaff450d246b21670986a3636b12f76571b1fbe568fd77c51245df2b373a6d4b5a8dcae8b84fd0962425bd09a6783ddf819164edb3fa5b5f42b8826ca2444de968361bcda3f8ab3bdbb76d437cf7758184ba3defc452722231786b44090d4ee34ee8d4baebe492c44bbe2116eded268748d1324b1ba8f71f66922c1ada7b261ae75f6364bab6858209cee8b4922dcad37c807839a64a06dcdd58a26611ae7f78e0feacab43d9a333e5878c91644bbed22c5d56fcb9382cae2d7fcc236dce1d8d7ede35d84a33ca394a74f0c3f4c58eb7ae2e13cfa3002429a0b97323be460ade55ddfd78f3aa67df039cde70ebe4a0dbc29117261872f9affd606f33e1e61405deaa6e19c4b6a1c30a0c4e9bf9d3dc4b2c6e9b7e65842d5c7a3ab2ba407b94900be9a02e3222ce4900694cb469f7833df65b838a2cefb29afb126a164459c65c72f9745ffa7f53dc463c428e4d60a076d0dbc14ddc811d677ac69f6af3b4a6c324b241b59a8870da99f7841df876b0f6c4ebddbae526bfed60b4c85857e1d061d454b7d08a47894aa0cdc93aa89a11b69fc275e792ed8a01f58b6ce000d8520e30ce6b739d47584b5eac99e880c68dc5602865eff04cf08424bdd33f2f406ae35e36715aabdb803b98e8196ebd9497f867d12d305e5674154ece83b7d145d3e1f6566facf9e0077aed582eaa30ac355b7da265cb5215f07ab85a28d3bd0817a3028b54f3af868aaf1d5185394b8819521560ab80b4b4dc2414e5477b0e2649dd42debc0befc08c90150d706a5e690832307d84150fe60bf63e832241e7d883b41ecd6b1c880bbb317a17bd72c40401f9286c6885aee266ef6c6f0ba892fd9d1db23aaf1d4e167b4a27bc58c87e65711e1781d6ee6f410f7670340a9220e7c475cbc96c43be31e94a60886c226d63949032ce3b98dc3647adbe05a2e400e2c66b9217751ed2dbe506f84929ae0469c24ff761d14c4f59e7ac72a76d12b73d68ec7c31dcdd8f220434c200685d69ed4a1d841a93c6996c73064c2a45b0214a4a56f982005a49b6360e8f2ec1dd362e36d04a61896866ad1312e000b5bb71c9d18693905121d1e9b91a6daaec2f36f0a5752cb8e3b9fdeeed360ba610b144d23d674f559bbe06fe9b0f98d8ca1914accf21ecc7e9e595d1c09003c06ad4704d806e97462a1254c20649d511d1a56a1301c97b024a3afe8a77c72fc8c1c19610a15cbf37a0aaad4a31569a75dc44f91fe1b83455441030d8b91f9f22ca71da034463d9e7fd6c484ce7a0e1a1bd24b3d11627fab68faa742d4f2632e99450db8f8f7ac741c6120cf507c2f5822ad2af3cc7bb16f3773de1d1da041b61e47554362fa069f4292d0d7b4756419dab3b9a236dcc197b2ad0332f206c80a2631281bb455ad6a9d323c903a0b4069708a734b7512a00a3b4798eb15a8cc40351b635840990b6e315df9544bac3ab42425429e4db780692e8551bb8ce2605f7ae172e14e16cd891bfc2e7775011a65f181255900202c3f7abe166e130ce765305b7632c2eab4d6eea8545c2a843b5dece31250caeaaf908bdb880415dd89b2a92db197e2a30e81496bbcbc764d1f0b38b67a525310c45325e1053565036481dcd9a9e6b722e0ecaaf15dc63ad301ab8a2f79721728ae667e1cf1f886286570383be5ea984d0bc53f3db4b9a590d7cdf07cfa5220e4c3a68d1dcbc8711a92309ce084edd4d6c8fcfdcc1727d4ef368e62c47d0b6ff2d60ba7de4ee8ef8b7652651fc9d16cda0957bde6ffbcb774afe72e5b0b6251348676200dc9f2c9a30eb22f4bbfc67cfd241f9b7b802c673e75a7ae88ce8919a65e88cc9c1a4ea097ffc66a1ab1fb6b3d1c50fff97c8e70129118038c43ba37419afac27ccb4e3265fc2e66724fc30ae51be5bd283d1fabb65c0d85b1363bbbc6625729f6a4fb066cc336e9e6b6eb519948c11afec2f2f010ba501e57620469f1b9f783be0fe56028971850629a4756ce5847b43eebb2c38b69902a1c6d8c2843e401cb6ff7c06a51862a34edc792531662f181a581101826bbd223f95b2e924e5e3bd1185f0b9f77a2a7b62413e1193c37d9236413eafe64a73812063b2290d1b8069940a30fda6db8bb508c8829a10375aba2eced722e7818d028fe0ae72062b246cf79f855a55ce860b8808ef5af7a2ed5a9eadb9b8cd66e8be98e17636045f101e81c227d82d73c6afe6635b8d73153291b5e1b90acb3666a0a8703e78d53108f1e5274adfc950215d453023e3b37226e175289bea03339b2573bc78025689cabe0342237c69de4f4de0fc6cd13b8fe4c4d8a838a295e315d506603369da6fb17291ad40fea2b242e4120c90fae598751a9ca0831a2f816208ecead1bcd97ac9e309cda9dd797fadc84820450034cbf190545e2a0549ff2bcb174db30dc3ece55b62254851cefa91aa91b05ff4fac1fb7c53ea7aaec83dc0e50703ffad6df10ad18a0b288842f0ecaad86a95a9cc1b0592d264bc0fb861a0c3e65f2abdc95c61a32842b97d71fba9d8c5474e31fca515b295b31c747e2e6231e33b2612d731c4a046733526f996e47de5d1879b647b52d22d5c7afa152ffa7475719edf7dbf9aa298b08bacc48f3d99deb61bded46ac83d969e71d2a01339cccd496a22d9d810a8dc486159a4959f61c4a82b5ebe73faa257d4717f2d545a816f8156db8b5534e60d607887e5587a061d895543622d81532796a0fe38d3034c09f454e765decc949c92b96ad93b27f9520f719d2daa63f947b3600dc124af68d5fa99a36a7d60224cdc0b1c9776d653b51ecc6943acbb8191e4be314288acac5353e2ee5f192ea4d2d0e0ce502c690e6742d1a2e5bdc2d049611ba501c6ab0d0e5196d9a0673e73f33dbe56cb90a36e2823b381467bec495cc6c29daf9df31a6bfea836fbf0112756068b6e083f069c182df164637c123474f057aa76c4f9f9d7093b899e1c76567b129235836f4e2e13423126c73341b5884a786a91264c53b6b9a071a2b6eb3fe2b9d8d5de26159e539fd1229db10c792a8c50a75d2c029002ecb4197491d5a8c5f760071a915ed3f072608ccda7cedeaedd6cf84fd1d1e1ab126c45cd86d665bc171c291de6f0950d125519d82def13e5de48ebe1ea20e18c1bdd7e449580f3857c0efb6a31ea0d1ad2a77b2d4a538f55873caed91ef963dc831746e32ab1ea80eddb1289a98bf79000e26588c10955cbaa2c30a94a5cedef1b93a296ab847561bc6cf17dd04fc62e443082bc5bf95be4b020e6420a1d21781dabff543634e39e4aa63eafa022b1478d6a2030244d869d18deaa0b99ba4d7344ac577090d97bda7488ff029f8bcd3d9933216c19573ff6a948e68183b91b97bf4cf4247bcea9e11fa44c2bce524affefb6339b480110bc6b7cb644b433744b816370fa73f4eb85f615d2d4270b7ebcea556f8792d26ce38827125b0da02ba0119cdfc8b195cc8355ec4273cf6834b2b24e0467afa91981c4659b661a3476fe259aeeac1dcd7e813988aa3db82becb03617ff849a44aeafe32f8c5a04905eb2b8820dcc640efe477191e66dd52e573b9eb6fe8ae7dc3d629983032990c1ce3d899479715fc84181cd6407cca741f9035db99c9c785a7d4085c868a06b80a95a1286d41b67271ebf948ad086bebd665f61d6b99120d484d391509f07600c60dbf41b2a25009e0d77cab36ddf71967c897ec18fe22f1751d3603ef073e8168d4c4d2d0c07576be768674dcda55d4d2c891ff0dc5ae616e520809c1f09750741e50a6949a917c69e4ce11b83a8908b83fc143d3c1f424b0d454aa554c81c04e56e270dfce81c1172968f4c206ae1b6efb5c03d11d78eb57184dcd4bd09a7dd76e18e9684e56a775658ee254f445742889bb52c40913269545264eee4f36b6e15748ed3839f0e1273097d04ef9395af4d989ebad42dda77c544ea634fda4bf63906a7c8c5e6d105f5a84f5262","isRememberEnabled":true,"rememberDurationInDays":120,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
