<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"f935809d50377f7b946f231247267fca0d9f029d73345a5160453053d14a7bd16138fb2071fa4a8e93321535bb534347f41e7092a9154ec84c897f36e4a75e2eee432b0e8033b28fe15646bc2f749d43c0737f470476bc90077c425e702f9463c4faeacb66f0de06fd640906580ac6b23a0d9305a3ab53c28929d022cc20c5bf5d4ad4dfb0f88941d986b9feed084de4d54cdc8a2978f5d895e39c048d62e8fa85dcc218ff51d1b553a7f3717237d725665c5522213b67f25c57ee05ece0be3f93c29d4cbb46c6b23f3cbc127a04c556f468f747f322d4777973aa11b92d0cf254a80816719805e5e390db2e646d1d3894cc8ce049a64723381ca02d34b6e6fdc8ba71c857aec40a91c83ff4c00c2dfb00fa77170a9370878982a4b6fb3e3c0afa742c1a83a91cfd78453cfd0e0159452eb9f10b87686d79c9ecff8097c19ba6265cf83cdc406b188736073e9cb5b4ff173c0ae605697bc510c86983dd65e10e400c66de9037e8d0a8eb6fbc6eca0e18d8e8256a007e41eaa259d7255220d733af818242340ed8764ecce1169ff069d3e26a9c62830a9ee3c8897bac6e80523d9c7ddc1b0a6815a2b86b94e08da135f6b21ff3eedce9686f1c8b8e88293a9a4e53f458bcf288abc23ebb460d98dfaca45d8f674fb2a94694edd19df1ce146566cbd8c7319814c00931cf9fab0e503b86ea7d5b5b8aa5e1f93f576d595b6d6621812f8e641297a984b6313ca69de6e47cea04c998035cd1552391ef5b12aa5a234d31f0d0aa16c33b9f9e414e8b70f55aa54ff6617ee709809c0f2a261c912a7a65db5f46c9ca605f0aedc199a5c009385dfb9c9edada0d74a2428649298b4230504e8bd5b9c6a997606c10d2368daabd22fa0a3e13b4980264061619e96dc7fb9901894cade6ff4f4fd6f594040a753905cea11f3d82a58d7c2287258c51c76f654b373ef6548666f4a894c462adf9619a7094cad664946bcd94085b9a4878478c4f42570678637b9eb39a2debe4bb3f11b515097bdccf8faff0086ec263e4b64ddefab51559365934be1daa1c7122bf0232954aae187661526aa2eb8ce506abba037e447546fa231041b4fa71569b0d2c654a0725afeba15536b7fcc1c0120db19748176eca284b5d08dbbde9d2b3472b9d08f23cf4b7d4d658710c8fc054a5d34a23da955537e5ddcbf09a0edafe02586e59e7b33f19ed68c81e5190396302ed04824e53c6b38dc99b9ddc8aeb607f17768bf3fce9a83639731f7d531604ad05f3ce9060a16deb39b9c7389aeeae17c903ae09f393f61d052bc5976b9d5feb34ef3dbf12a4a406f6409acac4a53c698b957f14bcf9c2f75d796d9738153fe4d6031f1b5eaa65111b860df0211080e66209f375261ec707df65d7858b7b7289212c88c6efd59124e88e3df11cc42a39904484617ce03edd194ce6c079db5ec2afd5a67e4c519aacd1b46b58076d3c03e751358fc050dab0bf0770475b9881620bc1b8d09cd961418c2214629ce617fb52d040ef050298413671ffeb8a546d37d4fe6fe2fc17261c284567decc907aed36aaf357d81e842e1ca42f0a123e8c616a949b835aead613a61b69f567174d5bdc3c1245b5c9beef2400da3f4a08d89f49967c1fea699ed8f8acdef7648dd8c801049c69b1935d43e9f8e387aadd7063d9a6ab1b7cbb854251875d5047d1506a2779d4dcc0d8d2c1b85e911d5c7b2d1ead52904b36f1186fc16b1b0ecdbfc51201973c8b3f53f1cbd367d6a90d6ad41308429a71d1102bad236e40839c90b74887d80047ab464f9a17e57f4d6beb85a36e25d852e4640565ca04cec9b94b923f0787e2122f90164b98c525b934c5bad08f5da102c5e92ee913bc66eace8048dca2b76d720352427391d0718a29530bdd1bbd217d60796991707f9c3fdcca6f21eedb79c514365a1d426dd944411a9f41876f7d3d946bbaf7c316eb4e557f6f33f559c5468a7222e684594b19aa891a3df10ce617d3e88521cedb0cfccd28c64939c897cd5b1929106dd50a2af4cb5200be0934b6b09bfd7087f9bd402f0e434a1e22808014a207b30db863cedbdacd574cbffb7ed988f7d2d69aaacb2c6473b5166353070742e74390b0133756c7518df1aea7b60afa945c10f937c8f3d8133406fd05bfe7f2d450f7e2e4fd10d1fb840c9caeab235b87561670d1647a950f81a832c357f18be025342736317e8a95af43c64d65a41f77c591288724adbd36641e7f6bb279d5a63ac1736e6896ca1e784cc36db3a2778d5ab0ddf540dce84a9a20f5298cbc7f734e9f2f6343b6bed4e1ac3d062eb62fcd09679ff009d406245443338b98741a112dd6c047b2528b1a362e7d394bb81e227e6db146161c9479a1ed4020aaca051e79b270ebe6a82396e3e2270ee813c0e345784f11e4e139b381144a4c0ced8af2e2640b4fd7899437ebf6bcea583315465a192ed7fa851326cf7199ef577c7b88fb022a13c1bb6d778285f8d5fa3c29d8617480f96f740a8ae596b8af201473b0f436493833fd606d2ff35a4cd903fbc4d5f8b23d20b57b81e203fcfd1925e5d044d58989d9003480ae70caeb9c66f2a977afc676808b2f2e8d83bb543c425207fe2c7e2110fd18b364ae78ff3669c8e98ac728eebb2c2b25c44cbc1ef3a8855ff0e6ce2cd3ace493a14e294caf8e10a9ccfc59423fecb5cac5efd8280df29ca20f277da1964a94a4057a46d3f7781e2ca3421fdf7363520446413b128eb77dacb30466156a94768f5dc853b3b7ef1e23ecd87fd9c0c487bc615f8bc9e2964d963fd824aa1c6955cccd768f58ffcdbaf659927484241219196738e1c2a6e6b97e14986a8349c0ff1afb9fa8b2d09ed00e00c2e86a96229acacd9cc373796f9bb70b004559b64c5c58dadc4771dfeffed8ad94f4ad44a42ece379f4c2a41dec98bec9662393a469f9bec9782f5881d9f803315ce81e82ec52d2cf4b98093fbc984e629636e124a14d57efd0cd668e4faf8211b0d8f2ee431e92d6a6b5f6228fe8db913a4e7a968a5bb912ddee905169485bb36335cad340bc438da16117d40d7d3781a23e14c9f437d6f177eb6999561c08f30bf10c7c2920ad0dfe50b09c11c69473fa9830fa5c0c041d3fa91bd5f80fe962fdbb37decdbbd3f5441f8cb9d3d55ddaa4a812f5eff6fa734c0063fc5af7719e6a05e5ad3252b0d96284aabe50553cff4e1f931f080a226ffcd7cffa7aa5c508b7acbd3b6824d9f3a7cbeb0944c97cb475c640b3c5de1732a8c2e79b476cc8b81bf30db63d956c30690260155382c5e313cdf82fa0e6a27d6313103b96c748d49a744a45ba5dcf1be0d77e924a383625afcb53a1178632f4cb73276ffa5b6687a78646fb3a338bdceba7d5cbb239dae725b29c9c0334ed09deb4d2b06038311d223ac0d5ff9fd5d703317f181f71f2a8a1f0300866a0236062923eab116240573824a9479ae284e197a8ff8770f5d3c25563f2314e65129d15987a2679db43d08c863d8f37e657b55a81315fef706befcef61fdad69a886e853798ce5cd9caf14f3fe32d6cbc5353aa683763d803b983e1515e342f26a8b3522b2fd0daffa51dd1cb4ed435af3f2cd3e8f517eb68ab62cf752cd4b42a9f2e1992427cf99cea15b8d282203641326ed3c19521316ca65d46605292eabba9ff69f2e6d03e85e93d8281abbb0896ae6f1eed46c484d23e214bcddbdcc394787bbc707470f827c3e16ab413998da4989e8cdca5d4b3f92ae62b8abaad424771f20546aac9f0451d49478b8aa2f691e07e6e8a1ef97d4dcf513ebbb0f97a42c8bf985fee0e8ef997e98c8827b003288db33b09c8be49ae12d08443d3c0a7625353ccd4444db11127c4dd014fc1efaf5abc38e472ff4d555370e35e67cd8ad6c95661a16a1d11c86f99872934734c2dd335901f291777e06ce479bf1d2052e51c9942bba50f792ab4e961c535b598428167677fddc6f9e84749ddfe7c658e2ef6df67bb86f17e6e4d44241ce6f0791432d7898f48d2ffee3207dc055b38ee0f0a4743f9083e82f99660469ec063149d7a0cd6232994e85ac61e955539e5ec26755752071199d9690647a0d6a64771ec7403f4bc28843fcd1f8153367b949f82cc6289763fbe2fdda8e95dcc79dfcf867cb578370c6851130d2374aedec3cf8e664d6b7a4531d9ffac2b1083465e3e3e1dc629f3feb693321e1c4ef41ff97cefaab7c010c7b8a3c34e3958f5f9510fb256d23080c3a3093cfe706805a8a044d6426f320b4c4747ed869474624d9a422c81e111a26dbc409338f812dbea359ee48433f82c741dfa34db4c2a9c6f4623b4e84fc612034405dd3c4d3b29652d270de17b27da795cbd604feab8199b999b87d3cc5d3b50508a10d56245d2b0b8b5d4fe56941603a9b2e5afdbdabfc790fb04c7f75c40b2517bbbfc462cb62968535b5d0c6f470b4d847c16075c8c28f38d44d6b23d64ff5a4180f7a043d2b3a647e12abcd5721514493686fab98333c4fb11d5655460802a4a672aff0bc432cf5e6fe94a98d91163d576344b637aaa6b6208e1a917767bc30592e10e5b5a49337de73fdc31c5c14db4cd73f307ff72eab630e50f05f00cb4347fd80c9f0a46681c6a149b8f4e0286ad9c90d037587cf878ccd5a0b0f71bceae3f2dde47ca47e1494e677cfaad468c21d53a8a3e624c526f30d97af4070a758a18e94922e0ce69bf091c4d237f13e92b4e0143acb9defbd12badfb782cbf2fe6e33f7276dec9eadf341ebaad72dc58f41bf31005d58f9033bf82aa736a1463c296e7c7f00e0ed37f1377e73eeceb458235cf239bfefe1e0a2612770b4f125c337f874acde6d476a171e1a077e85a97fd19667ee42845cd12c5aad9228c400b3bee9620080d13fcf449726ec7ce948546cf5801a51bf18bbe4d9e2c7c9a35f9400da5cce1ff4c7bbeec5249fb4bf8dac7366563688cb640d03b0727ec0e4e35ecfe0f5f41d4c69cb23b21976327ab46c80324fa537b17d0fe9d92175de2b476d998d1fb603ed11395c64a9fd8fd8ca310b7c477156e421f478c74b0fc89d095f44597bf7b4a5eb9d2243d6c965ff902b152e4bca9259aaf2f3b671eeaf655bf2659a4e8625e8a315e3e7823a7b5431ca7a0dafe5688ca5956528a3792493374d019584b7fe8b7c5b7d0dadb6bfeb8b95d8c06b879195983c975dec61c360ca02874d3cc09976ddf862c14ffdcf3539947ae9095183d99d0ab448cb2bbbf7c31057a9a3a93871aba98667d7f39ace136ecfde0823b2f97eb9409aa8c3738a76b732c2ace96c864e75858a1aa3766337ae9828a55d90b0a7fc03d86b2e5c47d6f5b37dfdb8add512db8a4864d8178b8d6ac7e5b506bcf7fdc69f8fb25c0275f1a96304598b4d28be42127a2779c2fa65f12f0f0be94619d5544e96ffcc56fe82a71c68873f8a1a865f5347c5fd9c1189bb0e99f8683e0edbeef3c095266caa7bdb24569eb8f12e7fe82c4fd3fe1e7e176143d01fbdaca0ab2bc26ea75942bdaaa0c70a2c6698cf9720509314b72a48d5b20b170bc12645f3741c2a072edc6a565bc89d5bb9a7dd4d2d4cf8322d640608fad9fd500f92e028036f1e73a3575a14c4c838d841f208e95bca59b1b9711f56bcf9d410f299afdaad669bda538873d255f52ef843eb5b99365baf31cca5bc35cb2b303f2de595f3067868f493cd02dbdc2520baf32eba557707e7a7caf91c1ba51db7d8854700541217427ea77b1db46aa553d547167284a957a7abdf646196ae3ac3b2ac5186238ec45ac4dd236f71cd7caa40baa8db9de3025a2c239f61a65c28686de63c631e77daba086ab0d53f0046a42ac4c708da6cda6aeb2be747fde6aee16879e4df7aace80dbc4d11eddc39eb0a595b77fb2f23015a2ef6a87750afff81c053e6be166f018d12740dc84567b05a37d78947937b9be73296923c3833c1024d529be2f6d41f233a2b7fecb6d689914e80b9701486b388d805c60cc9f4c036b92ecc79c6243f5dbbbf60e4fe04efdcf9f744e6b4d87fdcee66c3e08eb4814885d20ff448f945d3872653a234be47cfaeb28156c4044e1e42e3be04273e09d9fe1c8722739b6da5553c49451415b580f6808523db76af9fd4fc5b123dd1fb0216cfbaa13896af10dc7ffbbc5a7a38a3d906711a3e0234972dac5609175d439a61c984e78fbeae37f951715387a5141074f5bae0ec2e6635747276781dfae26aaf4ca26e33893b40b03beb37ee0443dd4777061727a23e5857c66a0b4f15c7c788b235300c96c07ad5ee8d879d0b05b065d8c6eab95a55ba27b6946498f1fcccd143345550fe49f9f58264aaf6e60ec8a1b3f8bbce1d398ae532a2e82e2e9619a011f3b4c7d7c363d9d0ff65d134907adfced1c22934b95d5909b23562de07f841e94dde73591e184da2c251a9f43728ea7330d57e329108ae2c1a85a6631ec58173a3150a5af81a0bdc1134e191e4a53810e9e912b47417910ff50b6a3027e585b28a099126dda1b10bd2664f7b58c64c02118f0b1ed898e21104f949d1dd2bedd4be917f2ca50fe606f4c9c50a4e70e9d17f611b40410cb466b6ca485a0ae236f81afc159b977659beb7ae6df645dc8a8100230f8c30ff1920563f679d8a5ac4f4cc279a01ed33cccb8f8781ee95ed114d1d09365077027913b8b4457b9e2ce2e56cbff3de8799ede0c1210cd9fa8580ceb39c08d9ab09481dbde9e80e6673230dd387d47405456a1511a7e33bf8b29429d193bc252cce2db066a9dbf1d75f72aa6ce4830ae303f549baf958d02d6f602c305368520816478ef7c319522b3b4cbd1b2ea3dc5457c377408c1de4beb5cfe4ecf684bf7f320c9e55758ee62900ec258fb4073285d64d4b59fe19c1a0e4bf3728e8d0200c302b0c78ccef55a6c49fbc15005944d6adbb968a15f9e0dc9a894de529a3b215920a06689b94581038c97bbe6372e69fc2ae560e2379ecdb086cf92572f577e934cb25a3fd5b0be27bf865eedde3a37ae034bde14415e379e4d7e86ff53aa25b1912942370e455ec7ce987a96cccd3136223af416b1e6a058614a5f9c615ebd74b8f4283d51dc46f691bde3992d6d3a7c5960b51bcadd839e34052ba23ee614fd1b165dc0666e7c9b45a7a6826d070c9d16ce75dc9ba50581d8e9d69812dd3e62d0e0fb0c291c3e709ab314185ff4ec7ffea398fcc42c2142e1e3b2f0d59ac3b4933cc07b0fa576360685f476e6cb199280adaa4f6b380b00bd2a9ce00923ab544f3fa04df643100d593b3dc2854d861e6be9f54af1c6665ae313f544d410e3fdc701cf077782a769f4613237c86002b1c6eae9b59b57c6c47b78f7343080b4035302c349ce05ef32834848c759d67b3557207d4245787467d6ed26e50adc1520e344cf273fa7dc9dfd3bc32d0c61649a5ae012fe27d023388c37ba015dd83dbb222c10f44d81b611e4214a003081536760c05bc6cb1c75ca2cdfa70baf967905c63b4c26feedaf05cd6b24e020ab62084f38530706561dd15c24ad48cf76c7010203a33d3c5ec58fa05d38c41de03a72492cb91c68a5bc0254cacdbc368455ef4989919e2d75a0f58b7b016447c1e56570e3e0c94dc6d95aa73e3d1d0cff76f51e6acb4a1fd38061effdab83251d5e2725dc287a91c1259d197dbfa69152d731da6f1f76dc4bbab602b0f4da592170835829449f82bc9ea5a1cc4bd8af67e85fa8ae4be01f2312c8c5e14d1deb973e680c85177a7d5d2645fd5b7199b3c96e3fed1f7ae22d6b2e9078a4e7f6fcc29792a2d304ae6c8c80cf477fc42b4f83013e091ca14672c173071492d62be941b4c90572b07264428767fbc17e5fd00781db0961f1cc19012001dbea347330744fb5698faeeef96b44d241abe95d84f8d29be50f4e9853d8b3b918164993b0fe6688bfe82d794e2499e0e333e3742c238d5196be26a723ff566c046e4f8e38c6fc4fbf23763b581baa34a3d5ab87f3d9af9aa95d85e5de4e016596f384a790203a72264d395974d25cc7fdbb0b935d065b8d1d14f4495baab14e0a640fc9d9e41f476373d677ff7dede4a418c5388d8cf13e5f650221760f542be5e22922e38c8a316702960f0f31959d32ffb025e3245b8b2f992aed1af5006213dd4d68eba21df295c4eb66005e2c9010fea1b44f2c06623047246cdd63326b7b39a6d9db31a436f1d827c11be8b47bb174ce573b6f816c6d0c3eb812866659a0432dbbd4fe95debc4f481d2f60f1babde89e381cfce74d6c75f6d5418d8ce629c5e83dcbe1b771bb7df4120cbb78023bc7616ad8088b83c352660a53fd56d2d97ae2375e3aab42093b4b35b305c9919b0a3f3fd639b9094ba9e9d6b1e9b40e5b9e7f70e14d598bc0c5414157433d258058c74ac449760f539e432789d78af9356f8981d524e9183fcfe55b173da01a6185ec196b176a6c18c4d91532efbe9b543636077a660dcc1fd6469181252bd6399beff28f84c5bdde2bbfac260176ad7173b4f81f00236e2ac4d64ec6ab58c1b067a4632adac308e33325d5a17f93d707f6da516b2ae714aae193cb67fe4527037464eb6dd4e193a1f1d628dbdfa995f78f7e133800a0cdc7c96f15eba3595e7996bde7f8d8c813192f0a24b91098862072bd3033e95e9ec2855c598c0baa9a06c5f16713e1516fcf4998a0f21b86b5e861baa1be0da84b0566ed9011cae2be754381746f32a396974feb625a644e06c9426d9222bb8c64f092d4d0b17a1f981ac96023cf654b64e86ced1c9c2e17d0d494050ab7401f51886749edf15cd55c2de56cab90a827c418a2d4907551838c86a0f4329801af4055a2e7745443c9828c45265d7bde4945f01eaec43b806f01b48464c1a76920cb7b9e7d883acc6d30728545041c500cbfc96315992c85410e1f2b5fa03da201d031faf5d6f05548480064161f3685375850fd2964a3a171f7012232cbbc3672882a109fea51f7d0a6c29e37a4eca3ff981b7c168c6d876bf1b593d575932da1dee7db228981a34faa673db4dfb2a78b8f78f51f09f09133eb8cda7217ce86b54a502753246eee7f8424a12ffdcfa74a5d2aa03b47cfe95e416a9a802ce4dd10e711fc831aa9caa5c368e895132a592868f0e4741113552842a814bb98ba5e2c8572d9a1679bc2957c72694e3c99312c4bb21ffbd9e9d754a40e22ab53a608d94ebe3e3668d1c6e9354b82c395ea8c09664a64b70a86ba520638eb5095f09cdd45cc8f27610c12dd441e57162341acf0495f846040ce1d97c84f283d23559b2d134c78778f8d43d457bfc663ace6fb45051baae0de54ac8f444ad6aa4c2ef28e960d3de928b335a463aa4218443572f64839d7b42472a9b7a66017cf4e0560c4321c42983c1319eaa65826e9707fcb89a17de2b42b5f2c8cbf6d4d15e27d3e777f7f6841645da98d27a5d88aedbd5cb74dda5c489dc977f7a8b64e2d5107a94748f8c77c0b3628073a367bcd7202352c02ecf43d4e848d0e6021b9dfd0ced54dd24a050d5715a9192c860156e0c930e6c6421d312ea4ec0182ad0c495dfeda9816612c59088de1193d6eae40a6ab126d67827c9a90cf688da697fe9df472db1d80d7a26eb7a816cf0eb7a209dccbf7d5227b3966efc1ea260a50a9da8ca42fe64db2c6b57c2adf9d7c87244a2988b1e98cb39157e0b9bf8cc9f4747f278f011b355a2fb463385661aab86c8e5e58321df9d1d91b980d2b26cd98b4a3bb412c5e1c36d99a0510df1155ba7841332b638a8b230d2e4e92fb70174e49c780239b582034b61fa82b44db49edf58803338931ed5e8d8074089675febd290285d4a8a6aac1d1d0cd08be280d8a3ebede5e41813d3df35ef0fa85c2b5f53b8b1f299fa630dd3f3e23ed363cfb3167bbdcbbf7611cfa0637bca7f439221490cc89c8d1debfb17cbe62d075ff4b2277c4c9a6d9e3a10bc7d2ead3124a55020fe2896d02f4af9529dc144690705d5ea9c6ead5f213b6c3b707aaae57ed6ea60e89a0d6568db71005fddac5bdf305c18ea489a5a86f350243c7d9d5cbec494f12a4085a020ddb944b1a94987e68fd9f7c2275c8c758438b6de069b62a20036d0cc4be72a7bf55d5d79fa5050da37846bbcb5827b2f5502671594bb09fb29d49712effbff8afed30ed3be93ee890137c196e3adeb1358a0749ea6e82a9c58ed487676cee866527e4472393ffadf7d81fac327c6392235530d834ab3db677bd035f87e811b200abfdd1a055d18809580bbbc35b632c77bc06182cb7512fb9cddc8fc9750c8fb0c784b7f4e5e9a9d656d7501e3af91ba0b66981faaa19b032adbd218f1c28afeade569e4af453e48b95cb568fbaa1271e736563ca49c96539eeae54b8273eafa7c74c38df8697ef7e7a49a22ca8f22be83d432a3297671c553486ad1e5b3cb4f8de7686217a1ca80b602d23350d355fd2b7cfe661ad90035d58f8068f41088fb94b4568b6c29abe2f8d090a3b78008e6df521da06887a88e1a9185439d6fdebba4e69f932f98835cdc39403f4076eaa6a12bea8376a781bda567e38ca05fd5017df1eb986e28f27013bc9926150e2deb417836212a2ee4925fe246cce4d8cce4248dd6b2f7d9933969cb8215a3288362423e2fbbd4ec26367c921f80344506c874f285e84ec743b96d5dbc5d869379ca03f535b8814085fc7e373da1cce8560089118fac61375723cb4580a42ad91086d216086514f31bba0caed308a22fd3a3e5eee7834a680ef4fff96e6cf2fce8716b1d38fe47d44e535713c7096b4109b3a24bfd632467a405e46d48d71abde37191becbf1f234f20898f5f9dec91017f397ca15b5ae91eb03cec95c91abb5e9d45747b05ec791f9eca0dc5d750f0b4312a272216145ac9083e9faa532a3bf8b8a34beba36765a0a630dfd2449ea39ac0334a241e372e6f5f9d303eb43dcdb6efa32e9914404fe9969eaa47c014ab4a69b70f8da46d92850e2b3c07c7eddb2f75214f205507f4ef75c943e54e234354f659ccec3ef78c5f9c2fd4685eedc626cfc6136db910448045bdfc1c3a30ddcd1f5911a37eb9d5b137c4f603b92402ba626e62459e6abc76eb265a819e3b1b2d0151b837a80e6dab6ed8cd24ee5f04621e494c27030806f9eda95d536dbd4aa43d36c55a9d3ed6aa01479e4eb039e01443f0c30f9d12c4a580f74a1fde596ad5149104f777652df94c186c2905d71692c64c2acb18ebe9b28a60f6a5db4e114c2798e28d8e4a813c2c38867061d74b1bbf6e32f8dd2e45fa1c7c547715f19d0d832456144cd566c925d039ad05c3afa82be5c0f47b3309ff8ae101e20670157b0ad0daec853a341b8e3f3319b04083e22e11d7fcd1754412a95007a53b4cd2b50d5e4f93c35eee64e1b1b71adb995f76ad780c2bb77ca818e6fb45a7bfcc05be84ecf9acb996d3ee6d253c315efde4f0c58f7a7dec673e6f9a2afa802a0e61fadcd9131142238dbe234811a26074755a3fefc51d094689997570f4b673cb488f7f1d981b0dd4fd80a097ba983b1c0205fc5ccadbefd2fbeb360d3091a4dfc0af826e058934090f694f87d91493e705556ec1f1f08cf3d876fcd121c4ddb6ab6caec305238eb35c2ae302be86422b7d2c67b8888e35a44633c0bd6de17a5e406398a9ff08312d0f25cd409cb43368544ef9c5d2c51657085456acc0909c3d6ae259cf3ef3b2ada816373e3dd282797b814f010c4c3f1fe39fade82ef99e836f58ae4ef86802fe273901911980c17b7aad8bf988c2e5be3ef86cca157e91052fbea590f9495c5593bfbe17013d51721ba62f07ec32b9e5c010de2ada513eeaddc408dc86be5b3023dac9f8106c027e022ab442bb368d2774904508f7d938b627ecafe0cbe46f2bfa5b95b740dece477a0d81ccc4e7b64714815218d51dc455bd693ac034e3dcd3143b65e9d2fb6f296fe629b427a6f266d2e75592006385975b5c2a0b1836a325bf2304cc54ad41eb9e17f8b3ee717d2162b570ac2ff9eb144cc2111283e38e835c6bab41ceceb9d138dee94f3f75390c78ce0039cf784090db3f6436613e16eca2f19483e8a90e37bc3a11d75414b672b482cd995e17d31292f0c33e8e836ad0d66af90394b8c0f03ac9fd1330a07891038f34ea1345ff2195da110faadde31ab37603f501adf1cb18957510b5ee04665488afec2248aa3336a4e6ec4e5a9b4e386274f68dc2bf66aeafd7efc4bf6445ca03c4548d9fcd1c6fa178d2abdbc07263624ce1f6b25fb312220a0c916fd49b5dd07caad471da073b0ab636ebf40047d65e29d77e23d238474ab1dd38dd70a8c3349a5efd51c2dc9a62eee701f77c368c303bae531d4422391215002c9b3ce270a5bc5eceb4f935b70d2152e8c75df9df524ba946a88ffed1db5459ea40a1df349346dfef5342002d5a4054df82f1d105e7893b2c7825da8e7400b5e87e3b8ddb7191cf5275bfc0fd025b2f03325e046e1bc56dda33fdde55bb8eb12372f804fac13eff2659e941f5552dfe7381451dc6deb73430c9fc988ff044e4b00860d33affcef8206ed4a07a52541a06255820c0d19af898d0e3599f66fbeeaf12f11cb9b516e94353abcff74653d5219318add1457c43c12d968bc561f7a205ea16fafb16b5453a5145e44da22722eb95d16dcdf0113440f336edc6f4a5908036957c620f615095d7308eb5af81b87e3eee1c9a6f7cfd7a8da8488e059f2c5be9c44f89867e9af3feb6b2bec29c28041a2f4cc061920e5476e8e50e71c099522949bf620695cbd34877fa5b94b14979b298d3915910111d402daa490e591c80561af2cd79045d1ffed59c26e76b455cabd1073d32f4fd2c95ac7be7c9a1768ab0244d16a48a650d9df63cd6e140291018e34ad31caf69eb24e1e2baf2517207134ea801f511cdce94190ab126f4999d783178f1cbb3cce5d2d6ff029e11ecae255e768eade9836ae7bfc47c7098cf29a2765d7c6026a24a6d0be2404bc23dca280872ddbeff8beb95171ba38755445fe663cf2f861e7a39629e5cb12eb133d63bf471e1fd1d1a927e44ff908a81b80f62f4a5335077d0d6af5d6193bae362c544a28d5e2b9f5e5b0c13effa0606ea62c9d027e11cd8a7aa48399bd55d89528cd47f1e26920dbbbc215231141f240fdd4669554a8a42b800232a84e08adea4ccf15f4d71f3797ae7b2bb2fc9c7dc00083f3a90c4dbbcac029ba6c007a3492127a446725a9359435c34b2290fd39a41ae45e5c06922444132e65d6ec51442193a9894003b0462a3b6d149f1d0f4c9ba286b767270362f8b48d091dae11fb24e8e98021d2512e5c069c64cf8fffb7b0c445eb5f49e54727813cbce0a09d40985600e1aee3fe5a77fc4eba033fa749a5b092ae75f3b2bce250626c8d189539dae609cf9a3317399d69201fa3ce4f00c5402c2083b7ccd9cce7d7921fd2c84eb5f6d0261f3d018197a59e516861bb172c1ef44827f8908e4a27757ad49123833cb4bd18ecc1f9e7fac920fa0e8220d53f733b9dc1492a88d827b910c2342a774c527180493f39cbf44c2df422394313e6e3ba413a4e18f9c792df9c26de58d0d458c59bea94b07fbabc442548135f8b22e76842518736e14c8d4a01c6a73eea37e61377cc8569c65582d58b0a8f9223c4b47582bff19debcfa4f5c1ec5e2f24f9b9906bc04678e8759025cd0ae2b2273a3df9a960626348500b35692365c6f1cd169c73b9ec725ef85115da0b06dec292684a8de2b288f94f3d01e36966fbb45bca2de484aeeb76d386d876f74a19c832d28568dffab4a33af51f2dd3d1a540e58ae9adc99a4d4bef3e446ef555b2bae7132505c9b3061cda7ea6fa5c3bd41a89b0df4366320ee6d362d4adec17fc45020cb21d443a8c16b0e58b5eedca143f0c705bb63623a78e562d4f25fa122b0b391738095d826b013fb59530c773bda8444dd5d44fe5f4a71e265b06926e9547fd3ada75c1aa48b0b62977e1a77d22ffc394a55651614a275828a2bac045e1fdd88f3c23ca9ef9b0b7ff9b480dc7696b9f8381449f167178b11b7c3b227a323d65c45deee804e74ce0e145ee624072494c9b9cbd2e73e9bfd56eadf79108c532ff18c1fe7c80cfb8f9ac52f5fbcc78915e8c4cc97a0dd85790a350d4cffa33081d407090c98558c1c37be771884435fee5b7080f7f22ef8a0591dd23e432b4ae79a731a7366491a48ee8e80c043d3dd20a359b60e4e411a6f655127577112dd673e91995e7d6fdac1f8629d20cc39f6b4b8bbad05ea5e64686ac5d3f8809e33a45343feb065ecde2a60eb4fde4655a57c1ddcaf15302ee49c25b6237a854cdb9ba0389f16cf3170bc76ae356c80f7a4af1f949cdcb03397b84b1d11a4b45f0de5caf6ab5c6daa1c8bd695775a75b573b6f63c6abb3a90a0cff106815b62a14fff737a91b745b8e99e392be8383197577b4f1caa7e3eebb2358e63e20e74455fbca8fbfd0cbc627fdad8b323bf6af5d1af0d73dcce5992134ac702b7032588b3aa525bc1db9bdb2c0a2ab7fb20c9f3147d6af2d0197a6c099ab82e4cd8801115e07a53661d661642c14fa056a5c95efc3c92832e7b1a6d7bd30573e917edc2cad56b61e7468585934bca46dadd248dabea2e6d5c628b483bd630e4d41f6eb23a57c2d5a9dd00c4cc639ea725ceaf6321e129e1026aea0fb3cfdb2d2e33fc64a4e713b6491934121a0b8921334d7363d779fdfb16de51d0b33475b86dfce3120ae2a74d6552a60225d0faeb77312c3c337fe2f60a58503434bc2f8eab6a51a161309f5b72cd30654111dd40f138329e778f73699b7bfc1a5016a0d4954965e6d9ab168e78bfabfdfd4a778a1787fb4aa152ae5f9f02b2a27eebd4458567d2c795c41b491421e2e74284d5c2410127a85ef8d6c6ef847b2841262a6f796a7f82ac68024e76e81ef90dfa8add2005f4c51e22b0e279bd04a85d58cd0b648e9d5e4782c4d46d905f5f90f78a4d2323c43792005cdf1591ddfff13e387d05b60be8af937ce99bc560027ab3e8268ca0f12b69a1ec052f67d52ab232df0a294d8574aa2394f1195cad45ab57dd17863ed5819c7f7143e4d8cb9ef6053cb03fe49b0ea36483ca4534c22de20fb02b7848debe393cd43cec0427faea4c2fee8d245c79b0782352a892c62f626490229ee01360502d8fda01259f590a0dd1d68c5ac3080b978da8b7684d2936f7c53c18b3d04dfab5987389d53549048f49b59e20ac02453744b7bf03078d53d6cfe91e5f473f42416f8db7a7609d5454059ba27041c0bc892a2b5cc15321ff49ee77bdfa4fb39d3b3ec6839f24ddfffff8bbe5fb86803bc81751e0f1d786a01031e18863abb758f7e43020fd7c6cce48c827c6f7f3a58205d30eb0d197b7ad982921f573e15278bec8b39ade013a01c999752c49eebc5b8cd03ccd04c2860fbcb00349c9465004ce94a7452451b9e8577f04877fe98040d26fc4b22f6c4d2f5edc3111790b5f4e1992a169f1bb4674d9e0fdf4c02e8d52b1b05ed6f8c2c5dcf8dd3dc303cf5dd58c7e97eef9179cc9ee93426c2ce721d664fd13b6897fac1e1faa7def53d88bf25c723bc936fa782be8f6043a4dc8639f04145381abe9716dd5de4495164110161941a2c583b30db029c43365eb151b0d183fe628cb7dd926677d225b1800c3041736602225acf79525cc2587ff3270b8d8cd0cf7e249e2c37796fcc88a1d07c4f532f42e39cea85a560ef1b1e870ad3189bd9ba408affe05a7df8dcbb7122f81ffe98d596082a46ba0e8c89353beae4d8bb453eb3c6662cbb517b0c63540127722a43d31256a3a41acb676ff1d4dbf17dc42f298e5c5980443e0adead1f4220294fe897e4e935a95ce763b8f79bd83827bfb0a21570e4c2a39db177edf5ee9ce0f9aba40e81b1b11e7aa96e98055020a811feef37c6a8806197d6e575dccaddcd54a81785f5b6290218b2651d922135c65b75085eb809f1ecc080344804ee2f8c94d4e622a47972d089a30e2b86c279d50b886c7b7ca4a618fdaa287d82e205d285d7b6fef448c2e8ce1cc34ee8065e385bbcd2d2ccad153c90bb851da94c4a7ffc6fa2d35391b3dddf012732eb258582e08984647eea579acb0c84837e790140703805f64a116dec227496b7260dc2af0d3cfe5cca92b582dedba9187cd662e331400d09b85a87e566d2680926bffa62da30e96d45c33f1508450ca81fec6ae02c48d2dd58046ab74a78e19e2233627f00cbc0b222889e7ad7f7b98c0d87de7fdbf1c985588b1eed30e64de6017a5b73ee95712a4c475d6634c1cc050453675a03bcee594b7874ee7c489daa018866cb0718b89465f7b9aca73da71bdebd12f86a29d21379b467a63c89e5d6ba2bee391e98faf1b9443f6bbc67ded61aaacc933f156810648154def6a3c159e1d87cb9ea8eab0637b51e9c749a081b1ed79d55d8b2fcb33a813d549736488644ccfd29bb920ac12fb7ee3793268dc672efd8cdbd189e12f6164a48106765e33ac0d55ab237f8f2a38d5e94e94b5343a56be4dcadb700d5dd21fda1c7561d3274e39d3e08afa0fe5009ba921e6a5f844cc35df7bdac581518dade5972f5a6990a02de9bff203864d79229737ae1685942eed7f82428c6d9124dd5e1bb9742654276df273508b59e339af0d877e9993d42e58ba64de929231d084961ce35204d5b6aefa5554914c487fd4264bc12c9942205366bac29df14d7fc6c1e6ba526972afb6fd666b412a4c99d2c5e683c9602411ca89dcfa97be637c5b71e171eaf8a6ad2ab825957e3ebfa64aec8e05b77e8c0bb25b833d9a28e1b58e1b7dec84778f86aa2fa771a2c0901b163665f284d1aaf33676a8eb4bc1509c317bc168edc945028e844d53a82de1c36f88d7170470cecae0721a82e80616409ef9c2e640b30bac036b9e532279a71ade715c85b1362af7e5850a85ead85e55e68810a39e1e7bbbb91790a4ae74573b6dafd9c1145dad66cfe1a897d6ab375bbcc86865a0af55d4d80995a2935fb7c7729cae069098d9834bc59c90bfb19c8fe1928046154301900e49ae31e0fb5878f710dab3ccb17f895e53ad19478d4edff4c1666acd2fcbbfbda4369823e5ea41bfb70a5c51455c26c4bf8167dce9d244a8a1866f423c66f6b8b63838b965bb55d3be9157c356503a480b276f3f526bbf0e737c9bda61de24e01ec17bdac2486973e19ea0047792f3cb4d77f3adb04d493c56329e5b3c0baee3ea1191bf186e90a11922f52673c834f95c8b0a40b8d357f4eb75a491847b32a071f28b7b0301ef29aef96cb698faa388d24f075f4a65858fc97915fb1b0dc0c00e647b045c78aba398dde572497912f892683c1dbdb253e9e977627ce8534faa0d72701098bbdda11476889157ea4faef2c3d5d8a82a6ae7ef651546618f4e40656f2145ad87402662a3024ddaf09f1e892661777246b162392e5a7c7d40d3bca186469002353a105ff564c12df23e3f0fd326a0e3c5d603be8713b190bd2b8b1eb377c8de0b5270e740576c1458495b991dedde254898d79c15c8f38d6deb5e09b9b12644eafca09731e0c6d77b27ef05a14bcd9304cbc5e707b0eaeb1bc8108c977757d8cb3e78cb337919ac92078432c7485031560658e5bdf6dc9f84323f7563fcc0b2dff94118c2f11c06b28f3d9ceb1c9b5e416967c6f01f243aa8fbea293f1615d680646c28cd5ddc685232ad0ed00311ec33df303ee5a14de8fff91fbc6c8aa1eb3e63b26fcdf160749bc697734acf859034efcca32a93832b1f4ce248f8adf875ac18edfd7162b6db822482e8cb5a27fb8736d02e1cfdb063aaf9e6dde904c65a57e01769e1d92a7971fa228425160dbf73ba8822520340a65820a18afddf09cb6ee42651b3ee4d37a1ed664f5b51c09f77648921247a4918fd22d09ea053ff6114225f698ef55cd578c36ff254a784bc6e96ddb502336be93954303dffa0b98f65a26bb5b5d84d476877ef6fd62af9ff61b94815b44b1598b126c5689796c4411ec154f9248a672236c9ceab2368c1e23a9bbddc1b57a09486570f01e677997c4fd0080fe47f9436e166c0393f532b8357fd6f790dbbd3a5f01c91d552da560b5682a9e98748b29155972d5c14dfe3c98fd6abac3753618df58c01b88923b121b507a40850e32bebdb55a122cd2fe3312731a310c890e5abce9fb5be6c9cd9f7c4bee09bf223640a63fa9e55e44ddcec0cc5c7a091824b4f911874e50593c315dad790897ba453166aa6d4e92e4cbe2b0f4aae0d7135f5ce0d8a9fcc1f5ef8c35afc137dd87799de6bd5fba39db21c2455a233970f318bf995283063b63bc8c21dbd581cf354dfcf979cda7bd28f7a0edf987639596ac7576632f5a477ff7aa43a88953a27d51c36a7b416a4a252d268bea8ce37c2564d9b69388ebec33bdf4d10b77af7593992f94903a9b71f451ae8db02b7aed9bf51234a6fe0075bfcef1bc84b90f9faf55a47645d66a4faa6f5e07c61555336f4b9957c7c2c1ef041801f17b45689a3bfff6675f6a93d874dd7c6b3d0318fcaaef76741ed8f3d9296ba2f650ab6a0b5de3e57fc3ff1ca0616b7679d12789cf81e9e087e927b8cea85fa8b8e9ecfddd5f907b99765ea20b0a4a711dd6a8b04f6e8ed18bf4a19f3d79b7388ea3a2ac183b2fb83728e7238057499d3844b51fee53be48a90f4a1a0fedfc11d8efc321f652e16c919ae67ec05055524443796a5c66e147574d674431d8202233183632200d09af5983f23316ba5cb239a689013e7fb42d8ee535b055290df7c2c526890a323083dc22403a88d6c869c93a3944662921accc01aa6c5bc2742ee564cfbc158bcb3b9aafd487604146c6cfdad8c6d2a477286969d82b89c7c099cd7a649e30e7ac21a0a3afdb32fc0c057e9a02b382cfb0a0579ecbe4ddaa2ea64cb8bdc9df5a6f2aee58cd8365ba629a69ab9e636decdf566e70340b70467521b8fe5a783b9926151b3a67d06474acae24388665202617871b8b5a351f5c7bcd2925e49fb488828c4b927240451427aeadd273863e35b569a87055b76dd30a2dd7769eaa857fd18e75655dfad213529991b03bdcc43d4091537441e778873be2925eabe93201538d3488f9ea246b5c9333d32c7155048dfd20fbdbc7e62a45892f811e8482cde262bbb06260cd52222eb6e34ae7b004fc425dd0f320d5b6707cd40322bd71cd3d7a933a6e387cb51db5d2062ec3be6911ddb20d71c42fb63aac4be3a6b7fda362c97a1a352af700ed5d1f8621dd5f193807bedf62c5a988b4f3a4b97578b6dafd4263305a6924510fe0d8d606a7f6e50317cbb0f47bd045fe02b8d346a37ca80fb2cb4a81ce839695342f5c52e397085100dd93ab9bc247171dd47cc75eb7ac2a4d3021a1a142b85fe202a7631b8ed3561a139082a1ea1a48fbd27b0bce160620d4eecf8c5ec77f0f8e07078d1e2bed2ede02fd43e5c546af3fee5efee003eddd3d453bd29e84074339448fbe23417cfe04efb3e7d5db3a6c177bfd4a56aea0c23a266dc2652dec4de760ce42f43f1db70c8149dcc61cf8420db0d4a6e445f2bd1b8cea6781520596211926484d70be798f27610cde742e5d085c2a5b5cb7be0cab7318fa0e1405bb4e2a37a0a69e978d3515e5187a9a196680b177a06eeff74a6dd88bddeb3860a6e3731615c35c3252741bc3a244280ff380eb30a3257d2a9a5a54e9d9e781eee0504068cefb8283e0cc8c7f6bfece1ec9ed0f1532ba2545c681f81265401b926c34461eb507d8cd74ff85414366866e553dad29ca37df66c05853bcb36cb9b4c2152850d82231e734cbd1380e8486352d4fe0caec0dd764c0d94793966388d6ccae12bd49eb763491b868aee659974409b1f0b012d690a32552e386acf7d2712eabc2392732c38b64010ce01b2bb5a1ed2553867714c970bcbd86fc34be2d66773fabbbfa81bebfce4e04669fefe99cfdd4b21380cb9791f64ade20096ddcd33cc01d196d1f8e04ca8c5ce906305d2bc82183b5dbf3404b55e6bff4f784e661a86a08857f127ec67800d115985b31272e92e4131bb31a209bdd436f53d4d0827c5cbf742245aa6efe3762fb234e0c1663c4300187d888d148ba58dac4a5fa86790d4bd8eeeb1f62a7b5dcce719fcf30ee74d508953d2b8bf5bb88f74b15353e9f0d0b4d73acb1362658cbeaf3fb312584815408e8a1e4e70dd10118747199db902b65706f0917d7c129f917c154bfc6f77b68ef89eb4e50097d0117003513bcd89eed6bec9b22ea2bb9d2bd23134fc88a5a5c6f1c2297d2ac58cdf5d78c0fccc83a3291751e9ab4f31781aba8d770a409c1cc981e2c5dd8f83f2bb3e444dbbba09753cbbb41e96ec4b34ebc7f82011f7384373015c1ff4420f6d7216be973ff4fbc3bdb135b102d5905503cc43e0fda0fffb23e17ff2381a7690fd20a67802ca911587254b754c9133b071825839894a5d881","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
