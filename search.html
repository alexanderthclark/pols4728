<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"83f434eed3b7c82a7188e8e5b4e8f379fc7ae29d07c0e13bd01a112996f79139d0e9c5bc5e59b43683c9c5ca45245edfd20e008e70ecaf6952a0762341fc3351b23a6759386d1f903f7eddbe7709f3393b7710daa2a69dd2e92e918be29a18968cf80033bd13f0236e41922bbf4883bebe38521923e25d0d0b57e1e5a305d28a0e7aa377a29f6ff96b8589c0fb5686e6dde15616cb6063fe3bac046f071c0b06da9d5098916684c7042987ad186ef1c846d7c571ce1e4b33b0a795c652efb3c065d0186fe358aa4344aef32ec96248e42d3fb22e840827f9fd19490250cc6d2c4e87b27e484d44153373ab915d81635a893e4f20956910847b67d56cd76312b6fb6f3174765c6867421e37e414f70c9abd6486bff12a2caf03edd38ad882588395b6df67c153044dc9656b0b8bd46b89ea71afaa75fa9286559a78a9c31799d6ac9b2640fcd49fd9102fc224355ef8fcc44b8a706522a2e6d56ceafac50014382626fdbc147fec1aa9eb925eeb46dfc68898e39079e9c40f164af9a9f8f46df89aa110cf396aed68cf3ce16965c0fad2cf7e7c50a05a3c057efde734e696659cbf7fd0435cefefec7ffb6a6d5084ab9e464476a3fbb7302940aaa8aaeacea611a23c606335f365d6333b1e393176f0afba6d140d3c5f90a84e9e2419cd3da5c275ac791566092d838597548d046b223ac8e4fc27bfc0b5efeb29793540408a169f2ed8ecb480eefda32d374c7128dba244fffa2db4ed2abe12f18e6038369dff41146b5440c81927c7a6133fd87b89aae85551599f2d70310969455367b8cacfea9961cba2e7a4801449245668f115c1a00ab846c823c07b426b0b7702b10475c526174f46849d4d2a52b43830cd12c27fa9c46832e6ebce46adfa8862f7764300f9c3fcb1e9f80054f8659c240434f5caa37e274c7691e6a141287fd044d98f17b879f93d10ca9ce1127ed2ea522de442cbd2c1badfa2223844dbc36e42e25782bbacb2b230bb49999d57e39dc9e59a9b17cdb1b2885a1c8166198f784be767abd810c85609c48863abf4e51e9ec05f08b24305612f4cee94a242990746c6ffff0e525c11c69986708de57f0c8f6fe3e6f17f367881f86cf8512ff96e06573475c5a9c79e1bf37bee8d4eafec0e0622555453421733e14d41ada8e754c655a3e6b9598038094c88c24e23668a18755f8d760b76b7e406e1407180fc1f83d7bedc1ae40d647dbb30a92c9061268d031f7842a32cf17b5ec0d111156020e3a4fb022277a56f10e2b14c7b709a44c6067eaf19b80fe18f8258dc7fb5a75c0eab89831e7c9049c5c2c6cce25098b68f8d1954833e3a73c3cc9e336a3bf17ed2da4b4c6d801c348dfa09032c62bc5acedcad7bfa33b4dbd0c499c29dcf86bcffe22e83f8206c91bf29702e6645f6e66636630578eeb707807fc8f85e7e46b205c17d0052436fa14bcbbe2317e9b358aaf6236c0a225f75325ab96419cc23c6848b9a7e91559e346406a6e86c521c70a1ab452fc0d8c90c87ac5124c8211ad192fa9543c1659660e01646c9f7cf80e2d18df70e0c1555048784baae4af87790c282475c41e7f049707330bc8e61a9fd7ea40caa47399a22a9a209e682c6b17774f40f8044e93f3455713a40da0f9ef54e94304d83d6d67b8ef10e1b6cef8299b61cf9b560e8ac9db42dcf9fbf50e712ac4c76406ba9d9cb255f368a49c1df3bf8de08e7318b72ee28bc237a692136208e5065452f1d7d293da7ebffdf3411819b993801f70e00098ad8a8da54d95882b68e2b82e8c41b31a9cd17b8f54a04bcb9f552a3af50548900a61c52132597d85cd616e1631d72b9e2a6094946a8f692a652c17be779992cb71560d33e8a9ab958c0ec962963ff77de25683c8da88d910845ff670335c02fceec648b9f05066244667b5a55c647b764ad13b6b5839839c3b9842b264159e583869ab624fc43c1e4947b5040085074f2e77a2d5b5da82ac60b38ea8ebe06ff0b541bdd8a74ddb610e65f6d862df2466af7adae0cb69bb80bcd0a73ab7902658551608519cc7e390dcf8635592929732d29be9a9ec35abd6a9e9cd17c49a455cbd10fa637d702267f6cdba21a23096fc86048097b0a80ef72e815ecdf585fc919d640d6505586a0c074e5585d3104741f2238a2dfdb8663ceb2234ec54d07af0fe01ad5e8a4cf468c4af20677d606b39ead85a05f133949a2588165c2fa265ae442d7f3b258758d85918739f5e57464553ede09a7984a1a536eb9e2121a50ed9c1010d1569d8186838756eda53e0d9da5c5b94909b8f91e7e03be382c87724776d56b1ea9dbeea1d098b6d8958658b0655484b41eefffccf5c1963d87582b3c15aa821cd874cb5c7139c5ad1c163da633ef2c2a3c840d73a84efcc12b0863e290c33fbfd78e832183b0c456192c1df3e26d1edb3677d80076cdacc54037fb88b1101fc4a503d1180cb1e192dff3536c571ed3cd5082919693b69abbdd0162ecea1810fd3f14af611abb25a3d71800f9680c05e611644909b1253c3f11ab5066dd7cde5f04f8436a435bde98761c7222266a6b8a0bd052a5ef9cf42bce4b2d0c031bb3aa068c473ede8ce0b19053875ec24f9607606d63f69840edab39e4ceb41e0f3c71ecac245def0128cae057abc83c94d14a0612989509f9c7bb564fc44f56b8e96d8cb4c6d3e9bafbfa0d956c8fca49f4ddfb194e33d60a4f459466eac03f65c7aa2ec63b311f9e23eae8e445c137c781b67a3ca12dcccf64275b79ebe9ef33d12ef140f9d56441c39044d1692cba6bcc0490c65e2228c6eed6952b1e5fdf5aee2964e8ece86e74ebf56db68cf0db3c45eb5f58574ad19e02714355a564ac4267cdfffeb2ae59bd42f0a54d1536e3347bf7e89ec9ffcfe69864101a41a6dee37466bb992c4e92bf1de6edcf61797e359a4de15a12f8bc64985f7f6fa8973842e3bba82ed11fc865aaf2df74442e1a4d88e90bf20c1f116e17c13c3ac36fd411b77321d9e3926fd3cc55f6edc21089d180466605ba569fe53467509c5b63ea1afd5b3d678f720530df92e215ac142d83c8008e734d0d3dafa2a5ca034107e2d8ad0f5327ee3023db04fbb58ccd4b78fad114ae276d8a429a2cb708a7858dbd91c06b8db98ed6cf575b2b4807d2580e7fae32f46147509b5868ce88aa903b92a7bb209166394fe62c72c282861b35d9e912788d358bdb68c256aca86ec471553da72badf33418cc7301b5ed3b8cbfaf700d225640068b9c0fea537bad16bfcaede0d58b4582c65e5ad83c20d568b4fac81e27feda2936be4cc243f2bb2384dc5de336306003e5cff9e656a908a545c8a4da299b1fec2436ab8e64e0fb5c7846084dec97c8f7b4762cb4be1c3642b65444ded795e01ddda9a656af76c3e8c4b8d6678b765f42f4ac25c50b4678d3c6ff31173ab9d3875a5761d51d815b214204d62fc4514efa96163207ef34fd493729f2a5dd7ae6a1d9e1bec49bd35e5f1d30a19a1251d4c78ec8db65409ddf3f4b44c72635296c2c105f302555c859294e114c4469b2af3dfdb746ef21167c1eca8a240e04f0ca9b66b4e5d002dc958e7c3cbfcac5b6a29e7a5f4f91d5c7019382f313711e9a54a96638b49af362673d296703464b7ca8a1a38af54447768faeb3477d626c3b3b2ec820ba684c12a8c6c38bd6a1858f3d1da1475c864ebd73f340c5a06a8d448f6cbff313f774bd8e77d80661f3f92e42ba2e46604ad4c670556cf7bf11c3686fc58460f916b582bd9e7f6e1ae3545abc96dc9744e77455bb51e44b266ba83d17df4fe7c002c1985a635e01570f0d9f4472af520d19fd6a43541711e501b629d8ac726219c5b265ddc58a76cd33a850f97dc6dc596650de1afd74402c73644cdac3fd3c8d8f0e2b5edcb898d3a926d6ac53d355b6712ebceb4fdefa68ccacd194adc0d60f936a84b2235f5bb29d13ce06702ac5c79dada0a39ccad1b892307c6cb556a0f91c4d810045584ee46662414aa6606692691e1e265138d69ca52fa7e1efdbb6080dd8bac7f582653d3faa6ff1872bac229a38fe56281211f063a95c4b1401a75f8b819b2b8ec36430aae801cb4ad9ae11cff438faf2821748e81a03deaa5642e29afa3b491bc2e7f347da355bfb7ed00858c812860ee3f2ec06425c529e05416b160cdbb6283b78542688e5b82580383f098f0e858258f5d73ce46531eaecc506fa477d2f8c37d5bec78f5201a14bd956c4ea91f38d5e2c4b15ddba3e8cddd21a2fb05ebb408b19f5ae745895956f2948ca6d1462d3d0669448b78679fc1251351a374f8a1c481976be0de815e4cce7ceb17e0d1bb4fa2747b41729bd2b08809f8ae526fdd72f2d1cd1b507efd9692817ab7c05e38b548f099aa359ae33983aa20666e2539265defb32fe37116a55dbc74c8910e975e0dfc9f0f729c6d985e5a6b4b9ab80af48984b0a92d3b403df5d88d2d6c5eb4a0405543f5ffdd76a577254b2302fd1ba188dbd858f821bab047597054b3a38b4ab02f029a894d58013cef41e45c1acc36974be3ce0f886b912b6aa44c5ffb7431afda7d20f5d25e9ee99a02cf5112a819e6e9fc7f8ed77ce1f3ce05dd757646463a3f528d7d5409098fc2892c83dc4998c051a7d0ed0883a851b2a796403c5cd8a21a20461026d75b2b94545c96038a60a97b0b494f774dae2b866490d20d31e91a86eb80413ba6f54da94cbda62896c72f93ba79645bc3b350aa0cd9863a20dd9044b5e73b044e467a5f6b9ba7c71503b402dd53ae94423cd36c14dc63e9cfa0b062ef62c2460af88aefa0fd35b2c4b09d0a7133445eeb5a8d795c9d4707294575ee7a97b403d4574856bd14249d2b714bf661a67ebbb931bfbbf59a098d52791617f00d80b9a800542c255927b7705d2c2069499e61c349aa60723f3effe3102ede5fbde44e706f89ff174914cc576d9b8743de97853fa66766f89852b79ee21c59fe016adad8fc38c5ce886edf5a64b3222658e1f382b5a02554769760c2199f3a28bc16eefa22be042f04d3cee987a31f816636a682697f761b9b5992bffd2cc39194517e7c3b0ede168d6dc1d42f2e5aab98eca6dc01a724430e43c82931f6a1bb373e789b3d604fc6e81f7c97fa8874d59561a76d23d4d017bd1d71fcc461aa60be0ed914daf3a5018609dd299051f49c7f12014a8c07da14cdc42df06bad73f1d5f2e99962fe3ac8a4d2569b19d5375c6619a2965b6346e9eb8ce7dfb1e42242367d39d45087b00a80ff043b10b784285379726ef96a1fd188105365a1f27abbd1c9d7e67395f4903e1a9080fbda9fa0368e5d76ccfbbe2f9761ce4b03c8cd9c7fef17a02858009ae493249008054a6d4e766ed235a6fdc5141453610f38f83927c68fd708f22950a37d0fd254d389fd13779a8b8caa691110e0b2efa7006d2737f2be69677955d868ed6033bd55578a73ac0196d467736406d3936a9fbd8fb6aebae36aece06da20d2ab0fc3298ee28b6fefa66a5c2a772aaddad76d36469fe6acf7a3e548fe15b85ab42baf3565843ced3f9264460c00539a573fc7c6cb93de8c20181a378a1011505346d2d758c241d9701a844d968446fda949c003c495fbe15505235a2427ddb4442f93f747be5b9111cf7c17328c581f63dca4ab3564728808294012130e0c70ee84cb2c64e44b2b0b57291fdb5a09359d332de9ac72bb499ed60ab845de25c9efb212867ac02e811ba7930be39c6b9da4a90603f8308ddd636f72b68f8d357365d8843fe521ad073ad90abcac3783a36a7abca2358be851768230b308b676f4a57cd26c965545186b196b8ab515a8628ca192e54de018469ba54777890c6fa83f466460dc7ba98e06d23d7056ff227d757ef80ff62c7462a2c2557e4317d63cac57a9f2de53bbd7372c21ef371a456b5bb835915fe5be343aafb12e6932b369c5273007cd3b4145a1c8f126c66114817242434b260dbd2b3439d181c645aaada6ff5ecfe008e07035d3e56b87dd368e1c1859f736355b91a776c24affc29715240be2592cdc52bab5101199e2602f1754f8f0304696181ba4031a4904fdaff97ab11d1364b648837afe8e15cef5d444379b9dbd68b3099e50fc7eac049c60208f9b5f37ae3e1a7674203c00257c7b9c94138d50692dd0c1e7211f44e2515b9f360c7b05903d4b87e6ee1ad7987611416bd60a6e5539a572382f5f21830ae64a8eb3eccd05bbc8889212dad0887f9b871c7df8a2061b0d8a797c8604d9551e7b11afcb1e49caad99c3d98725631609a46318e016c5e78829675a3ac6db1f7f90800c5ff9a956be0ce0acd7fc08c713ff223c0327cbee639e23f978769544067e8d9b9d605aec8a2658ef3669ad9b3faf2815956b8df467ce00bd5ede9d62b4d9342e27f034f669db5b7318fa5b2949ea64af1b82ba7dd8d120207b8b179149911b4e58da3da4164a4a4c22e0456042a28b6e9c36f508c838a337a19b744b20a7f91cd4b819e63168a25756de4e7925fa46b57089f570836981e3a06b20b20cd18f119a383ae4a6f379e9604b3b02b64fbcd1720b131ac6271149698fbfdfab36d380e7904fb9c03e47484f3513c772775f0fc50aad120b07eb51a57eccf2ad878410dc2bafd2ef9297d23722ee420ab95b13ad440c0268c50f8b99d7802e2d309d5eb11d27507e2ae0c75cd4d9e2cc8495a62bd1215049a00045b9d57b788ecd8e30b7a248de3f47e611fa649f1f1483c7b4c3dd98d4c64ac96211be97754b2eb1fe508b03016b767238e6183d3112e07799f10b029d6a640b8bf531b80790c708360d4ba56113a8e2a13456182cf7da74997d367bd0fbaf1f9855997fe92088deb5545692642c6bfd534470bfa9066086c49e66c882215ca75ae88bd5277ea979eeb911ff691db4bb0bd5959d931e1a6fcf66f99dc306992b9910f42aff4e7ce9cefc518b60aff530f6ce3ea0e5b62fdee0700531840c2be15221096fd4dfa05df28e18c16cfbd0dfbdd57b107bb309513ac359206d7ba900537ac98795eaa43efba45e267c1b4537142f6e989913f464f5aaf012ddf16527b9207258805f4f36fd98d90e77165e2ace2b942a5eb1660cfed6168b3554a7672ca9bef0a19463bbc9ba63b0d28cc141832c3e6b31279f181fc4028c5cb73e1691c2999a7bb84ec3d1abe9135de2407882281fd800fda6bd28c3e42d0fd413192392059b535ac8b8af09b10bec41c01a3e748a84df9626802b50dd070360b731750b52f5c4bff66dd6ab0fb45d168c7e52c1dac02d30986cc9ffd41c58b018d8a7fb2b28ae40eea7a96f7da8484a57c3045a0964d3129730af9d50b22ac748ddf04221278c28aa53a50c2cbe5c286ed93d4b6c4ca6b8094a2325763b73ff8a0d5457e9428c37eee5e4d0b8e9412d56976340da6a1441bd9866f40f3678375ddd57d4502503ceba16ed6ced3ad8bf72ce3a4fa99579384466e97bc9c8bd0dc58129ec96d9ddb03b6bea409542ff0746199a8d9dbf429c6816d8b71ba188eb306c65343bba89bdae7b17d6bfabdbdf9a2bad9ca68e81d1036f65a5f8bbf903d11243a1acafafecf9c8088f0862dd369dde4817c7a572ed8ba5f5b64abeddd17d0b31c169817537813fbe57991d84aa0bcfedfc35df299de23093e23442e4c29f4a0cedde0ffc1c471a8a670f2cea8bccc4e1d91d23ef941ec674f6ddb4e4707f71da4fd73dfb4b5c609e339a9c45678792db7121c42315da43c99fa82009b5b220c03b15fb257dba786a8d5a62ab9a246982407e31fdd0402973c3f37c220914784917e356629cfcccbf4d63bc0d122f01db7220da7e3f8b99d8f34ab2d69d33c9db5b22ee0e775aaac220233fc49aa47605b70f8d867484e3d063900fea47c7327df32155235ae69e7ab5d24116486551e38fd108690f33bcd416b0e88b415f382d33f095dc678896550111fa5449afd30220d30c99eb4569be1b242e53062a040b89ac238943a1f0013a5498b8ac741cf39a4c3cdb27ea28171db25758f59856661e32dc30ffcd43c1e3c183c978d0dbbbf1b57c9d683e5eb306fa91fb7c45781604ace49b0856f374c670e0912179473b073272c30068b956435e0c4bac1925f4451fb2762b8284c284f953dacd61033893fd7474773dd17ebbaeecadf45b46a493248670a6c08adf60760f2841584964f25bd847308d50596379ed88c2d49b9ed3f3e18447b210877f4e5132bd9c5cd98172e800245e3a5b6afdd24a4372b6bfc39b6085f931bd023c09ca989af17c85f3ccb1300252766fca40b0a12314ce4db688842d002130d4c1a84e8e3a560430e8a360bd7240e3102b9b48c8776cec7f3af8bfb791d3b237d9702caad085c1e3bfbefb80958c566f6649c3111a2fa4653003e211402f2793be3cec3cf5d19708361adbd38f323745126f04cf72ab4ac9d48b560e66842d7003b79514c2e629446fb1dc9154435c57535808c0c5556b4958b37fdb8b7eb14561d3b645ac52739fee06ed814b5d827e5861095474016942ef6a0bd2b23ac450d58f2aec6709ed98b2b319f25f04fef24d084630a5ccbfcef092e00df1f69d8adda037c5a03e4a93fc0cb304c68c151018615f6ab04f51c34d3fc049199fb54ae272710411872678a8374f42b8506c77210f91dbba68093ff4af311502b7b1f5aa25acab71c086d14ff84e79e8621c813135666b7b96a5811157f2cd943f1a5e64e52d132020471ec317e39f9f68a776d7216f754dcde858c36a9a5d1dbf40db27878f3445984f8373e88dbd41ee587397d89665d4a2b8ceb9218916c2e7d04cdc0349e09b424eadbc79a8e160b2c6b2bb97e2d7f0f93a4ea0677da9c769b312c91a56d6cdce5e89e63da5187000c585411b739edff935a19ce630e5d56ce51f8848a04d1a3863b6ee2ab5624a678e6c6bd30566d8625177e7cd0bf599ab1c7c80b64ef2efeef9dc5f5649aff2c3b4a7c9b0b0bc24a91c989d28bedaea94455bbf91fdc77e15cf712215835804dab0d01267c58e9687153423deabe1ca0f2cf2b74f16f5c278b9edae50977e61e362cac67a7c6841d4d9081b3614d56e1bd3b2f43b84dbe75f5752cbce1441aed3b74ec867569c97144c228eeabf113ea619431fb071fcdd82c65717527b9e5329bcd0bd0ea7cad99895a58172987fa9e7381762a6e2f00fe8106c81ae5cc3839453a5fbc3ca733fd3ac573c8d2a4e795089574a3d7d60684dd28867e6f9d3318d7b097e640299a5401f4454198d4ba27c6d6914094fb8834fd8303b84fbde0ea5c95269488e38d0dc6dc693f05bef3d99fc2fc523dbb9a8cbcf0a452d2b7a3923273d1b852633b02f759f9a9bab3bf78f1beb8b41ca67526c8a62c1c019bc147b39eb3172394758075651823370825fc4bda063fed86273f7fd5ead4db0d0fa377afcc905d413294b0e6f53dc1b2a0f240a0c35a05f1eb2b1da872c702a43c36c85d432fbfd33ed3a0aef5fbaa9d2f5a7c7a9df78511bd29d1e432760f8eebe5b1128c443eda5cce2e06f2fb550ed743ce4e50f588674f8a2ae22673db54592405a859b68c796115c6f7e2bdc2b6e3861de0f63029e88ce761169414826b26ca8fdaf5166b3f0f0638901f7ef4cd6504860e8775d1f7911f26b6489682f1eda07f4be091454e21a0969e04b4ba1cf2e4099555d6045392cb54b856c54212d65f87693f4a9c3219cc5722752229780abe4b9b22d205dc7f2d54d495779710918e7fb60ede6e44ae1ee7a3f5a4ccd508cf3ec6af47edcc9e7118d2b3ead9c74daf0c9650cd7d8a57b485126ff35ed42f0e6480ca9be02260c3b87351f5c7cf022eae62342e8236c311a192ae52a128088268a58192ff7889f618dceab9fcb5613eaf2f3c747bf6822ca2781ca376cf5195e20ad66796e61abba5a39304db25d5b8832e7e3966de5ae2e7a19488db83a3325a84eaf8b15f90e0abcd72aad61c3b9888878fc3e84f1ce5b13abb9fa2ca01dbae9a3731792cd44805471c3f779bf38252115c243a35467dc74e34489d2e5eae6f3c2c9cc89c7176ff3c481cafaa9b365020ddd310aafb328aeaa7d2fe965432829d0b488c32e08b3a91c0e7178fc6ad1c9314fd3b0648392a23daa5380a47ca3cc67e4d4ea6d66ca707b3fc05e04c5246642ab7817ec9c1d90cb2acca80fd22b8cf1a4d78c3463325c2614146e640348711ff5e1d6a852914b443eed0769f0e39bdfecb7612a65b9bc2d4d30e14b844da4e087ea5eb3274ee55d482b32c24a7f906bc89784e144e2a22388453de3efbdbea3707a94c5a359f7c6fe4e6833385e0abd8eef9595d996523e7c590455d363947b23b821df94d02165f4b13f461862aa8a2564fa052d7231f649f8c7d18bff760f0cadd454da733a54ae410d20e515c84ffcc99e7393983c49e9dd2bc61bd0a0bc49383e6dadd5af73b52dc875333f59c40b97755ecef9609b0e8cbb8e33e80c03c4a90f153323936e5da6741262547a15f3ae87e3cd7a55c8c3ba2d2f7641819b312bc13af5b786e94c04377f4cd80f45b6ec44276f48cdcd6058dfab265646ae527eadb0f97823421176cd5c54851e8592b0502c9af173c80a2ca572e5a308dff9500950307bf4ef910a5af9b5b1c2e3b1caedfa744e7f5164d472848bcf5427de2a4ad652c00956dee55c6d100d6892c97140507b86a6376d8ffff2df3960ead04c6ba0e3a22e6159f3c09baa5e8c75cec19b629c413b2baba56932d786c7358265265f5ed1a34db31f0e450458004c6574fd7605087a58dc08f5132252cfdeb89f7109d7957067e8614b0192b89bb68f20ee1d43e4d8fa557689690798a2e21248713a0727378111ff60d84a4fd045da1e9aa6cf1f8f1450aa862af910ee347c5394e9294b7ba65aa1859e1deed6224e01645d0f7e4f175d804e27ac87c1d5d8f95b82e032eed728f9994a90212bc1b3b2dfe5c72864dc2e2c482bfd1463be4d7fdd67bc501b383804b0f3a6161bc781098819676f5ce79ae1768782ab3c00d1a9afce04e4d281649b7d0d88805c4e5e51a13ac7d0b6fdf7c336df1790b67e130d799f459b928ddcb83d05b7772942f17c97c662b5b9bfe449a0bb899c384400384a3a4ccd3ad15089e8e7b11355cd27dcebe23a47ab9a1accc35bccb2fa67cdad7f6de57309cfca7673c679277568342a9f315cf19162eccdc9ec2e4bc8c965823b67fed6eec07edc8544ca442201ba5c80c1bc919a3d1d51fdc1c7358b9e94c90d282ff3ec86c9ac104e0554b7e13e9df5764e4cffcc0b99911a1df14b9b3a35cb4c44882c3c2feb620436dd365889209513e27cac46292c30a1869a680811f54c37940688311ad928d76f975f0031dd4604ac5424e83a97b013c0c798fb25006b17ee0a9eb9fe7091b4468ce7e6e609d51ae71cc38a861e358078508d22032e1b1c2f39102d70fb6c925ffca27ca392ebe13bb3e4e9f3b6503c3dcfaef2b06042a19de82695b3730acf9f30512af72cc4a83a196762ed1fa797f1089b513e1e7ce7e76d51c8eab56a75920488500f66dd470080f242e49c23612aa6f75e8d16d03a3a667b6f530a0e0878b86d9370c219daee54fa03ad1c7dc40592cbeaa5b04dfed8c72228494a30aa679ec108c29e94f7cadb19be900803da346089bd91b5bd1f263a4381e3c87074124ff39efd9879028a7737927cd679a2ce07fc5d3634873bb909760a5e95701ef81e6f2fb6d48911287129f63986fb173c5ad355ffc34e9f87b410e49a4af526abe7336cfe2f2440717ba37a14c6f21bb1534b53c32ae6d3ad6a7ca1097804702a94afe21fbfb3ae963e4f8dccffb43f0ab2b205a9f119e29bc56cacd0a86c99d3aac17ef40f4976eaea768ee1d337682357b05ff059a7068b9ea6d9f020e222e691c2673093507786c093629246c8bede47b287a6789368ae838ef10e5b6f97507757c9b9707b0b217136fc313d3b9de4cdc522d06f29962e7549b223ad4bb267601d19ceced959889e29bde1a2bdd249241a9762d462cb9f703b5b3bbc55aeeb7c9eb85735ee7934a62ab0f1bbc6cfcef23f78bdf7d05d7b187e9c2732c0be28ba61b06d7ceee1dfffed8e8c2d112629a643bc9da273e20afb97fc7bc4b058274064fab48fba77df498f6fc6db22857bf001bfe2fe89c43320ffae4c8b64a6558d8e949f5e145d6fc7b42c378a97f520b8624a7bfdb287593abd82b8fe3f27c9527de2e65f346c10fade0e9a477cb6512d0ac7128b8f18d8bb261ed6467173b7a0c52979fcb5a73a87e17d2938e9589befa7fea408d7fc4a91b2a9cc4ac38759ef2381cc050109fd5b55aca44201ccb046aafebf69281d048497f065c7d80d5519eb3e9a1b59e15349285ad294ede0b60dc7a30fde9337baf50f07e80152586ab2578c39b7371fafbb8905cf63016896a342daf8ba38f89a6dd79fe2aca43e02a78320953df15de201a2b58ce3e35b4743db8d1f6f18a60136a4c2ba96ed60965513f628d8addf309fb07c113370c882225691354dafef3e3730322c2ceb5d9799ec05b0ef73ad17b62a2755c1dcefc26575f2b03e1b78fd4f85aeec13536664421a7ba55803dd7fe3ca5ef30fa624546d266d9e882a0cb908b687d3efb12cea413e810b0870e5068e9c58e829e554f052c294b386a63c7c9ae3a4289f417f115ca0dff7852f28695ace07b39a68f4f00bdbf154ea11b9e90c2d8408ddb629f2e7de593468666a307e5a90b1614112e8381f45fc17baf04f7d441d42219f20f4670769225e440342c98a3c2d798ff0cf8d1ed36c2ae62ec1c9d827069df6eecc0a9b38cdf5fdb002a769c54d5b451a7ee62e4af96677538aba1a294d1ac54fe2bc25938d8a2fa0cc85da9abe87c4bd2998c3e3634128eb221f4176924e504bc54018fd3ecc97d88425d49f61fa24ee236b9e900ce4e281054adf30554c68e39bcf56a4f1efc40b7641913e172c00c05d2256b19fa49eaa55f566b6ded83cff72db094c6e55b236dae1f01ec12bb0a3a6142dca93fedbbc584fb475cfad7e17a8c7701f70d5de14ec8746b107a61092c73b4bebafb6e44fa7fb0600dee14af8c7b9b572b8b4d9b1f984306ecb59cb8118135b78a9a3fb1d927f81ae96b31ccb676d7e3a96490bd698bcbb7463b1f70ffbc29d426df5ca830dca991867cb286c32b11c79df0c31a5357438d00a532ce6186c30a2d6debec9b35c41f344aa3dbd0d01663c3bad837962e6e942336e22ec337cf0a828420a7ca6a3d19046ee80311b6b11f7000164ee7174b8ce61d6c1debb55ab3301d526cad59c4fecb21b0053b047d33178d59ca2693f104ccd9ce24eb89b346b810cf4431130657e90904123a9ce50966f7b3156b5f3e9ef8551d74fcca5953261eaf8ebf9c91f36805160a76f9927c9e2c4b12ea5e2312d3eda51b7e10bdbf6380828b137ad12d81932083016e57e6f5f7a261217bdc17f532f0c422d89b1c7e151d11d78b490a16435b2bcb66eccef145ccf0fd9c443664e51d93f849b82f2b5127fd419f3d027b48f888be1184d411e019529f5d3fd9edcd53b2abeb2fa5b808db956687ce4d8dd0d3279878464d4ba3be0ab46a18df91026c30ed0c57bdba7ee048fd709d2870b0d30e13f288841c3f480a8582da209bf638472a4c1befef443ceda70511a133712bcdad08733e16106ff8853806635645a77a551d95a067417ec5c89865907e3011f9a6a420888a3018116f2b7fabe90ffe8f37252321a605fc0681a46ea811a486323cb0d2bb140422b52eed2a45d985f7097b3e60b8cf9be58b9a6e5713ae442a3bfebe77d269c3e6e6f3c6bc2f7c756dd731c4f082e91f80ea7d1b1c061e4f80f28401c381f43013a42124e7404568d780c5bbea6d1c725c02b89feb725a8c87bc786a4b9ca5f40090b9a5d4e063f871eb12df95d9593f059ab111fcde6ec1c72fe4b07b4e8d0a5db8799a80c3efccb9310c31276dbf524680ec7f7bdc0e98c5de65f55250577cca8417f2c5bd4d728ff74c5b7ad6b121371fb547e261d0481a5bcb95b62cc176972693325f1512588b9935676eb8cae642fdb6dee8140b4c8cb579402c86af7013e376e7e3661b82fe42d4a387d98f4da5903ed3568376c4b5fc1c738c65c5fa7518680e86849104dcede115afddf384d9d8b8f20fca49085f810a5415fec1a5fa50154d2a5b3837ffac9e869f0a584379925f2b863b9029b9607a01f2f33fd558be08fa636e76f2339147d304e1e3061e2ff1acd10cece1d46a4bcb4dc56e1a2d7ceb54e34344842de54ca197006314cc150b5b04e462faf0f87598e0dd4e6e93cce535fc296fedae78c855d3fd5dfcf0ea3384965c58701e6df5432364c99524c8d9d3044de6ad94edf45053b7ac9cbc685258b1236095b946905e2d57d9b8bebd04dd8cae3371194eb48947283af369f69e2614e80c54b9cd9988f380ca85a2cf99f37cc8e7d8ba07abd1e71cbf64bdf36baa0675942705bbeace9039c2340cc5a13ee5ad31b96f5cfa7f9d779c4cc9e4a7ddfcbccf90fa6ceef020b5ee8d4e2859347be130cfb707706f6c34607c08619a97e88a5aa173502dc4f5622e346b80be8d753de2fb76ce731ef1234a9802ccd28ff756a251ad06d5d935dc96823104967ee247c8810806e2b0141091c31390b76f5a559d74dc000745fb9a7bbd54099b8271523329ecffea7abc4a42c68c44936fd325f9403dc764f070824656b9ad764d10591ff9e67590b18d208cccf8d5ef2bff7bb374933ecef6905836171f280942cdef450caf3e4c96535385a5200e864ca6bc9dd47728e73e344c655ce5e07a4877182c7fb55991d6fcdcb119aac245ea777dbc7c063e8efa71591952b347eeffccf9a29a89ad3d7f0bbebd8474431d9aa2fb81760d939965a771b83677fb9597f8f4930fdba756df2bf43d7bd18290eacb0ab9b3ed04faea52a2fa132105e6280a6e2c0cc4f51d0498a63853661ff5edaa4e811571efd079ee7d0a01c56d9041b59f5c3ff8a9df464730f4737083968ae53adb0d419e132137fb3ec49fc6af17c11a5df055faf6db8f9972948d491c334bd3351f7d5efffca591c187f433bf2a9f88fa298677b5af5d1806601dc2b72f3e3fa8c2e9a87dd6c9b4094d7563dee270747222efa3c0b79315a3455db79f33abdd1cd550df05fd9a6003ba76beb12557d18b5f0cd472967c649286d978779deb5e83cf88c5bbfb04608704bf520f5fb67388f4d6302b1762011bff1cd0b77d3f5d2a3158f1e134b42426ecf8350865f01738844c9b2c409c77c7709512e307c4b307e62b1377d671bffdf69d169a7fce5a6e6b10aae19399983e31ac1106c1ffd24bede926facffb2561165276039003fff7c1b2ef0d4647b8ca35c35e112de0737f646659bbda7c69351d7d4aa7cd249e45997d2d5cd30fd71f8649babfaf519353741fa6b6d4d852bcd1d81175ce78ca1aa739eac6abc64c468b5a8a5871adc58f8a26721dedca6292039ec6c765557e35b0c5d2491725d871867c78de8c47af052c78a9eee9da77dc0e38b8201e9b95786e9ff9b18ebdccd194108cdaaedb9be545c90e84206332c6481b160be429bfd4e94303863e9a9f4b0921ff46c9c38edcf21794e088314ff9a71dcab4c5d26ba3bbd2770c6e2b536c5821c24f6eadf231f74d86fd8bcacabf71125440a60f654e98a7eea42718f5bd492b5923c3c759cea2045b6ca547313b9938c27f1b462d92ed9eae96d4dd4c162bc3f98d9bf405fed3ab00a635015a3f60162b244c1c9d55d56fbd8ccdb838c08f9ae2366b5afdea7b92a80451c6984fb53768558ccb57e650439640b912a225bd60576eb7fa067190516c0b517adce58c6dd090d72d99bcc6daab86c7ce41e2929ebace4d7469eb2bad30456df326721236a4734706f1be387c177ae5f47cc3b4565ba30c6960da7b5bfa9177b9f68d454542e4dfb86dacd3dd32ca65aba6bfa551a55ce7c123066da49a2bb0915b594bd40fdca6598e6121b0dbb9a143fe8a4750c1048fb62058758644167bb143df1e2563267b67a083642c73a7e284c16dbbfc210abdf275d1b9e55222895146d3ceb7d1f22490c95a9acecc824740f38a7cf3a6212a2be4d4034b026096c65ce78d24a0412286fdc1757d2110f19585950e7143338c51f0448450894acd878a7582ebc54a27dd775865ec5ab46baba6bb1abcd8f6434258974cb3990f8330dc0e5b61f7c785922dd560856941ed574d97f0fb668ba1f0ffc743d749098d21e8b634b751313e5e581ba59d7bec3da0645b28a7a10991cc8693d70c98c5265d65d8dc5d315d287c656ae0ad54cb65ef58be0b275010e59d8e5e890e3b7f9192555a074ff9b97f60598fb3aadac7baf273af950533057334b09bcc8ea46c86019fe3d2a7093fa20af6309e496f6f40c2f05eb7d541236009c74ecd3ff622bf6a74200db54d8a5ffea79c49209e5f52a9dced445c27f31df61cc808d221e6d1ce17876ee025e0264888ade9df04d71399f12436aeba285512abd402b3b8ca207ccf718e2848ce7f4600252a5e749e329b2bdbedd26315023e4a7f3e42fca525005263af160087ec7c20537121ffd9142ebf546138b6a04876fd134458bef43db66778b064f734a15b73d463a0ea3a670c2ac5263171fee3348a24df7909492576b79378e5f654249c2ce009a69c0e2e5856e38de28971ab67d46580372dd62e13194d76e37de25c6e5476d474d1b3ac5054a9ea862a4828fb12201c973dd453ce21f4b14bbb631a52b0a0ba247553e1207383fc188c336ac667309d1a26aba5c6c28141a51a1de6dfb14e4bc1808afbc3250395ce1626593f62fb26f5f90441883a7561c88d39e82ae2e28fd3e129c251f689531c704c7741a368bc42b9dd45461a566c4f6825ad17362419898f5cbd0711d32225b7b9d89430a3f6c2740c3c15f31486f29c4ae8d20f30e4a074b5b4539a31db114b53684901e9cdabe4b32f35c88dbebc18d18e3d4e8ad6c71875c35544da6700e22d6baf28ecd90c62d226f861dcca062fa5a6e9ca6e84d83ce4b9d88ad2506661ad7ac2d26e46c0d60ef8b2f31f477be2e796b17540d689bb2b1ac62b294f1b0a839455a07670283e82180cf58d8cf5e95db0623c354ac8584fb964159869bcf84c24832dcaf7bdaee446d229df632c151ed0c566e228828f1008e4b347de21d9b9c9f2c83f5d7ba595f576a0042efdaa341091f4cfcc0c52baf5d649b5acd4df727010dcf4dab1298b4721bfa35660ce1864d870596275d2cd40e06ee92af10074ff3506baceceafb3a8bb336d0d3a450a3e1e93e24a438d164d713a5a2095abcc6940922f3cce6aa1ae1ca6d56042e7b77bee5b35c9ba52fdb938c9b2ae5a7a3c883cacb852da3ed31e0964ad56c54e98023fd158cf5dc366414bf88a222473935ec40ea9522df7b04d2a596616c6955ba7428529bbd98559d6f70d202288c7edc51ea350e6c7a585f04d2b868ba13eb930bc34ef44de28c7f1e0dda8ae7b81291f9398fcc80de56e2725d928d76f80145df0641804973d5be13366437adc84da86291cb02d64c8d8623a9a47be0d0e4ed2d2952b076ef124e11695bee142378990bcdc6152a00e066490744b99a43d986e232c97c9a61597ee363a26536737d2723738d38163aaefad0ae12327064f2c51ebdad0f7f60effa3daecc693910802ead5d235591cff497f3c235b1976b29ea913bb0eed807d24b1d187f2995264a69d161280e5056800ac3be25b03bf265c3897ad33f22f607fcc1d5dea6aab470d6939a632a86dbc483dd7c3e174525272259d1801a6184e33ad80a6c69f1bae542c07f563f2216ec1ea57381ef28ea901005b6d79ec502b28ed30c8d05fd7f7cd3f336fdc229d8be4d08b3fe782efff5d33032b712cc9d8bb2ebb4a268caeac6d6708e9c8264a60919fb9a35c37263873a25668a093924d4c191122f747b9c059f577c8acf21958bd02f49225c49b30864f3fd1650278ef3ee34c3da2daad76d0e8be48e617b1aca2b608d6ca616eedf291e158a944f5e641bc244be5e0d53bf52a2649b275d2019fd0afbfd4a3b74b0421ca49c0607c0f1ab64cd6f06206ddd170bd794c577a03c2845aee2b639ef796ab868b6e9bf1a7e85b62f87cb697f3d111e0184b790324eb0037307b0eb5372ef2f63b47ba1be24d8d65636b0e9b4029b7fe367990ce75a17c5176367105ddf3804238ba77a5de343573be8e89918a5bb57ad959da81123a4a3566771d813a9f7eb2ba9e2a7f6d0bfad46df25da8ed2a963b43cce53146283113ce500b379ccb38b7b640251fe12abcca381179db437fb22742aba557316fd1d3f13ebc74a727b1eb6fe36e0ffdd06b6d170ad773e2fb13ed22de9ef73cc8d732bfb7393eb1cbbb20aa1a2e1e798e12d2cedb1ff88ce9f9c39706153a5eb295c708e9f9aedaf805e0ca82007fa0d4aad753f2e093b285be84f468147c94fcfbb95a4148e59ccc001c429e46bda7d33892a96ceda5964716a5007276b49061b2b67c1a09a84fd67b4c8a7dd548a86bd7f53905e1247d1d449f98cd1bcda1643c1e8d2d4613609df8c7e8d92de97ea2ca65272a15041203f6dec943087087f378f77155b8e4ee763bdba232d564c4c30ee12c147085bd9d947c33447b90a21f09341d9df6f3c454e919af8ef31ae814a3d779e5cc8aba066098efd419b2ca516cec871b0a0d70965d831f6a88262b50455174dd355f686879ffd6f43f2d6f0f675b55dfa1e8ef820de1347005f549464ac7faa86a0a41704ff1c6c1017d1f21aed9186f019306926ced0d09b35f43a5b3b36367cdd5ea5158e909ee47bbd54077e645923006c207648596e0395df3bf04032556daaa31e1d64e61b9bb2735cbeb02adb5ca2e2a392edec1dd40a88cc523a3483db53cc430113846a903d71871cd3e4f4d59e5d7006462352b0461196798b1089864e93999f6dbb85b3a8a0d2faaf0ee1a0522a561bfd6e7c708e5db8eda734a040eaf1354fe8876b24107e7375a7a18ee6212c0e70ddab3bb7ff9fece6aad0761d92ea3b213c9e735517b1768eb24e786394a155a459dfc341c2e60e1d42c8b9c350971f3584026c834f9e850e7d95924c05bb42b5f149ae4960ea6fb837e5d0c4c3e3c1d0828f81f7c7086f1d6e4acfbeccad8b7116906d03cb76868af12c13fc323c78c2dc365aa550bbfe0b88ddda57eb1e4fd28f12ac176bb7b7dee2522b7606eebe9e482f5ef69289aa2c8299ad1bb6e7520bb3c7126b952dcbc3f948bf8e944c603f340271175a194fe379014f8166f1ee52e8eee23cbe5dd8f2660dcfe4f9ad73bb309f62574db49a9ae06a52bac2c364d8338dd551f191f57a98de1e3e2770c1e36433638bb4487dfb879cdc2e56a65349ed821e3c7e6e8a058ac02cc1e33dadd65c97f8d74a34867501e72f9513bb00ece8be5f98931c3f7a08ba3b844fb744b2bd810aa478431fdd097732f0d5d86bb4b51789468d67f0720702a4ec3ced0e823924cb1b343cd29336bd49f3cfb44a209751de2c61f7960c9c57bf8d3f48cbec60b4a19fec317cd9311ff2cc06bf4cc4b83f9498845f6500b993d1e9aac333a5afd4b5ef6be0b00d18ab832dcfecebcf9b90a9a9d183ef5322ab7a5a06fbb8c2fcb1741617b1e6f9a5a30aae83a15cb6916032418ed5bbfe566198d15933755fe3c2d1b4a52e84a65d9944d4ac826513603a0f36504261902f869797defe2fbd1b734c98592a42e97bf810b37a20b5202b370b288a23b4d705c4860efdc2d69a19bb70c381fae08ac10d6ae48daee4757cf2c515473c3d65bfe2af886945b0d39d94b5d0a512c0b75fcd1c685a8a699ce6ab5371277643bf1357c6881c938588786ed9a0d370dca9d308a952331eacc6fb58ab2144b92563821e47080f03761afffa3a72e6ec33abefe3fa5085cd8914cce112453d34030ad6f0521a95c39f0ea0b5792680caa878861b4d12874d5185262fd79bf984b1cb654d1bfff192fdfe1a8f64aea396ac0e45ec9fd56718791d22884ec14f1f070bd42b729fe9c6b3ec88da0785bcc9f65b6fa6ef86ce6b906ef5c5a9710e8159e6c4642bdfff8db6ba473e6051ec94ae2e161de4ea13d4b2788d05b5bf143d4ab4688935e619b4b74796a4757f5e3b4f6aa1d652e1e456c4bb6bcbf5daaaf0a43e7f1fab456635fcb39ce4b2aa4246c6fbd3cf20eb4e2dd06de945c40ed2c81d30de00000def97b3be6a7550f9b0921d30e61f42675e854e9bb37f2b0afb1f8186b30b8679543272d81f60cc4605b3efd886808776ba84b8a179550a0488c2d1f0d8994afee942b810477be709c26b227ce93c4f993b1667289851adfe07f7375968b481d30c4d8bc256f6c64a8576e74e568d06fbd32282a6e5f809d7a8d1b4c878dfe743df35e61ba44ea3b3555aba5a52d3b8fd99aab20b785076abfe2a290adb87bc38837413ed240c609f956dd314a0765bdab2ee31625d922cfbeb6cf6f37a08bd964db5976fb35755aba49fbb054c2ac514f819f6e95c4fa6516c92b96225f618087fd00b0b4990d4a953b394cda3485992d03b0387133c7391ebd0adb267b4b365c0460a1045788806848956e6c9f13cfd415843347fa1aebf73bdc5665de8b3f3b708008eea4fb1fda9a6929dbbb37b2db257a42e931f568972da61d6983039ab64af22bd49766b88afb7dadbb95714bd8c042398ce3c7ee808c74086c3773dad8d1b53b4af4943d20d64e3dd630bf2dbc0ef6bc3281053882a91aab1","isRememberEnabled":true,"rememberDurationInDays":120,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
