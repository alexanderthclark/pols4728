<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"f8d20590a3e15a7bbce5c7ddf938dec128732533ea8a08173e2281aa72b83d5394e74f2a3207770c398d4cdab697eeda6e703a29ce4468cc62826f27d0cb34b98cd2f4c180899b1debd6bbea62f751007c989f4b2175453b945e6416c29b7ddee63ffa6461ee15aa23c5903bf27384af0e37e85bd836e228b4f38df0171b99965ff7ba1126c48b3ce655604bd871bfe24bc646bdeadfbb108777671723a11a94008aecb2d1f18e62e8f999166c33cdb0000bebd8ad6e4fcca29f90abb7cfcb42823790e5f9a9d588f6e14c27a55a86b26ad7d0889c30ab8b07da13a60fefbe031849afbf629577a7be80c04e548e1b68185159b2c29eeb05b61100e6f32499120e20d3a6ce9ef2045c13aa74ce7c52c2b09ad77f9f0401c6f6eea9a9232b308cb8e7a2a3eb848d842fa00a996fdb585534135a869fce219fd7026dd1e3e372aa4d4973ad97a3921e95c0bb9d99c2c06f4360a29e22e57f6ad7f0be85d03f23bb89db3fdd937b87a083d381838246edfac791a5e902b41ff9974df0a5b11369785650dad62759fc0c97209b6f49ce45b910d4a99a0c5ad647b69ca0cfdf220ae5097a4f3ec85be864735536267d8403050209e8ea127a81cbfaa3fe76962be07d7de6401c1dfe9b284a06ba47f707c9f2488911cc586efd2f9fef77de70c7d174388391e3428021eb2b8907783166fe004c30d4b0dc3045eedbeefb19281d0fcc5e6c28f269ae1d24f387ac05ca7307314be3756af1684a05804e48ca84de70546d0c3b3b75c977370c9504fa808dfdfec8c2f3a4ef3864bd7dd3846491a0f586a5d3f15b6c01ebbc3995fc9f956e8bfb0f0701fffeba5340e25f34ec89c50fa273bd7c1e9be9acff3d0789b19dffeaa05043c10567189af04083ba1323851983c33841e1d2f9444da6a848fb7e78f2f044bf0200a202b481f01c634bd1708c537ab664b989a51e7e6d0a136c030eb22104759a82133b87a5d71aecea8a4ea8a583b810a462d420a833461670b044637ae1bbb1f238c3551f5ec860f8b1dc5257058a068df6f5a1d2702a1fefc33841fc2e3eaf92ef3cd44fec672e4b14d9363d29dc1f397fa9ba3347cc1ebac1bae934f73cffe9944121aed19c4e313d7a8ea92745fbbf525dc7e2f56a086e71f2b1b0ed5e2f7b7187282e0943fef3f76e0704e0756c850329ff22e17045830d82280b17bff6c0006256a37ce86c5a57b3dfb16107668a23f9491bcbbdd4b20428c8825f566e5c5dde442ab37b5be0f80376577d0687faf77a4a011b6c0ce0fb3b3adc8fc7aa5df0c1e91b8fa3016496dc6c6f2ddb0cdf14e5fed845cb316c47c98874083116585f412468dd29c92861bed34003c97e8dd19f282b872755cf7e6646ce33ff0428214e2adcc6de084e06aecf8cfa629e642a8049cb422fbc914a51c769716d154ffcba7ee13f070959af792a94fc57e06b309213883dcc4b8b9ece5c53c6c14998924c6a0bbe733e0cd96a3d0e7127204d913184d54d0d1701350c0b2c5488c79b5e4da041fe8e64e3bb32468e686f72bc60a8fc5a60d1f5ab31428d0a5116b826474f039e4eabcd18d50ec901cca48acadfd946012238c18d9aac0bc14ffce61bd3606d083004727e2bb0990c4c6047d8e2f6385d18fbb146a86927c87a665861a095c6fef6ec295266badf83dfbf5aa541137eadcfd5b2623adca24de067b42e1d1413e12de397ec58a394a7a47221232185b7b3d20634ad31c9278f939f19e455b8903f030dabb8fada88fb35c0df3cf7dacb465c348646685494fc02c1c303782d62f19ddc037c37ff4fe3e2d38fc5628a91d963e50d3e92d85b01db4098f380333b9e3aa57ba84c38ee5e8515bdc6eb8165cda02db2eee611f8a2600814f9eb97966ed5fff02ddcd4f60d4f8f0a1d6bf9a9361e3d70ace74edcc34926ff1a543f9cfec5784f46dc39aa14149a376e70c6bcdbd40a7245d1eb38d572a1ecc9eed2317ccf64ede1b15d9dd23910d497ce39f6ad68668d28add3ad727cf742ea7afed3b461c0430c9d45a1ef34250efd817699ef479068f105b297722fcfee49725c02903045f461aa763f7364a983951ec58035d2823b3a8e322cef7d486994041edc08183305d9824ccc4d1ab8928b65068de985d332cd4f97976923370d52204d4f0574809640172b4f317c3174e331ae952487ce38ecf3800728bfdd4ddb0fa890f9289492a2169279617c892c6c535ca8a2b047fb5bffbbcfdf2e471e2be7f7e5f85159b646305b8986d260f86b9a2b1bcba67fea49c9982f863e55b036e814721626ad5e3ef8ad4962f3e4e2fd93f59dde0bdd1b6c6c2de2a49c204fe79644a80426277eed7d0572a68086922f29dffa8eaa96e14772ad26c98814cfb02345fe9e63ce0bbbb617eb03c86465b5c9f1c86bec52a287f7c4586257a3f9fd7c644c17aee81555c3304fcfe6e8c847f99d34810bd438585f62c4b86408505be03b263d899d297e0ce007c8ec9cbe74fec9e85a0ac4f1f38ddc066f430badb2ba32ebb0752911c85418dcc67aec024152a575fcf983202576c95f9ef89b3de68a399ec834d34f4bbb123de23afbef3565d3d1abccfd90469cb283ef4b681c0feeb5a24812b1be5719e91cc820f090d2cb7a42ec7c951b49ac5e1e73ad72e3d30e00ee1204979a8406c5d1f76d14f12c44311979e73f24c1cf02e3505dbf06204ee27dcde393406454900ccb8b0754ce938ed239b73a43e34d4c5d4995e89aa5f1b37c44c3f535e8c1aa9c4d2804016ae7ebea7edb909940b539931cdf5563bf4ca991a6cbcf7603c756716eef4174a0adb293869e8a2eb5a8caafa2192a69ee50506114c40c642a25d050484b5c5059747b8a6cea56c77b71c04f6b9a9ee557cceda4ebabce486b0ffb4d77579b16d062ee874cf874b5a00ff059731b0c0927b77bf7e47acdd12fb4c6418a494693102fb28a5b7f4ddea7c08dfd9932c77a94ebd70d5682053247f6fba45853bd182cbe17a17c4fa0d5f8cc758d27cacd9ce553fb72a2a94327a8325f8770f2bf3eb2c95b75acd211000501c12971ae1090ebe29b779dc748ade7469bf3096ac6a08cbc28a7cf1f23030fe4dfc4ed53df669b12264d7af34f095c277e94bd8342a06537a283d2c990daebf7f10d407ba1dd08e7db082d660d2e7a203102e0b790368281c11afb95bb4db792910a5450dde346f677c7d149cb329723a3278f3ac42e1eb1ab4f1f013927f8069361822830730c44929c8d14f4a3393af9f7b86c11ef71ae88552db9d62a1a1b7de734248396b2765b0ef93835817f7578744a2a9d2898e4d409f18b699e9a4b051d3de4abb06c491db63bc872d6c9dcf737704f9dfb5e2c9c5029494325e1a97e280cb9e4f03d42ea33cc8b1932f591e2aa13e7148b4281a12a78438d0d066aa52c696dbf8022be6ce63340a703d4b8857482375eff5f5a140ea429081a221875d9a1d3bbb66690e53e2d3409ceecee9b0c0f012eb464c0beabfa60f1748bc1e1a7cc0f68901f3bb7c15a1ecd9478f0cb26773d7b930715c7a25d799e11946d8e3c43e714db80958979ab18429f9e4c0e0547b7deb9eeca5d25490853a4aabe2b8f6a00ae23fc884ef8256425f4b1a5897d19a214e6eac77988c08cf35b90394fda513ad6e17d5eebfe3738894aad09c021bbf5486d2f907170b869545adfd9a5e87c21616caaf2f98d81347343b21e72b244b1f8c96ec3558af00ec3e7576e4cf0f81155b32161a640e3f8339a457e6d329ed473dfea1481863d9c71cc285f9fcfbf321ac79d335cbc50b39b43a6c9f74ba077548284be26b85aa06034554d3dbec1adac76c640d94ec2b9472fcb0ff69f1c75c0c5a6a90cf1618b9d16a7e0f42b6aacb26de0cd587b0a46995b6a81d3762754afa78d81265974ef2025ba774fa06feaf87575b08ce6debf576f8eb16219e7d45d5255c398ed21a7a6ce34c5c3164915ce9ff6ec8c2d64c41c46522aac56ca17a757a1d3dcc6988bba3a11482cc50629810faf3143610eba66dc5341a4e1048314ffe42a89bb0a0ffe6b1e3bbe79e9bb797f8c43cebb8b93d345dd509dbfa664d397484c67e85c2f4776cc08958c74b20e5edfcadeb59f498f5b1631d91b4051a3c73a012f3e3f8bd1c9aafd7508a5ada2910dbf636f0013b140d337c5bb97036f732be8cd41aa4fb0a746a4f948584df6e268a76c6453133796a65f4d25eb63f17c46879cf9f815e071057ace62b529b2ebcc721be958d72c963cb8e74a131809691f4ee40e425561d0a743e162fff430465df00b9de8667c15bc83db7cb02a9f7c215cc32985059b9bf53dad6d7719f3d5c0239c25786f97861694b0d6dacd51c89e561febac34498560435bc13970b4507c3798ef9af5185d93ec73a46755886c67179346d152eb2e6a1ab2a0a1ac8736901fdb2b33c0366921b90d14a55916a35a3b28fb5772206f176b157b89f13008742ea0b8feddfa9ab6c5a7b993c6b2113aa47508a50ef705565570b64a53358a35db0eeec1d42032a9cbc53502a22b6177c5f991c9ff8f43a23d96f366d1c6630f1763c1b2588be9e501d9de6990fad24d563602c6b0ef13fb8484a515db331bea2e01266a271793b17342aba3731a96bd74a463ae478c7b0204600d1f38102e263cf49dd860e8a1bd123d956ddb948d537bd3bcc87a9e9a83224007928b73a1b7e4c4d5a3c7f0a024c3a5796effe14c17a78ee1c0b6787ddbb6fc5fcd810f76f372f95aa8a93dab03d3bd026e70c169d932952373209867910bc469260dd22c7e1b2d28da147ad74caaf34efbce5dd040f44363eb039d6bea9e68cc7f6dc9c4515b436ab3dc53f963fd60ddc0bbd666f2ac389b120a668b52b61f3b2b7289a5ca709368145d030af3e78060389dce8430b2279d8940b23a0a8aa6879b6c5a8e06a57a1ab3860002218f8f3414679c4e77b40da23b01c0f0b2f13803c5343e3e1adbc52b96b2d8dcd4514cd24643c2bb439e5e13f939a65381b81e515ae42d2d6a8dbc67dd4801c1c37df6bd6bb5119a7dca66f8017eace88714fdccdca9ce0b495b01adf8d985399102b22eabddd39277931ae21187475999f520e51a7543921bc17b24ef88a8cde772a7ab259ea29e1ae6063c450ff740290f42844d51909427c849d7215b7163bd84ccafa9a7a7feed181f33646b31cb126242e2b7215fa0fff7edc502a4b6378cb93e12f52e60cd0169da047527e25a2e27e4ae0fceac1daee2f76f4d74131586cf37bcfe61fc11385e24b129ba04acbf17f4e6ae9e7779b63f0f92a435dd50928f30734b7aa1e75afbc77ed3876cfa389dc502d06deaa8052a84ca2b7c957d0bbe0a11d1656e5260b9b96a952ea0efdc062877b37f913eb18dbe2c6be3dad6715d5d86e33b1527d2de8cd39e6d9a3209626b5e5136d8413144fd020c9a793bfb6024e6f34ec93068b4a431f0c012d23c895ccc492233755d3911e4179a6f3ce65753597387994c69e3551b4b647e262bcdf095b6c384d2812d35ee15d9a5b7c412c2ed52fd6fa3e51a029b536a37e0ff48bef3abd9e96d3bbdeefd0f681f68480c54d59c1b63365f44a354372aef05dfa93d42f97c6b9926cd3c8f7844cf8c6403d41e817ffb48c5e0c909ee24e06fcaa8d365b2379f353ec1d77112b1c109db2e4b1e41c40dbe83c8711ba3f1a1b65dc39130e3e06ce352be9cf61e24f166269d93eb92df6e97ac7573d821afe13f99aeb773d255c5f59921a5e149aafd4996e9b94a220c73cb5a3e3ac5c34a4f9d539bc6ec3667c9ea72e09acaa7a0a9a2925cf7743f814fe0559353a894e23d7f5d0bee0623126671ea2aa9223b96c6cd9e6cd5bd33487d8dffe518d87ef91ae1165cd660ced7d4e6cfaffe50e02a8283f49d227594ecdf1a6dad148b3b3ded2a03e3c1acc87e710ebf914d302e1e2e5434ac3d442daf7acab2c4936f13fcb1efe93eaed255d06502c2f5b2ac9d16111e2897065272694a8f3e5c339e57d18efe05346418019d877f2ac4b513d9bd9e809b12452d56f37e1e24861985d4383400bf529983ef21bda4efddfbd9d5f62d3a4aadb3e03f4ed3279d65f39571964fe0514312d263dbbb7c1dce7f6262ea11e707334413c51dcbac76d6a328f10468a813f4730fd89dfb9142f75c36f1aaec3af11e344b262ddfd6f319fdd202296c07ed1b5261265cfc2782198baa90cd5192680cfdc1e8d2a3c470df4d154e8f938b7415aa99e8dc7332a55f9c2c7e3d3bb1bbf112ac1edea2d2f68d08aa54a696453cea632f359ac988657d148e4ff6ec75069a9e60698148b335b7c54a6b019d447cd677cba9f9d867debdff3e87d35609b59e96b89c216c28816f3e55f0cbe5d4059bedfc37b7c544bc284b304e008ffe0bd3bc838114a1c205a4935e7f7cee7ec51132144fb990b5b9252f14dae5bb241fc6609c514ff364c19cd040e2faf14476759b41d705754a0cf738c745b8e0bbf49f5ae87ac5ae612b730f1fa8a20745ac955dbad0ba21ce84064abc2f94924763d7b14ff8130bad92e86cfd9ca9daf5c84f8ad2fd2bf2adcdca927af6264cbdfa82c407b9e67dce81fd36ce8ba4264e266c135a6e3793e77eb44cfc41a56c982bf9dc6a1bfb161d965958f9ea78516c056fe53c67915368a65d4f80845c3500f92739ef5ebe7bd608b4fb3bfea8b687871087c13ce2a91b98ab826fb3fdc3103bb3589df995530f47ad16e969cfda151dfa9c2aaa4d11a0ce8cbbb26a4d5c3376322c6a4eb9b3f9a85598d23c7de6a99aa6871ccac7a880936919261a9fddd172a74c8c1ff5a9c1cad1fcc7e1589717b2dbbd3ea300ce9db915d6d46263f3a0d694cb9e35609308cbee3c3e95ded9c45c6212e8da967a63d76e00485ca9878cb72e6e81db0e885f21fcf1de61d045b2100f5e2cdb17e380b019f7ca3e7f2f2e1e4dbab4ada2231ebf9986b24374af553870b544d695e49d676063948e3595ce3ab6ee4b18202d62756aae733e9013a25d68132c93fcc4480b06bb68a9a6ec20c220add688cb887af58f67a25b9d7629b068fb96755e4d9659b857e828cf0896f90613e870052159a6cf72b88e6a24e2ec16d58141e8e02a679cde28bd942da84aa8fb66ab147edf74a98d4b24d392bd17e0397425df9accd845f73009c83513350b374765188765b440e888ce267f84618f3650fbc79477fecccc697fa383c706433633e4e40e1d1271be289474ffffebfead05557e0f48b1d6f9c94812fc54891249f1bb17b0e8532c2e8a0038620a0e510eb3296c6f4559de68daa747c899bec6cc2a9e1e16f23683b705e841cf2987203f32a93c73b43493865f01e5142ef2c72c2757092da7f43c3b12498cd3a63898287777e744e2c19a5663382930bc3f0d997e2ad93c5a2a03cee16cfe038014296fbd7eb568368b91a64036e8c2982801cd40a8f86a5c79a93909c319ff66132b79188428c43983c26f8e515c804eafcc30575de19fd3fbbc3c84657f3134c6436d0d04ae9977f03d2eb4f0359344f652f8bc49f0685410362cdce27dcf10a9ceb5bc619f35ce9b1180e2a66c4491c7ed5382dc61a8395922879b798b67852dc56fd02f6b5985e22dab344583d3d5333db65e51c117f089508306fde9b4c2ede9b49c4ce8cfcc16bb245b54e79d7f5fa7b3625d3847a326dd74eaea326256fff44b8baa33d783a71813eb400611b23dd624973abd62be9afb706459d0fb3ee4ba82a1a79e1c110320c08e8a4e21f659e793544b4aba83904882befc650461b731c27dce34c92b3001302049c512d7a90f12ac78352ead51b280f93b3b0f0fd54769cde9c0b23b57a3333dd530414fdaea83143398d957b94a305506c38c9ff44a87847913a74a8526c2b7eeb6577496684141687c56a42315f9d500fd6f1ed74beb6e873b819c7307d2cd1b030fe3d1ac1c967fa5dc4ce062f8cf94c6201c5c29310790f0f740a140f793b226f483f389a5fcead7caf70fb43eb15d3d02340b14189fc03accadb737d3c2e78ff69fc6f3b66a2094e38912e3cc8805e1f55fde5e4f6272f42f69b49b2a63871a44927726ae82fabe2a772a2f0f94eecaed6f46fa99068cedcd54fb198b3161357075a52975985983a9a3f155059324e32309e6d17a176791146710133402f726a69d85687a54def8f85d641ebbd154e16154e7655cc61ad9cafec4af4cb9f7e105d8e1f87b310efb0e14cfcea4b5be525cc9b3dac73fb353fdd0211b81875b665918637e58542ff4db37c7b87df6e4361c9a07a940985041247719be9f1250b5b90af3265faf5a4de9e9f6822c20090c8c69af2b8d35c1ab3fd62330d456467edae4a5deb77f849d492118c0d99cc3298743e4f97e42d478200a063858795a41272c3482933cae3ecfe5af7276d4732c4559fde71b97ef867d8d55b45693a43b0f49d0ddf72366d11ac5e154002cceac749acaf0ec0e31ed5c85254273f4942bb02067fd64b97d67e8161147801a019603e42bb2224bae4cb791228c9d89b01817396566b0965906a26ee861becbe9b03f949fe09878248ecb08c8d131c09c8fbc39a84d543d2c8ed45a9ac89004772f9c1ca642275621c3a957e54c9c822561a89870b071b887ba27c45791589d45a82a2573ee6cb1b401dac07c220b0c1c6795a2b886d97f5914e06980d251e3efb10010abb2c5433649a6c5730711207c3f3b912783060dcc60bae76cfc8f604a664ce90e831f3ccfb1e602e9ac56a7774aa2492d9445e2b34ebadd04debe34a6f37ceb6137c6fcc642f8a9de87063e93593a8a21c0d1668a564be7bd36ff03b8fa7051544320bbed4383f2a22789f1d7f55f1dfe61ae3246138d99ff06a6703925c44c9c57248dd9f4c6b2e2345873899ada01629495027872a8685836a1722a0f2a7cfd8f61fd263aafae2293aa614fbbb87cbe7c692bf633768767bad0c0fe1a5e352394ac987b192940564814d3125debf9582bf4de8d438cc67230f056499d570cfb89a96052935a4b9c6f24fb0420e2d7d4ffef5077ead00b52dcf4d1db7aaf3c60d9ea9c32649a2377f75b4a2339da97da5f49d9524669cc2d56e5fbccd61299d4ac75c5ba626038c734ce1f9b79258cb47ac4557c74a28a758b8c33139a9e8f57c9745179610c4f1b073e2cb877fa6fde8fe32851d4cc8662d5c7665d51e55147322c1799289a5f5a7747aeaf0de91bfde7f82580bb52dd0de747b6d8d3c15ea67b7b15446548e9235bf80a165e9540076cbbd683f2ad142096e2cc4e374bd3d14c2b08fe27f5a82986dba2b4047c55ec76a4fc618142108718018506582caecd9999a8d3c00d744973ed7d0826c8333ed01f0af9a6e925c16e5cc8e6fd4eda0d6921d7ed5650d428c646b0754105c80a191751017bc79684c711e5ae26574f15b1a053085bf2ac1085b86a8b7104d53be6b6b3feb2d5e12782d4c6d75895ceb0b4b8b96488fbbd72cba0e440a5d04669187c8eb4edd40124d0fc92468bfb14b72cf4601b7ee35ec2f325bbe33d80391484a0dbcef3bd948aac8b850fde693e4e9d9dabd2ad55171178c6572dfe74ec01a65998dec2fe3aefd9d296e0db509f08b539f64fc31345bac28d7b3c7045f8c9d7e31de7db75021648183e9c6377571d6ad314f993a225d9a2ce6e908bdce7504d2ce4eb225fd60751e873d9d5cb0e27ed45589f458b7d08786cbb5e3e1fdec6fcd6462bf01ca9d2bc28e14754a35f8ec8c27faa21cb31827c019d37fbf2ef8524dff404e8846a44a1ae63cb40ff2b54131b9ac809eefcb100069a9ae6de66324a6471f8ab8dbfa8c83ab38640e8df5b9f304d962b169aea53ff451bbcbfae0c4042fab0a420d5797985a800bc289db95885a549f28ef00f76813f4ec667b41f7c7c5d18fd5d4e283a87cb92437a18a25cc6f6f0c23adde8748842e655eaeecc5c2d16f67a682180b18aedcebc2a28e6121bc67d609f3fcfeab9ad681d619c26c101616eb7ff99c2e99d88046e25b94d16510ba62e9d4aacededc2857b7806eba442c474200c464ba21a3029ba2b5dc6241b55adbc6aa5659c4fd673d768560e3933a8353ee7ad60735eb87668f75b2ef27150aa8ee95af44654bae61091b09084f6ee6169c004a7c65f4a58200f8c54524ce8c097210d6ee28c40f2e29c6959ece33786c48ee53fc89b97fb444544c7783df42595a5c9717c1eee7252d19d6435e6ba7ff31f2174f4f25731fbc8f78656a9f32d1ab95d345d6326269f824c478929827b17e0efc9f179857546c830b8a2d52006b6b4aade34dd57e12a0fa7504b700f5db0d48343f388c67204612cc6e8186e8e0c31d9475b66db9f660dbbc797d6b31b3f47feda3c28b438bcef5cc37e15243acf314c1807cbd4c7e66556db08854e2f980cb29295c862680767096429ce763ae39177cd76f4335e7713b002a494f2266f09f9bfbc8399712870c8793e0baaf6970840fd1db4655fc0d136c57e9a2bffba9fe016af24efd28bd77ffb26df84cb4129e2d52ec9d02aff1f0444f31a591b4fb37188f412e7071b021f06137dc503a4eb8ed1dc074a2e53d46ca668ab49abb77b0af994338e050997a9b03f00c9068c0e7d3a6f5c72a88be56774c52dd9d3a7fbf52b59b7f119fb1a7a8d93e8eb66c1aba77db0d9a8031dc6ec5028f44277399a876038954fe749eb8b226d78153dee02b9684f5227f1d304d4280b581ef40e06bdbfabc31ea62cfb7811285d9516be388f5c0d1c08ee25b4424f39b1bd85818e8790e750858d6be0cbfe62fd6ec6d50601436f1c1daf0013e073f634e3b7a98bd2d7248de4bc4d189f92f1416acdb028a5110044243d8124cfb265a5e58860a3821a0c8fd394f7f8aa8d5d618dc2c27979d109e51a3ff2ffaa99fdaf264b943b6550c58eb78f14d0f939a0a00f71468079a4cdb98003450aa5806b9faa55a03e64993082be0071d551d8d00f5d802f4423c3caf1b0761c11fb0b532872a37200a2be00c397e8484de85b585257b0f296d5a3c83918fc515c8d8dd55fe0dc36675a2df5f8e1ca8568ddc2b316abbf7bb81bf55f55f5946a6b440d212cdaf01d6d744fde4742665599a72a9d27fd29502da93f80bbd236ac029bb7976619dea28ed1ccde7fb58569f8aee2deb32d0e1777122f8dd7a822a324b11ebfc672105c4b7248ff61b1d60eec703e0ced10b97271dec8d31397fbf80349037f995ebc83efe40a251cf2e43256d95fb2c7b00659518536d4966d17a08c4f399e5a735d85933b96376bd0a78575c27c759e03b862bc66747e02b6a26fc199eb0758f251d7ce184bf55863498e46972ed7d12c212e013c0893c854900fcb55bbfce5e9b442bc8aaf068f4621a9e039cda57b3af5d57e97766abf880e7d16d9f63ec1774545c69c63e00212e05bee4053d9f00e4ebbc182a67667da3b562cfcfbd84b134199f196a0fc8c1ffb79493b782ac3d1bd3817ecd7376978e921bf6699d46410a569345f6a5bc2325255bfcf9683621467fe9a5473a8c366a602775ec742555a8f935221ebc23f2bfb6be9cf1b4430fbe5193aba1ce3ede71c56f68eaed10fdca25ffb190f47ef0f573f348101735aa0ef9b70c59a698470a6cbf5dc5683b5f009738092f813a9f2ebdd3643ba512831c9d8fd78d64f88eb18506b237b12831914fd79645e3722787632bfa93cd8ebc81260fefef0f34e8a250f68ac103b1390b3e93ae87b6d40f90734ab3b7b2983cade98f36cc1f2a6a72f60b2f05175563dae3425d74d6ec670cec442c94f5ed0bd9b5d64bd1c1cd8bdc653b8b5b16990111bc4e47ff05759c9efd71583d97e0cbf2ea4a8865749afccc026441dab78c24986f22c86c84de1e7a7f5cf8ca50dbbbdbf9cbdd7c5bcbcf162685c2e1e4aa028228adcfc2c95d71c572ab8694136eaa293f1d96029623e0e40e91feba5e3b57cad334003c2db6f69f7f37c37f0bfc4c436ab6909603fb1211cbd276ac2bd75aa2561bdfc8c8db607d4ea796511ff49df9d3d726b933c850bfb85d778b1c3592e6e083cb384307e72c8189de18c215225420bc96e1c7d67f8301ff1f15d87a59053a61fe7e10c3ef798bd81a614fab3dc67d837705fcb2d612f5d459274658469909409b877b0af03d8e22aa7627eeee5f598e35d99e40d87a82007f6a6a3b7858b97e436a92336169fc6ee56a18364ba5c3ae3000187e7407bc30ad76ddcf29c4de09528777622605ceef77055e2f6ae6c5d21438b0efa7c1f25cf66cd7cf9e7511dcff7b0c7ba44944b2e97f6f6375add52d2121cdb9c9044221a2a8a47415087c2b791406e8fe95a10ebc8e2896a7ce3193ec0c00f8a9d905b28175dcc5459b890f04df5349c7eb336d9d94d4077ed8c59ec8fd433dcef9b6e9bda353389ceb7f78a802e6aa9c6a82f37eb84bc76718e422345f2f7be2b9a3dd6b4f8542d1dc472bad4a1cb90473424d8ecb29a2954d54d7cd28781de5435e124fe3c09442089f39a92271a3e2fc1b0471fd6d877ee82c264229cfeef603b5f1bd9444d731f3a69b164f9e9fc426fe8a7084ec0b8243ba5c39e9476f234031a2ba3fe8073da975c2f8befdbcfcfa458e6ddf54ab88120848f69e71c56821113c803752745bbf9aac463ee9dd8c7e38ef95160e99b0038de7e4b6bec3d78f06ffaf767a903794e00acc399a167eb1debebf74b97586f6371427ec233a4ff1024be1eee5faf021a87d8b74b4dca156b764d379f46b34ee1eaa06045698fc736e7245e21891a7f1a02cb7a4e46c18f063366fb84377c7838d08de94b5ff25850acbffa26daa12e1ee17467eabb4eba89760a66c8f66bc1d92304b0f9015897a5027eaded6e000942538da64d89397ab6a242ba7e70b68e249dcbb09a1ca9d35bf50c8907f9fa954837059fded7389815bfa5a20469cc9ff5f31141750f8f221b9b106a22b1d75d44cb75075a8287c281d5e68e85363794e63a7036b895075caaa0661129c7beedc5da9331ef08fee8fa21d26e4a5bcfd94fb3b467be9977801a2d2b675b6ea85f59375ec8c5dc10f8eaf289dec1bf87bf21a54c0ece393f274a2f52e955370d6449cf1b4030970940673d798149bd1e0fb1d823c5c0a0cd79202c450f115355f41d313828ae28afef289290bd6065c96c9a092ff36cfe7a8b771daaf46c957e1c760daea555171fbe63c68c62784d645e012469014270db70c5eb4476f06b303f0a54872fea90ad542f7451b06e0ce1dc2be9f1e96ce0216b97f15eaf9d0bbc6ebef360aa3bc77cd3dae19c3eedd6cc6fbadd753fa14ea68a1152dd82f6e48dc4a28a615d4a36864bc8be97ffc69d8d6ff333e62626862589d125f1c4e2a0815f1a113c015571f0cda7b09c8363e9c2d830993192d37fdbe61409833e0c9bdcbd7e844bfcc16ff79e59b47fed6be586125aa89d2fb03f56d914479868e0768ad05a08ec9cc6b20da60206dc53d46947e582a2c36561c3ff9206d6d8d5271e6c51383e45a483a1196fd2f5641f1798dbead8bd5e4191637d70371e3a691d9ce07151be66a24c84e2cb163218259188a6d8b85df748aef42a0e69eac42635392f970a6e35f183684cd2cd9cd2fc850f6b45efafcef8706c828ece15153604f687fec90d04325ab52adccff0d366a862e60523afe3a9917d23e01bda0041a0a8bdfe248f014247e457eaf33b6e83b2e21b21bda9223f50da570b26c74304f0fecb1eb63fa98751c405e2c996838828352255daa6fdc8e35b5bfe4fe2a768356a1de69002ef1acc43e570cab93aa28d93f70e2b0d2d10c557f6f1f0d860bf9b6e7cb3936e18ab4f49079196f369b144a32d282f40965ec337ac8d681f68af5fa6576ca968b304458ad00a6e934752f47d270e4e9fd42d1d81b6e5c063380c2cb16e9ba7f069b918341d85606ee995336e5d1223f5ae69f3623aa9fba47f6301f0efb0d122065ee3723c090b9d4684b1165f0455f35646400ce9f207b22913c6bb77f3a91fe2dd8af63d8e7da77929cbc12a1039a87e73796228fb4cb4afb60343461768c602b813db33646f3f8199aa6b57ca630511638bd2e162730a3f98fa1727bb75b713f506e98618805a78ac6dd3b5b5b3e722d89f4e07157d4c426828cbb46ea6901a586001cdc4975b967486bff4e58161272c3ab9b0b27960565583a035569f37edccd7c416ff595a4ea1a8c4756570eeacefbd775cf965165af325eb61bfe2a5c5495f7cf732913c1e1dd269878c71f1087b0a26a2358cc0d9eb89294e37b11ab69ac36ef3c1e24f9f356ec73a16f721c1379b54508f0645baa77d8e3fa9cb13ff1b92ddbc250bc81ba5d04adf7375a5fed12b9ea684e3feae75a1e514ed02e1f576e1acbb37640daff71e140541f2920b5738354b1539de13d80a3aacf9a68b8d146c94628b109e2adaaa563b21127b66015467af2c00d51b4d740a8a773bb1cf6bdcfaf3a15f02b35e863946c23c28c0c966091738e4b43fe811b835b7c96a3846f3c85150b543a684c3d35449568c71ac7ae9094c6899a513d8bd96cacc1a977353b9789d44393641d349258fdb760c059c36ef69753fae8b4af3c7903731b543029badb77bc0c0a69ac62c83beb4fa8149c420a34e322bcf8ecdd99bcab76b5d19d95a79b71af9d637f2540d3e03fe0266dbb6983f057111eb5df083fcfe54fe6d0b6a48604878b488cc756d0b4a89cc2acf7cb648eb26842555743825957cefcbb68110ba0e94e0419e4d340fdf8fd204845673f2cd4c3787cf8cfdd2296129bc468954eb65cea2d5856013b8576661be500cd94417c6249238df1ec4e0408a4a36916afea0999328bf3ef36a8fdb7f21cba081a5adb0e5031682ca65e65401dfdbd5f75bd5d743069506d2a0632a7fde6b1abc5c9b1893e06491a90b789c09101063626a0cf13b291acad36975b55d9aebab718ee2debc0879b241971c6faef4cf88a4e7074f6a14cff170852cdf9b81dfacf35ef4e231073c09f053fe4d274e7ec00d4aed54e15cecfffe834d443d3b08f779416e4bb40cf831d89851f01fc24d6d67a2035f763382fa247f1b026c78eb4f5e65f160571b365f1af80220c0074e5a014a90308045bd70aadba3466ee09355f7554ac9cb60ac3fac5357ddefb87690028f55786456e5d521e1a4707bddeed31da0c423870145eba302f0e361994bef5900c944ce7fd5a2cb13e97a529fc91f7a7078c5d13020783aba9f25ded444ce72e644a1f697391605224461351f1b48cc06f80f825e0af56e05729d9caa184f013a52173379d215c6ed188c894bba557c3c26b9e96b1147b95a4619646ecac42041ed724837b1459c5d3e53db8409df69f7989b912258859dbbcd0af65ab5e7744ab938e73586ff305e116b61c6de350f2ecb5d2a714d7d6a4f71c150987401c5b8e5d3b5349f675b4a3ae25fe891e049220a7e6595f1df502c6397d1f8a5ec99144f2407d7f8795f7df2c187936105d3e4622c36a9fa55751aefd7486fcac0203595e727bccd15f81459d088e5ff6fe3c4a8a1b43f478122e293fd993a3645cce5ce2a13bfd653b600ea90e0ffca8ffb760ce82f3d305845dc948a9eb0598d75891f12dd4daf00c61fe04669aa904c9d546c96e8cdf9bda22718785838216489dbba1749b69d3f95332d8d15aedb5bbfc74a66af75da1fb5e73fddd0a805a74261da9615dbadb01dd1437853bc44bcea89b56855936c8feeb9cacecca468dd4c68c7c94de81586ad273be33924ca3b655849437dca89e00de387b0a798d2576e4972c0f460de58c63d9f0d41b02603a8dd65598611fd87c6a58ed6d3c80239cbc0778f1b3b9f2394c09cffd9aa8a8aea7307331dd3106efbfffebf30dd2683ba84db27ea36200c56a261331332dd5df5447f62ed7d56e6fec2b3cedc15dfdf27f26a10ac301b01b84d22cc281a7f62673e642c71ee4fa7915db1a832a9d83f995aad94430afebfadfd11ece8145391137dd88f7353b7413498b229886721a4d2d566ee6b8992fde91cdac4aa3ea6dc9f5da1c5c7a700885e6af57b7c6bd6515ee64ad7fa50db3ddefa27d78689105e3ae0f154d4411abb0c665c0ba51e443b90e0d9f5c295e5ec233875c0dbe1f11f311a52541c423aee1f841ac6652fe14fcfdddcc05ee16731bc14c8a64ea9b7ab6c8a1e0491e07b6ab28a15a11b96ed38029d6b26a3fef9adeda0c89c21a68e27c0d2a9913b7d00195c5686516c58c3a5d4c79abb08fcf7e0d7cc6d2cc86ea00c94b4a82f6c9f67da271cd71468d98b3bb8435f212e4fe8ffc04ea087925104e7739801efbf4effab0dd44ad0ec815f7b900462402418a7e4fad021d6a82547fa6ebe242400d2ba85c3b0ae866c171a08608bc279c8ee3de7357ded4a7407afe68d706f21607a46ed85cfb1e9b8a9f47732b8046f33b386e2cb3ae26373c3170a48eee1e599e311cbfd94d3d93a2c30ef15ea9cdc7fdd10d72872fece40db24748c5f0a5d09108eede86543e2458b6577cba02a4e5fae9bcf5982def6be4242baa692ea9ccad4bbfecac147df63590912101e3d538a0cdd4ce22770f67d1e91541412b71dc42f6837208004c567a721ff1d8539fac893b48491a3356ff21880b4a3d6e2905c5f83d87caafdc5722c07ce0be6e4986655e54b244712bb8b258fff069fbe6aad0c3f437af4dc8d835a05569633032edc414d5dd8a0608a49e0d7b9904b7f8f2ee58fc188ee491e39cd49d56adf1e20d5f60fbda6b355446a21de7e05b40add86a4698d2cad643589cd7cb04e750bac372259c9d0c585b14bc43c4e2eca8e501aa7ff2129ee05e68ef2391653f4f32c716c450cd319f0a17cf3f7410592e0cc5fa573a6e0fb21c9e52d8753f7b9ad9acb1f377206fe3cf22dc54ba9d18e5dd6752762c72ecc3f71914d5b08d32baa098a293b03d205377776ad5888fbf8805858231b406290b3e6c52d5d73cc272facdabadbdafffc2a8dcea37cc288567af53023301fa90c40d34698560166240c0433585976d6724f7a66b8a70ac881bc99de928e33090a90ff78385cd4a053637513b161b1377aed2185ec09697b2c54b26ff05cccbd820e67af87e1bd3812c91c75e3436b2480b244f0154a8dc84cb4d89ff5b14ca55001ddb158c38644e8331879cb0313f6e5fbd7bcccfeb19a21f2866bc1429b7f16e14b605a186cfea65a977d75cb696d06f1a6073449d3fbb53a8a2952f67aa8cdad3238cf3df666d5cadc5bcd48dc7f9a6a9dc3b1aa1b8f40538dddfd50f93b1a36f19857c584365d11a0dd1d63bbb490652628ffd95b5b41c3bd58bd823288bb828369aee46b760eae505bd9eef2695f430fc2affbc7f6e4a5257d6946b198bbd8aa5e7ae25176461a20baa0b262945aa39e2099d7cb6356260e9bcc5e2ba2c7d41407d93b80f464b6829cd9619613ad9c49ede4ac099ad196bcf6ed0fdd79e24122761ed2114bc9c30dfe0791667af19d953914fd04cf58515bcf95399e3eda9b51fb865e28dc529407dec345e0db9bcd78af7a25dd257d618e351d9b9e56f28a40d9ed1c86cd4327bcb4364a9e95a4a0e931d6473de649b0ee6a8796def16cf8996720e3270d4894b54b99303068b6542d23e42aaa49de4f2f4531ac95a9c00d37e01ce27b48788a2c36cb3fce9cdb6e92ce0d7e5b47ce8a0262773d956760721debed240e78e6982d37f63824a5b2cbef85890f492c8a4ac98f7cf267c6a0d6b3e7150a01066d0e96739e6bbbab90b2fb961ee6001c77b8e7d4c3d4b2de7379c957035cf35dcec50601b1958962724b68632d527eeb9cbf7da5fe53827dc7e1a53989830fc9c31c28745e78d3bdb532da340a87db21729ff708f695937abb5f9c44d49609a07a00c860c0ee6d7b4b88998be497219f83ce3316e864255089e8470d60c14ec8439d735d8453d2dd5572b74d6f8aff08b2026e8fa880f45260b726a006e906205968356ebdd9ace340950a4a413effdae1472376b462117714a64029d40392164618cc507f8a6317a454da66a0d7c7f93adfe712d8b6d126e1db2ed1a430db9ff759aad91f0054549fbab800de726a9faa66556bb166017a9c1f1ad2bd4e4314bce86b2114987863b20407f053d78003cdfd205cfa4830d28f091811fb33c77a7aa86d14aa503e79aaf2c95f9459837d8562cf7f9f2d6d5d7a580cebd7ac8594788c324dc1a349610fb76ec6b7a4e5cbe7b5a0afed896198a9c5fd8841c502701acf4e188aba47771bfd9fb134b282b0560bff0a5a71bfa9558c7f7090324a069261c6eb6731760881f5c6b91daf2e923a196a68dcbc4c7a02acc59c59f0ab2988358d363702a86c67b79ea6c479a4b822eb63be5ce5ff32af8f6f068fa255a34efcf05fb2f0ef3ac620758b64e042dd507b10296d61fdfd26437bdc5955b8325e7352768de213dff0a5dcd0fb6b1e731dda9ae383727ec34e3845e68c3b489271130329be33787c1d5587d006b4ffbdc1435dfd99484f2311245f0026513b53015c2032f9c054b984b45db3d879d42f520ecd3bc9cf73fc5fe3f7dab521338183141ff75149a9837ddea32fe1dde5a2069458c41f26fe48ec21bdb084b8729fa02e2b010fec8806182d21304ed59f9679756807dd7f7824a414e72e800a99404ab9e06535214b327458a8959694077d7f29f4be6bfc2b843054452611bab9491386b7395c1cf33a95500dfd3ffb0cac53afe26d9cf6a48f5dfff2f9eab85d17480498834798c556eb40ba9f0ef417fb9827633e38f6808c4657019d3069b3dfd54cb48cc53a93843440fa5d6f86fb04e099f04e051c2920939cf7ea4bafa786b7e789cb639904075a2c641c3ceefc9b2f07991955d1b75413d157eaffa7e8db4ac82a26e388ce2a3ffc33b028dd30301418a9a45cefc6c38b0a3369f46ced7a5994be3822503c2f82cc09ea01e5d6dd253348d720a53c0306a4b948a741ee5292e93cca7ddd8d25677270a8e1069e258fd65225993f72e22b713758b26b11cc546e9e6d68a2b7e13347f1fa1ec28b4787f12524734bed190618dbdf7158951549c26706d595bdb880c1ea4bcb774c7bf5b13d64f9e50f13b73c1c82f64a12727bfd511c457a7020549e7a92d9b8b7af3cbac1f5517b0f92f56e506129cdfa17c358f8a6a311f6b4c7a529b63436b784557f225ef7898478d8ede42edf223b41b13cd43d04238dc5c249506ca0e442b0bccb4f191028ece8a0556a7cca44b2d01ed8a7452e06b519129d67cf4bf295000c844883da4d50b1ac778aa5f7fe9faa8abe0776ed20979ee0ba139eb43fa617a945f2c622d7fa66d8456457d3121082335dea8c47f35fefa0f40a1649b30b471d8778f50ccb4d50ab2689083c8dc3bcea6f295703c11ae70884943b1aff9c4b380871b9b1044a3a4962888408ca648bc36025b27ff72042a2300776ef01cd5810b8dad00f52bdf878bf5115609de59c859007c60ecdf90d7a1e3239d234d67d5a8ed7eb32cad17f1781147822814a94e868b60de0f8a82016ce1e70dc578002da0a22dde06ac94f25480f4d3bf3805d5ef94c1c10b9b8c37c121d44772fd04a1c478a3b603623a48651c5c145a12fc912a3f568b061422a1b5e9a84da07b8bff1c4850e94abcf653420a8543059011ac8ab4d4401729355ee3e947b92912bb77096a6fe6c853b387025e7149299f144df2ecbd4cf836231f770fad6d003cc18e68390f4395aea9a17a0808188901404f83371d4b6330b11a149fc7b4705e4c64167919b3f78e1a84022721cea2656cf3f687141d5e88c43112e9dcbe75d604b922b806fd3cf9ccff14bd945ee706e0dab4cabf28eb08b5b293f0bcef7c980032ef0866df046ccf7c924052d6211d1647371dddfd94b307dcc75e92f432b76481d2eb04c5316f613823ce492a8f467ffc50085ffb3f4e6c78d92109ec8cd6892fe714e16445ed74875e091e49eeaf806ebf49b35b525f4829e36809dffddd5274d1670f30757676d75173e92ca96a237c8e2a7752821c329b0263aea28568c31284fa01ffa15a7b0cd27691bf1b16ca1b6ee3fc0c800941a56037095224d3ba282f999d67020dc3a55e8b0460c4c948b157e289f475c7fd6d7c5690a7370aa1b6533c12eef6e7030a8b0162ebac095747659dc991c01f09f64f47fab58c5b0773c36420397711df14656981fb7cd7cb2a8179c4785211385b0f630b971724bc9d67a3a7018feb9586359a64f4efe29b86227608fedde200753a82f3816bc069763e597ba3fa61fd985ebc360212101318478f37ac670457f8327fc51d20c33242d941556d075ab8867836a9a59ff2e84a2258a895672ae2e81ca2a1317d1e18a29fa2813deca5c6205081c3ccc792bde2cebe7a93dcb1f07234e1409cdc051b79e6320ae1f2135b238c9720129ed542cb3efe43b36910d9e6f2aa054e3d3c53f2f2d9d9a6e9626c1099dbc9052f1d3fcf3cabafabd546a7757f20ae0540595f7b6cb1621fa1290e0d538b326bbafbf5fdb6f8b090cdff0a383d551afbaeba3444cdc4dbed7f5b456904b649b58d457d9583939f12e0b88446115836f881f97eee81386decfb60841aa4f3f3dd8be91561af12b028c39c69055d6eb247621c966d9dffcef98a30120e755974ae514960a27c70dd803342b0111bdc3cd00a9ff875c81e9ed6c73077cb2c88fde62ed55c71455a964cd42d326621fff31ccf05f535080026afef45e5ae9c2eb70915f0c737081cfde461df3e9cb7fc8229c5c41b0441a16ff065d04a7370d1f618c486974708dba41f2b218e485","isRememberEnabled":true,"rememberDurationInDays":120,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
