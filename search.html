<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"e6851bbf380621cb91b4f72b1fbfd08044b8c3dcdfaa789fe2da307e503b374b6ba96dd4c67273f16cd0747674031e16411d9b72ae224e46006eb2655fe1cb3adc4e7dc6d84109fb4498e9e3e1d3ba516fb892fd41a3b61ebe1e0e4de177a43cd69b52a9240e13b23b85020f16f158cbba0db3791c7870bc338bef1c83a939292cbb4b5e4198e3e0a320c94e3ee60dd933dd8bd6f8dbb9ece017746242dc3ceae92050cc82aa551bbf87b18cd57bb4c833a3d9e89033278ce68362f8c4b8facc9a13e717ec55e03438e6160e6774cfed35102af9f0788a6ab46122c36b144d981fb006591cbac27b1e6d45bcdc0b3e0ba69ce9f11687dd3aa242e935d8fab66f28faa0689de3da5a858ace77eb6ea526d742aa439fa4c4b35d0db57fdd7d06ee02de2fd2939c39c63ccbadf712bd4df7a1795e10178f8c0d20c9dc25d07144ba72063883392e8b2733944df0ff408d9b989855630fa5392b7b3305b06200a53c145592b0f4522c0f45c70df2fd1e22c6592ef4f773af7190aa31e700ac23b526eb232aaa394ba8eb47dc8e9c188c28a0325a182d9f147eafcd2fa5b5335648f1d9de1a65b571a336c9e02d4fd14cad538e357db0562fda19d0b9e9a2697d14688e8becbb55a35b66c00996b47d6a8f11cf824a1334ff629f06dcd5926179b8f11d41a8e75602482f22c4f825f7906f110cebab4e5750f36550006b4513e906aa56166214104d23c02af52c8b446ac6b37b06462f5f44664ad4e7f637cf8dcac28186d29f87f425ce5502772b9febd92487a3e119d5575603a4a15ad5d35b342cf58a4e701827b0cb9dbf27518164d604d430aea663eced83d8fba7ede805e5fc7ca601a5d1a4c3a04ec05189fca92810f7d32905854fa47b4ea3511973de335dcbe1b0eac26fcc97a9ef0d726ed8056851857b7089577dbb9cbe663b22b38e677efe580f21b7aae8acf41eed4564f0f952c38f0e407d8a185708543f35fb61b1e5648e44d12c78ffd68c57a7f78b29eabb7886f021dbc5b80f6451612e35c55bdd30593968ac1c2427b3e09fc4534028dcbbc2e2c358f35d12a2f1520c3835568dbb9d6fba741f54e0a79c0ac2b63b125915551d4c3abedc62ce25ce62298177d4a915f369d172c6814523e70901126125af5dfed52f705121322e08e26b2d1b101b9f9e9fe467edc967bd9d1ae891ef88f366dc96cb7b8a1115d179ff50e46d8480027e51dc1bb830b368cd01eba0a3fec3badc71e301f7f990d33a210e9b8df21edf7f89546c95aa355e49a3db637c8f9ea96d1414cd3d6eb959e8cb2bb29eddfc2db52a9307221e2b06351f73a2764052783e68aebf52549244d1a11384cde519d54fafea89d02736265a8912661e2ba7061623d6d92f90de2cb554400cb4c8336e25b6c95d952136e5278295327af2ddc7299104767482753df55330b9343caaf1045992e91dbce533f434fed71e1136c6fb2e5146eefc96e32d73809f03c549d6f1d957155e5ec9d413ba84405691c20fd08724cf90458078696ada7468f77de217ddd9933a1b24147be13e97fa7bef3a5813b676f717273b98959f08cf3cf98451f2a10a01ea49867ea5641436f9ef7e899a96e5fd5ecff7bdc9428896c79adb75e4c3cedaefbc038fd89641416cb350cef87c4d82ef838ed32123768408b1972c59cd2ed01fc5e300d82d6850e67621bdf4a6965430780eb73fd035a6aa11b06cf2ac2e3d26f3129b659ddc54e430ee411c144757d40a22b90f4e0489fdc0a467d068d1109c0168947fad9eada214ad9138dfe2cbfc53776ef4c7abc14165be5ed538cc46bf3338e137c9c8ae4fc9e8a41ecad1228aa994ba3f97c10a307b6e39e8f8bad8b887b3273e83201941ee21d05c3615a8cdbd82dd2f95adf945698731810a341d397098398a244dbad742b0312aeb21eed6856c701df85f263ed5719d9a92fce011bcf54207deab9b0e633c3f3888437427458b504b855f3e622369608b6a43d08c9fd2d472e010c6e0b438220b43d42fe52f30ccdfd45b773cacb8dc0fb75af7dfe02fb02f5520db0a192a93d8335bd1e7941bd6daa52e4657d131c9c8899b4ba2f6d3c43c69110180df1a0007d5ba840371e350530a2944116ba48a5f38518e63947787541f5235ce6623617426a33c203cf6e37239a5d903df1eb42ca8acf7794e9c6b788e7547176e89a31c37be34adb464808bd5ca29fe9d536018ca0ca23587ef9a2946ee4e6e58a7d8dec9649fa2dbbf9deb6bc5f59945ef5067afdda20a252362f82dd2a7857cfecb7922176009d8bf4cbbacbecdd1ea4b59067487b7ed7668ddfc945b0eae10de1466bf783e0b13719fe0d9a15040ad43a7c2a2c5af5b428e7a0ff3ea952193d8e851e8320c28cc3cad6c543b26d4349908a2267b53ca9ca081b8e27343380e598280c14b2576acf671c6a822071ed3d38a8a9966ccb10306756d74484bbf809f156bc9b3ca3728c75095038d822ef43f540a610ee24bfb05f0bf8cb1b49ea02b8e062fcd38c4b0e0f99d04e762614fc4f3bb42b73bb60af91f856e1c25cb5b4ae4b20bd6b9d221e2ab5a9a6fe1520294b21098471eb410fe56764381592133c3374bbfc133828333cb1771729105ba76ae89a085d99819d11dec81a02d74658cfa7a7833a692fae7bf07b6e260949b5c8f6ac21dc43dd6ad4f16fd9e44af9f645126c769afb9a3c4e9cefdcab6b6b0c55c509c99e5f519e7ed2cdb32bbb6b506d4b3b4c6c04f77aa15e4ab39d998f7bb5dcad4555be76d71aa458338868076dc3194338f7e5d826627440359ffc675612e28cc17f6b70c74578a972a96c3ced7ff1eb3efccc70e56af550e5c599b022ec2c407beb590decdf1638b83f58473e6c57faa7382256a478ce21a583234e1ffffa405b4ca50405164b1dfc744df9444b683c92288934c63a6b83964ab363c0419ca528d5299bac4640b5173091eef221314f01567bcaec3d2997eb0861af6426fe5fb1c86d77c9461209afb7928fb3b6c128e0c860efdcc11b480edd44a85673aaa2de3017adb0e363460c0fd14ceade338b34701b9c3a064144384f039efcb91154c83672cd3b732384c5f95da4ad5fe7193e7e35bcefea0edad1e85e7ae7ef1cfc1ef792333f345fbc9c22d44fdc30d8d09e58dedc040ecd54a9f51445a29bafb4af5e3139ead65bbe730ec858879ed7e0dd09c3e3d0c381f30cd406c0b439530f1a2aa9b6190a040b60b864829ef2d1c62e0cb1992e9a5befa728756f18e42af6f6f272dc25a469a4ca551d24846749a9065ec435d3d7e3bee6dcb68f5a12ccd5c9999835b1c0428215c36cc031325b8c79c9705a812cb585f9710d1e52fac0a6a3618eaa803f7fb197491bb52c38dbb25ac1ebf4ffbd89a4bbc48200557a9b27e08efb388a7a60eefb727cce6bfa0b2d442a5110c52382ef4679de92f2f421271f16af0781ae984bdc6f7f4738449426abfec83b229c473d580c24cb9140d03d15f2f855aaf990da5d30a11aea2a92d4c1e7a5cb004137110015c78c005258bda84b28e2459ea348ba5bcd0393be23f55dc3fbefc49203f2f463a0775db3287bc2078d31d84900d1c92e42ec7b3de121ccd70b5099fa7a48ac276a9419a8f53511587aefea79cf96d1db25918cf91598c01f77655371e5308f2b5fa97102314c018013a79011a5fcb4968e0aa41a133456b56ddb7378c452bf145605e65ee9e93ad2857ecfd872b1878b31d44619fcdc36a5c2e327b081c933024ba4e202e8b4841f7377cf667b883948cdd8809f967573f1084f0e24a0ac4c2463b8b29a466bacdcc91d6adf43a7f343a0a6ceedf67bce84c5f95ad240a93aa831ca2265e6e1d35b66abd1513c879fe374379a722b3e9e3ce6881f008b4c0bf6838dc536eb5334b9ccbb03d59e2edf482ec7d1ddab1daf40d8cd83c0b0951f315be18d866a4ae8dccef34bc61a06ff40d19d8125678e1c58e49ca0d7d73c2dde2965bcf7dc5a83a5c70bc3b748855bd90d1206f47f54af39a1a75b27de5e6fed7ec0755c3723036b7dfca84db77f0accf9b268165e5b7d59be7f33d8c83728857fe7dc4c0b800b4eae5647a0913e5e542a5ba5d46e3a117cb68be87891ff6cf59d84b2633c49334b7b81edf533982e35cab760132dbc87197000db66b752474951741733c4d242d1dbafd3d053db0f3e08ed202cccf0ac802011d5821c7932af18fb8f4571cb2e1657264a3c5c5c5cda91856717c6a793b290994e645891a3bec0d83a6c40c9c93105fbebae03fc310775cc4e2b29d08e2acb79f545aac660fb3caa9e0f835e0a558ffcfbdd5918f4f0892486b987f79ea012af2671f5e94fa2e107c259e193cfce26108cfd34b5fb4326f65e5a6dbec397566e40b3ed0687c2eb0a50cee3cb4126287d6f40971655b8bae3bf3a98d32e5c0794fec10d6980902b39a577ccdcf3a16d550a64809db84c4ec9fbbd96a035efdf5429155981aa09dc88f47ec454781710a15ad6c84476e591b8741f2e53c0b4399896271a1bf97597693d131c712c71e9b87ca70a50ad9225df379e3463aadd03dec1ca750dcf3ebacf30f0da9dd648ee0b0c7d13978f3bfddc1d2b6758b6defc42802b6eee14e86577a6a912542a5fdeea1c52a0f3212024ae313d10bfa955b232e43d5ec005e72b9016a728a1d3916e312b8d0f2c3a2d6195fa41b39021377fd5cda5b29b55476d7fc0e2a63bf645a930e6e5ca7aff16079eec75fc350595946453960bb887e2ff9e68c4e4324c1c4fff927aaf8048f3285495589cc43f2769f46340904330e543047e1f698a335073e22cf1461616dc6422c079c179700126ca3e1700520424c8a9ad672bad733b60010d170ddfa0358aa6de8a395ff0462d4641270bc65b5f98fc54bee8eb553438dc912f952e494329a6a04df7aaffdd34aea1943985393cd319d1f4079f06dc2cdd4311d634606a59e6229e210df1416e0cc179b485c83136e33f129c8b841b45065349a2de7578ac29f6373f1993582fab81d501abfcebcdd00808276632e5cddc51374056bc4aa924b8761d7d1da9bbfd63bc0649e0a050a08a62e3c9177d4d117e291041294aa37372e9c66e974c7c2b6ab396b1282fdab7129ff394718d7025dfbaf0ef2913349281c4171a169de5c6f50ca30ab8baea431960147e583c80ddad499189133321d91ff7bcc0f301998585227ef987764729f8948049fb2d6cca30ae5ec86b22bc96e5bf3cc99739ff285580e0cd4eab79853e5893670a1ef52656db2991f2796c304ffc105fe3e885fb436216f31d48d0fbd4abcbdd35dd20701bb8d98bbac37d665bc09290151f899fa22891fe2515e6604a17c343dfa6d48b059c320d36b8bdff4d8e2a002cf21a725ae96c5b3890a85b604a4501f55ff6bacfe53980722a2cb2dd167512d2a03450dc670a9682fb4f13f1e1f32efd066efbacf0c1dfd71d3f3cf4e320519c7ed29092cbbacb97d410c1aa397b98fc721946e23033d485b7a072116a45f083d61907617b294d12603938bff6e1660005e121b12982c2fd7849d2b853e7d2f5d5ea418d6140302e91ceded4eabf72a760ec21db9d9e7e8e4fab08e1a8efb39257070036a3bafbfa99c377dd750f753fc3e1af7f993ec52fe5186a9a367ea6cd8518afdf0d5bbd1306eb3ebb6ba7e44b05f4a9c28f464f1d4f48000530cf0b18e732c06e41b2b3c2dff4a163a086e9d6373c0ecc039f0fd6a549d4b22d6527089a7507842b3c2d9d7749a834a47c45015069533df8af3534cecfcec05613a77ecdd1286b3bc6da1be8060f3e1d5044d5c4885c44e6c30d7fcbe16028fb8a9bd0fb7fcfbdd1a338817f8a0606031e4a35211ba71625b1e9054f1add7394a2df638df15e87d891f9ac9eb0373dbea39de89d11978ede5f69ef5c5db2b24bcd26792516fccabf4a789fcf03f8d26835f04515107718abfcd4d905dfba6b72f0911aa7b64aa8075cb26442f4bad1bb220923a3123c6f5a1babb93da583872ffb8861547c6a88a2515c7acce3cf589d6d71d937da8c08a1a432587e16c52139407d9a3e590f567853fbb3a2b5751d089f313bfbca12d09255886862f2a94516ba87f493c83620d489cb9fe74f07e86d8c86468afdc219d76c6ed7b7992c2a4f49cf71086a80044ba08522bfca79a4a92529dc94c33b4fce1ade63b95e10ec4696ce33e02bebe516aa14655a187f5a21ac5733afd866a7004d62bc19b900559720a6d077dbc7b5a47e745891aa91212c57f3f54e925b5e3b7496e803b551567574991e030a0eab3365adb83a5f89b434e2b4afc694a4315b58e68b998dec1c71a52d4cd2f3d152f2cdfa9763811dd8c88734cac9fb9131dd3977453d936600f9b9b13b55ed650551f3723ae5f178882a0355b04cf8c8fc2ae414544e43a317899de5765b65b745dcbe0fbab1ff8a65dd77d176fd012bada1f118240831350dfc20c6592c150ebb40f9ac4622dc5e51ed34238dd2597a36859e23d46fbc2d93c7e1b80799395ca9399dac1625b564f2de10cf7b225e6fb2bf8d1d8925c83f4d2ce75b36bfdf9135a494d69e80eabf8eb276f00874df2d5919b5357332cdeff07ea46cd17398c62ce372491a504327f988ec04247c49fad8f02fad16fdd453932a2f0e3010a60171afc62a61516b769c958d93dafd8b88066c2f4dbac7f000fc15d3d91e3fd2ef3130ca345d829378a0bcb875841be7dedc8ed120f67fa402b734c806b6472c565d318ee93a5558f64c67bcb436d9424ba5bea4227c393cb8e368ae3f30892c8a11597719451a17b3e9e54e241e5380a578e3bb40217d5e0d1e793d8d2cabe04d9da2d00aa9dd9f5e8da5720dacb7a5b5f8ff237580a63d8c60049dec31303f223a83098a7dbcc5e29dac2165c11f2b6eb4c33be4d02c45b57732f194382a16ead763a4e8b8475efb1a41845ceb96193a5661757507e427eb5334e138b8c6c1e32876ac6436ef248d780090b28dd87f2ed9e8c04bf87d71db8440e81430447a3fc547992ec608c65a90e4d4c401f13c2a1a7a5429d09d8e1b9aacc594c813cb2257807868ed4e18ce738fa9fefcf48778cc94573e7f1cfd088cc1c9b45f7db54e20c9d486978fbe88043d3b4e4f2df3930ad570586d4609a105c0d7275d62c5debe44098a29bfdf536eda1d53554d7c6e23b0f4fc13918a459f92c6f766b697939705bffbfde89e200fcec7d4aa2182303a0de191bb3a93ffd0951bb99c5aaeb7d30d519dbd0b144a412a35937e4a28e76f43b1b8b23f4808d8e6233c56eb2f3b994485937b49819229dbae708ab7230ab326e740bda22123f8fe1ec4b5c226dd98612755af8c4be82149b7c28922445bb823b02c3aa829fd5545225145c4b2ed4a9067ea500a47540cc604a7f0d76611ccb87b537445a2698273dd66c738c44da0c62e929a8483b6cd941c9146c1e1056e951965f5669a67b0af116eaa0d980110fbd6185bfd99d3ba10884ce52c619a7927184e1f40a4b112cc3e34af50c4cef53c17e95e40861963ba1e2573c35a6e8294e6ebc9cac055eff39923170fa0b660910263a91ec0babcf3a8984093815d70a7c8d593b7d496d6ac86fa8a4b97e8ef3ddbdd188109d82e608971a81a19c2bc1783b37569b81bab4a99ef2da7ae80f68d0df60d2f56226b2e5cbe8a2c166daef5d9de1984aa3f857022f605011c48bada7fe376918bc7c551675f34fcfcc7c23627f7a9f2deb134e04657c236a066cdb1621363e928581ad66b92400a5148ca79309ed84f0067ca234af2ad3d014ca354d829b78d0d4b70feb0d06740c2750aaec1ebaa7ed353234af63db5b202afe19e3889b2417d7ddd79254223b047e673a72c6dad30c3173b743dc9b8add89600d425d35273ad32433ce1e19e3f9e672ccc10172dc63b04379bb6791b41c21f2fb25e412105d3ca616c0e3e326cbeda72ad6d9dffbaf90c9dfd23b5a99c482f871252b05aae80468d98f831e504a8bf62e584f83c3c2f927a5fd6fef5ffc86866b8cbcf440ccac7f7e3802f8329d1e77ce791230ddd7306af956065194e45587c53cf3b090cb9629aadae6fcc4202f70b8334b8f68703756ebcdbdf4825a307a8a3b6c8f6d9cce5d781ed2d20a77cc027288d81db9581efda20c5c7c7d7385b05c26fb4db7fa1c4867a56b53a16e86e28f92caf9206328a1895abd90dc8ba77c2a612a3048d06c844cd71d2da405339ad293fb8ea168c877aebcfa407d11c235d264cefa4cab71117e9c99f592a15abc0951f580f28560d394b9bb06ff1440b59f1aae2e255a07e26f52a63620cd3bccd3ff19018920645f476deea9b3ec5c23622e5a6610cd2775956c34d6b7e996e1f6007d44c1c1ea56b5113bb04d33bcbf25a10f64d95dd551aeb8c2fc73a4566e14c0c0062ecd202cc0a82a87a7112dff2fcbea72283d733efc63ba4e9521f67d35519b32b5556257525647f2d4bf184bdba4d682d7e23000faf3e5a5620869bb264211a224665b48b2ede30c19fb5fec2cb91e2323f24499d4be95b6b6522b18bc2baec1a3a0edd1b50dabaed97059afcf0ed5c25c444dff51e4a264b549b29bca9ee7bccc7780fedbc4a7056d8337bc05fd633126a54f8d0c8656b96bf21b323fd5f63168fc46d2c59902952d878fe5d2bc3698a0c16143f241314bb290565a85857f49d0f4839b1983dd2fd28f7c5ed5fcce4afaa7f16514972004193df8ada77adbafeaa1e1977b9369847d150288925cb84f1aec5d547c175f2cf0b58b3613bf2c32c3e99271f28a517bec488aa6a8012e95eef7d105b9f5ea74f399dcf4a002a86af09a835589792069612c8eeee3cea804cdeb0f6e812d42ff84b35e1845efd7ae6bbd84d4f6de45dd6cd971d45059ebf918367ae980cbd643702043e3acdf73020ed5d1aaed5f6fda3cc8c1fcd87e0b5ccf60afed06b43073bc7a5ac5db36e7be1483cd477f30ccd809033af9bf64d25bf7ea35bafdfb6c932e2fc29dd18ca8e4b00e1d1c656346240dea3cdd559f74de764455f76b88601646a0d90c525c32690db3e81d218e0f7efbea25d79601f2df07e11120faf131aadab826d2691b2dbf88f959cabcd95bc78ee69afd01f38aa2956219ac4ad81697786b71491f277c5012c3d372e42da0de1948ac04714042c1b18a0d3f933c81b0dc16aa2560808fa7e6cdbbbb7845f8e1caff9ab864e99d645670a6a7e6aacce66602548a5f5f9228ed4be5184504df6b9b08728256c95c22663f1304e26b6ebd9e70fd9a6bb8806b24eb8023b75ddb0951305bc1172e9a6b5845750349c0825507c39c7cdd3d60153f13b8e7a6be2eab4cec58100789a8923d295bfb0d1b7ad292afd80026278e1b0f0ab5ccdd817b99320e89fa78785c9d4c9a77102f9cac5df2feec49673d9b562537ec1eb514a13879f71cf560e90bb8caa7f5d9dca43d090bca363eab79b4ec838f5b630718ff96140d94b5e61176e9cb64b83caa25028205b8c102cb1029cc7c0453d559483842c2069c1df7d967d21fd6aaa85956deb483a191c9ee7d99e9beb882975e108217ca2012194ba28def3f4ce7a03a3f561fb8525e6f742211128479116ce4482b8d777a0a0175d44dbcea99193eaf41c574b31852be14909848c6d36a30778c32efb46a1b28aea449fb64fd7145427ef1cb20f881a59362ad18bdfdbac16c7e4727e011345607bb507b765db187a3a523cb696dbd1701702e777b472c733ffc5b5d25c063f85c2a0f406f2357afd5eb77b3bbda60605fe8b844c4308f4155e07ecc29bd10b8140e6467aecec81c7c132fcc1b6534d000ae061874ab469f3670de44f810e9ccb4055f97257c387a20b429ae9a513ca1e96e3eb0c548c4289bbd7129bc523bebea82d6b0aeafb5df441a81a36d14b6f63e6c8f3e865b00e80904e710333aba76a7627c3006fd38b092f5cbf753eb23c02b8eb95bfb12e7481670c3fe7f0d37652164c299953290c7ba8f2865b42aec28d8a609532ee354fa54b88c74d1ff76f982c5d015e11a47cf6c60e3500db9eefb15081dc6c42d4a6f81df5ad078f8a177da6c9934c30de8dce644496700ca48c75ca690ce47d2116adccd3a90b94ab37d7fb93210a4ce7166063174c608e0575616c0a4fe2fa0650591876385d5e5516ccd2270ab6f80e06b3bf1f60d4176f3dd710fd60818f15fa7fcdd012f10ba9c0d8166ac1194b310babf9d39f4a84c769438fa50bd0d3b9a405670926cff5a0fe0896afa72b5c6eef0707d78373c0048207fd70d18accdc8f87d847b55c1c5e183078d875b465b11c4f8cf0aab7aa0f8c4a6c2de7d29fa39339e1e4d5d4ae9250bfc739c73e0edce3eae39daebabc81785d7b6fa8d1069dc36405e50d958a32ee42c2a68ad8ee5fbc0540fba8de3094791a6c4fb8af1dae83ff5d27e0cf61de016d520672e3a261937758a31c5c91ee227d03f8952c2d00e0fc5a1fc856249f9aceb925255a4428d3fe1e7c71b93aee963d938aa383df82034d99a0d91089990d41893b1074ab09b663a321a80f7060cda6e9f8bc719124f42cba3d5535795c11c7a7ca92904687a43f6d609210c274ac6534c3217c45ad5ec95762189bb94561ae5e073abe495dd7ddbd7bc5453b5a47e20d57c075238dca7c1022f813f3c19f178cabbc52f1c3a3b0f528c0696a3896b5ee6e56bb536f0ed2e6f59a5596adc949de48422835fff8fdbf8c8fb2ea0b3e72576dde7bc378a67ff2c86c680f63df2be99dcb740507deba5fde1f52718c93ba3cd7632a0228e0c51aa431f6905ef9f9968674e0dc0c19ea500a6a54a78f6adbb7fd07cb803153df19a3ea2d5b16e6b565bd1e6c89211c6c78ab892a2f180e4e5e13932b26bf661032ea06c9859e9f9e9ee0318445a4068454a08a393e4375272e88d4f8168c3d3643e2e20ece7df2a0cecbb6ebd4d8acfc395821db2f5be7ada7a26271fdcde6e2bbfdf6180ba084983aa026f111fc1c5663a3f1aaa350c16b8bd31fd71207d792602c726385fd5255f0a0b095d17cd83451f38d26fe94c69c7fefa1db69c97187fca5fab7eb5d1d452f928ea57136ac6f21986c835e7eda95ea2759e61d54f3d7fb286a5bfb5240b9ad63d3a7cdd78da0cec869fa03ef588d17245157136480c9b31dac9ef416d1804ed70d717e9a4a805a8c60a042d0d76fc9019f96b524731f0914f574b221b453d3bbd165cf752166b3c312f745cf0c11a4f347c48af3d050e84794c95987b1aa420918d3d9b593669a5ec67cb8924189d8f18bcd106f2db51e3a5f6cfd5307735d6d7dc4ad509a7b5713ebef8f1f9dbbdefd38afff71333a56b6dc75f072c57043763258c01d1bf42a86f1a1b672570f2f82ce5d077d2bb566883de128277d6dbad1fbe2f0cd9a9a2f4f02470c95058eae071f9d9c0cc23675beabed3e170549d89ae9101f9c5a58d1aa880167526d2a35a917e29fa6ba1c6c3ba17c357fc2f6927ddb4e1b3473e59a37148016d0d41b59fe9bc63fc85d6be363e30834cb01138085e4ada42637a3a159c8b8dba379374e233e7a1b4c9425779902b65684824b36c03f35219357a923775e40f71903f81013009c90242f618b13fd7e0b71ceb7005715af67f51f0ce5195dc0e672b6a331a19df6d35f2fda72d45d3beddbfd93f4e9628b374b8cd7f56444a3591835a3a0fa9f302ba759189e534819688211d56f0144bf7aed48c6c2b780f9fe542232e5b08461a2af09e569c50b8c322ed75ba65081778b3b8004d7ae3e62a503948ad104dc9fb455bc0d93754d1f8fca23b44b1f91d3bebfe7b057295befcffcdce4192b6c47b4797f89593795f99309b447ed8a424c0ed9d5899744440b793eea357469b0bbfac5c3ed94c027eda533fe139d332354660dbe5438ade04da906e6898459fbcd43d764a39cbad1b96541ae843c34089140646366d23e8321eb7d096ccd0181d5226dc52057841dcf320155eb8c0d228ed46829ae29b059c43422147af68b04aaf6d0d89e4cbbfe3435c8aa46bbeb208e606be7599cf3fa090295fb6f8a27f5fe6e569ed2a87889dcf8e3ed9311a235ac62b549611aab76f1a829e61c96c279600ff0a0705a4b7625ba22f66f4bc9bd02e97d0f53575d5961c8323da818f9b571c609c6f3bd16de65e95eac6fb24e82705694ab8e26c867e057489599196177c82bf0b7904d31294bacf32e6ee25932419b1dcf6cbc44a76e9781d3b7bdc89e24aedcecea152650c08ccaa5530120beeb40ec9662b060d2c8775b8f936a4e51d0d1386995ae65bbb4cf6b4f08c676a82d2fc0dd4a33ec44bcb9f770773b091b228115974e5d28608b61bd391d722afdf31ab43c981f14ffaeb7b19de2d9010a8552c56ed80fdee96f41caccbeda7f8e43061e3273e13820e9f4d9c112d98c850f2bad33610f7727cf6b19964961946e9f994d074af802f239701a9079e800067a98d051e4a2939324563ee3704ae8fb9890a2be5fc4794f276408c4aff846bd90e7bc8c316c05989ac7683aa96b5cf390aefccbe5e75222c34960cf2d636b1e4e0c395dcf7b2bf4d10c94e7e7231f775cf0df19a69859e331d8c2f5b0bedf58287baa9440e197af12f49cba2459865d63938e9dac790cbb06586aa6c7af13ceb262c2262178a63b8b070cb30714b40e7a4a896d8e2e52845147d1f66e4e95790e7e4935a24e37d5bc0bfa958a7f75be10d2e2024fe4793d78b7a3b0bc57fce5b447538a8d3d509b27a90b8763fd659d8882036fb51f04441c84daa714c1e3406fd183b5ddbe4b154705c77f7238df30182fe9d686a35defdfa0c5095d1dde1a278d6b20246f94bde0765c782bbef816817180d00911c9c8012e637bfce283e7a98bedb9682bcc2a9593b011a42814de0e4db1fcd0284a41da4b2a2236f28f98a1aff292e1411a540e9bf606ec15f397d70ff05f53f464944ad5b6353f6f02f67cd12bf22cd77f4082540a6f3b76909058c8c1325e4f1d2a4544853577b87b39eaa0a159f07ae5ae8a37989dd580b1b63a5f3d34b6f6cf2d85166aef7cc2c93aab09f64fbbb485830071d9b0862f34fc3d2c3756c5b5edc73daeb1bd4291062c38733bd3cfc560398cb9145b5a7b0692942b5b7738d7deec44a0b73385d145bffa20304926d48e137d20224e570c2f5b41c08fb4ce73ba77eab52cceb3c80e8e707f62ea658c62659455e522fb27346bdccb6b7eee251a5ce16001d905d89562d3a7dd25d2d29e9a4a5045ebbdfc51cc766d10233e3d1b5ef738c491f62ed94437f32c0418503fa16737f3fabfd808e07d3f6e5ba9896faf7e6cae33e1a11d1184b128e409b318ad00522415cabbb464110743ea9481b399504c137708868342d71c18c5dbc5f4e55d9c794936e589d9a0707683d78a4d3e95de061867d2d90443d07bab8f32b97296427dee89e6266039bcede6ceecacc48c860d99f766c55f2247f28383b670182469c0cdfefa8f4fe754ffb40673b07c76ffe0e9d063acef7af114572fffe169a009c025f614df41ab67d42eb7bc434ff94604b1f59f209e4f26e2146500b721d8c0784fb282566d84edeff412f31f3827efcf2a03078e78ba42f6d48d1d7a9ba6ab19efc1aab13d75268b95ea20dd5773fdbf208fdc974518151e4952cf549d668558b1c1909c065e2b3873783df508648e54c92c680f6695480de9043934bc3dd928f55be1d7ce5dfe6443778c565cc07849154426434c3587b32813e58dab18725bce10dd75652cb725d437800af105a64b09d5f2d3038aabc6964371b8f9222b3d639935dcae1fcbe2ebaa3a62e33d4c67a952a58d25c66b8a27a143c07d6da892024d18bff5ed093a902cf7140678850919afc6528bb718941203b96b7c08990c02703deda1e21ec59d42862fc06e72d0191fc4c967630ced6359c876433e00fc35102c72e09b0447ebef1786c7417c178dcc0c2e976e2a67e5d60683f4b18103024fcde92edc38ec11cf2e6207763a8edf28895ae1f603148ee3ca54ed6e4094b7e55d04d1adafc4b4dafd51d15a43734afd6710af5fb4917f88459fed6fe5c456d8505bad46b3d468dfe15ddabedb0267ebb76ee9567108e16591b9cc048856a4d09bea3e4f286f4a74e41f72b42829fdcd37d3ae73ac923e0c0d03cc35dc86cfadc8953b04331be9af527ef01798a888d945914468d75813bb7e230483b68c719681fd13563ae4181ed8c116c7506164001772e050537c2b258beeec16c563551f234d3f12706c82461ea6353471a135dde5ba048bfc3693814034a410d7ad3db99320bfcf4b03680546f3a7a14900677d2ce3e98477cd7729017af5529cdc75b88b863d1301a7803d47035fe4f5050c4e3a90a09f52999e8f1763a321868bf6133ad04f43ae12a9d8d98855cc18143fb796c015eb29073673f8f8217bbd66266e536b489f518549f84e384c2879b02b7335943c9bc8ac64a4ff9bdb22cfa3f6809377fa8670f7ebddfb5ab84cf9a0d7d1107d5ba4ace589e3e74ef63f5b0d334ea25b6ac3db4f22a009c54eaf821df543550880d502e12e639c7f0ccdbe4caec451a2a57d4ce9f20a1c6ca001c15e910a7a9b962c88b231dd2227565a489e0438e89fc8e15c39c7d3498e78e95f2c7a83f5ddf8c83bac07ba787c30a3228877e730c4bc102dc927a8dce9a01d89b91f81d3cd3285c2038f11c8f03a97f73c67288077010f59add7733158777e433cc76c00335e6ea4926258f2fa6fd46b636d4a3e0034df218551bc01b8c7b784565f7957b1c309a1a560548364353d39dd5c70061136d79ad7d316708be0804394aae04e3941faf10a63e93926cb88f2d69542d59f0788a3086b51c123440d051d1b1ad99f4e5517d88b49123447cfced65494e3ca8b40094d1068b2d77caefe4a2e6ee9f4af0a78a7d3b2af41b46ca8645bede7b3dcd49bbf285f10c9f3369a3b506efdb668c13600d1f62e1f66680a8510acc6579b2eb7d131287b39c23b2e2599bb93bf06cc2021cbbd738d9f7de5797a7e998e45ffb9789bbe2b7812f7e17ac6cd7c477145580bd72aa69b8ab6d8e9d05e21f10333cb61271043ee39fa9ce1fe3daacfa6632c7922b6028a0c068c82ad661d1c9a7a6a6a23efb55e2f8cecc8be4ba8aee2d1b7e4ae20b16a72f5320bf2e0631a54f50e6a318a0c6cf809b89d47d2934cd42d45bb650e0fbdc42d1e6ad95758dbd486d5ab268e6dc6067a7facc95c0cf9f21498114ab56e444a82be0c45c6e960b4c0842d15b56280f4d0dfd7fad9f19e97313db2afdb7c4fa07ad12d12f4ececfa0e80de9795444dae09da4152917395e575211440ece3adb542e488bb8f658f55bfc04b6767132eac2e4fe0d55ec3ca6578b64b38f5c60ebaaa4a8dfdd43cd104527468ec3b9ac295264feb7df35eabd66530db1daf69f632d57c8cb73465a8e349faaafe831e481874bdb5ee57d8aa0496aafdf906b7cd43b73391d8baf171530428cb0349cf32054f58159da472ee97d3575cb3848d0f8b765737c6aafa5261511b468a7f4c7c1dd0630900d6269cbfa8a3a729f42eba6dbb6cc421ab4a94aa1622b1b37549f26215e445ce95d00ba94c85acd5b81a7393d954d4ef31564f8076ad6a4aa0f9c8833fff023b25b01f42a5221d613560fc52aa58ad3b76c3d22fa477ef121f90d24ef90378ac20345a8684530aac421259db7e80e3d10d049eb9b4a44ce261ee1d8a209dd2021d71ca098ddac50ba94fa9beefd62f69366a774fdef25b4db723e7990cacfd2cb73fbd9a25d296e10374e1fb639388992818c9ef54df331667367ab81f22bd7d7306a6e0a58ebb293a90f5fff4f8881cbafcd52f5b4450cb57de1e237f230e861505e10344d5248ff7e4901e805349a16343575480a2f45a8432a35c3513e3de112c188cc0aaa762a640cf3b9d9b882560d77ba759475fa17d2502f5354d02fccf887b33f90ffc4d439a0d65f24de2c928295a0af7bd5bcbf20279838bebd487fdf556a8b56a41c9080bc23acd47afe44c14f0834180882829f203eb4e649a2fc4c17b1d78e07bee539cccc189f9105c2bc131bbc76b4a79cc7806a1e3a712db7b035a99d4157017796b04a181e9f5507c0d0c9bb0a034b06372369b24c59ea3e731b67cf235cc85b4bff3d8c50bb010b329f8013eaf87d429c165634c97c1bc42f0b49f2a04d26e263e110219435a63134a8cdcc6b39b0f34cf274720a9df901a3ec59e15ebd0b607c56f69f2b6bdeeeb394587585708c71095010db9d63e1759796f308bc6465d8fb754311db4c6f89a9c9a83576d10b419367684d460366942543c516fc1804515e1472f0c577866037f08d18eade3dcb21acfbabd902b9191a3f870a5a8616623ac40a346407786d2acd1c4c85677664ca6b8b0a12e971d6da042d4df2fbc7ae3ece67217969b8012d1d814f560dcb7032b376ee7ca5437f204d00fd393f798dbd0143a95232c8c4540ac1bb9e19f4f80e21cb84950a3078473d7dea299b2c65eafc52baf066fd4cb6a63a6c1fc5c41424fecb80e3d365d65956888ed36d1ef15de8ec84b791f6dfd40e11242cfaa626fd95d091eb1553b7d47aa29d86f773656020f58ea5fa6d444c139de132bbdd46a0354052b7af74a839ff19f338e56d44d1934bb4840b48c6bfa4edc64796c1c2b500f97aa045bdc9073906e92f3bf4dc77087122f044daf65ee8722f15cb4acd1bc8283e70141090dbc3c7dcac911a0b814e13083ed9b771022bceb3561cb5251dbf34e3ab18a65e256ecdb0caf1fe751e28e5e45f0ed6eeb3f3aeb50bddeff3185feb3288d804ee935d76d491e7f1922df13934f6ea3ad150b370cb213cdd75ddf676ff040643c338ce3db80f740d25e2a18dead01cb9e857c00cfb590d64ce88d8890e2cf215fe1c6c9db360fa9f71ce863268a7e5748463d01edf8e95e85315296602edb9cfcd1967cb360c01c504c7465b5fd40a8f9782a401f652135ce1e02dcd70d56f6d04c47d8cd2863fd166b677cb93e4b65922ee9c8c675d317a7e1e5ff267ca2cbb04909a52aec7947ef8d5a49c28384f8d2f20786701fe5f9e3fbd322bb9cfd96572e847161734cd84769dd85f14f2d08502ac607667228c5674f990fb735e46c570448c374b9d85728043d97bf98890ead5226bcac1a31254f96d46dc754746490e7ccc320afe242dc5a5e6d1370974c28cb16ab925f8a4556a9f123a9ad0f72d0a196b3a1f97af7f27915a2bea3c31617c810b7414c672f5cdda1f894a5a308675e0c8fa715aeb6a59fac543925b26bb93f997e124e6a8babf8b37bba5608515d023a2bddb93cf977d29de376cff5ca8818d75875853909e6976d57ddd85849d7a6f9b79a20db56132a1103f2d1747f894fc3040dcbd780a08d1f7cb33b22934a47dd70656f4e80f6db9b90fb03a77387b01f8ef910aad5252a02920900a79e40609e8e29923397ae3fa7df8f2684b896dadea0fcd2728ca64eb1095f30be966540ea72fe222cfbec6158d4bd28e881735373fce5f8ab37be2cee3f8d2c3caa42484d0ab3b822df7f1c95b67d612349e77042f780e124498fd9184f8b749116256663299e15b30bc643633124339fc67adad44b11b98da4fd25746c9bc14d60b9b5b025fb4f7d44ecf268ca72cfbd03459c3a794c46d5d9a4b168402f43ae1e797c865e6c8a4e2213c2aac94da1f8b8ca115916dd53dfc92531b371dbe98306b4d3f3cab73e15d58a410ee85c69f6fae8bf2fa5a3720927ea175c6be74dc80b73c72a27b2dfe80047f79e48f2e7bdb73bfb590cf508cac8328c08b668d97df5fd1b7b99609afee4dc878eedbbc9993d5c439f58ed0335e00bb55ce323125586f32327e0ed2d82d548ae7928e38d77e32b84fb95792017db50698808bd467178a87a1ad9263a8da58d7a3c558c01bfed8327d6999bbaef8fb4b4f3b1e3f113152ea99f884a267c3fe59f2d2bb2554a5fa62dae873b6b8febbb98284a27dbb15eb28c705cd2495c3d96c0e89e631ea135d78c240a1736bee771c50f3e1c41b7c19c0ddb28f527c0a408258d3f5079e5052b73d55c17738d92eb230cedd292b66d9c598e52d9cf77203744fa126814a933fbb47285eb70f45a2fcd2a3ab2bd6c9e7dddf222533fa712832c51400767fb64abd58ef7326212008a4f2daccc3c6e00c27a600cb9bbd8c54e8cac707d3efb66cdb0bcc7280cf63e817fc875c48c18fe066e445060cd93df989d98293cc9e8655249773572d368119ec59dae4361869bdd4e74d666263fc5a65c20f901ddb4063e0af9a054e19abbe628758516c81d09e87ba0d549edaa0d9ec05bdfbb519fb18d03e708c3fd19d7d6f46ee591021ea7e2e641193eef5aa4f0e4eb96cd7bfce815709c10590f1d729c5b01bbcf0fb776360c17239cae271a6ccf37a0cec2b7765379285cc80d99203446418ba08d13f936aa348f62eca935b1960cdbfc530cecd94dcb633e805763c67544780d031566bcb174c86826f424cfcdc2cae8236e74eb7bb46d28210731ae9c995de7db28cd91e03ecb0cd465f41d8302a33af1ac1ebb32cdb2b3c81e2a16c682785221e684c753070ceedaa232dbdea4246f9f6544881622e14e3d08f7bae061dcea8c3f0ead7225b58a0a73fdcf91b42ae1b248c25268631fda27d334922735b67f8848ce3dc77a724268ccf861378e57ee1973a6837d165ebab6a6e215a2a0a6865b17e3c71ba8a5d3172d3aa70d49e39323915642998119235a9f71b253aa9f7268dccf7b8bef6b10a3149465b8030fffc2ac339964dee9ffacf42627bd79796e8e7c863c00f1d146f82495e0615d7ba6c349890ce62283414ad5473a395b67c83a9a910918f01a275ac2a0c1072127dbe4979180d51366287559b4f03f339326403870ad9105f25f7cabe34aae71aee27964f632bf4ad507bd61e912e25f90dda744835a53faa6cc5ea83e1aa9b9d40923236ce0e03b6dec6b41a6ad5a03c5df94734836e19c6db758201d5c099263f0795dfdb947e5ba15e7f95345b3dd857b903ff4cabf5f1f7b0caf7e9e9aecaaccebc68c27f5457b8c4c8f865cf3a579d8a509471d6fecfafba1f7f3674f8264571e683cdcc7f6acdaff78f9f1ef9be5383cdecfddd251cc5649704f9827cb36632eff17b21a17aff4f46556f194fe2dda608c5c1da787ca7d50cc4652f132cb04dd4abd261e73d0f8a4d5fee769885d2ad5b391798e4c2016cf326fbd3ed8deb613fdaa3e5f50180bcfa8b46339e5417cef95169e94b87199ced87aa52a70c3d99fc6001504c87ccd474c06aaa4b757241511d504e3f08cb683e21fc2d4bd2083a964b690a0bbd1fcddc9f18f3098ff2e42190b539bfc107937230ffc684fd369db6849773333ddc039ee97e9afa8263ed81e030bdb962116b24dee554242273f404a3cfd5f4eac038d376f62a4ede321453224e4aff723163327b9c5f7a9a61778e8b444cd0e86e01738c60c196b5b938a1b3a5358755754eca62e9ea9b2751a0325b48df6c3e316fab32d15c678e3a818972d6683cd129db93f48ae2b250c45d0e72275ba105a244d653a3a20c81af54c0bfc985333ae13c844022bce2971acdb7c227f42b3412e8be2f7574bcf62183d1f99813abcde530303eb975e4965441f6119cf531ae5e22bba3501891c4f0517482fff5bb8bb0f38aab6b015885fb1b133261f9d167383ac6ca83fd50f6242a5d6f50a1843d5bf139ad7ec2882343bcbf03e0cd822684056af955e0b25d0527ab67f510b398f24f45e828cca84d3205446151d0283d76cae72fb4ac473b398bc36d7897716d1fe09feecbddb1c379264414639512c7c0e160079206b204efc08838e30d6a7134e71ab133f04305082f0716e2b4b33bcde9a34decee0e58217c3b9ac88fe35b681afe605ab20a41505c080e8b559cbad1c53d57a0c91a57efa219007d4a0ed50476a5e7f3fb7a243378f54109ae8cbd23eaa260205241d292223f244ace4ea6ecdc68b70f811247f3aa1b88d41a46b5646339a359c343f44877161db899190c297f0714adea7f65639437d4105ee232925d82ff1283484afe911291b78a213a3bde95c10084836b90a92d7e9e4c8ac66810162cdd356c3a1225a258af59ae6850341204d330cc16f548e3ef80ea3112bcd5029980b9bb65506466b878b3502fcdb868573af8463f36bbf85fbc6aa8117c006e455a3ac0b7e5d9941d392abb3f54443d90d7c287e6ebf2f13ab36aa23db3116f71ca523aeead82d362b78bb488d10cf5d512f413c8b87ef53c226f1ebfdb84038766ea7179b858076cbd92f2e62c132bedf57b9e42895f3dbfea3d32e4e083af99619c5ca18dc60d249dc9101be12ccdc09dff3d2c60a6c61e7312be5de81cc83c03302fb14d855ee43f2711a2641810bed8c9a61878f87374f73ce36fe1e0da382867c4d34c18576b45458e1837255703c81789b34b324acfcf4d041f458029d957c4efa786b88bbe3ba82d567e0467150aed81ea88fc8061b6716425a0d30add8c96a96a9aa83a67a5f10944080afe29f910abd61d4a8855b58cd3a050c4d75534ea571258424b12972bd873c67f6dc18baf3aaace9449f009e7b41e4656bfb034770cf350708baeedb9de81f39a7933d957556893ebfa9464c727b70229677f65ca2fc7f1ab516bd7c701990e32ad99b3e85f5c4414b5dd5c62362594a48704ebc80fc859833cf09da82b39528fdc2d532762b80be8a8fa2fdd1ce92d9f750e5b08daf0bae32258e6c0b756bbf8d27bf12aed086bc300c109e15754eb7905973308400a8932a140a0bd5c8b15f899086b71fe8bac438ebb5a27e22766db4b36ab58e5444b019d97c670982500116dce9e72dfb9239905b5a1949954d23c1f547c2cc07cdee04a95f2bf600aa621ccf14f663033bbc527d1f2c69f2f47363dca1d469e652c80672d1340e61a6d6eee97","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
