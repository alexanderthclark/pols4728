<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"4e8cd1d8fba099f3932addde442a4b6f51cc34b050ad9aef4d01b7808ea6c9f0ae62916a10ae57542b944711d7f4c4a3a96dbe2ac75cfff64f4aa4cc602b36a2d8a4da6f79e20829f43695c38e0cc2e6cb0c50310c83cc04abc3a1c374a82e7a44391adcf2ee9e7a4fb82dee536cc5a2729cd9332827aa743381750a4d5d6a287485333da9e5db794d612373ea8331f8b46c3565ce26f118f84e31d2ae35cd76b3f6b572c967d35f4fc78eca6dc6c4bc4e84ac498734520c9866320b5506b06542ba7eee7c75b4aff3303152b4bf5353e0fe9042baa44250322f1d4abedaabb59421388b831fedab68875cb7f2c9da17f8ced3d9165ed5145b84e58d3385eef02d5c4a631ec63d2fa4f832205763c1f4f8925ca642da3da3ba8d1ffa33f3362237d108d0c8d13f6b90cb6adcb2c30906b0404fadbf48244960c0e557dc29f390f68a865ab52b2487ba97df2170e3d0575deccfe8e66535e01e6b8d243c4ecfe4c0ccd6933e266c42f78eee0d11d72963c98bc757debcb842a1989b0ca7ddc31fcc8efa63159896590bfc04c234ada3e6ba127c90ac490f33e856edeee4865ec1ae3bc8599dc9387ff305a8304b05d215093edc2e7be89ab941c6c842fce01ad2fdff45eedfe0f13823cf2d9e94e066df72162489f0bf57c70090ad121a38291e3188b798f36a6327b9b637f2f8886a8cf39b9e1c1f772fbf1927cd3f50de2e803309e5c698b44e3cacdf56807be0ab71b9f5dc0425844610bb29a7d4688f4ca11781a79d7903b7f9af325a0e31c1d0d81e7e5fdbddec3a16098fd574586507952571875d0203b964a44d357ca470293f978b085e4fe50874174b88a398bd765ce4f66c8564fe9d848cc238f7d5235efffeced78461e67fbb83c1531843569dc43026544e7f200aef91695b207b7467e8792969645d82a99362671bf44e349983b9481d7ddf3ab6ff7c4da795c018a60652c334821c8ba5d14d7a436f633b4e9129014d0ae8ebb4d821d8016e9bc18f729594c50adbac0920b71ab6cdc940811a0d9bed74c5d93e6efee0415b2baeb6961dc3fffaf93ff81fa49a1d97bd1350fe379718f290057364229b486286aa70b0f2fe9f8a6f4633ea040d4c1838dc7b6f805ca96c619ac6b606e0f90ba3d146b4c5c1359c3dcc255679045e88a0474fb01b22ab456442e4dfcf335bb9db0a32c3e8f377470ec7b530b5cfa49921e406e6de2dbd9829f1b50e450836cdc64922459a1c6b724d73a446b40d15170d7aad9c094a70a8b9f364cd6ce8c1dfe5f1867e2a1ab032a54a9e15d0fb18eaeffbdaa4a5bbbc0d70d2b1ea2102a0df5756dab4fa933414575c3f67fd2fdab4f7203588332f489a83d7d394974e32ebc9eb2221c6cac29c3aebbbb38852044ea0e98789f4ba7d6f0ad10935830bf4e6dd78859316da2153a23b948334e225a5f4b3e6d50fd722bc47a9e33409b88ec28d0c4f5c68437c6ee3ffdc8d142b220c829fb1c580ea0f89a4eaab8d02ecd0a194d78054706e3d34547d506308c4498ab6ec78fbb72f3c344944c80c59a4d47e122415375f88b94bc9f3659d584d3ba53a9e7b9ddfc72d4d375b7833b75559b9ecb0a96623c585b8788ac8cec3f559b953ef43c56aa336f341849bb6b9129659fd1b78ed4eca0dfaba6776e2fc9372138d65ea8c477cf54184d41cffd9dee1d190dda0607912700af2e08cce0ffdf1c610bc92b3a230a364dd346fc28101ff15e5bce2e5a936e0db101ba245b840cb9c401c133c1f2517bf23e64b6a49615217c37a5f8114a5109879b10f70a508df25d707dda545d13391317ab61d772ff95c6e9af53ecb15f1275358dbbf5cb51324bfc75a490ef944ebb1c768160f82a9fe3f1fc33742adbeedc5c3ebd53d5a2814fdbc62ca39fb21e537affc7a05e6a3580c41b2aa416ba152f51bbbd61371da1bca2cf8cf8ad5cd633f64a958a55e967538949b80e8a44261eb07173a48961f932874351be6691cc7e76852b78638242cfd3e68ab2f1011d89256199cc5094df3db7b542c8ac78d8c11233578b3aa3ee6805a244f8c001e3d8a97fc1a1b80d0925c41329fba8ec92268d94a0a3d30ba9377ffb71fdd548360939c6c7dc85311cadfd355a79a00ceff44cd4c0a6f379960a68d01bd723f43c4434e1f69d2d2971190b4d310fba73f0eb1f75f00692ad261a42987b97efd5383ae6a3c4468b615c87a2597108fd6886b2a4e5ac0f4bad4a8327221eab7e2ebf2953044b92af2429323af3f7f1e7c89bee63430fe216a4776a9f66a002bee20d5a389035530113e63efa5f5a31cfc59988230c025eb9afe9b641c44cd2c1d1bf85b21259247f85779ba84d8ee64955a1e48169891308ba492f7eaf0cb651ae1262f24ed05b6cf438eb799b25596b11d1072a032052cfd04a66c3fb3c3c86c828be25c3e3ae7a90896a88583f49ca64ff270510955b4975ead15e18881a4b5dc14132987b899d7032a52a559af839aded82433edf7274a00205c753a98f8fb37818dbe39c0dfa30ed6102e1586a57b69e563f8fc9410efa205d16de3fbfb728a3fc3fab8b81e84f2e96498974492aa761b4b388e26d78bbcea6bb94b5210e01f770e1d35df14b66c2a9ce11593681c8abb9e6139ade9db27d22e1c863cd680579316f121dbaca8b65878724fe0178432094eb6081277eee7eb43f38fad428a5aaa87b2e291c1659a4641dda77b541e770a6429b1b2db6dd4afb373266788ae672a0b8f5fd64de725b337392b372bd79e87dd511950e8b034d4b156ad42042dcea2f9f73c59a5684f416fa43c06168ca3521e568b69acc8679ca09d1fe21a4f80d73143486520a240529a63f8cd65fe740192e4e1fc6c0d014bfc0581d1ab751f75d0fb404bfc40d6064a89429f19fceabc9a25b2eeaf5fa3760fd20071de331ee5d78f4331a105523e4a289fd5eb0664cf378b62b8347ab8d099a62d4f42de92d96a2ba4bf08f37ca6e85150f168cc43eeff9a1ec5e2220fcc529e1ec04ea16e406c3a115758a1ff5b08bc5284a9787c7973e51e653876a629a976e26206c03c32b1af9f099e671f98473712d905f3f666410b938f2f67607afbdb732354cf57c6e55f1fb9d58a583bbb1321160f02c95e9c089a315efd74dbb5e6a29d7077c3ad7654fcbd7d5327ee4a49258f5bd4f157dae53b78be0010ac7c8964b25e623c320ac658ea90d86653c8aa97bde901b19a0a88435c9fdc4d2d660f890b6ddc5c6ab95cc47f977542d8106521db9ad5b1734d8b8995b84f0b7af830a8efa6504f278dfbc609af3ec637db314e054fba57d9b5a434c3108ed724db16bdc911ced64d3e554eae173caf054754449ba0874bee474d5d6d341c0debb7beb7bbf1d52caf84fd356b9c62b34340b98eb27a511da2b24fce32120e728669ebbedbb38b50f26fc6f51bbdf22498951221d768cbdd6aef4fd4a47fa2d4d2bcb161216ee9cfd4c7239b1ce3fd14ca3462660bf14421d6128415f852bee08e80902be4bd6cb0c4b56e49c877614cdf9d975ca50c6ce0a536835609d31fb2249f05fab8bbdb61f76790f57e049757924895ddf9414e2f67cb12839c8e28ab10fd395ad3528f3ebc17a24da02ae9409796e63e5d2653136dfe998ed4090a8d4d44a7ef45d2dd9ce917c37a7e7fb879db2c13ae22c93fc9543b78c49ef2e7a4dabc3fac6dc30c4df8c812160758b8db78ebe16cb4c018d5595f1701cfbefa3b7bb75bd12a3e5c5446f1cbc91818ce6839c5114a5909add533fbc3c7043eb0a5a06cb844bfdd081fe2729cb127fc82d615318805fa6b8e4b392152a491ede1734924ce31b88e6091b6bec16d44827b8da6dd75a6bf6c12864398819780497ed100f42ccf6285a3fd4248e7b52d5190e746a2671c59094e6157a6598cd086181d9fc3e50d496a5ba647375aab35b7138bc70466092d1395dc1541091e0f603ffff0771ab859db6e579fb9c8bc0480c0b7d8c760bcf3e78d23d3561103418efaae91c9d373886c3f59c3127594cd7c9b3ab4c8a71f58587ade8f633578a2fc46b91528144f21c959cf21c64fad24ae123f904db131f40b73ab9e8cc0522a2c0db7c8edf99d43a93323d5583c5efae9238d801120083fe17c77fadef1584e594f50bda7e62bd382a200089a2217f2a79aa5f5688a67845b580bee5de842bc55662301c872066630f93c6e9184b6726e5eeb1f884620ff9263ec71212594123f999c446c38b984760466a3543e7105c9e0b2b8085cbb2248e3dd490461bfedd078835cc49ff22f3f1d84fb829ba39158566b91bdbad17aa42c4a204a1ef65a3594371690329c159666fbfe15b167526c94db7eb65e13b0b4c0350056a747a9e6b58ab14fa01a804c1a80c4493383c38110a81a95b48f30f31f832750dab1549dbe22dc75c5e5aa7c942370bf741e50bff7cdb2364088d9cb78a6dfe72075f5196fe877502319cf15599179b27c2de8a476a775d3735a3c56c54e1ab4017a960a7f6a9656a23030b395158a53a39fc29b3a1ffb70b4ef76b0a866aeeeef18176b749954b7508de3ee3bddb08017b05cd2bb1308890603e1c371b7f1fb5527032582d025a8929574cc0d151384d68b91174117030da8e2f69c645fcd36782ffd96ebe77109b0dc518ecebb3f9b68e300c2a3f262172939c042a4976f238cdebbdacb2dc600681a2d70b150d257c13f92380ccaaac6cddc308a39980a4b692d122bfa4380da13fe3cdeebdda5363f27926fe84d87bea75ccea3f37496ee129e4f169c1e743c088dd619673387950a1da9b2b31e060a1f6560b881332e16a8b4809c8acbc0d3293eb4ee86c3a56e6200fdb4250a66342808dd8b8d9e686db40ad0f177e1b65804f7d35f661876f10758abce39d544c9fad8ecfcee7ed07e5a1d3ec6475c24655beaf65312a807e2af632f6b58d1c163de5d423c55cd27bf96649d1285e33bdd52e7198a7a7be566f73462d8c2a3d14ee38dba33eb13f43b090e79259122f8f7882ee2e2de5add482de21e4a72a1275b16daae254b7e97e614cc66e54e7e63efef18a0cc5e425ac1007d2b2622e59cf5f8a892f18cb42dec43fa2b22af658b93dcb065d884b6f5f2cb7f4d4234e295a5ce4dfe29f34ca742b7f09f6822c1161fc512d2355293e85d66881143c9bd8e5e3067d23a2b0906db596692765dc5dbdc20ca680d55f9cb77ef1b838af846c349a9b542fb046b35ae28cab491de935b922fff1f2205a48d40c2baddd5903308996ab92f17154adb6dd0188600e7b114b3a3d2c5460b8a40cc494dd337ce07dd1a13e948e06d7f4e6c85525b33be3841052d4553ccf97ade44578b6e6691cb0d169dd5a3285f82c0dfec28a48d0003621b06f0a65aea6268a8849ff1a88502238b11fac4304011fb7c912408b8136aba573cc199c9ceed11b192c3392c9bcbda3b87e3d7dfbfc1909acdcd15ea22f57a38527d867d8ee6d404f857a5ec94a985b4c71b17292477f4e4c7a8b3eb6023f804c06f9833a1462539c5163a1a8147c253ce97a1c5536ce88c5051edc7f19b1f097f25c7412ecf84cce5f4d4b7ecdf18cfba6eaeb4d3b4afbf8d1ecff90f69db7e1a8b270e07b10a758f05d866eb2b2001fb6ae0700a0fe905c5e55d4843776f056be6cca309b4841d5efab7f06dbf24f9a5ee0cdcb943829add0306bec634efc201e9418390a4fc177669fb09c3bc636ea4fd779b81136fcc4d47c2114cf58e295d0b20e590a3015c8a88930857b6983de3fa1b9d441b69847ffa6e15629da20641eacb4af48004edc0d5911dfa43c9b5f2496b1eb4b8e1d09712f1413ce3639182b80445bff727b56c75c1adfdfd46c8647044daf7fcdc1a07ae65960dcbfe7ac3fe43d2b9f76f8fc8d7b44685743837c4604348346a4b5ff731ee9e1095d397893f5afd3a20ab10e5c038f93cefbae9cb89f81de55cc13de6b1ee2af95963155b21e72703f6086d171eca15989278edcf6c417eb81cd0f736fd65e1b679e23a25ee78477d7c8a8e8c51f097d0a9cfdca6751be6155f2f0dcc105893ff1ae6b20dfdc38ade733c105cf5c6621d5ec7fe57063d3f6fb3142cf4ffbdc04a089ab87584347bbb86828fcccaed1105bbd6f09b206824a2df4ca6ef4ba7fefa6b66cfc170db42083ce1e0a90a669a21fe084c9929f50290730c20007432228d57513f89a57a2dcd368992968975fe6992137c87e2343ad72909a028643c01b7161ea75daf89d8f1cedb6af61f900a46b19a2c9c95e6441f89238e7f8ebd36d36de99bba7ae694a10cb2b2842ab6c45281c49ebecd39e5bb3fdb7a7fda9469bb45f42c8c616e3da0b5b9d0c94b2e2950548558d56b45e290c41e1bb1b5ce77fa9f3d455e9c70c341e3d855d5a46d526c2022d8bc7d150a33d7647cf9170a8a444ca105d170dca137f968c3e57838fe098afb308a812ca9358d0d2892f58aed305ceb3443850baf336f41ae48b2f66491fcd27c3b636483e57d2ff992b863e501612553f798f36e0f0d62e7b28d32fab93c867a99e9ec620a173df88a63ab3842dee2818fd81fca2a41da06527e6b7750d7930bbee98a26b03893f23fa525a7e7c520a8dcf87bc2a82a8721bf654fbcf60b16d3354afa721ce6f062f252231f28a6aff48911fce1d91c023511f9e68c1dd9dfb23e0c716282f6e1071f514b0c4b370f7294c7e0a96a32f0d157e00461bc571aa4a466d5e35abe59591f449b5775ee9e8e6cc2e193a5933bdcfd97bfb383aa2f22efc025c79c5b527a0a8d19b70d7bfdf8023f689179721f3417da1649b9c14fbd0bb7f5890b8d7da26147e1dc9472ffd0fd6e4bac4e5e411e683bd5dbd7e188dde2f9bdbadb731316e2824c741ba96139c926431e902fafb45c07edc308675f15cb7d6cd1f6b888fd9ae67e5499a3e1422b6413ad748c7a825ff3ed759087ed66d39a1abec899ff22672b82ff81b06be8dec9cad8e47b212b92ba01174a60fa5e762d9e1e8709f8435060d73cef0181b5baa70b9ccbfb85d777edc4e0da3f1a08a385fbdd96e34ffa45b9a5957b9a9f92d84a3e5dbfd1a0844c99b1273237e6f8316e39e701ae324c8fd05ae986de9127f9877b5de3236c2d32a38d4966659ed63ebee5ae85f9cc79751109a7db61978fa08703e97ddd3ee3b4d7d770d4a7024ad8e830e15c64719526170032ba00610426fde9d0a8eeae658833a89ef46e10089e11b2a6036f624396492e17e90367a39c8372d0a4fb26b2381dc0ce359e0c48d60841b8ab309ba1bcacb09532c14c74d8a6f5cfb331e65dfef3b3bea1d016b52ed90349e65bcff9b44c82fc84c9bb001a81a197ba122115f93f0067158369bcb32b27d2255efae910479c3f75af84bc0a57cf83042a5ff20187dce6bbe3f53c2ccbc9dc9ebbdeb5cbb754c0db884391cfbc3298aed87e0643480b83896acefd812c009027de3d0862b2f3fe2b748092770aba171c8457467f3004bf2a2611bdc6946397ebaa815ad0b83b3a89493da413478ba8483fc4ef0bb970c1b73972cae47f7d4282f2c318faa26a7dd033b793147e9a49421b669369e9829ac71b7a9ba93479c1e724c5e02e5f5f7fc76209a1e63262c2d50e2a2d6e61f3d01d4e4a174acd78120ebb4eec3c7f68085bdfad384deff654ea45cfc7fb1e8527ed297e57341f3a73b66ac35ac9cdcf1d2d1e070715364db89e7c6d0f2261f88253efa782eb88690b940f1fb302aa5f44e275d411dde0dfc9a7a5c0e3cef73df07da81ed36f9a5630400433dd348831f20595e56208205323955bc0f3121a9a2e6512c48577e2b573fec2ef391d4e0f14cb05f27fe5ae9e81756fd7c63bfe05d661b06eb980516c29ca11336b588f67adb9a082462342918bddb0e6ee4e511ec62e0b2be40bdb979413d6ad6b4a1ff0713efe407c866d05cb4fa31c9bf478c9565d1ac5af5afe9707d1c5c030fa4c0c43908154ce06b191848914c3221183c8a8838797574dfc8aa44d93ba7cd3a942b6e91e0261266b3fce2c16db33afbb12cb0c6a7fe023c04c6ad240bee4ce2e20bd86c1cd420e2d4c1a9b36549fb8a2ca62dfc2efd3956450c4a166b0cce2da55a319657f2a2cec1b56ea0341973856e00278dab70f927f920b4d217692dcd7759429c057852dc34be7f9a0f1e3c127b95f2582b89577323a4a0d92770daa355a36be206e3e3ab12e02794ca6f8a7f4d08e315322956a772b9d28b6701f08c7f8d66ea818c4895909bc0b91dcb070f28aee6200a5b488db4bdc9e82d6ac743f283f8e2e20a9ec69bebfd4e45b4ab5cc414d23b0a0455bcf99fc53ea33fa51021897635882d0068b0742221c3f7bd07d1162d216348512196c4503d19dea322ea317442e8f359a46a99b5ca0670c7373b8373a5fba46f97af1b46c968cd7be24b8e6c5642196e0aa3f6e7c305d29b8ea1b129325ee60c1cb47be2b4241f01fc0f82709854c05a0f1c755b140f7143b35afa1c72af9714087f90b9356b75c84e9e2df5ba8aca33a6b04112987bfef25b7fe783030d8b42cebf364095a8732b47e55765022068362b48177520f48298ab51bdfa40032330e5c994dcbb080e0b3e089b475220c3092b4684df9e1ace4791a0238967f2caaa76537956133a8c548e2d1a0abca6e470f0592926f79c020a16357a6c45ebd8bd1006ec9e73773dd82504874aea341751181bf7713b7bd9c9979b764ece899389eb244a014421ef55f9336f2d93e59567aa98ca34f25895a8be8b34dbb6f55c8d35e551351c1ac5961a67ff6a74378e85b9b97409c9ae8c13d4502352c8c60df0166e19c34db3102165805fd04d0e72a7d8e2d0e09ba16bb80c7b5353c70bdaac5a10c23fedd5147a10f7ef271524213d33de547a962d2f737ea97c2800957d6cc87a63925b4ca54b3e80e11d0f0c9e1b56e5968eb0082d6afaec452b7148597fcb56bc91f8ba83cf83535e76f40402e9f216fcf9d970eb9b2145a5373d051f0788c21b24df4aa89ca2b1e7402b9bdb28448f17e1e6dee46bfc9dbaa2cd88ec27e8d7b8e26669585351e64db7fefbe3ac46f5e29e7af285676a4d6e22122c7c16956a8097bea618a089c3a75e15c8c734b9c856690f39b286a13f925c7870a94e32b3bb52c69d207a4c3028ed8f5902096a46803491b23adb9587f88952a50001bf9ce1f4203b244fe2417a25f93e5903d1a5ea182b8ba7f464c6395d98a4de464a5d5f9d4c67c7cb3184d332065f16bd660411ea89ba1d3874e532b6e7a6f06f2c62d824d7f0391cf9862668a3a55c3264eb1b5f1f90d39e79a59af11092a8dc3292b6ec39922e50306882a5e689268984d65cfb88a48cba30d45698eff8336503a045512803cb294b9201908f21b27ab16d05db318b9614167ec99e1e89fa5a5576a74e3e607b72d834ffb6da0eb7fb9cdf066e764ae5937bd04e2628d81fc5bb7cb16c4c8a38f8df0e1e7b4385b0bcb50387218dbc32cf6aa3e998979618b6c55372c0081951a749445d856ac88f83d7aa3c41f752f5b29bd69cd78d7e52419f8feed58f463a04419552323972cd2056ab179a5674cac54d0a4925bddcd88dd9b08ff21ae5e90caf7a1619ee4ba0fcdee2d7241c041eded724e00a1f32121abdcd3ce19a431077ae8545e395a8f35c37d497f0377b1f9ae3206aba576e0f59959701e596e04d28eec9449e8dda48f251bd5df0c334abc02219fe28c5aecc91e83a9eb7dbff5347623edb6b8773ebc71e056d7be652f0931023893aff27fd0ce1d92348b4f1b5103021096067b1a07859130567601dc3de34ddaf326bb4dcaec673b658232f5a450394cbb4892697a1ca60a4daa3b28e21171fa8d7eda63c41d9ef30576724547df93a27bbbcdacb4705adac1b559dbe4416b92f01e68ff170b2044e39174db35eebca433186a39f812446ef1f5c01857352cae0ca2acb4fff8a74861852dcaf4a977ebed7d0a06bb18e023e0a3509def4e265377d97c8fdcac21972d6b600a96d1c52730a8b6bf1a74faf740967e2029d6af8eb5bee3aad2feb68f92b4b67917210e0207dc7c01e3175563f72c43bfd99158f3278744fbd71e4e9888a08a2e6b6ca178e0507a591132f1750aaa0c4baa1e642206d9e0c8c0076236f55d57138a521c1a2689ce5e02b66433e0c9a797d26c0101b1e85d40a353b821b2d0dfde69aaed1cd7b9e0b63c8d9281c7d5292d627b23ca20756a2eebba24bac8fee65a5a696f3fea60382a3b6ef234fbe21483f2862b60ce4b67373032ea4ba292b95ad0de8b07715dd37978d3ccec0a351d68173a315efe76d34bc6ede1dae31bff9fa3c9e636a7ddc017e8383a3e44bd0f5ec7888ea16e7ddf2c4498902e72b95c85349571cebc94280a4bf14b78d94112c13f5ab55f2b88d7885dad46c3957e3eaf5ca9161ba8624f3cc67a1be20da800ba99e6d9f0e305a198a71fe6bb7abd13d1a02cc36b7bbce61756ba6e7a32991c786032cb6f350adbfcc50bbcb069f9ff7cd164cb5638a77b95170651f12fb825b7134814b476c4eb0c058a7f7a88d0dc612967914f1c6f8aef5e21ba672bb56e769b272ac733e25a372606d024aaa24bc246f6b3744122655653451d7419b39bfe2c623a94dd2d7c2dd2bcd858ba51a5d2899934e535e92a2fbba049ec2cf0d6d6e84b1abc34f4aece2678c59cc9e1eb1fb51a372c2749fa3ffc56b2bf4006db568cd8d4bd4a4b52eb46ce827fe80f32973ac4f5e2571f657673854a73221880460d159b7463f497d5a5592c86f3bce0f2edbf9b3f59738ac0e1927ba5502225c8284ce4ea2a7a53991687ecf4a966c8faa36d156d958a445e344e580ae7a3664678be6f9080b3a7fd088a5da7c5c31e0bbc581ef926a7f1847953a423e9a9467bd937db4341a818779bdab442149eb7f820502150b2d5a80fa2bc7c6eebac5d616787a1297a25ceac49280144684f665ba596792ad62fee9c63a898c162287edafbeb46ffe38bd1de02b759ec33ea8a14fc136d309e605239b0a7335dcb4c14e786583d80ff5c2792d83e81c54f93e063cc281e0e49b877ba7c1f0f28bee128b7ebd1d9ef2e4a73447ea9193fd3371226086d2ebcf087c81d65ed021eab93b1580ed36212b6fcb6512e6d43444fc84c4b226ce17325dc880c94a797389ee46e95ea4b4266290576dbdc139cf705dd4cbbe68cfe36502db4902bec6eebe6306d561d33b1697bd6071eaa543cef939bc14620542221e2b82c48a3ce21d459718d9f417486fb7df21ad5d30031e7f43464589dfb7504831e5c8e78c5530910cc43945d1c6d0a3fa6b39166590aa12fa86e53b01b5d549c9f671ea697c1cbf3f873c2082909344ac7ae2e56eb46d32d36a9d2abe6590ed3c6e4f8ac71d8b10e674e9dc2248269d9cf90eca1feddc05b4e2d6ab2755f19e2df9172dcba60e9e97a554aa8d5e1f3cf8231eb8260147cf7bcdbc460a8254c0d878b229e2084335a77e27c02dca6ed41c74439827f4d127bcc7205d8ec7353c20f71646834f072f2f36caa2ef95d15b4c40693fea289509071b256eb52d4b524b639037007d01cfd6bba0e541efa31c8cca9ec16d1013b51a81c415d6a3a39b14dafe3db6dc38bb0949d72b9812b64db65db0b7bf90c173ebbe479f03bc6f95994ad426d7aec487e12b2fd6648a1f5e200f06369ae2b13bc44d05f664f58e1c89eb17779f00ef320bf92cbbd71bea3f31c446aef7c18f6c598f90ca4f9b5e2ea78b3e2b3f1eaf3eee08252b548daf2b0d3c1c904b4e0b1aea157e910a55006f42c2186b0902279bbcc2dd7555deeea24dc3e08221ef82318f3c6c97b17111558869233ffd968c1e2e491fdc41f99c54b1bed960bc4023493f3622b2b540a87d2904d15b9b88f83bbb4a08790a359c23956d70673802f7cef01c6b0b0396831e560cb4bfb34818af5966ce85be1277b999c8e8d3f472e2179036dde76e28eef9da67b1394a0ccad30386ab1a060f3b5e54448fbfbee4ff74b14aa39ed1074b53cc79da6cc22c4f5e92fb334a72bdab6991b165aa9cba56055b7b6e4d8a32a3d1d303015124e30de7bcbc52ce016754b4b15ad6dd864c0b2a09b31404d4f252179f91c57ca08d7cd4525ea50d02e9e4ae53df0ad9be326eedf9dc9da9d2a07bd7af649ace3369950a22b8ca4d7ca64fc1fb53af6e0a17a000dfd2657f97908f222dbba74f97e15e636041867e8e2dabda3ebfd4d170551162d28dc41f0b3653bc13712aca495b2dff941135e6731839b749c46d5bf0ec5f5820e71dc7967e23758063b66d61659c4b0f3c4706e68a0ccdb52a20848daed4e8900fb6767719c5819e5a7a0586ac71940014421709be12c0b1e9ac076f6c47b2e179e97744f205a6f2595e3c1992a8f5a4b839328f97cf9786f033ccdbf14dd18c5607281f2741fd6f0d57ecdf8769f0b6753266e5c578a730547dad2d7954a2de276797a685b7ca9c1e06bd2d5620131b5405d19c12cca5d6f69429cbc9e8aa3a17e27c8c31965902759515b8cabfcead6a1b304047f058f3e2dcc476a02bb94f9d4d599100d98814c4dd85d197a0f79402a2eb6e1481ed18cdfd7d0ad3621b3d6ad94fc825c751f67e6fd6f7301924e43a3d72d1521e373468df1aaad3853aec51302ed7faf7204872b69deee37c706187a3fe22238a0cdd5d47bfb534b9f2d2704923ebad4502668420eb4b024b592d5ed17788f83c682006762ac61a023c8234a58644ab1e43705889add788068836f4cf009a370d2063d2f7b871ac0defadb274c9dad8a3540d78aff38cf6d0c59ab65a81130948b46c627f3a504bea6b8ceb737b13760ffba9ebd7037871397beb1af9a94c655d83b98bbbf3aa74172974cef27d86dc3e928efcd9b1d095a660640f8b96614817dcb6084b29687862f4b44e2f5479af9c7b39da9a0442afe19b19d4fe184632e1a441127277040c4471a598c314a74958fee1c0e578961e0531c379650ff9b725074d3afde79cd34ff2ce5c453ee4ab77e964a8253854b347b004149c6f8c50fbdd5d8ffc6ca507512d70ddb4290ebddf8e766e6eaacc70790d1d485ea72f1841e4430f5b1e1a51f137a9b7246cd3e539d102b80010f004990e30fd17f568b0fb47b5ff7bbbc633ee6fde878c6c6433570f047111247133cbf5ea82bee21dc77564a8969c62beb00af6691feefc1f2743817e211527fa9de5125163912eb394ec91c8339511d5cfb8c1bae7e47c78b79f6a352944e9bf33fd2eea71a5322249ba9a91d4e5511ffcdb8f11ec199d6570813e59c84e00b7005d4ca69a72aab78e11bd036b623971843b3ac7000b1833b3e08a700e227241c6387132c3cd71c0677b769ac5574ef12a640c6fd151d55eb7ee1de90ab68f7c2064323ed0ecf96d2443a22c5e11f7e646092144732727bd274508122528774bc406c0b6af9fbe05bf7f71d3ef693b14a67afe2e114b1aac4430df15caf20c97ba0b64f53826693b0d71ffacd33f6f6ddc7fb09ac7ab306445df3ca8a9c77bb77758b4f8c77b5a9c54f39d079e3fd26ba8861db444a7c703c23c7affe8c19467a825ddf5a47c32b840f43279f8b09f41063935f974f6f15950b1db795df971a22aedb6b843fd0b858b46f6ccdf7a57de78ef867806830fb690ce6ed0c47edbd27eaec9a1d198f44a59019aa0cf3181737a25519f69137c2c11e331458d841aad599dde9d9c1c0ea6b4220e9a0181104ea89d4619e39a33ec53d1e7c401c5e37069f7ded8895055aa2d8674fd52274607f8b54153d12859c44f5dc2c14a55742ecf0c16867ecf03eff8f2739d5c2619456fb7aca85ab815ca0d1adc38d47bf5bc203f1dc0c042809e7f0ec426d49e649d7e13bf311f4f64463b4987db30ce7716d2cd08257915f814efe6d6a390c9e5148039d41c22d31dad02ed0a879e197dbd3d6432a586255d1d8720a3c3ed387e8f5d99f8051d8b68adb52235e836452100657c53104b45a360b0345b119123891fd6846419163f2234c62efdb3250154b8aac1910e14b8c05c1664296b6023beae7e9cbbcb7bdd02ade2081f4368fd44834e7d8684eb9268a4d15f45179ab47a96b7b99b802e23826b38cd39c3567be7256c78d8461d25bf05d8a7f96013c688e4112190a6f504bc97de3a3e5b7c15ac2982373d477d42f9ac6710ef35ee5996d41086b630529ef748454c8285b93149159a4f9b67332d70db7198e1768f3b7bc84f097ee2be24a5d2f9baf50d8cd0ed5c0ed971e8def2cb338f8e12dcc7cc8a2421fc8a5a96aac2024f9157244cfd61d9ecd58f95105df54a8237d06db12bd6651a9f251cbe90456fa8dc627515544b2421ffde927a514d42076526a790b5ba659124b69356fe771fbe2badc7b3a16b460e8cc4037034059b38a9ef0ab9b0bfa74cceaa761167548f918cf7ae386609c368cf418982249ae2a10cc96e7a70a8d737f06bd478eb9c89327e014736466d11ccb8a16736cefd9b4dac65e508ae6d12c9bebc834738a9f0a7268599be077acf0da4431d45d53bd233db572a388d0565b081da4881f53afda36fd01050bdb952f08075a81e934d5d342a810611b3e7e1a74fac93548b8d756fbca15f41c4fdd3a05fbd762eba79fac4f8335e504e2d4b9d4c1a8ea575885ec76e5ca8998db00fd08499027c42fbc02aafda77967425485b9f59b41a3ee29aa8721a0b86f4e89a5ce968b85527a147ee596037e07ecba66de5744a5f9142295439d21a4acdcc7b595e50a3111c39ef5e653757b48054a1b8d04801f4a27be884cb40130714c1ae1561137eae86694eaf54d620278b5eaa323475aeb44d4134d81081defafbe7e97100256ebf80ee52efd1fe3473685ec364be1e60e654ca7484b977d7af165e454c627147c82b0c758fa53f4b4dcfbfae0c032aeb67f2393b086be518daef3bf5d4f87a74e15e439e75f105396384721f2fa18db0d728c3ca63c1b489a96b7db60c9361b31af7fb90520e9be83354b3a9d014fd31b75f7e878bda55e98536a6b71b519da4c458907a4888bff208488e7c1c08c316760e8e0a3a7f4d07b9c169250a67cb4081b569f908ad8312da1500577d9a004b61e2a711ad5e61f7a843b5ce2b03d999f416d3b97977cc0a2482e0a475f32d396b40b62fac50d9aca6def12d52f86d8f0ecbf642d36535cc4a916a20154d3a5bbcaf84131480683e912332d3db4e7c828950f3cd5a7292213d02ceab3e22f09b2123ea5152553142e64d2dba942ddb3e7c46900618908ef83b459b181556c863e6a479a2b41d334f0382e1cd99bfdedb9c3cdfbaec77285ce981f009fb19209532b64902009df663917df10e1e0d2ff0dcfca6f183e12938e202dd2722cd7578186becbb9fd11e0324eb7a2b9c61fb29ded2c83b153301b27691f5ee20f31f94b324bdccfc7889943d5a2dc9f3a57c91537edfe852d9df597628b47ae40ac8680adf46441e0ab7ddbc982a270dd72bbae4bdf126eefac22e781154e79b153511d802b54f104a238aaf2c3c0a0b75dc259da652b662a9ae258469db6be4aa1d08b794c7a978cf78785e758166298d24c8d82750a8a1f030cf1075d7a7d22775a68ff6a61fb3c48e80b7d5c5654ddf1ca0582ca0523f9c1be8aad3e4ee0fbd2defb6e5ca4af52b10f69f4e7bb5620ff87e24a3daf0ad901879c8dc8e5b0e2ca5633514a73a5d2b2cb9801f093b213c306489117dfa5bee9eb01fc6125bbdd557627c2622b83907ed28b37fadcc7a2138767a2824329b602dc33f2f5f03b5575af36304a8c484d0997d4bd6418187024c7c2b0087b5b5f78c1a5fded51c379cfdf12b0cb5d379208efb657ac0e9065b40082b6593bf1d23f74e7c3f5a40cd434d0a4463ee21a6f4a69cb6215d34d9b21ea67d21c71bb7e369e64d8b57d30e8edae4749375acc631c07fd6e1cf20955a91ca025fb83a25d9f10078d530e89c03d30457ff7af2881c372e744d0915e37556580b1db4cbedf81b9928068ed9a0487c7a1c4f1729700064586545d64cfd0125ffd6c702b22af65fb92e930214f9183947934314b54195173ca9621655be341e0e664bd56b0b03b350abcf26b0ff356bb522a81adf53cb5920f9d7a59f57a893fc13159659c28685e3aaddcb67293069481f04d637a20e66811f637f2bdfcb9d447a7923f323bb3f943e8402a95b6c66fc7a8ba957cc82c94d9113b09a2975e92928e034b69971852541623306a45d374f7de86d45258b8f417be04ba54d44fa9d833d61f5503ea108988d0c264f1ec307b16f7fea9a7d483786ec491dc0d2081d016f126cced5f653d8c7a6ddd760b04238cedbb6e1b98da74602f02d116fe902e7f7e5cfc8b7ed820604709d91b5cab7ac0cd4787bcefcf782ab2ebacceaa64699dfdabdcca2e0946d1f6a496f181f6afcd5b0bd1703ed237d655b454df366f1f88d489b1e3dc54152d0de59bea66ee41303ee8c96354a090737fedcd0f5ff516f98660d33a437d40a13251c4d2ef044dd222f81d4bbd280318d5d0c7d426e53b78da8d078eedf6d38003465c99b6f7dc525ae5cba96c7bc05574a0036d800450e389b91f9e6b95a1bb718c5fde81b1d4a0f8dacb275ce7b1b9ca8d1daa02d6c3a02388d3e3d2b42b60c5d798b1077d5baeaf64d38b904000b0896fa5a1f0716465e6aedde19359f05247f651f1f6caacd5222bf634bbc5999e4f72a2572bc2796e5b571d5ea8cee09413febe41c6b54c34fe1d1d487f36087b84b46d2e79c4dcfae5eb13378ca648d8a93cb36cb4d6246be26783a6318e1c8787593c5c389706c020c405d9c08c69bfe799b00c165c057c5d4d246fdea5a5991f5da56b238340d85feb294b63d3a3d0973d610070249cf7716001eda5c5045aab1425af585f718b50b6966bf817f3bc2729064046551bca9ff3a196e8d06f8b69e955c1cb9a2ea1bb72f6f061baf06f20ecda7d7da48d5bf06bf3ef51f04694dbf8c27853f428003d55a93523e17bdee6191bac784d88d548e6855ba1e60948fb200892f7fb0a473402121f98c884ae354eecc9c4d1583cd97b1f57ecc1bf1fc0df3c7547dbe96853424c3d5853d217e44173e18aa69d549fce64c69d6bf664dbf8d3c9f7cd8bb4eb8730216a0fbd099d8ae023dffd12f815b5285443a763f6848bdaed85c6b2c76c24afad3590e53bdbc149c586f258cfefe27407c8ae9d2d5c2bc41a38c92683b64fff5affa5d4b27ba7a6921df2f23f7bef13567af48d97a9f10381a7578560ea34bc810cbdae3edb12c410b845b9fe8ac94450d1485d58bd5a463a7e4ca7c14703c8e49fe4e88e352d6d02e6d12d564c34ab5637c8b32de3b2e358e0daed8a91a6ad4c08fccfece97e8c3c149ff3ec6f28c526a7bfc5af923c95b20b7db8fa99cea71034c4829413683d3a6d40f5fcf2e978a4bec3fdeddb69d961338384e3d077ca2c0a8949189ec1a46f893cd38eedb80ead49023a01dcdd9941245465d11b66fd7de39f2e9e503063d3c2c8392c0f8953e48ea1b0c72bce051405b107c1df485714aa0f393ed5d5f667fe45026d2cba0af56cbd8eb24e079b851632ac4eff1df1a0ecd64efd56e8c19c8a5e54c8dcff84e55844bcc0e6737bbdccf14bb912930cafba7792731c84269fdcf3823122c3e786f4d508dc9a6bdc692c56afa37fc9e7996c19dd4074ffb0202715736c7218192d2c56d4a7939ee6e8a38dc9e47c75adcc489493578ba989bbf29bf4940789fa2a67e979f674bf3a1b67b77c991bfe1d0b2abd8fe0778b613da9b21fe541a2d35473ac8e7b6d60b3233b0d7aec52952d786d79d4cd05e1660468338c998cf080742989ba8fe25edbdb255f028a9094121a794f9af08bff469f693a3c611231892a0fef59ff7ad856c1d4b2b7c884bf6ab2c83430e87bbf09dc100c3643eb08baa0240c302075e142f45498c79e2d94fa04263114e8bcae5a093fe8a601e8b9ce9f65c0fb9ba0e4fecfc4e4041ddfc3ad6c222823d7c0a8167eef17c367883892af31b7b707a356d9a4a8c9f7333d1d0d4ec753f18192b7d04c946302180a2bbb709e0273b0d95ab46a72079c141ab66add8083625c5841cdc6482cf6cb26b337e78fe0bf9b90800eab93a803334a4e42b2cc1e77f0bf314f99403ce270f6ac6bc154d8c1b462e04c8ffbde6b3200ddfef59e121157ab17da73f75d87d8d6e85df9b8ade280b635e89fa3fcf9ee616dc785e37561c86a9b246f9884fa789976411b3e5f54d88fef58be7187e01e73f5355cd5b9230abaa503fbd5609189cc4a1beeecc334e22932e84609af15f2332706adb9da8e47d1b1740b97b60b33b9f77dc9163ca44aa2eab7649f58622b349ab713224546da3481bee5af0e6007a49507282108264968e6b0987422bc658a1dc3f3ae1621d06a585e0d6c49cb532c70cec27eb814680172c7c0ca630f52d386c74c4978d38972574387102b0a48dc1a605fed8028c0646e22e10a0848be0c1bb00479445014d8453c62d7781cf5a783ec3e4d72eccb51a14d3c75a43e4e79389e99651226e8fe60e69370f45b1f96c7f29911e2918f532c1d9158ef9678cdf6698ba3bed5f5b9cda212aadd557e9be05b3a21a44129f337d852097064b1d961bc84c1499d97ceb1e0d01819067e9a6f915bdab9e42704fcf81f0bd83537bc00184bf1e7318080706ecd1d3cee67f89dbd198d213b0ce89fdccaa5fb68ff2c247f784c9fa1c71930c6a27f4c930225ea3aec5588692e982b2bce41908473a51c8a42c769ea31ec81e4cb51bcad8b7fff3cb3db7073b663d68c201b81b1e385bdfe1134a1ac5971add4554c7c9da22f4d9770b60c4395c22f4ac64db3657592fecfd5592b2678069ed01020d721c6f7846d3c858e79feb895f00f81ec69b19818fcc630c7740c9c8c160efa8c7d81081b85f951d12181df1121d8eabe563fc5bf81ef17915c47e77d953330a220cd6d022416017cd060e4c0565301f4655007a4d85149313b9460346476e02149b487d0d0919d1a2a1e48bbc86d6d53d14c96aa484a2361763d7646c5c09ec9efd49f0e469743e076a06e5d9e22e297b3eabbcb0b49626570967bb719dcd4e0e234e1e600d815e3c2652aa765fee1ee287083f13d0148f85bf42895a061b7c8b04aa84b2b8a208cd36b6678c89ddfdd30d742388ef275d223b91151cca87a8636b2147567ce3cad45141f5552d693d138840bd59733e85182ada2b156d2fe8336e76cabf4128ec70408f8743f93e37e751adf8ec46f43a4567917262794a11bf888e7ecb51db8cd1b7ad6ab5578ca841f2acd1f1874f5a2f1966e7d80af3fc3d4032d453d18acd93147f8f6482632a9e8a667565491b1723adeb9746840d5c14efa4cbfdbf70fa103be054911e8376cd6a12bbd4a693a098ca11685422248e7b7189b16ba480088855c496462db3f8a5dee0151e0c494731439e1d8026653e90ab3906f633536bae4c98e8e3957a61e26c073dae9c4cdc33f32e86136e35320dcd5a28afd903573dc7cd1788457804b01f8c3e9a5095a30aadb9cd45397db0316b74941120cbfd7cd23476b4da94d682f42acc2c8cac9e9a21797e13ac56cfceea4c2054b04e3537515e0eec8e2df554caf0f22393387e74911f8b30ba1ea037f7c1922dc6be478c5030a7237a4f92f55fbd92eacb8ae5280edc4ff1dcd93861f89d5f909a96d827f5f45cacca26d58eb451aba362fc1a826ac038cf5990a8ec433abf53a44fc9308fd9570638d606c11633fb2923ba96f71d5e6df64cde18fe3dc29aa8cdc1e280b6cbb13cc22ff54a1084c4a92e1d7ff894bde62002f15c2ca57a44fc61222a096efb679cc49d9dd9e7daa566836a9fc689aa23858872219dede9c314bb146a6e2aaa597051acbd3c822e1224bc94c4c7ba81ca2d94e5e387556060465ec56389cd0e31e5c0e19571dad97834f4d730430b49dcad622c8240df091515add3d82a51a1f5b511df30cdf87b0c91183530dfaa805ddb45b1259d42827bb55242eb8775b2e6df198e06fa0d5e3aa6713153db2934da35d1ff90fe8f90b0f8c1c9c05ecbcd655adf40b2ee3cdd44ebd757a674c50d32d2530335d5100b4682f8331f03eff51107452058a5c1eb2c1f321dae12644127905e65d31179fd0c2e61b0761572a52bf2d25c413722ebbe0325b077fc2d30f92d5a3342b9222234b3e7c4476ea6c25d5319d0938636081e7061aa66438279c2b3a59313fb2aeb0baaeda928472aa747b37e54d374fb5707c0e16b5583417f87144d585f38e5a1fcafb65980247c6d3973e894c76871f9d87e768a6b170c73d5225c3322fc73f1fbd26732e02d114ea431f4d8012388533c63695c91944a460bc7057847280add09a16aa6981a70e2051d0a1c7fa803b68edbca9c6910c49745fbaea13ccca7bcc4f505d7a9a4c11cf5a72ff4ee0b6df71dfec9eab3c896686f3fb067512a18305eafaa14075ade99e35181a5b22eee609d915d8332b13e912030a610ec13bbb1b198887e2c4c71737451b66af26139709b11c126036b4929eb003a66735cbbaa980dc1c71361ba144374fd1dc68f815793a1e7742bfa998d4e3121db127edfa75e2a52d44283d1397b017fa784e7894d032b9112e14e43381ac668d7e435b8807d5d328a1a11d9d627a5f4c02911bbdc094c9bb4af5b7c80c3d5694ff5ca84729ccab2df3c045965a7c293c4a281d77f3d03702810bbad2534e5a702c5f60b079a037072fe01a20374fc20398db846de8aaa80554104dac03485021b2093499da5ad33809bdfc829d02c8c375","isRememberEnabled":true,"rememberDurationInDays":120,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
