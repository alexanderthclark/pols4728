<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"19d21b63a900e274e07e673996ed6a8fd409e35b2a5c41ecc9d2bb30e6dcd2f0eb40184a2f0b52e5615da4dbb2d523180f5c8be4c3638006cb0ecfde753286017a2cb83772714543aab2437a0b85adddb803a5c2733b1e9adfe287c586adf1f048df03417bbb4068f18bfdcac5d8e16aac56dca5776662e2b2281ad5580bf0112f5f5807589f8af3b8ce7700ab729337bb3b2a2cb5e51cb7db4b4ba032dde70a52f733ee5c97d9a8b7a88c85cff9be437d4620a42dc004b74be4134fa7a5bf22d061b68c15cc055ad986755080ef86955e3224e82b62c97653048dad87cf1e4b874460c8fb838b8298f85a465aca8211149a0a4c138e5d97a2dc0e2f1fdeb86fc2640eff266664f9255da77350353b95a5f46bb63c36b8b096ac9f5d6af9bb018bd89c68a605cd1f37364e7d7440aaf51c4a6e180ad333e6d1c7464b95dc3b560c919caa1e2841f03473dc15d80060586dd8ff097d075b85e58d947feee24a16ad3b335197898bb14b9161a95decdda5c9010f1105fecab4f17efa50b0863359a6a604d554836d6483d2bd2e381faf6b79552ebb6878774e826442106cb10af0b2b100972811e3764f0a68bd90101d928466ffea5e5298862a5eeeb9dfbcef1cb738957df1c03185941db61f9c2ad2a3fb404434cc39c3ac757f69ccc3837c0992209c4b51313d3a6c5622f99d94812218a8458752fbb86ebd60a99a818b7f943001a28e36aed588781655eea253cc14d35adb6e59ef62ee1b45c6a21d3288c652710fa5a0f298ea9847cea2f06a77f80da3f031daeae5839f430251de59bca48639ba2e6ff15ebd14e6936721dcca14c57f33fe94e510885a5ef55810f8cd4093c33191e93b832cbbe0d110bd1e5d833aa320894479dc2fa974498b38f4cdeb33e38fcb44d413976206f61ac6d26c64d4a2db4238056fb0a3f05050be7c78138672195db87a8d2b5fd431644ad070d1f0c00057b254603bd3577cbba8fb45641753b7fceb38cd146ef781f336d24abb47a289c84dc148645437ce9955e7b850dc4c4d061e3f5676373c98a86b05a7994c36a7e44e400018d08130d559761ca2f22e67d8862c72815a5c3518b917b6fd5e385580ac3302f14c2057d889d84c917e44e5a421f7d02e49876c78ccab7c1a0ff4814d879845a86835c8f88ea3318313805a64e104ab9bd1b0b424a0e11ac3affd4305d5f97dba248ac9b55a0caf5f9ec884c87b02c80e5ed32bcb14ac4079e2629aac96755107c4fc5ec0fe13bed58613ac2712b58224f4fee2534c43fca427f755212c55e929469a05c05d4a093cb791c36c5531184c0aa1bd94ec21f0dd82c2895aa524b3a563b88d1e49ec7ede98afd7dac7e7164a78568fa34cee375b44f3a3d34774fd20cb83f4bc3ef56c0f1621cf901d284941f36f465cf69336d5d4134a9f843916c5457b5aaed9e0110c7b968a7f99e67a81fba75726464d8cd63ac2306d652cc37c75eec73dda515abb4e8df7cc61591ddef58c588c9c2269ad634498a71163a484c5f5f6e282f7a00231331b9effae263bc3f7c4253024811b48e40abf0cbadd426e5fc847b8f676ef389eca6c35233f9ba460edabf6e713e11ce5f1c2df0f54fd712fe7ade0111c913de84febd5ae19c84dd9047b9fb94d8fb4a312d93f8942df5dd10bbf2c31d921697338e028a6720b9fbd816bc187633049daef6ea6af6e455c85903b21d91c9a6ec3b6208eec94fd71148cb5b1515061a54e9ba901692de14a36c8b697d3c922788a8f1d12ed7295382c611ac3dde0c700c56ac15d6382aa72207d979cbdda8f28e9039cb82928bfbf0bc8916d47ddbd81a3b96f46d352e435b7bd4abc216063f122b13dfe971440e9721b1d6b4c4c1c56198ca0415059b37dadcb9fb86ce657e8946cc446fc0666271122fc86fc5eafa15af35cf8bd82578aa33e35eac4fe084fa6a7053bff8e211b43b437ee3ada90bdd60ba4d535a428b5cd5adfd2542c47d95219c1db84f62f3900a5817b9779b2fa6f11bd9c0c64fd6591592793555bd3f6255de04c0f4eb46e1b343dbfed0ebf56806663afc215c18d58a76e3df4775527205452934237720d3ff6219bba6aa8d444e62b12fecbeda9fb313efc3c241d347758bc0a228f5770513256d60de67459392fbad8eba4dbbe6d0178fdc046a83f589cb4eaefd13b5e441c3493ba1c5b5bbf67b4e1732eccb32adf5c85c66946dd6c4102503fb97953a061c95475322acc7b60d84f1b34535426cbce49e6a609b5a03bbd09fcca20f3492dddee5a4c3321b8cf57fc68b77b144aae30c20734276ea81d302ffc6a0cfd53f097fa07a27d766e63722c523a0c31719943700cd5bffd94487a6bf46db1dcdc81c81bb465de4abff3a56a902e0a1bfda36391cb640ef98bace6ca278f4bda8de758fa2ffa729cb574c3f587e7d29a599cda637c0d219330c64879354ec8df34741c7029cfb1d22a082636045c04011b008d7507b44fc1296305f0961b8a7da4adfb46c09313c98bc4145dc83cc885578c921a310b88396f995a71604306cd880a06c9d232670ba961502b913cd547376926279a04c316acb9c3e6a34d5f79725ab03abbb232ea1d616fedcfddb9ff5724616073a8f1697a45f4fca432f930d9889bd9a2710051c57a92414ea59106baf24fa8487da01b059caad6c438c6926dd15e624a7f6642705323c4bd67716ea303242b041de06b0515971613d9cf73abbc41b72a90088198c505dea4eb4dd7f755f08520f723e0bfe0609e2112e36ae3b80edd61dac1d630799a16e4d9889b1f1a6bd29811b7001b0754a2428725e0785ed3cdf796d80d73b9f6a62a2942351d412e6c42a2e4f5b4646bc00f7a31cf5fda11f27074550880f5ada120c3b45134daa372328bfb707fdd1d327e34ca90afc50834123e02e57a0e3ff550a56b473f98aee9c834a418540792b7acc77d21de08a42203aee802fb5171bdbbd2c29c66840034e15b6a1302dc969f1e71ec8228b3f4148aea5ec30a20497478edfe9e4a77ac4b65f0b4f4067db11f49b77ae3388606aead30889e6dc782a97a54ad32c6dead2ccde917fe3c97df4ff38a13e24f8a03fc27a17f19edd6183a303a455308c35d8efdb35db13d0b70bbf969aeffeffa2566099808911f63ed36b0d775028ffa51832f4e8d4471debfda43d4357634c97eecb77d6150e38f1676bcd1eb73cbcc871091c059bfefc9db36da29455e8315a52f9147f44fe39739eade64a0e0dc15ee6b5a21413fa27f36da0234190fd6006285f8216e6a12a8688ad2c502166cda64fac6d29abff0c24d12e05d446157030a39f4b5e481098b933d592a491336d340355a807d9b4d8e9bb60ca72df28937d597f1b7e6cadf251841bbcdd4d880e73050ceb0ec1ab61724c18f9198f8ab963f746ee340e4441e2308acb3402189e176b72eea0e8714f744db7b5d29f61cf0ba68c46f5c76206a4373ba93df4e0ef95aa2da00cfba86a5de3d1cf0ab2a50ab1c1409fb120e20d5dc68431546b9164a21ec92b82b7cef7cca7dac2f8f3ef806caffae772d0e107758adeb881a5d066da6c9e4bfb9b54762d5c09207035bba9a5eddb5212c67cea59e796dbee9ba68e2f77fc29cb3428c9d3913406e2ed125d1061ce03339b25cadf7e385e8041abf1338b1df494d50e475fe1ab332b4269209856c2bc656de958fd3e23211533cdd170a29c1ae9f4618fa7a4b20b831c527bed9c602458448d419b9d1a844e0777178075a72ae6536dc099675648bc1aa7fdf5dae672dde4ae42d2ddce6b8db5f8c96f0398f5891f65065002640d00dc18e569ede534e3b071ae037ac42f57a87054fa71bec27cd08aa0f99e6c23957167c946f01ba61b9af93231b47926360620ac13ffb087e8b485e3ca5b81c700f6a94ee964b705a87f8f70e9c018872e236715bc3277308d6283d51414bfc110e19eee8f4af8d05f9e025aff66aed73b2d425951e3b72d9d5fbc299225e1c732439fdc33fd5240c0dc785dc7b46e96aa10d81506d534b9296f3c31fe879dfe2a496cebf809ced15bd16e71e7fe6c0f36369f29463be65463fa0b84621833d41727e0c5a8c8e45d75480146d7c4ff59ef54aa7fe8aec2faff3fc394ceb17d3c09749d036231e5fd14c41657b6db2635f4b306287aa7ada4c199b7a43122a112de5784c19ad1acb98e2022047019410b4659affb96fd9aee8bf57aece6637dbe8fe2229dedade070bd75b9c137fce300db81f780b886b618bb57504fffa5c44c1a70471a9c688de51cf7a33874f51d7e630433a2d0b507ce668596e59507f59095fad45c5f1b54737e71cd5578fc967fba42342cb43975cdf5d13d6cd81f861a6c51aa81cb28e0090513f8d0c903c3393e23c19ba802338f50de98b3dfd44cc8e987c6540adb10f94c1e428ac4b8e9f5212a396153f6b56f206d6bc0ad7d45f157e37cc9ec90183f800fa5f120e1ad3aad8f31c652682c29b02e2b444fcb0db1839f5cda31bcc0bdfed3573cdb5795c3d26bb728e83101f96b1637fc6013088a323b0fb395caa49857d68069607f991b435572871751826cc91d6887b23956d5eb9efdd9d782ae5c11d680d5a7f14593163a1858a86aca3022707f8576d9993a94814661f243478e11abc741b248cfdced33622577808e45d16a115eaffe3fb792b73d8800f76c6aea8166f3620f7fdf24cc626bfbe5c999a812c2826681832a08b12e8b169047371d8788b33ab484161af1c0f2ea7ff796377184c8ea64d1940b32c78d8153716220e25882db3decd82a908017983cfb051d76aafc174d2d35b671fa8fe94cf4b81cd1b8dfc0dcc95da9e2d1eb1c8fda12236135dec5a5a2b564586b53f458f1ad18589337c033d20c87b5b6031e49ed8ae68ef0dac4e64f6ccc9a6d5257a1a12d314865a716c89f63a8f72ed9054dffa9fcaad15e76f479bc2f702c14c0273b6724f8a18e284bb6ed727d1c4a3dfb9824c353087f80bcccddd3f822fc681939513b126a0b003972a2b24c140de5395687fb5eb0e872cf2a7971186a4742ad0def953623c4fad3730e7dca74aad2fe5dad13dc8be4a4109c143244603f7203d78e79e3ae35cc84cfa83f2267377ea2a2ff84dbde680bc94a562183454a988e7b65247162ea520f4e55a38cb974b1979f68404ab36967bd8c34cd6787f0bb72ef0348e09ac11cef2a3f593e49080804b25a540f647641bc970e685a017c070bec8e95a7c3360c415481eba7eb01beeb30ac83b78e7745ad453406883b652fbd3a6cec966b45d9022abc57ec5bb7f4342d331ead62c892e5332d7d9c9a9c9fcb5454ab2610d833c36ca2f9b2bb17d66d3f7e40b78966472f742aea1c41143fab8c38b5a55ab1178e835b504b5beafd97b58bf3de5066d1394856c8e79d564ed3dcfb10da5142b7818e916c7ca26c1c26a547b91e2b80261902bc2bea1f4545e6456570eeaf631c65dce81d485593787bb8f5766a64970581009f5c48e6a7cd5b008cf8744fb1f792493cc3e416a3cfd7c6b2b96da8382bb445bc1ab4ce2c7b9eb658ee75a88e53b8013caaaa0e4c325142c620f4f8d7d3bd377b5407c756e2f2258b9b7870abcabf47fdfc5eaf3a0e13de9c8d9e9f3236794f2cd45165c464b3db5a233da23f7db0826cac5ea425e3f505af8d279965eb8312984b5e44f84b629f0e99eb3bd76017d82210814b99ea75fe638abf25e7c8d4b0a80ba206340e2e526bd85f5e70d18d8cbc27979c2a68636b11f36f396c4745c43cd3a23b0edf1296fe16bbaa1ea736d87204a2df5df0af69962d6cc46b8125c22bed49e15a9c6d411c8bbaf974f5206e1e3f50b0a156bd80e0c4a0f35365a7737706227554366ab43bfbf6d23bf9d5ab0bf4aa7aa5f9122d24f18ee10d18a4642ec64a155c1d9a5fcda50e6106d58b3bb7e2cbcd9e85a6d4c35febe88ad33926c92773f995b9407fe9c7e8610134e5ea41f73224222eeee5d7e85fb9cf010f7add71bd739a411feda2a49b0a2c9add6c0b2fa96d11c0fdb56829570579ff846acf2812b983cd866ec5fb64e0d4cea050e2e0a5b88306d513c717f1c6f2219b358784b15d4096b4ce541fc9f29065a346e013a5fc2fa517d8194c5fb8a498704b79651ff53ca9f0b6fbfdf95257df1d3ca2f2c5dfac7e20050ebf0fec7ddfb0851d483183480ca27f4ee33a5a327d102aa97a6733aac020782a30c10a4ba84475720c21ca99fd44e7ddf09a6771d41458786cbaa83760f3d4fa029e65fe9e38f7d04a2619af3f349bbd762547b79a36c5888d5713f41532fa095cb23d0a11c4a28e504646ccc220f906bf14bd1d8d1940ff317193bbf55c6f9e5a93d72ad1ef3a0354dd77d407b3ab121ce5b42d372efdf3fcb99843ed0c7c76f2cbec4b97336f8eb6c93ed04698b34f473cf0a63509cff6fd0363fe63463e7376dfcb4424d19e52afee8d8342ec1a9c61b0c293fe0bf1e57cb6f78b7d627b37beb24fdf0e9761518875df223579a2ce3459fa573773114e07b12611564a23108b38e43d5f725431f524dfaf89e03b830c1ee01bbcaa5d15d34e708b576611850f107ced8a110a35b1e626fc3850cb5acfa38290531d0be5b6f7c12ec4342d8bc9908b19165db22e216807e004cd3007fde5258aff433dbaa69dcce379cbc5d14034fefb8d3ce5b4a2aeb9e1f8df5016398c85cf4e977afe608e1ff1862c88a073e417731b5893d3ea8a215efcb2bc3addd35b549edef7443474b8fc65329876674834b938ed7dff4f857fd2deaa9fc72b6b829d9ba82e8b9ed7c8635c704bb6cbb4be67de4370a26f3e0b27a72156b022cf9ae9668f9f79ce7f1de1e74437ef53958356249e7e96e1519ca15dd00a414229bd40e19fc0b4484bf0528f4811a5572b8801fe6a4ad4314c1abc61e9f0e531d6ba5a6600b946b96f51477748cffb64029a06981482638254c0fcf38b4eb1bebff326cbf9807d07a510b769c84fe7d04accd937f78c539c02075043458617f10e6330d0b419aa96e6fa1c7c37b41ad0518e81c9a902c1d1f0c538f5699917ac127149fc9aecc2641ed8028dec75308e8b15476da706fef79d6ae7524380be8824cb34f5bbce426bb11b5051487a228d488721ab48572c772a2ebc8149a85520c5985058a1f1e45a6255b30afe037d21c49e3aeb1ee285c1b926f8a146875274293344c1d1be673f1e708faeef8b0c0b171b5dfe161427ca63f4b5e9120a46d2b1581d54366b133404f53a5e86bb0446e32f8d625fd7f077404cd78af1829affb6a134e3a4a5650ebccc6b6c5cb5ae5fb0a64484156982639504e73ebb364b3f9146b2eb438f9bcb253a6455a7467b5777962101d03a7b0498afed879a40d57fba7b138f309f86d66c188a41e74fc718d1c6393a7fe301270be6920dc54e6ee30ab3284c22c274bd37799da7dfec75ea6cebf3ba1c86401d78bbcc351823849a9fdcc5f41313d95b34840bd2702fecd9ccb0b3aaf78888502a4d91af33da86399d8a03a92cc4f2edcc873ec5249e04bfa4ad6ed21d9d8ce68487b786ac3a7bd9853c61d52f46547d214d511d6846e4d90260264c22ce4d8872e518d344628c8234dfbcf1de7485483a4c5a45c85eeab721500efd21bf045cc3afea5db3aa6d7abd74041e8683b443445b81d0f49f6a2a18be7576a3bdbeb5c3bc41cc0b7c52ef573f298b22eb56c16820195a04b3943cfc657ef6bcbb73e4e0c7e0abb444d2599acf31d688f3ad3e84e8962d543302e18af0147f31ff102cff6fd5733dc41dad6626d3b2bb4bd5c58da7728f8f3eb6dc4733b2969142a1aa857293bd4e9aad6faff694bd7665c94d28eaa1ce1d7506b980c37ef8d7c71ac772345230f75820e9a475fff2a58bd4cd096bd83c1170e920295b6b1ea01b7847324bb2033aedaa359cddb47835053f85a990ad1efdd426bc81f5ad893fc60ac89f2252be31f980315e2f174ffaf1b09c7db0545779613f80116b26d9b804746bb36304bd79dd8a3429e41c2f424f82161270364c4aabd3b9b02c4a36ade6b4300b53aa98306c6b001f4a95c4a537471b15e128c5cabfb111022ddb8aa393adafd0ccdb0feb9ce26430fa79b4b051f32870579ccb01d5789e3a03cf40026096aa6a26bdd1f0891c307f07d92be3443cea9f4df1adab2fbce4a21ab62e2ce0f3f05d9533826d911f5fe5625563c2cfbb7ba97a215ac529a25bc0a763d6e88b8973347904b53f7da8d40de65cc271ea890b40ae9698a4e898f27fbe7d1e81dcf968eec8f28317d6d41680e43f23736b3d44b2c42cfe3bb3715cf69a4bd09881ae079f9885f498635ad2a5c057a42b01b8ee50b721ee1bf4bc49c8fc0a801d2b5aa233d7cb57131fcbfceb945e81151cca366e26242362e9ff51de1bfd5e6a39d205205d168020f4bbfc989aa9ad819df3e31e94587aa32a727d1ac6c25e8cf77960cbbd05c13efae4a98b79b8db7de5bcac7aeee6bacffa2d9df306f9acb55840597639d888fb761878688f88d99517de3f3580a5004c490cc3c166345da7654b8305f3c7c414a219354726313f5c8adcfed4e11ae2911d49805c1ef30c71474e4c25f5621aa18af9438791757fd30317c0cd50179c50ca12e92a41dd775400eb65b9b55dd981f4a851ef453f99724579f1004d3a9e5f0bff06e6ee454f3e600b1f16214807356604aecdb9ef6683e4afc019c95c84fb80d9b10a75bad965c8be13f6931d0b2c2c26ec0c8818da2ebe62382e4ab7b509838cd22dfe3c0244f4b182bf8bfcdec9348b69fd447bfc0589e765ab4a7e717fedf287d76e840474a6bbd5c9ddc75b6e1ae685966137bd0e0a707f5209770ea9b0ea25e7a97effe747de3d41690644b20611ecd96023c68f7ea9169bfef1f6c2d2c651149140dbea903584645adaa9e82231fe0377317ee27e52a0fc7efce9a05105d951c40e5854884aa5e40bc67250de5e31c33931bea2bb41fbf3fa2a47e31a9b74d2a64a0c18edeabc30fc5495b7a98c8756cc1d99b61f3b13c89207070a716755953c0a2a15370e571424ede98f3fa139f6815694ce528a81270bf8b84b7ff327077214e9d64e2fa2c5873ba85c10ee91ac4fe8d28dd2ae5a8a5585d04822c5b77bb8445041fe14b5f4f6a9f15011b4221ff7d4d529a557a13f33bb2e24dc4b4e19e6e612beb494dda3b38679df2a09e694bac6d9c65f359a179cf40752a9f361bdcd5dd7a7902358bc3e8a32da8305455eccd19758e1f25360654b430b7388379119003af9a83bfcdb61e3699807cc7cad9270192b47c8d039c1cd3fee0a672511a672c820a448c1eec4ab383933aedd6665ba77e6252b43f472857ec240aed73616e0df08fd41715b100f711dd4eb3a69dc1f9576a692ae5650d61ee96369a8096232ef3bd6feaea2d7e59d390f834c6387ad38d23a7e6661c7ee68aab067284fe2a6904c8b61b2fcdce78786f1e151a281583744dd15cebe83dc080248c72cd344315111a7d266a8269c8340f632f15c46b1ca4d945a516b84b69b22ca572ed8d055d76eb676105ef14e7448c247f6779c150b7466741cbc63c0272fa4a682562b7df25b6b22ad040090d141d4bd14662a59d60e99623788024874187f96efda449f6a5d0ae421f8de20a2a1c3405de7ec033338b4c3e3e59681c847406d6e23e37b35df1056ddfc25e648f617683f64521700c09917253bec84e54fdc0affe10a2caee63dcb26884aeb77dff64112fbdcf16d7bab01a9ec58d39734c743c3e477364d29a9dbe9c0fd8961bfaad101c2635788f1be128779e46fa9c8d1a2340c101de20bcfbf93845227f406aab0b7a8f99f099609f6a0caf4e2c2b74c0aab2e0f6a8d46cde4a4b9a168242ff3851706be178c68d3aacab4f4033279e0236f28341ba2ee7d403b2eba81bf3550731086365d2b13552fe9b10acce964056da29dcbeceee4f05df1dd5b47f6f03371c168b3b8efeccbd0fccb0e82101f8668c88cb65e334d9af89a5e2df02a04ca0762bb61aefc5012c00f3629b8dc241081bf8309c8299d2a0afc89f12c8d5beaa18aa669c1577244663feee209c0cdde3e14ce7f04e07b2bdc21358978504bfda585a601f0ac9f6debaf37befa0234c1706b6429d863d8ab957cfd87ad3a48f20e51889526f4aa4b58b05d5eac9b808ce5031f0e047c1a12a2ba888635cf483797d4ba3940c21bc5597efec77d6b3e40f26ce7472205b3340bd200c8ab531c6ab9f972749355c6a5943a0454b02aa0df6f02694be6bd491be677d242f715c6f10602da4055875290aa9e2558c7d85f60a7c978ca273372618190bdb9c3532f04fc6328410ec55a98a1412115a1523fb61bbf5e9a917b683f13b068f3c5df2a37af7097ab9ad88281a54aac6da2be707734bd6e4c602d0cdc995b5d1507aa7f15cdd49534d0dbc94c3ebd19732ea2f3f15db417c04302a7f064859e8f909cc0cc0841dc57febeebe2a7553a2edbedffa0643e1b76a1910c1c99e9fad88050125c6c6c44f36e734fdc650d4fd47ad27bd11f5f6a740715502da732febf2453c1786ed3639356f7325918d005e80156d02a48edd6f60a54f15716a6c620a71a8409c9098375742b585c720c80d8e80006753398571c92b0ab9239128b27a6b3552fe9ced75c5b5362db14802a50e10604c1d4edff6badbcdb1f312c8c677d9e7decdc1007ce27367f205aa5f1b50248aca5b4e42fa0a4dc180a7629673da5bfef2d19a4b60f3c7005d8de9594749360fc9a9d096e244f955207760411908dfb4e675955de9f24239d5d007b73797715201941a99c6b04ec3b6301f7cb5d69aa31b61d8ec6c21013a44c94c750ed1282d80adb4016b9687f9433b1a3b20aa704b6adaa5b30beef2ddd1823780fed17fd37a7b261f8d40be1d1b8077f519357becb4ad101c35e68989329f38148dbd1c9914d43ee0327c40104c61958fabc6e624fd7ee7209ba592a981dfe76166c51aee1dfd59e0fca5ab8beead1d7e18f934e481bf766bb368062d82416cc02fbf7f206fb81597fa26ea1bb1676aa5c88e6aebdb0e583cb4e8449f3e7452b47f368a92412173043f3d7f10363e8cc0f482bc5c2b067a0528d59a5f3cf25725336b02712d45b548194c5a67e3ef20f6b02da72bb49265a8941f13f11c6f1ee5951c154f80cc7f98c2f0584c16010885512dde5c359d41b44fb13399957a420de5d9853a401c7ba81962de09348f01a496ddb433edb04d9dcce6e0962715f5e85ea3a3d0086b46a09eff57671b3c70e6e5848e88e1a02f280c26f4161c7b9be6a9507355f9592aea94a8d287236a81ace56fb4675d6cd95b4716c182a65694916ff370cedaf9ab36cf558aeac3de450edef184e912d6f56cb7aa403c98dcd23f623f120afa281114da4db491c30e212fc2830c21a336016a6fe1a70c756e200a93f485fa9d37a6b4e04d6e9d76d2275abe5f98df9447a49b59aa47d67a78c9522dbb8044aad9509940ce58b1a2908b29d4a587405f4f506060f2878cadd996c7daf2ff8d1f0e2ee8c760c27f8fd93a8b6cb8716c7617906998144069f722da50dd1c53b33002911b1641e1f0284f4c804fe4ab58cbdcb5f24f5fdd15c914f2d9fc6a2e2436cfc2916063fa1c545381ae5b84865a54e4bea54caf9aa567238a4d380a01581c15c32b94a3c20dac660e17990cc3edeb2dbcb6a4350fc766e635490d126f56a91739dd8d5f3090441cb265146feafdc9e2a8167de986532e32d6a18b9fdeb5fc147261991293c4c48de63da756be0dbe0a3ad5077983e1a44af8d07d71a14734cf8f68a00bf6320130a4d79a17f3c28c76f8192a7af848cbcb4d93951448f72188f3ad4539ccec25101e9034972bb9e68f737e76224b7136905c02c7809a268b8092ffb49198a34006738a88e52c04e913efc9b656fcc56f5f0c53e51db0eceb4d9adfde660ffc336e5d6570da7d415fac1795d240b76e2c40da9fafe0e09c04b728abcb61d9919184b68020d737443d4f794dad9022029a5f8da0b5b1c699a6c14f08d72363d09fd6f6129decdbb9cc9b1a9e95ebfc97100d19e0e787dd48d84e440daca43b74df649cc27a221d5da2f65fb3e86bc1ee4e3902e8db7eb1665bc97c795c23b8b898b921a6d639f3f31a5a96779794f5b5954d55ce09297f3d19c0ed13c61cc6d6392512bb0f83e6ebb86524513a2ed1ea76dfccbcbd225d57582b27334876af0e5e32ffbf7cc1c73f9bbc9d6457608bdce0bf2e05951f35369f09c6c6a88b8104d3bc34bbe74ea0f474512d5f1bd65f7fc4e969c3dd434fc115c89466f086775ea712942356e2e001b1f4d16b0f07498ee86173141254a045a40e0c67d8be551f67412294cedf6efce2919a6fad39ada99982f3c0d40d8917d58855b44fa1ba69171e2f69708f6ff9d4ca34abdfa8d7d499aa7bfcf65cd669cca8b9277dd444ec49639e75f19616391e8f7d6280b357b71de6b633ab33518aaee5bdf270b51672d43966f3644dc3a490246fb96630417e2fad85c8452086acf451c7a55f496ba1d9e77cc0c5a910d19abeb41b5779d38f911ebb20c39e6571a3f23b1c4fa6df3dd9eec4af92988801173c21781f23449748710130322c820ca5d7064975c0c25f5d4429a622e191e2f67b8570adfe84f8ca45bd56b8a9642a7a1f463b677e1b592db19d0ecd855019442bbbe535b681d59b2556d65518fc41ab15c8eeaa6fd4dbb7ad63a65c8fa3734732e1507a997a7da0204cfef257eb12f768ce191a17a75e1c06816959cb0c2871bed0773c5b1f691458f6c677528c55fcc235cdf1c0294b2c20b7a72e56a71d699e74da2ad8a3852113d8c05fe00e4293a62f763628c2a3a238baaf03e8bb88ad81f8965cca08c8a669ebbe26740f65aa466d321e12dfcdc926ce604dedee13dac5badb6ae7d9ed64766ecf678c4a62845852669228b93dcbb34bb829e7dc5ac6e39bc23ce5510bf3e8d0f3819bc03ebfa75539413dfac394839898c8df4cef99ee2a8299ae506e0c9f63dad6ff950be6231ea38e69387ecb1b8bb3d353a9644bc626cef8304b6fb68783bc7cdcbc766d81a394a4f942d77956cd4753d6784bbd70425a5d5a2cddba70cca7a881fb32ef64d095a327305484ef73079f828117bcb1c7f154b2687df3d826614cf71eaef1282b77870b80bd02b20cf2f3bed386a5a1fc97e82fad8a7e307f8fe8c5377ab2fd4c433c674cd8793fb73b835052260da37a9a6b586cfa2d56aea488c6546810198a4653fd92fdb211b2f5696de6b92ed04fb7f740a35b5b4c4571cc15aec40d53216edb2a843e9b0e6210ce0cf523735c876f780d9b0e2041ff71834baaf96abdd1428b30e7d455a668bf67837a53eec18678e7ce9f7adfaaac1be4f16adc80deb605e8e09431ca01dbd783ecaa48515cb56b90eaae055e93ae6301c0e2b0b76a2bb282c9ca98cfed8f5893504722aeaca356335ac85cb348ff1a58f8d0ad3573b59e727bd2a136864974c0c78896e6d98766a2c1259cff2381f90f257fd93d2c0e0dd5418ddc107e977de9a5f478c28f38a0ece1e39c121c3de9bfc96fa85b52dc92700ddcf53bd6a21862cf7f7fc165278be2bc64b2508750b756a94aa3cf5577c649c058abebcead8266ca90a751a0b53b00f32f231c547ce3802b9ca2ef284e372d3287217f64e2c0a507d499450defce2dad38a1afe26032d5459e720aad86e11b632f17159bf5ceb95dcb37a353d1cffd1b80404a9abe0059fb1e7e8bdb7ca6d06e4ffd5a48a7b8be42d3a3267b39cd0c1c4bb0b8991b853ba4da8a99f3792d4b32fe257d588db63807f4c88af30eaa73553993b3be985bdabbabb0c32985b5057bbbdad8680eaee5509ce6e46cbbadf74132485c755c83a8611c11138ad7bad412a92c9b477bdb1c5a69e239b177ebfc166444faa0b7e878c145ad3a33dc970ea9abc99906e5526a3812cc89bba9efe6ae90a79b41f8c146aa14ba4538a396fdecba9b847432ec74f6627826bb89a558229bfba04cf06588f890f5f7bf75ad9237e30611c1825aa9df0109a51d181f056ca5ff289d9f27be33734f2c071df9f095057b98c8059ca7dc39108ffae5d271e8a980a963109d73b1703945042ec2302f5c2249d2397918a29fa84b089b23134ae0ffe56ff99358ca861fc26f7ed61f5314f49162be8e7b36eea5a67f76a32c801fa1915747605e821b45a18327599ce58e7d6f1fb742688e9eb622007b40608de2e041e1b7e1637a6d3236df960afa27cf56dc061bec5c3aa772d58646444cb209cabc1a3e35ea3d4a0940d1a33d274825cb95398d4cc48ca8537d38658d2d4e6aea4d5f4b0d6f5818091cae1b640d32dbd8e4280f786db18372d5bd696044b27837633268492662c75c13df0931ef1d5b14ec966e22543f82333b398e11e53eb69c29952cb9fd72b96eb3cc5e98a52e0fccb46c366ebf0ea8002cd1ef8bce50488989eefe424a3abb1826ab7949deb76811f193e916037a4019821ce8ea8ac4a44e3ecf4ff41409f0aa5accc10a798b7f12d8cafdb62c6a787e81183e5d9557304f35bbb9824f29c987e0821f026a55f3bba96580dfdd0883f1e6ff0ed70673d47f27b9e2d780362a91c65278eb506696d5844178bce2a7589a9fa331420676b24f38ac539d958fea22c312be6ece67012e03a69b1247a2064a1625aa5998f3cb4fdfede8b714ac5229e827ee4c6e59ac83fecf019c97bc14ddee179be308f9f20710a20f9d60adf90ca870a43831433a220daf3e8f487c0fe1e487da11b2226f977fee336821ed3950884b868e231f8eb383eab3dacdf285688478f557af28c37352417918842945ff26ab895b6d53ff8384a288a226e2d92ddf7dfd570b15c8a8d652d06a830e4c7aa1b2fefb554037a0223533f908a624b7435fb33739eabb71241b73d1207bb80da8ca82723734d6a468ff55846d5e88036efa148c716fd339cd432ba7c29541621af407a86f8f2308d58eb7fbb42d8c9c27dba13ce6e7ca70e0d38a8aaa9f31a9f4292bb3ca04527f37c62fb0bdd236095d10973c57f8c8606cdbc29a03d990f952bd086fc2da40316bce8e9959dec66fe61c4425734bd42e720c7e0c45e3c7652e54f8c60c9d100171d2b7f3709726a0e446f6e5c41b4161dcdfb778cd8ae52694afdbcf09556767be3ae4fb57b18542e4c17f853185123b2579ca32fd4ddfe96672dc3ca2a3e0a3967952fa86d232015a718402b484c22dcde49ec3b8f5a113145d73564406c023c1a1e29e035047529b14b0dc910526507f5ae419c1c46493aa81a561bd14801e39be90fa8dd7ff65a934e5668258d70c79647fd47593c4d52f6e905bd692b8cff7b42ce9d1ae24eb1b10d89755bc7ec035af77362651e00f41c09feb51d26e85c3373aa7cd9ed4859d29b51f4120a77b2a386268c376d6bc3b7ed0dc095002e9622208ee9fd3a8ff7c8d140f7f3097fc91323394510fbdb4caf8f21f5ea4085638fd55705756da8076acc19211e61711452bf5546854c6f8986ef68d80e4189002d574fa14b5b3fc29134a9f1af8d5449769205b293b327742b8a09f1f1ac1ec07e3e1b3ed06b3eab4253067d5adee1555e6b2115d41dcef5fdade5c39cd182cfc50dd2ecdcca686748994bde04b4bd3bdba4827b00a8f511c7e4f52f5cab690ea2ec2204d42a5bf83ce73e6dffb6a8f71d00024611d5c627d8b8622d5d7bf8e3ca0b52b20b17f97c495fdf036b141ffc5fa9931842327a5e1cca75a12a1d66bb12caeb036a3a29f2851c72928949459e64768e46dddfa88bb5f1781f841d214ecb2483fb19a8e7c42c16a6e08173ac5124355a447255af0cb876b84f32a028cb494e061d4e4b9a0ca6731be8d7d7d20e4422f2b0c309587f05aa4ea978697c7272affd45700f1f9eb1a81561f9d2aaf257d23788fe1d2e9918e680fc74b7a98f36c1e5494ee7359be6c0c6a402c4aac7636b6086b7f5f14546617403d0bd918347f17cf33f2ba15139ed251322446bdc702959f3025ce4150fab5542dd7ed05637aafb73ca8660e76e5af79583d2171b242157f16f5f2db680629f2dbd0de2475a0805059ccdc68a02fca7d521f89f0e85f45ad8b7da20a493e5633d25254dc8aa1d710964e809a80d9f747ba86c6a4b8a147d5b2d7be77c380fefa38a7a1cd3b5c141670f15e9cea1131236e48e2d6dce04a2575a1d59a5be848af9a8cc452a69bc242d58b7b3c727ede94aae7f64b3f0cbe0dae306c8868d9fb55c08264fe652107b64130d3bd6693ee7a68570693f1ca9386b154e4b72946064ec7cf9fa896779877ea0843435ac52a0d2c967e5704e1886a3291e8badbaa75ee586b6aa914a9be9486b08d102df8fedea909c4d46e82a7641befd2eccc162945136c2935f4aa4d7527ad114000f7d3970a2190b5e7230d3fbe61ff830fa96e4ee605b2a89f651c107ae93a9c9e13ca3a44181e214015e3fd758a560ec3e951b69317c5397702fa7819610359291494cc3ca23002e58d8115486fb98aecf76c63391dd555ba564d772f214b8bb23f556d51e839b56305cf246c293b6bbce20ebfdb01519c5b18b9419a852e8a2c13512c22453e26fef0d00224656d1b3c4997ef0fa0e5b6adaa138f30dc89ad72e04ebb151abafa3fbcdb6aaec403b10845228a4d1f68f3c0f74a1993caa339501b8f4d53f94a4db264fbd1bdec393964d412e6f59bcebce41a30f7534ed33f759d00920bce28a21c0ccb2710514933b53ac3f1df224a46c4583698b0bff027c602afa39912608b8102eaba878e97c660335c82060398f66b35978e67a78270784b3d01832b983816917a7cbb970049520f86a82da1d1012df38ecce41d34145d51de71b738bf314746f82d9b0b6b9cf58ab4bd1da20f01dedb12e6c5a33dac1df7457689e8af9b2e27b406c2cfee337b4134c6856a389f7fe9344b23b8568d39189eb0a6a52c35b8b3a86547f3ca0699e979bf0a0331909e3bb574beda175825da34d5017949be31efbf0d7b6bc31fd98d1d1c7cfb3d331a366172ec928396ae3f65479f21fab412b8fc550c598964598abdb6d37504d1fce5bf17747a9900acc384a2cbb7542f38c31668ada02ad02bcdb8014e6217f345b2b72f5bce4334b3b0933d8b1cc2744e81c9266a73255f88657c8ec8be072d334dd0cb73af8001ca8842b4568f2e4e2c0abe43e4132480cc0d693d7e8d344d2a6960fa0279b0ca09e69d6eef61fd3e37b6d9009abfa817a2f752b5a3c095357074ed64df97a742887c98b443eaed332525c71f24df7c58c04ca889288ac5571ca9a34a7da5ce44c19c577e270aa5ed4dd95b5ffc8b9b722a0a764fff4122b9e80038d0a1bfae18f393c8bc6ae5c7e0b78d59ec7717f68831575020c62e89aa80077e1f2b27d17c8ca533e8441409b8d6f621da01d7ae91b7c23883a9626574ad07d79dc779c38accb25e117e6026c9c9b906e25b92484b6a01d9425933807f416b4d0fe4833e950cff72be6da141101f2ecd5c847b8b66a4b3ab849d090b55ae1eca3514d277834a2de7d8875f892dc7a25589fc752206ea1063da1608bc9bbcf489809d27f67f31fbd3a07e9c070f9f4fae5a6f18ec6e42c91b557378d966ef8a52148f0c0b245a0f144f48c9daa38d60bcc3ad4948dd45cf336ca3b641ad807a08a4c663f1faed753f1f0bd5812a8db93aba960fcda0f98e0e990121be907d230efcce74f7866e1b244ec190f5af73362b7faab314c56825c44a439dc3ca65c7d580c8fa6d79998ea76f246bd8ee693a43c067948cb1d60ef40784a8cf9af2a993360e367ee7116fcf38ad8d191032ddfe2ff6483eebbe7c7264a4241602395fffabfc8b39c2c351d76e370387bac10798bbe78b86d8e2fdf77bff6503e3218be0fd7831b93baf147be2dda9104f89fbdee45dbacbdfea47b539e97411b25e7a453b809577c0ede5d925abc29135be8a4a835a18a726e33afb9a37d89d68e8885f09562493be7aa0bd9abca1b8083e1d9a08d74a2e40b7394db325a4a53c419aabcf18fa2941db6d82c8f8307d08da22f2030c4ded7ff2d946dbdfc7282242e4115a3e135fe4ad0dac951b2ae9f9adc044bd0111f01622d96136b0f9b1105bf4fed30d3a9ef6e2fe81cf2fc8e1131f268238e341fcb6cb41353701f3689d9b9ea8b961651c068a826928d5da2579f8bbd31131bfdea88ee724d182e59ce7a4659ef5694ed470b2227f2c70b33ceded5b6735c1a25bc2d1da242d8645d30bf131d3afed6e12220a0b7c30ca4f8ff3b9ba9f5ff2e2da084f8b934dd83d7c6260396bef9055f29280dc54773fb0087a5430c42912b9d02637266d4b76a941980afa3e8c608e6cc3b785b55c86aee70440ad0dd5f0d6814e0d107c79fcdebeb04c50c035340fd77c6d175a9bb353f061662c065b3f250d47267d88d639c097c4914d011fbe6d39936d71cfcf0276555929b8ad733e0ddf51ef91ae271a8aaf9e985a996992f8a3b15bf73b2410a5a12e7b6efdaa0609753867727435ee9cbb181062a3b9d52d352eeeb2968ba73dd2fb9449cfe5a861833305e05b9b44711fff79584e020726eb2eec42ee2d9773772ac8c4796c9c2d5588b95bc7ff6fa08c6f66373351e31bedbe157d018a158aaa3bcb9b17366be76d13bad494f4d8ed94f4ab8c9d2a271a6b48ec32309f34334af676820053165378b5da45ae6c46047a7d8701ef6887a1437a6cf4b4db1c026ee97a9d84df03bf09fec2a0a5ec3a00b8b55b9885ac3afda9060826b38d84004e01101cda449b83cf5e8b364bd8b0d9b9baae1ddfadcda5f37f4c893298e14a34134bef14fa634b35b0c8260f5176046812ae86aaea6faefcf05d9271fb6d035f7dc686b3a430c927253d18bbd6bc2084fb79775b52bf2baa77192de8819f4d74e53c1c9eac2fa763251f66a19267f1d567dbe12745130a0f6bf713243eb1e918d4c6f8e5467e644f04642643454b4ce76f183a675f6e4c12a3952b23e28469fd1a0f9efa29c225c5e5058b73535556cd28c23c9d04b9348f72ae000e8f3eb2801dd08341cb30b3e1536c05b417ea91575a4558115cfecb507e437f9597c4c6ddce356064e628963242aeb2983e8f8090904e0799b559cea5b6331dac01eecb7cdbd126e1a1c2c91603db8fe3e935547ccfda8a21e0f1943c1e13d43ee5c6f46021030c9de87f5a66b1aca83b667003896cba14d2d6575dc652dc3f74efb21e8069615196c7638510e409b7a4914237741af29a70e1c2aad14e24e7c031769b2c079d2bac2c19f4a16fa2fe168fe960115592027b9b517a29bef6d248d515fd083448684031be8356aa099deb9d35eccae72d743fccd0a2b42bf7f0abab8dd122c77eb4019b4a5e37ee08dc9800fc3c155ef9ee09d1908fb950cbfb0512d39ba50a13c94c0549c9095dff096416795761ff4b6ec3926a91c97a16a6fbb74c248aa6fc8b2bcfe108841a259799a5978ce66dacec647746a70a9bdbd83d21567ebde2f7e243a6402dad460ed7cac927aa1c9bffd708523eea21d8b1eccda04bfc382f9fc1c3886c7b62fb7b597cb1139a2affd502e2d3a2811254c326c20c3597348739a1627e52c22c4b312ec06a39a32e2196b7abae231c4082a17d09e7e70fe6de28337f7eb76ba246189ce361a360c844d0517328e43a71f12bd049e69e664468e849d471e0f111adb7f5c929d926fb7454f5ba2ef1dfd0d8bc83d4d9b944e5a39141afe305288add55877f17838a8b916e05b5d65b62c2fc739ae76095c1c64f38dc057b5f894f24d5fae1482abda3b14b41b07d01a0952e44ec7d629aff425b89315d567dc764f2badcc2b996da24237b81c4fa024a7b74fb1d4f58edbef911a67d25bdf849c584adf10f5763815eff232842d75a4e78ae4d87f73aa26dcef7040def5b582143af84d22b3e0587efedc27626af494d869d94e9610f910a4e6fcea608892276fe0faa8a1c75f895b21525389a5a9d6a112749a0d15ac9dde0059a31bee27cfd80ec72f620630655c0aed80ee1cf1b9dc516cd39851ad38c04c0e98eceae0c7b9ff0eea12416eb635cb0a88413bce46c903f5721c98884a5361b2fdd3f5f4928c4fe61b7d2a70676b3ca714f312dd875cc198ceb012189bbd70e6c50773e9ca96da57b3028be7c3181eb7ec5e8fe1b2fb1a46834a7e81f8eec21f2fb5b1776c121cb465d23e3b8cd89b602341cb02dcfe771b5dfa51c3b18c2d270c81317172831e680611e6a9dd3a267de6252f126877493fe780ba381a258271e35007de9e33e5b486f1df981aeca03097d7d7609bd181526c38b2a2fa2a654199469fd402c6d7d42a90188158e0e308cb0ccbf24c27a44a7b69ea39b867003e9586554d9714aa6895decd53da72b8ef76f0af8a31e73dbd8c1fcb2ba63500ce71c07bfeddc96e68842496a98ca6de211b2f2a96e2c886bc7c8907b57179627f18335de2ac4a6ba99767e4f82ccfd077d864fa034f59f06261c5cb02d511df7fd51e08a9bd5cc8dcb800e510f5977b82947f251df937322868591de249da9ce582b4d2ba336b343ec11f81031fce6f6b3140374a171b5bd18d8e76c95b5079f91fd573b2fcfae1ef1bfa18aefbbc3b755d21554c5217ccb07c8b0136504a0829ac0310e3c05668af47224ce5e441cca8b80b920013db44ea80d64a49059ae339fc21706e076d55887f896853f099cd8b2025044375fe4fd1a9e7e81f8d386fdb5dc8601c80940c7573359902bb2b6801c2f6632daa07a0473a486a3","isRememberEnabled":true,"rememberDurationInDays":120,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
