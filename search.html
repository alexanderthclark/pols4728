<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"ad2d6db86976c7ef16044232d07dd9156e9eb02fc9d7c81220ed7baba2c2b4869458909b0b53511ec1a9cb78a317492db4650c244d545d5ec3b5287e54671db79d8760f5f380831d6ac94fe4744b02954ea04df83be9356c7230ab6bf2a503e9b580748f9e1a03837d2d75d0ee38ac5acd64c4d1bdd8a664bda4e0836170981d9734a7e63b579c62eacfaa68137be3b035a0f60d4d085ea2e6311dc2a032dd1232018f722bef83670840afe10da4e0301164cc90163c0011ff902d22925956cb0636a9b56fb964dd51610a1f07c125563c0a49a42c7767d702d12619a39e4ee1b9bc7f6c38f4f6ad9597356286cd78b2982eae4849708d41151a1c38002baa3086b0ff549d1cb11bdae69711f6eb9e3fb4d5d1e5d664c1e2faa2c369044ccf359894bb2c3a887a3333d732549bcf8dd812e9aa291086509a96df2d9e6f6c875da5ad6b4c2412cdf62bc3cf13599740c0b428d1d932a97c93ccac876b066e795d1847dae579854217c8c978a32adc90ef2ef3998e71fa8547fc3548fef82785aa9d810e7f9860f223c02cacd63905037e6e2665c1691d48d712783c3fb06061c26610a17091c435c7eaffb831f3f66263833c0f584b9721f6b2ca2d832278ef2d6209c7af071e685c69dc5831f300199ec81402865a8e21001d457c7326ad1379221d67b92fe063df326bde22201d56f31a81109e8bc177431cfd4e37a0d425e6c66e3253f9a70785e28869744446f19eb1b4605fa68fe36b8a4200322711201b1f64c00684a97eb5cb13e36fb28d0a4956bdbe876efbbe6a1e5976b17e334b3d5be38c3eb0739a6428f2f429142d8bc197f9bb870079fc5d1a4ddeb473a0c8766358031aefe554d5f6a2e4abdd3b31e87abf1c7f7c456027f4b6ed1f6bd4bd1ac1747ae5f0d340a5e666e3cde51e62013afe3de266832e07fa63313f378f1a60d2464e7fb732667537edf26f0a271e19c492c83c78c339de1237e77ea1c2a807349dfad0adf990bdcb3151ac086a9be64ef18ea2a6fed578e921f3de153268117e8a8e1bd640f7b79f3e594a8b28c1e75d15de29832fd9bdbf0203d4f5116cd3f01912bcc688b6af8a36a65bd49edaa5f76a75b9fae16ee9fddd16b4a7fec287c9dcdfb20ea40f103bd4c29fc30343c19b9365a7b7377e20776ae3071aa9b59b96a5637a9cf12bda3307878e24e1ea5b8086243245936c6470f3a3c53d99774577aa3ca972de35226c2aa4d2c535518fbbf96c6b7c2c9ae495744c80d2c64722c8972b0a0b5db7c698cacbe7a840efa25698730f1fefae5de70ea13fb0144d813f16aebbd38110388b9329106e73bae616e073dea9feb772b949f3f2a21f0f0afbe86bba5732e9ae44e4761bf1319acb74f3c28451587bd705d68051e73c10994b7e89746c48334ada10d65d69d9f42a5b3392ab60c53eb221b5d5d71c88fc107ddeeed80e61040400fe746788547bfb91ef041282be0b679f2414ee9a135d5066ef2d9338bb4f1f72ef0c62866fe6ba5a53ff3f6ad3f6b1f997a51241af21f7bf4f2b53d65eefbe7179dd1fc7dc33700814e41b756109a1364c967fd8c7a36217fcd75f7232f6e43e8289963fdfd0b73c255212fb92b9bf0199191c87937afd514c7862054f3c326dc9a7f993dd271bb6649727dd254043304d4ecb4521aa83291e1c92b017934cc853e664a3732291943d3893642935926c9ed7adc30d52130484331e67881c0da9acbddbabfe06b35069655d98e2108412f7ab36ff26a5dee72ae25610fca827d91c636068d4ca159d10a2eaf9738f58de196481b9f661baf8b3c2aa5a964edf73e1621ba146b0cfc24ede9a74c13acd2001f079a2f133f5de6cc6e9adbae99495b14a7a4a0756974048f5b25a9fdaa28cb45cea7936f5c8fcc4a65f1a657f0873c7db8fedf8b588c2b7e447df4263b8db26fed2eddb9e8ba4fbd93cc78484117db80b926001e0d0cbb981f51207944d861f6b226c36fd57a4cb61212daae55b853b28c421838487277ba351e41580d9351b9f7a424277fc15e8fffeaf48f19af618e688c33ed92d2b2d64a2a2c4bbc74f7c18583e7ab6a7076d38aeb442aa7bbb9be889a259c039de7c09b700287bdf83d2e339cf6b67d05fdfa89a0910c43e79a594b6f35ec22b942031abd2e454f59860facd2e236a6b7fc060b186b78fabae1da32edcae6b9b05fc1ac4e7700286d2b5a7f2774783484a032c1f9db62a9188438518bf41bace9fb77a39f114318654de1ab55f8c6445d4cb293d5ed537e7bde3fe5dbd1fbdc6b918fdc369481bb80effa7367b8fc93b4de238e893b046865892717a24796b45fb4bd76e551301cc4af7bb9e1a20d9982cc4f492b775867aca3ddba4cd49016c33fb6cfd6c0671cf0aff486a59662e0a95a373829a239a6af6a753d327f028bccf61f59ce1d904b72fde4db1fa3092af33256602dd932da8b4961259c489b560540f32099cae4cc09e2672d7d1a19561787906407fd8f74ac8e936a6845c928b3528d6e3650bc58159ed499bf90f919aa2eb3d46b8481f6c24ac256f9a6b7f9133ef1dab64709cc32824833401fc7775aa70cd0565ee3f848e9a520ce2d74db338460b4924d6420fa09fc7a47e8a97289eb62c844b1accc6518cd512f1b7e1e119cfa8f8b8f0c423ce006754f4cc16e36ef948d775173a653bb4106290da27986f24dc2d45cc2ccce5260307c7212ed9f33d671b3eb5c0519611d17cfba66793c22b1f67b83a0283cff501bf16cde4992b6955e5100e6a999729930b11f5cdf94b68ee98cbe586cb7d081cd1e87af884439b042a120e470afe1b2d1f2b786cbeeae281b98dfa0cf61a7604c0089b1c26a87847809b5c6358e18f27076b2ecad887b5fe8ef0d24c438a8f1b483851091e165bbf4d5706c712706919405bdaccd9de5a8274c338840763d1973f81a6666cd15ddf41f97ceed78d15383ab1cba3057eadf7ae3aeb6c8877095321dc5f46f3b8270788c86405921deb6d44a37bff58ed97349486181e639c7768adc5fb90240bb170391c84e37aeb5a167416ebbed6c946558bad90cdc95991439eb9b0bc7c80e560d98a2a3d5852cf6cf11658f6aa788409ea824afaebe98cf9b86f140f725697cf51537c4775b839a830f4c8a92303531a24a466207ff84bdd9814daf0460b302aa0ec4efca2447cd47c42264124de0c1a473d1e607029d608cc15d332d331c5263970d1bfbb4ac94e6663f3f4f3a084b6a98b363a05cab5e21204763ddecf0ba88c74a8f53211147f658c4a3b8c2999d502974cd8907d1fbda85856ef3d0ecce4fb5a5fae6b06ec0226adbe8f286daf35126afb3321e2250b054b0f6987c00cc7d516cea990d5a43aee3461c0a90b8a0ac56e832bbb4d921430f9908825ed20d59811dc7e8cc862dae897ae24a21bc6336c457c8c74250bde66fb6aa20c5fc136b9c59cfe2c103100ba7bebf3608e794af117c8b50cc9186c6b7b97c0eb3ce245e4a22ca3680e1fcb9b19305de4db54235b2ce1793665559482234412c815d17ab202a5b75369de93902cd71f495a87fcebc0780e49a3d034c88aa1eae4d45327de6c1b91487589b0e3f4e9606436c7b65f4aa18bfc119197e4504af6d07cd312563c07236c9aecfa357ba725e2fdeb52411e8bb9c09336db46f25711cc2c27440bd24dfc5522e577f611b23175af997956c6211a551974d7b1dca2c8286079e492a9bc2e550ef7b3be22a1daaace09350203c6b3d5d1e75d214d944479874110cd25fdeea191548933ca85a62cd594d036907301e30c98a65bb7bdd915c9596fcddac737572168611bbaa08ae93dc1f3c79ab3ebddb40d10c9a331920f351a4b9eb460ca00f1b2f1bfeebba2f38d2a2c4f8fc05034db05062ad66ec6accba8c3414107918fcefcbc96c7e8e268ba668a9e338bb734366dfc5f98898cf1cc3a86878bbbf0e27dfc6702484dac8f077d33282c361bf5f50858ed8d1ccb398e5a7190ab932fb6c25e03d34263610a35983209462d6ff691e8b3cbb33597d7cf5981a7def046694c1eb22130882eb276f282b9dd02cc10012a22d17c9ec8692bc89b7a705383abe69e4fcd9a6038e4bb311467e09409e93e82c9e6103e7c8519b65e17065a3357fc7e096cbed05890dd8bbaa31e01386c941a54e0c24bc6dbcffbc7e5bef388e942e66e6dc49c4d29aca8a64aa083b9c3baa8cba7155f201e78cfd3d7d505e496930044c44f6391bec0a4ec8cd4cbf7b29c655d5000dd9bbc8f66008253df3f4d57beec39fbdb2debbc416bbc899173bab2f7346663f45c83f38bffecc9fb8c8cc62f65f2a9af88e682dcc5991b303b9d408b16c5f5ba201ea9ff9adf84ecd7f171de371fbc5868b633a57062f80b3fe233445aa61f07b72a7299c95b0cfb4ec0430f1418a12a77e34315d842f13f8c256c2e031f2fe9575532929031be8df95009d8921d02ea39a504a9e89d1fd2d7916524d6ee206eb5204ef4a99522cd5551ec546f6d20199bd0930b556a2e529eed2acec30a220a55c1d2a204b7b8ee7089cd83ee20fd1dbbbf14c2b81a667bb28c154a16d84b5094a635916eea03e277385c746d6cd732b6e03e19a38a5ecc23ae7f00c194998483b2af19320de1bdac8482a0bfb2bb3bd904482ff9dc498259545b95648427de004c52e48007593b5e5ec8bc183c0befd249522e990e3729489424c6727002515e28bd3e095f5b423c29d58df387b311f103384684c84a6efe703577905b426416b2ee72e779970c47bbb895d97b48d3fa85442bf0cbb3a7de74ebd59eb1ccf4773de0c11d893e5da9c7c93d3b8a9e5c6c3daf482ae9bd4a6d71462502918f5fa0e9d70797c421dc0e563459dc731a63c69e7017e36758c82bf386104eb28cc973d14ee3363b91bb9f7782bab945e52f2f0965be4f9b0ed0dc04e501a8bbf0a71edf6f7e0fa31b0a50223e07a1d965a9767199aab6c92b2f72a67441129bc2318ede9cab074d30cdeab7bd46503f3f681b876da0cd009556aa21dc4807d9e1cd1c16eda2a541f02f67e5309cf485dfcdea4fa67b3f277bc1e97cb2349c63cc4841c157b0736652a413f39ff8299699e617c72e140bf846b4848527e4e0e3dfa562c483f490b02e4dca21a24a9cc0bac3856fb3a0c0e380d74e2d7a227a1d002a3bf85d4d0c942b8b7fe6f49d42f2e995d873cd5f9db29a8017747353b2b28b933ea3553358fc531f68c48af7f353432f6fc1eb49495bb5d43ac1ba4eb01fd4192c3f17316abb95d2c586c28904b4f13dcf450e7465a26194703f9939d23e914d2def5edfbf77708b7023850b248d365e167d019f7eefe236c598bc64f81cc0b11fad78e5b86db6fda9525326c2397a8268c0844e7ccb154350515807b4270e4ba8d45637a15f34a5be3f5584434909c2df7b49442eae9fbcb753020ea36f02f6d80b9f03a7fc06b3cffd77b0f9a04d105a88888b56a3804c9540069c47bd5a393e0fa8ce0a1e8baa52f40b09fd4afafca2b59b32f2d8ee7c96b8ee2fb09fb7dbdb9b720e77d7bec68b5495fb01c630e67321d86d9a6004bb1739595395f703e82c75b4bae2df888e992b2e4b0a7b87eb34c9611d2995f2a5e2e2d429409134deac87a8c7b325e8dd28f0201a923523db055535b38c5d27d302b18de8701507a7e417289f9f1c779c762538f10ced93b4dac465fb926598bb0da895f17671d7242c6c71363fd37a437a989759837383217b34d21fc7d5e73dd5d39e481465ac7e4f11312d513441ecd25d169da478a0cee13e75a3a004f5bca9f867935a2929f1bdc48483c02e6b5a2e3c30dfd082e2c98b960fb3d07661d3c40582d32da280174aee4fc9f672376d14b5ca5aeff170bba69bafc7092ffe5924df70a429383465e5cb7726e5911d928494c1f83783842c25573ea41868a7e50a979de9181e483801c5c579c70ef3fc2412ae5cbd92a5d840b9fa741b197a5d7c40b90509b26dfddfb13e9dcf15dc073e05a5a54548e51fba42890852d87096347051466501b2dd94661b91a30716cbe20573ae9273ad83ed06ecf691dd95abc1ecb0a827225ad94ce3097f4f7b973aff5dc211849d94dcc9879782450d972596981ea2bd56856f2411c88d21e422694ea6cbc9c18c23306f1e56d9b16beccc07d077ffcf0f066541b8e502332def8df2d63ea2da1f178f01f6ccd13d3a56258884acc93a46044f82bb32185b0b1d9dd770c3ced10a597ab086e1db225dce4c93a6475fe01801f251e5f2be70557c61703785818baac4078a9ed0ce9bb05881205a43d955d1ff88b2c5b9899c2385abe6f8891b3d020cad3599f65faba6b6ce23f5c3b5b689f6f18a232c0409732fd09908b2933595a1cfbbe33295f46bf34e8458748e849faea1a668edd1bf7526d8b55d92e8178b5062683ac8276784e23889cf25ca3ce8bbc12ea3103c903943c7cedb1e42e1fffa4429e944f5a3386213d5ba728e18b10c04e64be72ed2e947ca124f4ce3f62df1a7cf95085201dcb1f037178caef867a3d6d2c01812567bb74ea7f2c6cfc1752ae8ac3664ca195efb20f3f88d469c112d7f8a8b13aa6eaefa69446bd34b0017dc80871a5a86b869356fbba66c625cf2bd1f8ddfc117a71f085fbd4af7042df8b806b8e4b34ede0721d3ed5a9911b32625d38756e45f7200e0d8acfae2d21e127fc41a264800719cf6006e316fcef0359dbdacfbb8b895cff55ec38f70a98a7cef91622884332bd64a3d75249ece9e8e38cff1a45b03c692cbc4b688faa2df4e240a3229c053d79c86d21baa23ec1f1dfbda12757d56833cfae50d3fa9dfbf93b54b50b6673450aa3d3cd201a81441fae02dfe91f3170b491f4aecaa9af138fefa72711bcf8f18eeacded429f73ab7efa8ef9af39ac2952fa29fdb9d23b3e7fd8b31bc653f4022428da5e358913127c355c959adaf14e4d446e4c80fe23c81513fea6803ac37621da9ea1097cdb59d1a36acd120754c43143b8ae700f1e4ca984e48631dab0656891a3923d86a8d769eb3151a2565f5b2dbd44b10382092825dc00ae15903c641de232ea58ab0e3830b056621614f373243d4fc8c6cf94bcd31499f58fa45a5774df7d85b4cd6cddf88a3117be1d447879bb17c4d9d5051e5da16f5957062e520bb5fd6cb568a26d2ed4ed8170207deab14ef7bb3e39ee6a8cdcc0883a3743ffd209a95033d70c4a16d5b8887ce49bd4abc405200393dcc3ed861d7d7954e55cbc5033e56565a8fb4dc9ff3d9482a8abdfee3b23f183f23ae8ea5b9445baffe8f02deba86a68848f191e496c232d5b8e830ce019856d767edeeca9c4ce76fdcebedd9367b7df29b7c261faf7207fda93dc8255e46a9e5ac9acbba1232f01f917fbd09d0f04b5add4aacadff59dc277e87edbde3c84b959595f6923491dd865e22878d496a245f78d2f70dfe16c9e85df46804e0cf2e8e8fecb4261dc75963be61b1b1572fc2b562c22c19f507e571acc1f5e641d37e0ad6e94abf10a53c306ec92607d39e7a28494a834161448acf7d6591fbf3b28958909819944e347fb1d2ffc7ccccf4ce1242ff4a0de1f869f4b578929e0520754ac60178a6c50a8d8afc6bc678489b643ba90d34423f72b5ce85cc0e73571e23bf20a8925fdd2b993b0dac654d6c41bda9afa40a1ade873ab34a14430e4aa5a02b1fb8c7c7617fac1573cd9dcbb9568c8e536a4d64890cf2fc60a0072a53ab920e44f6ec47e54bfa1e1ce5f74d438e56d63551d22bbfafc5b54645d30a6cfd7ec031ad41a55109de997bf7c74a1f7e443a5dfd875f3174a22553a5e8824ff618e3dfe0be5a2512edae0a50422512c34dca6b20aa34124069623cc415a149bcfac0be526a2291b581b583109c231b96d089cf501a5007535759eb3ef58f49395e8858b5eaceeb34209924b3a52d438f1bdca8e172a4f6fe45fc6ed3d38c2b70d86b593c64e2bba8f3e783f68295ace35e465853ded85fe1ccce0de6ff1f1a68cb21ce5a04b91dcd97be27813ad45a8e0f3211858bcfb9159aefb8a510579bcefa5e34b579dcb4c4d69d86a789adee4785d279a8d9fbbae16f0a6b8c90a344445ac7cc1d2e5ef0daa8b1fac3eb639e0f5b4811d1c81c49ccfad616d34c69e88be6c10ef58233210763dda233bc07b3a1df94960741e821fdd968d3dcce87bb99c564939d05e4fbcb4aa5dbbe63109979f1201d32c65189d49c89d2ae560999e79632e7b14d874f89f8ee38f1a83878061c6bc4d00a4cb9fb8f9ea1390719a292364adf96fc2215e1c50fcc8b18d39bd9dacc62d7805f5c8c20146876b45a72553a4ae30f26ae5e8efc3b6717688d91ba9a8a080590e52f5cbfdd6d7545a41771bae543fe314d515fa301a93ebec076ceab436cda91a57ef46b764bcd9bbc52e7d92021b2931c5fb7323bb7fcd8c4a32fc05731691cd4e313e739204f623bc4ab90bfbd1fe263b89be2a1865ea8f7dcb3974f385d7f409c8089e98ce0d87988f2d2b30cff44e7225a99e81ced3e465c49ad1c5a68aa5b743d6ad97bae378f6517e642cfb1a560355da17528e31f9ab1af3b0fc71e715790393fa65a714e996082210a180789f3ff7d8a640af1de55c11f9e96a84d8d4efc0ce0ce3150d953c46f8bb3f38bb3d8f42511165f2f7368f09db5673294966179a93e4d0c13adcd6dc47b4c4789e37f79deddbe6300e7308307115fbd790a6b86fe164363d38c675d5165137337c2a8425a3a1189dcb1f46da18799ddf2f03f76222f3981bcac7776e8a8b4b8e9a901f9f5577c2d63a571482806486a30e498aa7dc8fa5f7173fabacdcfeb85c1c987ccab2724d3c048bbe6693ee0272310905ef116a4c5f26f1123e978ac7f2d7845677966b4fbd370edef95643662cd8a9f8fec77c077cf187ba7cc37528b0b6437dc8e7089233c729ae6752af574605852992e37a78592b11bbed64b4023a6c50afd10d4af805b4de20d371a64ae9539cf302d396078b6ebe6f36b6182723b65df6da90a26c1df959bd8dc5aea26173e5dc7b7ea42d2f50af56c1d85673dac0803b4a6a49cc9a4654a6730b33685aa1eebdb09196231c2e487085739c95e53c29142858aec0d0f0617b90595f3ca756073f92a4dd217e34ad82db4e2567193e4cfd13730f718a385bb95b9df318e33aaf87239dde73f643aeebd778599f80798869729e53f2990a1ac3d1098d09bc1311d5c32346333562c12fd74acc581741068da7057d0a17909986fd3970f5ffbcd10f58fa3b60c02df34b31a4b58b1461723596221e72036d01627afb7ffa3769c64710c524b6bdc8ebcfb181789351e83780c5b1dfa208dc20d43c662128f441342694b35b7b357c2e5cc32235b5dc825127c1dff4425340e7997491e4fdcb869c0a61a7153fd111e8fdb49821198bf9545fa58f0fbaf72fd768e4bfa75af9a28a84c72dfab192dc55301f713687223b4012d66b3ea65f45e93c87f766593c5d2cf6125deea672e027e94ce21635845203964fdae26d068cfcbe6de08d97e67f415104e4791f8b2600999564ba83a3f6a444879bb15b45da3ab59480d934a641d4755ab032d32fe9a5b9ec57fafd10aa385f05a96ce84402b243aeb3d458f1b5dae654eac3a7df85cd39d44b35848975962c61f77cece82a74b4a250fa13f0690f3fb3651c6a7bf445f924e390142f66e681d571f847c6a377bf2f752d557f92cbd89284c67c736c3a8bd2015e87032e4d07699d676e087165bb7e194ab2b49bffbda572939f4315d71848fd4ff5c414b0c2c340a7d207aad2d27701218dda15036a095a9e84649a9690676c12cac457bc139dde3b6c55f0d60a6bf895a107ee8eb101b3e9985816aecf2bd63d1cb984f3a0bdbd57cfbcb405b5d7779688f30ceec7ada6b6c0d77c15ac75b16a9e83360c1117c1be9bf26ade522c13d90973469461d6a86c2b3f380a08f8b404b73b0a1354b31277d313ac082868258db98c26447b3d1fd516bd7a14607f19ad5b7669f5fca93a0bf6ac98b74850e73dd8c4ad4db8dc810d6c74b8882d7a321dbe44c73e8be004768c39922fe00c8ffca305d7392250d51657e6a616f30b5a0cb0113d3a15c7825afcb803beea4dc517e89867819c0f641903a7c720fa018d0e2f1cef107d54ae9c30afcfd5a107752da417793ef94c2f83b61c3360374976ac71bd0bba92f660aab04b58f76199b676f82c7f0029571f9e670c60669b16252ab294aa504f0853b3ba531b69f5751715f7de6888ef2c6bc9bf639c3a17deaf49b6360d43d9ab7b11c4e0c30a9d346bfa9abba2e1bd07ebf65a1be3230dec7bfec89826d04ed7203218c5926cf5cd6ed0b408240b4e2621b549a39d1cd57e3e64c95f0538df3c85855171b9b168cac0d3c3e49f459c1a7d009c5567145d1cd6ec883ea20c511cbdbea68dbde2925e38061d65daf5ddc99c6d0aacde96b16cfddd3b486170c3d2bfe63c6b9e35e489412f9a8c673cdfd5201f390cf002c1fb8ff0dda1387f8c86238b96ec5cb818220f4ba065561972d97be633c7a640c7390632537652351ff4c4f273db51bfc3ae0dcdf644256fc8e255c8133af6e49f63889f5664586f2ae14a35f8de45c8168c1d1e04c7fd27601ff3b29f3e3c6e88b8eff4b26c2b8688d866fe37e9c06bbf2103ec6d40d0793a126f68568bbdaa15602a97ad016a9be9c4b7148c0c5299cbd0692cfa5079a2ae778ae6eb35fd08767bb227c88d02dc5f28dee6029973a4eddcb4e6084bdab0a5b95e1d107efd2282bf6fb5aae8dd20ce4d63ad9a9a14629155ffb2e34cdd99a2c39e4a7648a39c4996feae2daa25fd77dbef88929ce521b242388d6a800fd26b18447eddc79ceb3c9ca3e4e87465d3830aba90a01096698f67c30638ace004c625c64b9631732163efb4305d3bae6de1e6b82d72bbfc772a44e46bfd0d296c510fc9f5b8d538ce6901a3ce97ef6bae5f4782357dfcec1f2024251f082298c8a1e51451e611291de4cf006b996916d5682354defc37747d1273bf9b6d3c41c3a6acd2eb70d0edc38deb3f4c04d84d975850f8d76997ac9315b5e2f8340c31d4826a2234d21dabbedf4565907b9b652dc227402fec133859455550fefffec7403ff184e350376581f88adfbd122600b56e4fc039ae508094755fa5b9829861011f1f68b9b707c097a46fc511ae27f6e653ba4cce912badac9264ddf9321b7a5463ab445a79138f54aec0d489d12980f6d39823b301fd105beb6750b9d2ebf37abbf1bec7294435e96ad7d333e92436761e84d477b3708b052cd7611c41a388767f766a0a016de56b2b40c02bcd5593a7825bb18968d86b1c6edf4dd0f1378cb64dc5968004d2fece22ba4ebd06ae45a9cbe60b2fc341f269b084c57b11bce2f84090aa1b1950227f75cd03b11569a349e15c8c78e87b0839f07c240332262a63ffe4381575d6f760a1ba4ca0eeb363d33ecd2af1e5a32d00906bd2aed203600511e5ec148d016cdbd97b3fc71ef39f15bc19d5f90100be7de9b46904404867a818394325e339b3df6ca1cc56caca25e3cbe039cfa4df32198df4b8393bb01e4c4d7f596be46c9568b33380a79a98ab29866a6221de485bbe1d27092dd08fe7d4743b857cd8569a192f4d63ac2d5a391b084190ea759cfeff27d9d40442032207f856f12117a031e50abba9c96786ea3b4779cfad174e146455b4de27acf5a4a3cbf9ed692d7cbe28cd4b17f84113f1476e0855496ec7016a376302a56467a080e1309212ef2490be07dd9d5af4e087e8a2b8a7e4345b7b302b72268e2d5d00cfeb4e35f0a3014b3146e6a96de760154c82bcc0d35a98bb7b915b4abdb3f816d1deb1b667394e16767d8fe73a70912bbd66ea14ac7314e2cbd0c845f61886e30302b56be3ce7567df19a0128e013c79c60519baf5e4319b06238c58076b075d5f272c72756fd6aecac1a35a9c8b5d9aebc106bf7f48143cabe3715a616cd215168fde55c0dc194b3033fc85fae85802e50040fa5c04ef25385ecac2f2395c007804b56e041fb039aa222e834a6d444f8f7ff965f62af88286844ff3ddbdee8171a9b94eb5ab5b717c4c98d58c810bd89354cd24736cedc4c3316e5b082e927ee6f16567dfaf2e3fc81f06bcbc2f2506083f9a88b980cdaf7bfd9066277234c6b98016c795ef67b38df04cff2f60026d348580131314cd7011c45c4420c361a628642bb1b672c0a7c365136a9b9e1e9796414082ec386e25f8cec9000c66ef115bdce84ec8a31b89da6d3f6fd1cc416b0941ebc08371079a4fe1f7973ccc819a2389bf698920cd35a9aa2398dfb3e09d8eaafc6c2abf226d6a8a5b3fcf72ef164ecfc5e4c9233f9137cf9e3297863e41981ef5b5e3fb40d8c393fa6d07c38b37170bd679d5234d8975a338e524132c0f3ddff04878b3bfe054939a0d92dfd1a4fbc521c65c6c2bfbaf31ec1d433c95126fa9b8c22f813ef638efb916aa9ee8333c556b17c6c6c8d74dbbb07b87491f8afeaec664cb839be2bab3107f6ad739d766a9905c9e827265d9a46e1ff5367b702c28be3408f437644ad73fbd963ec6b52045064c08ded0e882fe80ad50318e780e4475f051fd7a0d9aa3e7feef119e0ed47ecd84b489a134132270205002554d44de1bf2ec29fdbe1d2e5231f035570f3e2aacfc89c198acc3b4185a80e1c2704e0d58affec07280d2501ad04a9f2842ec15699f07b0938b2df38fe2b604a7186de8d5411f11dd9b87af9b1c209ab65c0fc51908cbc1f5cadbd58c70df9709d9241c9d547721cf63964bcb7d3e800b4a8a0e96749dc20e56a1d0ae7038f211819e361f376e62330aa16d8eb375e2b3b561eecc7e8aa3388f8e32810a6a365b9fa24b13150374f4d02426ceccd845a01305eb98e7037a68bf2a3dbb04230bf480ff4ca2b00fa6264b84807b500bca3954924515c67a36c10d14c6b9dfe9d2ab26a114756313dcefecaed245e4d483b62a656e5056862049d83b52f9f2935c21135fd17f90a2fb6d20524cd700725657f889fc55e12f3795be6e3af7418f85818a9a4b79de3ad3b9496dca35377e4c514dbc46f0a4d13ac266580d9846772ae48544ab76c4035a5e846de961a0b7f3cd7ded58ad2083de00696c83ab7bb77b7d20cc2579fb157a16dc5b88e1621011f4aa1e8ec3d39b717b8d1cf65e95ccc7f89d52e7fb34b73f8607d2ebc95365079c821fe05ec2c33013a1f5f4b0c61d0f9afc2c0f69bc29827319bb8be1bf13a3d76ca8eb82cd6ae81338c4134fce7f24baf4a518f4ef58e5adb6fad864341017b64c9e0da56be4f2f3295af256b4f49e42897ad0ec99f2f0528bcb00567b79207933a7ee6d4b6479bbe8fd617ac8b4f04ca956eb3a795574737dde8047db121796db73be6d20e5e3fa47c78b630f6ccd164121dc3c8220743a3deb2e36d420ec18398cd03fbe98011095738e19443f15a48a2d5043e25a1ce549891a6b3e7b220fa9e21002f492c5c64baef3691aff04dfed98a5c7d2569151f3bebc1c6dcb458b2eb60bb051dfdad2b93174af112c6e920cb3267ea1c5b13c980c8619c5d1786685a309efde7ce7146bd1159fd4f0650cabd567b9d8b4dd2b99e9b90599d0da5935340c22a58122029b981abd0f1ad91066cac87f9e479d4d687127f347a691e622ba8b471a144e1db1294434ebefde38dee2b877ea3e98e901c82603282ca85c76736a3057f7218b7f258d5b857fafc0a5f5e8f6d32d2d736d1de164f74eb1231158c4bb74116ed9fe4fbfe6e7ca0b9a1f3133de4717af21cee7de670043e85ee1907ff48e7f77b2224d95add74ea9548555851cf3e4a2748217456962dd9dd6ee688e8159d48bcdbe53a2adbbd555abfe1a9f7a5e941c5bfc311ecac21f6bdead30c0d1b1da1253365d0ebbc1ce98c780fc9eb26d03efc8937a623ab5705f08d0f4803f44fc52e8f037bd35d05372af7cba35ec77a553e5170eea1543a955241e987498dc74462ed435c41d75406dda0cf0a77db8f8434314fc77f2f7a3f710ce449ece58c116ca061ebbc14d04470a830d4d0e8ceae9d00829b9f5e0274f19a46fd49ab9e107895d76003da94d9199cb17a16dbe16e7c1147739519daf4e5f27964bf9cdf324956de096e714fc8ab622bdd5a1e22922181422cf2081b086931457810af3808d4097de9f25c5025d0d6498e849e691bae7178ddef5fbc5350e5b796b060e8636d560e0e427664068bc3fad6d1af41124147d7d569a5a3285e13ffe3d23fbf3d537f56392044f49187a2fe3374881ea1b59b59aefc1058ced65dc59d9edb66eb0f69de34f6a14163f889557cb62082e809382550a3fe5717d3e9b5865c1fb69d567a735d1403ca41213c891447ae449e62bb9bfff00bfde1f8824a23b66c4cf227d835801233bcaf50340408e4cc0722184bc5add9e432d11f8f1f143e84e3640b64107fb117a3fc131bdb107c8e4ac615fc016aad1aa680b81fed0928a9b691e4d7343c5f46daba3c25a63e42a5301f323bd4194424f362875d3d6a751c0d07f9c2897beac2916c9d8eb3b4414bb8d7d9000e1220e8e45a6b14f2db6fcb782d791ef8c9f8e6c51367f395cc9814353a3cfa5d94e51529db27e04f648f6930144bf94899db7336b6e8071e61c8d10dae4cc45b3189144f738ef235d6190111ff4a95ba0fe0cadac253876182012cd7eb285415c72f1d659eab767016b372f4e60eae43055d608ebf3a2a37abb4207264fa8f1430401251bedfe3135984451696f7d0b54c96a662c935a5a686f22f374ca98966032eb5ce37acf447a9768ebd2b496224e5e6a86cacd19d4c11b3ef56452d24118fdf6d9d134b61afc08f80cf039d7fbd2c8d2d6cfc1eb8550ea038316322a5dbc3656e0998264cd12a9e723f111a1e099c73989f08bd82ee1e1fce8624ad6cd3480bb3fa36d80736c3cb50893004a35400c8e2e9966326061e47d181e26222a930325d13f5619f078d003cd9ac44a4227d566ee80606c70d414a786b32e2858d1cb079e22be791e929178338ce57015068b9a614d88177e7b9e1829c68634165b01e37f67ee0932af6c5ec42c5fecfffd378deeb7db2d11153271183bc84e4d1762e6f5410761f21cfe623b3a813021cb370f29bbee03458780c523ca1fadf6d1b3ffb51e2cf3375c75e191901f36a1c33af98150d5c8d6ac6a8fb1da8aa7cdb8890cd5cc59a9344f50874b301ac9d78c4c82dd2e2919ce8672201e81e6ade2f722ecb1e833cca3a1f3565dde966967e3fc80e116460bd5c7a99e60ae6419d4a06b1fedd4b7fc3130a34625c47b06263c2c52e2c54d7b26264e3e1e2abc95af4cc2b3fde29789e534e9fc8833b7c910ccfd1004f95376a6963a8a36054ec290c7e68b6398e0abb44c23c0a76c37bb16833a7d632d42c760978bdbaf4d069b5170d60a7983aef517ab9440b78baa1422be8c3be554bf3d1f50dc0e7495b1ea1d0d0987dbd249491a810b45ecc3c73afc4fa344d3d856a8aafb6359b3aa08a4224a4704085e3837425bd0e7771af9654e0beee9d88aca78749fdf6227bddf193057e40e7653a99e520eeb7773be0978e0af67a14dc279330d47b14a4b5e3dcc1a23fa99e8c5c541a174a820f4a4c6df916788f642046b61dfeb695d63a2ee3868a35dedf35a2eede20f49b5f76dcafa1bc25443b056864559025b539cf7f0c8a28ed4b0f91f7cd12d8ccbb9e15de44fb835dc83cece671f8fac1ccc9a413a6e34a4e96432326d554bb5829dc68bb818d441771a9b4f53fc9629abc41ea54713a8d156a0880e7d5d3517063f4399b62fca9412df14035cadd3a47771831caba3e0da667daa501ad61a0634001f188cef3ee2fe568c86891b9f9458a32c280509108d85497bc1aae3d48efc59492e52d5e9243b55818673eedec040bc012bf71ed08b8a171473528e9f0a664cba58e67168aa97c5f5c9032cfd524e87e124c7a5738a937510101eddae82cad7fadeca1a33361333950d9ad0e4eeba926832c3903be798cdec5fd581e8a5053f56e8d21b008e630139c38fa4c472679690b62f786b103525cfbc67d466b62d1de5e00b6f865fd5a0e03a0deb79d3250210f36b1cd8857b1a5d8428d95a498aca9b61a48d15be90ae2fbbd1fa55858cced17501f7b19041f7d4f2195c91bacd6835f172a60fc7ac086dc14b614270278209d6922308148b4c9033e6f38133c59b772b9274e5dbc681bc632624754eb23b03ee135ba312fe0f1ea22f9331d8bdb87b683e45156fec8eadd0685b947a86bd295719ad900c50c280baed6b5971d4ca520ae068c1f7300e531acae3cd49845f6590eabad8a84de52a13b0951b5807bfc072271a7ff99f9f876eb62bdcde50adf282e731f796a344fb839d8d081799d12d9ce22f8b964b00fc51db6ba5752639dcc8013b040e6a740b70823465116d1875cfe06ee5c03ca17dc69a185f4f42d782212c3f26994e904e66bad738290f4ccadf04a31f6bc032c3118f7caa1aed1a4c8ee1a9f79b71786af32865f629c5fe3c51813e2c5b862c1051425ce55395505fb086f1337810ea6e310b0a16e2bdbf06b50053562c7e1a617f362aad859fbaffae6dd74942576cd18a71b5a1fa404dba2e706f8e0f75a5dd3f23c9b9182b57791d576e0fa39626d473a4c114211bcd097a19b6ed6b86842860439320a8058a576f798f70dc97e06e117b699ab3182069ce23dde512e1fd0588b916eb17837bcca645a4b47762090b75a62b1ced53064516871efe84cdb23bebedbab1e7a31bbe7a214db37532e93e021da7c5518652006f76672dcde097f4f63bd792bc43b2804e2f064d7ea3525f775208a3b1e5d45467811c0f0ea36419011efec8cd876a89d0c4a20d90427f67a2f3949a41fc62d42b51a1713e2d764fea1d641e228f1a59ead1f33de1078bdeac5abdd329d4433671c386e1c02b4c0d2c80889074c944bd9673df68d1c6eeb91d47e5132a00f12306bb4058b305a4b70e3fac11e4a456ca356808969fcd325f4b229147bdabb4edeb21b4de6d69eadc60021e616a50289260e2167f6a2959dcb15c746fd3e79ea575dae38045d98578263af5c6965b549853a79cbcc7c16223788f583865b88096e83ba3a2666d21ddc605cbd947344808024d8da900d2c699326a1074d0dbf2d7f4accdad0f7236cb66cc5c7b86e48a3035382e2d7b0b306e80534052f5c521368fae13edcfe9276af4e668a5070b8d91c5e1562862ad290fc6ad2adce9026560e8eaee3c125f7defa3ad81d1158b1206fa3cad075f21e166d6aa860fcb8dafea9218ff4ae694dd2bc43c812f0e00f05d2630dce346457a16080d705524508700f64f60c83e2e12f242466c1452c4c381728c6ab20951aa84e5b9d39f354609530cb8f047d41c83a5ba95c405fb79d65b18400aa5560b3b9a82d1960fe625085cebcd1167058eab25c44a2b6392798aa8d56aec9abc864455330498e9b0c11bdb604b92c0c36299f6cf2a25f3cb5c95bd160a0957def4c50fc8b239f1d8e51595f3cbb346ba364b29ec02f412b669abdc136b389929bb5d6dc50b241958d33ded86ccc280c2ec0745e377ca56dd5c253a031ae04532713a22fc1af98eacfedf614f0c5a6a863b0dbb9a80ff11d06630d1d5f4bbdb5c748d5ad0c10b7862004489aa97518d5710e54be8f4a7f6ad71e119e2d3cafccae128d30c98c990bad5a2f9eac1f7597586187145cf16554c69f61fd75b18936af4941298655a9dbf50449bf83cb9b152d2dcbdfb9e9bf5084bbbda9a8a2a1797c6ca13cba45380ac2d5f735b004093810789f63e3de0b7fa90c45580c4ceb21b71db73cea80c19174ad1aa3ccb14601f7e0b87e46b15734fc92ccc775f088c68d4afb4eee4a1373dbe8513e759487f379996122a5b6f1f6906d0aac8798e5110a17345dba6a85e558ee0f53db9019ef9adfbfe4b519e1d5ce7f9fca7ccb990088fd9ebbadba89bad6f6c73775cc70f15dbe27e3afe9c24ddf0f8cb9d727e60e8e8076c81a5b11a688b1ceb3a15e4e3c3b8b38b00e1f3960d935b6259841be5118b11bebfe9ddacd3e1c5c17a32cef4bbea56800369158e7875122ecd2c8c6bf3b08df6005aeb854a33611c69fff9546941fc1ea4397aa785c3717f1258780eacb29c8724c13398f178c068675b82b08b5e2918d001217f371bea707f8399fd0982973a2c069909b2902fe87ee09a0068bfd2b2b16a247140d22680d497400a98683837951a02f954845757353a89f4916d4c2d3bbeffa3f507575106e6a5a310d139a8bb6aae6c72435ff7ae300d48bc13bb58e52e9c7d1aeede697970f3a09eb9ce3c741f67ffc1bfe673a9dc462817ceea688e859890e47b6ffcc2a76454d1de6836f5f4b003fe90db2d72532e286e726f98b581f1c82bf24df1d0961e117abe5aab4604279dc481be49a05f937fd306b136022ff2c3ef19582feffe41b1ef7f21c360586f6ff88bc00b0996318c4cb31705aace02e4491e622bbbba18f107d212945c743974ddc57f5022251edd7532b47f3fd5decfdedd6c2cbd952deb4e34b81095c10ea9664beacfce010251ad673b6614698eb7c1f321c87347380fa78834923db5768a62e8ffaa849350a480d08bdd463d8765511df5736fa7fefe39e4f0d08f7b1b0c6cae82fa820454e15c843bd46f86d702e5cd19d13b5fb5d1724b14ecb21d6a3f783cf45cf661a6f1719f7fae9450b627513abd248a9fb4de92e081cfe4c0b7fdbd40dcd26179c10d97a70c2cfd2bc170000f17cec59145918f12796fd7e517992c290189d6bc05189b9c48b150f9b66bbf1b00e14df7f6924d967a3937cd7a1c35d0dad2a36cc8643555540ed09ccc6dde9c86b9a2722785c60b0f35132add3ae1d5262a99e1588dfc031445f3342ae3e0923c707ef638e2add6d24d76f60ab95d534d52413e65cdc5b869124cbf591ca18169ff0c429c2a991a635052360eb23aa0064f843578e968ebd2bf3694a78bfb2706d81a704a2a02096e9fe473279d95a6ac31584e4c9c080b97830d093f8da8fc16801733984b91056c35a2562cdcd19607105d16c155f9789bb66822212672ca89d0a6fe5ff6fe82c1ebd370698011d99b4ef18cef6c16b68ac5264d42027a47e6abc2ae84f07178f68e81b4650ee50eb77e4d25138edfd3a0a16934bb10c332af1cae49bf11f3a747da22d709c2ca29c5ef2724b7caf8916f56410b0be6f234f94f82ebd5d7f9ff391facd7803eaa540c627fcfc0d4f84ef06bc2756e48d1bfdb2827d4ca3ac8f33070c5b5a3e872bfdf7c1f598c3f600403debb8b66ab1c00c403b64b16364368c3032c6aadc377c2bb39d869ebd7c7add70b40dd0961a08e6fa9cb1b6f38a645b4ba97869a4f11907008c57308d28e81c24af9b7e961aa2f5be1f46ed51dbd55adcf63fe914eb9fd1c20fd9e04b1714a9ea058c9f40a2896a1d7dec97e216198dd8f50bd4a8efab34c46dfeb5b0cf38dcc672b517c749125d66d438292dce62ba981341efc84f9b8277e37efe529ba328bd45255a246c0372068adf40509293d6c1e9ef9eed7ddb78079b7babcd8bb96b72b43ec420a680d9cf6c127a13f0e306ab557e57fdb0dafd12ce139390c0f8375fd83315b4b0e6e732093c81156b3835ee6089e9b9cc9236ced3a31d0a918102c60744fd986286706730197ec918788f3aa7a7945f9c8f5f291bbe554bb597806e71367114556d05428c6d65ac85911770594486a9f1589477b25bf0dac5b0cc240c8a935665f760b30ae71cf751d3f1ecb0335e8293150104e1df76d782be9ab1db2f0c0203d7930b886ac75f6feda50e8aa447f34050799076379072d9a2bbfefae9b826eaea46315b234fa6699be57caaa69fad62bb10d8b1d3f3a88c0f660a82295bc9055b4dbe8144c9b4cb01984696766146aff5b657296da1e246c0a4ef313dd0910b202c3e61e208a3a723c6572870621c85985daa34edca8489da33aebf9c8b5be18acb9bb369abddd241ab7d38cdb2058a8455061c4854c514a0ea372ee786eae63bca3cc850a79dbbc8fe768edbd9af7937dfb2c40b90ffecd270f2178f163dfb9f1f95e88bc6cf911491c66147aa7f0e4e94d15a4ee776e15847c01e748fa331af5a0b172b670aa02e6d80511587a696756030b16d292822a6b06a76ed4836ca035914800af5063a1bbe03de84ca6b833e3ffe9ddc9889179387e3d41f9b905f100757d257eed5046afc5b8a405ca6a4da8d05684c1f0a800bf77a64dde8208a3c3938d900effa5f10c000863d1623fa5d64f1f928367a46166e935ef6a33485d409d3885252ae20af954fac86c87062f8391eb791ffc5a8b4170d616ac4159625bb7d2480ef76e75687376611c4a02305977b26bcd7d9ff1701ecb7aca37acf2bcf217b1a425021302839426c21a2f9c27d6694038f72f591d5f6d2f0b093f432753629a4929c88d96696b398ff5d63bce5ef96755bb023ef7eb6a48d8c43531815dd17eaedaccc62de982eadb44464852e44609ac71849a6f1f898c45a5f5e09a845745d7354c82d51e47333e6ff26606720494cd1f97739de2e231c0bb6a0983c57b5fb81ec51c6129948a8a84b4e86afed7fdb5ef31dc570724fa5bbbfbbeadb1415ea828894eacad7a5014645247d1ca45231b58487bb31d69558bf7c7128b576f0e35bec2d82237659fa90a58a22be1df66e2a24b9499df61c9b0bad9f0716f42922b4e6bad03f2733a43706f2c8abadafbdf5aebb9bdf135de0d6f1894b0317fe","isRememberEnabled":true,"rememberDurationInDays":120,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
