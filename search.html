<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"022e20f8779efedb8d025cb92eed714f0df6542199447e751e017a8e95d3f34e8e60fea9ccb700ae18880ec3b31c2b0bd2b5d47955608f6da052b133fe60f4185083e7209e45491348152650eae1dd081d3bed145d8b0d24b6349e3955a884b8e5907976665ed909eff0eb8a3e5e1cf4c0d6d193b053088e1f659ad28dde22043441727e89a40075955db4a1b09638c7ba7749c74ccb32b808aeb342ad823119c6cb25cdd8f4bfc0ebeeb75db9f01fd1225a9f9d12401617827e72fde03762203a85868aea0b3c4d58e7abc6513dcb5c8aae03a000ca72d1bdde2b35480aa8839ec79986a1004b0013c5c2515deea8bde3d644dd7333ebc7325afd8ac148a6a6cfcd5a6d98e246be06e5ce070eabf61f939b00233321c3d22251f7c11b8e7a9e07ad5f8c03f53bb3c2dd7ecafc80166556db6e962b3d9e6fbded7e297ff0bc745b7f4d3a55b8da97aef289057d3f840e2e487c4a1bdd3600c67f3864828ddc4678b8536718e074d10240e9bea8f4156ac9b8c27d6e2319ac8c52e2b087cc43c1f8e0a4161ddfd45595341cf8862df8de2268c6e94a83e4b279caa7074604fa01d3c48d2ac095af1799dd062c018f7332a39bd04c015cbf4edaa082901e9296999483993d4ce2580eaa1c1b0fc8c86d093b516d7c54d2918d395d1f5d107633ca6ecb76e6d075ea3c8683a3fc325c5241a5d4673de6d8b6a3c3e899afd6f4c608feae69ba139baebc5c3b710f031fa773d86b30bfc4f875801de1712d4bc77cba84d70e40fa3079c01e5987923e05466cf9be79ebecb97b706e94a5b2aff31a877887b2ec1c5bf38abc38a7f38b3dfb1772bfb5c12c3eaa19972e9d0bf299402d42b38644c8cebfcef6e87c23e9099d94df8a6b9452696bc039f0cb7ac43cf0ded2c85bb83c05bdc06c9a7891aa8ee6e3dc4b9711524654623ff63f24b65ecc9a11b35693b872ab07bcd1c1ccf4e40bb02a49ff9ae6e72d0a65af5a0be3d3ef383783d98e98887ff4f739adf8a769c09f10c177f9cf2c7125efb626515470a91e9aba26f1f2c1f774020cc8791c41ccf233afc2e9f3bac9d2be68b4a92c353777e86e256414dde26b39b07189dbe9c058b604919a72e50709889b2d9059e0ece6a42754dd97adeb23714a77e46e400b1bb1c6e7bc6812c1e37b5d81680c7aa3162c9e4b34bc249f32d3acb2602201401b71d65298ad336339b51ad9e60afdf5505c612ba37fd203c5f13eed6141df2382a81679fbaf7da6e5597a2ea10eafe379004b7b469511e791de2f245b71fffff7f6f55b9b43b935c50f4504970f8f4bf1dc57fb2d8a8777b60e7660ddc95ed64b05ee8065bfdd3ac2a04783a7aaf727db967dd1fa7d9db9cfcbe3e4d2ea4f2bcbd7527055a8f58858a1362e9389b31454c07fba29f93c57ff6032ecf01c434998f80d74eeee31358c656e8d99756cdeb80994c2b199b1ffa54acc96cd182fc31c3dcde4576fd303c2f6e3d6d669be14b574a61107eb954e0967be644452bfdc2fd3d27efa42dcb8b3233e6419299da89425c0b41645a18dd0f787e5d1ab138b1e09b4b2377a2cd239873719aacfb74673770a4f2c0201ee7a8e00ac522a7db1a5fa9da83c8c39beb1e087c17726a1caab906cc06186c90ce6c448a80ff96db4a7332c2a81fdc57735a49c9c09ba66583bb68b5d6c2605a999472f39a2498fbfb43eaf3ff7de1b8538ffa539682c2ac5308e358c6d5b6c15da4aea5ada88bf3be2f13900c65ddeed29c1406ecde812e209b7bb170f6d19653e945d1bc9b80fd4f42b67ef304b16b93318cb97ef5ea18bf11eb3028d471c39d721533b70c2366646080678fcced5adc9996c346ce6d1809697dc98a49b849f3d621808617d92deb9d4fb6bfcfa19d2d29dc0c080cc92cad9411009231f7e9a217cac2c382179a73cb84a7f5b237f0fbc8fb2f3f416e143d345fc365454eae80eca785792fdd540eed1056e8878a00c5804f90eca90d25e73b69edee8653f3f2d9603bf5d06527bc666cdf27b1ee8de6faf0ff3de15cb81289a1c1696779fb799e2404708501d58c18e8e872ee9a4ad0392946a2a55cb9c157cd6365d0d32d194b3b754de6db3530c630f12079e274c6529c53ce538a8b765be095a3375c6d6d8067864bd9f59a28aee749ff68cd7ecfedbbc8474fd567257ca4359bdc6de3340ab6afbc9d3ac540d241fcfcb1557fe03d881157693a5a6eda219f5392db62c8ef2d4b55a7a853b00999519c94e147a7501797e9a3215ce748a64f3fd3da0d5330b715d112bf5a51a1ace3d5fe8a0c1a9754d29f7361060a30c66c50e4c1d38909c048b739ffc80e6648e19969b3efaf33114883b226034759ffd97940d954c3ddbf4915db323fd01fc17ae31393e45b275052ee000a4ab4e8eeb9527499ba03d94789d81639535649681158cd526ba8d789a2c975f007988ea4ce70adbc83e626f83a0c822dec0fb8f33029f444685dd97f5cadd41921f2702e0be0ddd36239d7a4c1ade64eb5727a076233f53972d32c39f40559a2691109cb6720aa2f6ee9dffeb26b64085b801d2c222b06ed3e80e743320bab40ba709c48a0f48c951be33dbfaa64688629ec88095b854e5350aa2d8a290a22a7c587cddba22812d97edc2effc91d5c1922533cd256836931375218fd190d879f3a7c1988b3415c62a05bb515e3ce676fe2420fa5dae5b1b158f97d74fa76fe284754df025c2d7eda48ca010512cf598ecb93f830d79aa3c63457d56843222a37992878384dcbc15f4417a4427a476597098aea200e7618a845f3e909ca8184b2bf082553d169d7c7fa99072bcebdc015244923c92cc6823f746cc86b43a9612f83c2a59c57557e8e19e7011740ef39ff3ee8f7587cdb4c87228c054db7e41630c74e34e27c1b3a54fab93c60522a5b2f60698274910edd0f318e864f0499e536df5789c2271547a096e0410c1a083bc9536da46cf6b80075c371e07429d1991557a7c5754eafdeba5cf259c943bf0a901b5911d2fb9f846389dc9b57f30ce8d21690ce7e2eb33ff41ac11d6296ebb9226d1f95f915717c894817cd2df9eea9c8f18e27a73b4f17a5af1c7dbef24102c0ac0e7b6771849586112dd13844e931b6d3304fece270317b58d12962f7b50c4e783578dfe79e5cb2b264b503d2c1f39b780df5d8e11a8c0109b5bc26072e2057860937ad5651b817a522226801018a01748057dbb613cb602ff8c1eddf4e68d6bb11d172f514472d4210b46c7212a7fdf35458d724fe127b3a584377515d241ae78112fa26ba0eb1e92f3892cd363c04b7737bf10debd11bdaa0970b8465d6a96001502fbda64122cc92d45c39ceccbb2b43f8d51fa409db0fb1303074aff178efd2a3ee5887ab2b4ba2d22714bd31135f9060e7fafeb9b38198be9f80e368d37b525b82f4a5e0b7071d4cba8a3b44d8463e5e73563ea4d47327368df959b97ca10db9e6be1d84eb384b947e18b58440cfa7f0018c6f7dc4ac17b859de5d9e687a4a5d24bbfb1e9ff787de3235729b58e4ee23bb29e1afce577bbc10b003a0ad01bf87e288d4b80e06e7502e4dca6f24521643b8f21d3c89f520d4b66c2c016cab487020937f1816b597d0d6be75bea7ad67dd5b3410d541b19589317ecae2209711751ff76a4d10038d69be6a3d07fa04899627567332f016bf8d38dd88ee0c8acbb574def7518d16b7a25cc62378d0056935cd4d447e2e220df0cc9028057f3c58d1e34c8bd465fae7b07196f3ed69b9085375f7f52971574340cc277bd7fdce45be0e93b3dd2124bb5fbf32fbbaafcfafb2cf00a8a635765beae91ed7cba5a42aadc2710105ebd9f0bd565799ca73fae8e45519cb800a66ad931f64c7e9b8e513721e0e315bfccde35ae808c44467abd2737d7e49abfc594d2600bf9248bda2038b7227cba5aed0f79113b86a4902727a52144f3a5027c5466b168f8ef24372359beacb0a85f9e280d96dbcc2a1adc6b5a169ed53acbfb8139d095bdc2b79088c793c65ced4e9f8eff12f587416c9a8857c866cac624045303334e3ca20b91621d6122a713aaabb7d15fa3ca3c802fe184722d002ff68310069effa81a6838112ead64fb814d67b8b2710f2c8a70f3f952a19111e1cf2cdc5dd97e86f5376cf62a05104a743837d0a41784b6b0a4e286c211d557323019fd6012f1ccb7befc0cd3493033ba7798caa20ff9fe569bade34b4109a5354fc8666448a6ee1192c7e6fd139633be90774c286bdc1307c2ec1efe0e7e767b6675e03be6541696fc94194f060b9a947530e1451ba6365d4b8f1140d9bc3192de2f00ef780422f6c708dd25825617711081b48c6a3cec4a528a3be46a4b8f7e88de6f605e824d0ae1590ebef55186f4360de4ab17788a8d765d6581be1f62fa04ec931675c48a42504f5210462a498091c2ded2987a541d010c87559cd927711b069b1eddb665b38f3f9925b2757515498f3c365ffe5ac67fc30254d52dce30d417a43e43787d7c853a28ca8dd28af3eeb0611bad809f88ee548609ac1b001eaac9019e3214ac4adf6422d81d1ca6586e5c88077b04d0a09368af1a4b81aa8ed54a6044cf9090346741d0852172c6efcaab1b17bd52fe18676afbf240ebc315181626087267fd1e3e2343dfa1de26daa306d33b9d825bb466816f189b4c292f3ef55f2cc34b0e9f1bee544f3680d54c1311ef6a0fe738849b98be6d4b2b44fdbc8f03db6123eeaf90b9d3b10889a9e5a1f6662de8632be92c53eae8872dcb5b1a7dbc1b104aa929751d7aab4f5681564ed68011bcbc1653a50ede33f3eb6359b1a224ab7ee7d13f2c38182174c70b0e9d53265924b7300ef87c1c0cc1f1cdec48237ee7d12450af5e84450d3e6aef19f04f4ccd4f401a982da184a3e53bc053c6ebb950572adff0f288f033463837f1960fe2484f9099b10158167fbeb1830192ea2ddd567697742ec2032dfbd3741b9dc186aab358afc114ecb5ebf1dd7545b27a1360957a08ec9c5404fa83ee338fa1f8388bcf9b864d17bde5f7df3ff6ade32412012a7335ada84d74b4adab079ebe8458b24ae194d16fe11188bfcf02ae050ce6daf0717420cbd3874e578ab8e02519d51d0b6a4e74b6166b5de30c87d7deab850ba5f77b70496391a7bf40f4fe7e1d57fef69c979167eea331378fe138aaeef9ac8fb24708c645756c8ca0c6b39d33334728468f3a0615a1c839162a54329968e785da9d20daa46dbc983d987046f168a07d754549485c311598df2dc69a81d410d99908e22f3735a2591d43fe242a5c1547951e50b85c8adb918f8f7b26afd8ee99c7e68726805154c82afc0d1929eae42f061114c7844dce9c0772d11f001346017162874093ce6fe52057967b65459b24d639f1224a7ad12018483c8e9beac612cba86ae47aae11911edbea0f2946a13f0f1b7b666b17937412294bc0485d0f6792d5b7731586476f0e8626bb2718971f2533a3a0f5d613dbf8a09304d8f220f03fe3001c30f12e8db28aed4b69d5ba4fdcfdae527a993b6aa0d6741e5cef4ebb58f256e79fe1956f2bb68f762258eddfe31ad9b03475be89d1b0b36815e005c62d3c0848af824896332a0288deba454b9c61cd97b40dc1635986a59d35dc3d9cd2045f6b587dc004943f0ca3d7b02eec0f0314d6a201fa85de5741b058a21de7ae1e8d5d3fc8fc4fd42b3665457e05709cf150feef9705dab10231812c1d113d44d28af454676adfeaa0c28c2638fb81a4456c5c5dc54c113f486dd1c71b9ecfbe03d34d519e9a3fefb0ef87d1496d0174f9a21125cef8a187b4d9358c942cd18c4bc520e55f6d574e60ff5304ee8e2e533a85b56b0f3ccef0da9dfad632cbc38406e3fe8ac47579c3acd4a1f260bf7094b1bae9ce7f7333e76795f862c62b82c62616451bffd0cd234087cddf9ff11bb4b3df55e79564f7a463090b4c81243bca495747b16c64786ea8ae571a88c4f46930af7b067d8fdc63b8e6a410c98de7788bb6a56e2f613eb843f7e3486b7ddcb573b85299f5bf38ad6f74c9e15a8450189aa0836e6a96868aca2a8a46937126c18486c9bbdd6325dd15774f27a1edb16f78b7a275593efaa9ea73f83d72737b505d258a765a950d512372d62f5e9573ba8a7d9d39b3d491ec18f1adb87e1cffc2906816b0a92f87c9f1a47f7c47208cdb2a78956260abf4e782843b2f97ffa9ca7e6a229c525eacd56853d5d19f734fc1ca16284ac85a1e8155b0b43b11968a2fb4a5668b1154685c12f22cff1a6d00fc71a2b2d26b12dc1ee1d30b8d6e8c1099ca02084147f4de87d2265e15fb02c5a8c21c79a36927c7b074a33d0547c906185495c6f3f020f886ced974ec66088bd7e61d57b0f3d675360c87c372f05eba35594424f8552fcd7d70f6ff5e3ee309538a18d3bd1d4abfa407cafe3d6ec7a333366f76c152d5ea4c542fea55058a16b71107c8f6a665e0c942caad7f6865ce9a02ea3890f989fdab4f623e235d45ae6340cf7c7a55405a4bfe783521cc8c5c0fefe3d432dec886c9d7941c92739d3a587d2c4607ca3743c0837d1ced733ae2009e2dc4251abbed7760619fe78ca250c1f9f590d7922bf35ba8a7a3dfae8017072441ec8b91f2ba8be914359c2fba660c187851722effc02e1134b1e56623148714039e2c71040fd71111c9c58c03f3013663d60e1533d715d769c63836495e5a99c49226d735ad3b454e79dbd8817b2e9f047c81303bc3c5fe4a9ff801e0af9567ca0b8be3412b800ebf6bc13e67dfbe64030578c02d433690878baec3e92725fb93d2961d1cfca126b966c30f7896ef23e78db24eb587ae85c04bbee7b2fefd83a9a5a3b35e625a5979196cbfba348eb3db1df744927493b85b8905fef192560ceeaafc553862ae181b10b1fcc85bcad4940224c8b7835cd8371224c8fbc39826ee5830906b912c6661f9e3fb81f4e77fcb595f1e21aedc1332c2ab0f6c19e4c1f31795f1f26d73e47805689664dd3d60214d4b2e80f8010735ff174628fda321bc08aa37c99a847ee3ec5d782888fac1ce2c565e359fda3d99772af8d36f1c7ea14e573b918dd6ccc7e15f911e09362070a9c3d9f1707b538cdc57b381c877e3faeb8d59b73ce361bce6e41ac45fe2aee4972f8070c19f5ffe1129472f5f0d790d57c7d4dcb636f9f754a5cccff5d1634a6d59efb7618bc320e925fd2520aaf6821141a5894c0b5277b6a5ab6d8c70945c414d930cb9fd3d6eae29c9dd6556dd2858dc9e13550ae8de5ca8309efc0dbefc6296bed74a372f97f29698ea50122e58d1fe9cfba3640f2ac6f27206fb85086e8244b4c587e93dd151fe4a8b2b88da73800744e23eb62b416f48153d130c313de09aa8f53b31259197a67081d60d6d37897f1b5270d5b34262a6c4cc494ed9520c0d8f6ad6334c43e965f19f49c1bd57cecffef14cad33855bd38309ef0c04b0442bf67a85cc9a79c72ea841efaba545a71774c91bda4673d53863b91b7eb224d1289b4016103e3ec5b220288a9eb3635910a28983352602a2602424e43270240a323ecb95892c16351afa1d19c041179316f865bd2a5c299e1366042bb3586af0a9ce2e5e6a712600b2016715aba831086d62c6117a777ca56dc561398deabc3bb4962462f3f8d90a50a48ecdae958a3d02c08a8be7b27b50ba228605c5aebf8750c3ab7268ccbf3290422365e010174cf14d7e23f87652fc74d336e800300385dc6a03a55c8740daca4b48525146b49e2b4153613dd2f369a9609ef601988c015dae67a5020c3575b6acd13b40ba3f6d22709b6e3da3348d6b2ea83568ae174a15337231ab9612bd0c02a67cda32885e4a98b7222f5a947089e8ee9ee16ec8f38ca239e2134149b1bb95cdb36bec88bed04383211d2c074a5fd8316b0d07eae356514304a7e3d996cb512302cdcd942d3d4d955a23aeb9baea944f21b01130e22128791cb096c73f5c7d3fde9aed53d77efdb264d5ed163f1068230d8d6194a2569ccdb9fbb46d5d6e3f5ea0bb82a43f60b913dd0c11f68c5912db282b8a100d0797a639c9c550bd130e40bb60d7a2378902342befcba649352e742721330c43063b75d6b012a840f0830f92e7580802b14b2849789fc66576814eac002811196a3f8e6caedb1fd521cfe56bc8506793452f6423de184a4f709adebbaaa526bef7d84e308bb08a782a986e6bf9dd9a38c6b3b40337b508c1b947ce815cf4ef39127bb30e97ae818131fdb6016c9e80f3cbc96707d132df1820fb5177ecc8a0a5ef9b32adb8e1513bca32d21fb6f97a9e7071014f5e5403d3926ae1c4f0ae73a498b139f6780bfab98d23b0b78239562a1f049e81952592c41fb51421cbad5f2234abc3079fafff40a9d8dbd1cb68fe8825965365b2145fdb173a0f8a4b66190767469315a43f91560a9bc934b5ded183f48dcb290fb78272d8a16ca98367acb3e476856074ce599cca710f53cb29af2687cf11ca2941519a41e01b38d9d4dad0b0b4a276046f132b3163e8fa4d10866ed97df875a1b60e977d907fe9f253e63ad8ed20d25cfc7e792f6fc0aba6e8f74f01dfe45605f27d8cbfb0f11dc1a4de585ba6dc1588adc8ce0fadb5c3ed876d5e2ad3bc85145b90abebb96b0086f5636b68a1513afd3d7ccf62e4e2938197d9f228c8f6982e0e6df82fb1cd143ae9c44e09c4b54cc7641d0b0592ac2eadef2fa14867327eee00cca49e0f81382b3164bac333e3a356cdcee1cb6746e3fdae569c25f203ed6915e8dc698d8b9cae9a820bbc8b60199abec23ee8e4f446532addb4724284f6b3b6dba921525c1383f08e13d919240b91d2f64a2e3b3ca5a46ce23b0ac820b36c43bd68e2e130a7986be4dbffefb8bcd18fe05f00af9a506390dad72555a22beb7f5052e5e04dc2de0dfa907f27183d18dca122582f85268a25036121576d06fc18076ad0dd1824c6524f07111534b8edc476160a9f164411fffe201176f701c645c2bc0aadab9cd40b8c8bb9a66a3de62a81a0c8d3158785fad984f01fb509c1b011fa526d85bdcc8712cfd5b4a3834d9d790146799f66464bb80352600d276939c9531b4c423c214a6a69725f62094f0da3e3536320c2199d69484711c482fb41d343923450d449cd0a9c76961e6d4b5c18fe684d57d21803819063f5ea681ed2843eacaac762265cdd1bff91bbbb1a523f467523a31ab824b6360177ff6e92a4293d607aa6c8a8b86e9b677682d99c757ba35dc79896827913b60bb666e03eb2b9d64b78fa7504d17729e2963b7c430c87718d1882ad83381dfa78501e4795d998b96b60234c6b318012eb562ddc75b95cd329b271f4549642674ec6428a4a90fa0a97a1c5cdb69d76b6e27bedf7425a824ad560beee0b405f4ee7954cbd5b0a9e909eaa5eeb7c307a075bb00c3f5e9532d7e55f19750fdba345cb623d4b991d901ecefcf2e0589cd8ab8509f1c2dacc749303d5057033299b3ce9cbaca4e64591cf453630d22320ab4e8622117a2c6ad5d5344c61a4313d166a40de58f63caa734288aa4ed1ff747ec68fbf5a3d473393acfd6bf364bb58716a7f793c308e2a41c6ccffc3e3ffe1c99f2e1b38cd1d5bf3598a637a4209075de0a476d0429cafe4287a7cc3aba72c1c3c38fd6b860a8ccf4f2fbddcdd7a1eb5a38dbd3ffbac7a6164205f068406810b0e26cd21ac5e32f465c23e533d1c56c7666890374ed066292c3e9fac7a943a9f5337b47d570c5da075ead573b364b1a1dbab33a0aef5d840231baa87162696650e2eff12d4f6193d63bbc786c6a0661a485360882939418b86151210d23b8ddae7de5b6bc790b39649c2c44d495382e4375c0e982648e1fdb80d941b27568cc8bf992652ac6b7ccd4f644d91bfbc1273a6896ac186a60cd2dc73b6c8bfb33710b2beffedd2ec19d17b35ba92532da6c28fd64be89bdcb483a94151bcab1080dd90d34e373cf0ef6b6cb4e9c6c5241aad7844b08fe5b83224c3dbe674e5626855e8145e51cbe8b23c188ea94030137d904c10db8714491137be02b94cabce1eecc44fc7aa0eeb90296211023341381aad855e930a03f8b759f0331f4cefdc25407c7fed536243fe91d68ecdd53b07c7e29c6e9b80d7c7318757c9db4c00107f1c7d4e0ab234dc7fe4038e340e408c20ba218210390f47c806bff2aafaa892cc3d38e64a1c51b100d61b54183e89de8093d7c61c5bc6487f46e679f3696810127fc34efd126041730792b8d764c27d0d9945fdf07ecf5d8b06ef1c5188d532a97fb882cc5a4b1f00d47fa199b24c76bdf90f99e439164759aa5180263ae1cf2e1f8db2a92f5553c0e423b7b271601db0dc22b5e5c7f73ae10d2035909e6bf3ded8de0589cc19922e84e7218cd7d91626caab3c12dced236e94ad989987e72f79c55e95124a8efb5c99f84facbd2d605d3c012924453b28293b368ff8a33bd0ce0ca9ee26f50cd407cd2a8bc3a1ecdd9f74d0d5c6c4a4ff73f6824364c60953bf4eee94e2b978b950f81a54d289b35c7e07663ef43f3f063475832e10e94fb0732143c506a1290e4cdc80e3113aef61a543ff30a53b084bf9c0389215958669afdd2347b96283688972c51ffd8941a3d070b3c2f996a39ff8a2d4c205c0212a2b4acb3a0520d5644dab27e1851540807a750a0ed590aadfe1c8e278caa6c9a818abc03fd842dc0597bacb60af573deb04a3734d6057813468c3ce33915d22d5de9c52fa40640a7551e1887b0a828f90fa9a323cb35f9e69669932b95c2f12c4fda4a894d05b0ad835902e137b781ce37b3d6bf500290f1883998a7971df17ed14f6db65e661d12b899ce0055669eaad17f2899e187564d8a5d2a5b4f917d854855f7271b5783591af45569699c241901575b6b34fd95c19100b46998eee2caba9479086e53a6a7cb4a68035c37a49cbb22e748532abb986fde3391a33ae1debae73e84bac300efdff450b7d8838431789d022cb014ec28c66548ed02ae953de83860df8d82fd4eefaa28c0a81585ed8c07f5c448a2e0bc45719cb85bce83451a61386aca1683fa7de9c9484608d17ce4e0d27d4235325b36d15d60f42d9aad5f20020fd1ed4df64fca1a41f02b1e2a59c794e3e1d5975413bc770d4e2e1196138402bd757d6bf8d7c2e19027d9ac112f05a0d4c35debf8a82f1fba0c67e9ddda9f6225e4992aa65e53a56406215eee1e39dacca8abb56c2a2414b79c5d104ec413d75afe96e83d316cf17130274850aa69408cd7c7121a7d85542f8f7bf84ba16265d8fc51a5ffcc72128ff0d9f61dea51d2ab8ec3a04a0cf7f765eb2bdbea7487dbe8df355e626bf7caf74a6110c66c736bbf4a962cf445e8812c0040777fb3214413eea729311e59128229ecf732d1c2bbc7e78650f8fac81f7dab7a66026819f0112e913425935f22e919b35a5076c0edc931dbf99edd6c689172c3f353225b8504d3f65443fa861234e0b6231bfb6523161fcb8aa3811d559d2cd9a73065763f1473ebf4660de1abfb600bb0142f8b930bc8be9f838067bc115e07eeaa7084599568221f8f52d1cc5f89a4e327c535ada14ebaff506699f8e8d6248d61ef617e236c4b2b30c70fe6fc5d0d9284adbd3c2913f2edc9e4a00c8490582a2a320a7c57d9f433a5f96e35af8b88fca44674796c67f14235e84e1b3b21263fa75f582a4042c339513970df8d2059f4e882515285dc5b02e85727b2d3ab351bca4f9c140be5b80b18efa2b8449339e1278613eebf7d5cae91538bc35fa6c710c91b757b890a957cac0ffca8a74e6d10b8e0afe907279b3fb964fb8183cc2ad6f15ddf8e7ba5919e150d104a835ac19e7e617f684b388aa3477d14b3ef094fa7bb7b5cee9fc95ca4c53f0071bd5608ae872b6ae56b7a43a365cf73e49663bda66212413666c221fe8e7870e35284aba48ebdfcb936ab0ed6566ac24b67422e96c6ac9dc89fde606eff66f89df3123ce8672898375ce19fd6c450f65e8436b98c6e3cc7d2666546aec7451beb93ed9679dab39d49cf105972bff9bae8d2ec9846034f8315a2a439e5d99943d826d54be9a19d9074d6ed3411a4689a96bd29e65af94497af440ede2c1d81ace3013c12905d6c9a6293defba6d17f0565c6a183aa72e824bbd09ee601f8b9e220b6c49c2ffd06091ec05b1553e4df888f6d0978b4e5d5ad9ec91394646ee33a1beebaad1b62876b89f4c00da01527164e1e80f0ce6c233bade00ebd4f1ce33dc617356fa43eb307424f796f9807bc87db90c0f1c2df4a1740a693655fb2ecd0428be611f7c88267aa17effd6c695d0f2eab340b424f4f1c6548c6856fb0015a2d5134c839eee73b4b015d979a8faa2b4ab43b3e6742434c8612bd0c2f319f36091bc7af3ba0aaa3060566d60a1e5ae03c1c26805eac9acc12932072a4b64069d968819256aa3568f2b568712ac7bd5e6a4fdc4b0b71f1abec93472f0b2a4e03befb6a85d203e8da445395ec9bb539fbf2a530583a4b5a282c0bad413c4122c0fcc7ee88bcabb3548d21e305742c7ce00b6090b4d917ef869e84fe52a8812aab13992a1c69b51e109df45975a7dda944b16985a37fd6cc051b6ef3df7685c4934e99671234b6e8471a2bbc674266af54583b4ac56d20b9972fc4c949ec17de729a9a450cecd052c7e74cf7fc0740d95624451c8251d0251243e9989fe768a52a7e6f10c8c7c7649d0f8b4d4629a3c2664bf76206ae0371e4ff45121268be6cb3c7fdd794a27cbcacf6497b01553454a8cb6121d70f738802f21e871ffb9488e4fe35bf03eee5e554a9aeb1ac3dcdff3cfe4a00ec5f061d202842bfa049ae37a42a89f03b3fb75e766689eee231275c65c47acdee4d8a7cc7d51c3c8ddf9ce14fd7e77ac4b2bb5d44a122419efc3a9621db7c527b7e0f845481f05f96a8f23144665575fc6df2119b90ce245a13b9dbe26e12edac5d6e549e6290b686a3f64927652f0fd6854d852535a0dadb45f72a32a9021b5926d984ec85a05a518ae9496a4e91bda497b672c46054706c176ecd285e5e6b336eb0a09ffbc6072aff1e23be7d52d56715323b2575c56d9ebd1221dd5b023ca9029814b11f849748a175fc9fa376a4e4b97690c2f4b7bec23723cfa000d7932206af9866f9e314f094e7582bf773080ca196b484dce564b631f600b5a71993d78ccd9bcf58c24853ca99f85b41db2fee384e06e69fc5add256d156fc03fe75fee04eac893f195172ae465bb8c2e09b6638e49ae4195b1dc56cab6f55a46a14375ffd180528afb9f87e15f053a09b7309734edfaf2068f9b04f6371efcdfc5335f6379ea1dd3787885e22d3d064d0491f1397b5b15e0674d2be32994d0ec883208af9db485d6759a8a87a540de1a14e7333ad0f1768c0a74b3f164a63f37e7380f902784ce0999673853cda2628aee96868413e215db85eac942e8a3913b8fd9838cddbc63e04d9cbd3851ec69019ba3986b8d7551a3b4c7bf5380a2168c7b268db21a9992d3c3d02f1611c7117d4fc3f7fc817195df68c3d1ced64177c85777eed948610945830641ac1f48476bf61c3ab1c9607ad2e91c2651b1b4b0edf8254972d247863f172477796a2ef18a2ee6c0b9a8240274b73e8a6717d4766b40d2b7778f299214fc3573eef58b8d35eacc449d483a131603e6f76d67ea4ee08e79ee3e81ff1d3ade1b606f89d55444988f89370ffe9d5ff9f541aa4b8c8e098006cf594ba96f53dbaecd4776d2a0ae92e8311cb3bf79b72a52869f0ca4ccc2811526e4c97869eb6313f0f10e174ca8d2d38e9ddeddfa45be47f6d9dd4d230de06a2b8026bb1ad6086ef7f9c8ef3e2d187f0693a8e6b4ea183e5e0d5ab896e6d5e33b46e0e8071a1499486c08705c40719cc9f21d355cb4f7f95a42098e4eec1e93332bd70d3772f918126a1aff6a767c1f1c61ce5c37f96eff7bcda311b636378b51e4e56a4152590694ac410b62a58f85755097a0e4b02957a869dc6ed426d7524242c2e492e952ecd0e10e9b95663448e58a2fbd65c2a7a910c9f5d296e2afc65b7714df9fcdc22b0cadb403bf38c2edb130c70a294fb92d1a25c1181597b77e61cb91826ec0b710c2e4a574054731d1bfabb1c92cc76662976092078722ff8ff0b21d025f9daad72a8d94180082945f80c0bcb288166826002551eb14a04e004e91af8b6bdf864e64cf582e615cbc541558e90900a9562f0ed08f8e255e73ab625fe17d1592b749a765348d67594bba2bf575d92ebde6c2c881a5ed19bf8a6be5db5cdb2912cce5af7d28ce477e8c489e626e168cb51e7df343b2909883e2efb43c86b3f09c354cca323736ddee22b5acc1e7e8d02fd4222d23e4b882b904d976c7a556da841a52b7263d75828d79fb5ef2ce176f77998285a2130a5e1b286997dc9d5289568f9dd92fa0c4f5a3a2922a2a71309f2df188a0d133c932c336c8e99e0d7fe12abeb611b9eca70627673fa5b33b6ce7bd14448b241bdcf21ad816edb2c96a36bd5e8d9378588b95d5369d26de730a0df65ed0d836cee2ddc774b45594a153091e161a34f04821ce3b9df61958578209eeebf2a0efd0b17a8c1329e945f1219e8509177d469c8f1da68df7ef8b510a45a3edcbc6d4756df44aded620c31f10de1936b3b49b4f77aecd312cc213031944d1af6ae6ad7629ab3785e63d3db9562940c986b697c356718e1f8f196c865f498e181caab120b810626aae80ffc86551c7fbb96d3838e9fe4a2a46117cd21d113a84ef1aeff7f4b480cfd249293086c3bdad454515dda45ca408cb296ce2301713418283bbfa2b977cc2e3ad7fc8b496cb839cb7f79fd813bcdcd7fd17143fbfe873d0e44cf5db16b6749affb05d222b54285b6a6c30f5b6d7bd093bb3117eb35ff8e5a2489a9786fe7a8ac4181a43ed6acb2f9149fa42a05d72e9a3016d0cd1d26f0fc02c24f93f18d4d9aa29ba6c8aed38ab3f60fb28f6c10b15a280b0d9ff7bcb4e477f88684982d05e83a8db9b45f739786cb641c8ded4aafe450dadbe406ad0cd6f0448884264c2364cf1aa332b70c9034da78ea9fa6fd9a415f6e55582189483497c0ce9002fe9cfb41fa4736dd32b2354830ddaabd065a3e77230ce5e0a59490c9b651b35da96e1bb13ba0dcb2485f599484502c8c6bed0f41091894f3d7ef7906c8823f2afd13607227b24968c6d3d8ea36cd5436d3fc87e587f24f9d1c2b1d6e586f7facb003eb26b6712c4ac592d1f37d6e9c85ad141e938e4dc314ec233182306605ccac71e0cb9f216d4c4eaa0b391cb2bb38210c8f2599a9783e8196a9f4df83302da7d09e16202854f32d7c0ffd0516f99933f16979dcd6bf9a320d54c24ace7c76fabfdffe6296d652eb0fe4cd3e091be0ee4f1f260cc6d28bef1146aacc5cfbdb108af20c5ff0e26247e75eaf088f9b4a79e2d12cf3313f0fe87903ea2a585626ffa6f1f3c9e98a344c5159421821e0a9a195542189f7bc9ae7fc895a368d91cd3966afb51f3efdd49f087d0848f9273971b7acd2ee238d9f73aeb69dff7fbc5c234d87ca7327c0833298dae5b473eda09db34ff49662515c6ec3a7fdc7517ac02f54328380c4397a9ce7a771b4e3be77ecbee63dded573dd0aa89b4c8a773db26bcfcb378d11c1b5795586d8093d988c64b7fc538b2c5f1eed54912c81f4a193a2d3fa2093d11bd074022444e2921e6bde646fe84cb495ea965ffb5e757a39679c4070c047427feb8ad7fd87de167228da47f7b38de7f7dd80a52852c31844ea7dcc3547693f433157a86ce02e076c7a4cf2d5f8ff917ea6feee7550497e5bbe070d20111999e0193e75f93228f89c6ec889a5f31761bd9ce24726c160a54d6e6b7a8f5250c275c643c5ab269b9a7be0471a9ae3f91ef580608953a123ad1afbbead73b410b2f21e2b4d18631441a651b22c5209e0671abbfb57f35de52c575c7fee36c474774992b96281917dd413bba40b26f218989a516441eb35591a3197955cfe04fa15e9150b828197206f690fb5323368d7650c1329162b17d149b88908c5a361f58c559ea0cecb7358950e8dd55e6a37e96cc2a000e3632aa632066a98de83988f4d18b6ef2300d11ea16bf81b1b2ae12f22825c0b5a31dfea4f3d1cdad342e7772599c424d6636bca97bb008993ac7438baeefe1557eacee17421a39dae61a347a4abcdb8197d4f36914748f5d94c3bf4520d2c3a578fac3893504bf2e8be07af7ff10bc0f36582af5ebafe4cc88a3628f1f015b4d825475e40045699e7bed56a74c11755468fcd17d2eca826f2b777dca61aa52cf7e8c8a4eb7d038336bd096dc845b7f21cbc83fa1996921fb0613017c6e65409783a7030e1fd03b7a0dbad33b5c60e63ccef1a04364111e90666a690c4deaa62e77df499ccc38df5c2e5759060334b475359b07ed45f909e91bbab919055e93f95100a056822dfb29a76a6170597bda77dece7daf121cbdd97691922886314ba6ce7277696b75e182861380dc718da411b32fcd0ad35fc0193b29d1fd7d1664290e5f064146e09c9b197509d5512a0e8126e007764d805edbce53277fea64b7187ddb9e99ae21ed633604b6cbcccc155c93eaed60e5570ecfb4b5a780fee4a2131aeed69bfef2da8a33849444688cb41cf59467bbe4d17a20250178b764c16ffdbfb5b77241866e71d69fbc799f4c19c904022dae861275cf531c38ddd7f0fd4ca36675a0732e383e657136000f311a8aecf2eeb6d8383d4985f16dfd5ee3f96c513e464a6ca25c279678bfbcbca92ff2d22668355eca1f4668d9162be83915ffb91628270c475d6ed38f3baa2a020093a2deb6725bfc035bf58498c66c827aba10d0d757f923f6b5e691ce8ac4c3d35b968e1bcc48b05155424662f04c88686ba547358933658d94d3eb07aaa3adf41e31112524f49ce6c63aebd6a663ea3115977e41c07664798d7b31cd01d992fd958afefd85944d102e9c059a9977b834d827106b8b8659785f2ad6aa0b49286dc65d242c8926f60f0db820319b11196afebaea2acdaef0ff19c9a15a2ba9dc89b20cfd4b33dde480c935a21c616284309873a3360100fa364d4d014a023129ef7dc50b23dcddd3ab9309006bd1a8b7cd437604352ef02165f0ae89c29fe30cd258851abe4da75b91289ac164afd2981b81ec946833bd1f5727bf1fe58db76f0251c9414961dd24a927b010965a1eb07cf7afefe78667bcefa1f63cf5fec8d19285a32e2681f541720cc1e443e6cdb67ae756b85cbcdb849b35a1ef9f0f4f2d2378a365d062b2285ecf3a00f0d4b76c534a89206eb32f077b7022a661748f1dc22897269e61a6c67193d5ee80c269686c7e0056bbb581e36af706fd70b853cc33301f07ef6619c26145f0698aa5a8d45ae47fcd4ca41161e459da792ab25a2e02f5a147365243682ad0e5ed02b3e1dbbbe5e8f2cf5a062015c67cdac517cb763fd6f4e43eda2cd5b1aaef3e3f14b66682031e8e719bb986241bd4fc5da611b0b3a939a3c2f86a3a49b0290cf4d866d3e628259703cfd45e78ad76df4a439ac18a0b403ee7b608eb24902f85ad0a56066542ecda3e29365ae938500a3d0c1c9d1bba2deb510a698aaa6dff08ea72deee94440c9d5eed78244dadb4a63b52dc6304ad483b5de9cefdbdf7ea9b50c75d70d28e58b2640a168b08d41789435dca264345cc61836d4692dbabc956905b16b163b8614d9009c1cc7fa7a9446107861e272a06458101761fb3c547db8231dccf62709e6c2378ef44bceb4dff166f8a79b7de201851effc8a9d2786cbe1823e5284be892f2c96e938e311781727cc7de6893f23dc35ca56eba2ace6815734de9ffc1f3fc93c3d80c24a2c3c2bd9339bcf02ac1921e86132fcb2d190f3dac90b2ba23add54902d61cc87ec79730565c712778181735a1170bd3b69f9aea41b55fd4b102a16c08f4d5d77fc781340fbe4187290036dec7bbdde58ff4799ce7c46e65b9aeabafdc47ec640fcc450a5a89a2c2d1e4577e0d87a948c748c2aedf807b4b1d0dacf17d570a8ff475bc61f975e851f5f03b0f30e3b109963a84968852c54e830d4f720ae27da6f5950758303d34be2f66716f181069a5a2875028270090fb775145f2d97d0660d1a0f811f6a657ff4c4a527ca1808ac05d358d9404f51f1a4fa4ce3a721a46312e24bfe9e0a22e95ced29c286e61a698af861526495d3d9865598e3896aeb92051617e29f2b69c98e31c72f987ed1b464f8b8247f9a05b07d911673031dbd44846f09e434be63518d181bcf588286295437489e25ea25d3e0ac60382ab2dc8b42916ae5db556598585b63e32aec20ead622c81dd84ea326a1746fd0401f923cbaf4a2c26761b3ad236247db5d96f2b32f211280ad157f84ec510bc7b0dcedb80752b5991cce1f5a693ca83021dbe62c224d3679d4841de5434cee70db09501833b7b3e7bd562fb5fca09854c5b692b30caa53b4f783f754cef12de18730aa38d975be443f8ca41e2e331e20595a502e27a1afec64898c394743df0ca192a943e2817d1ad633f9ba622a681ee7697d83a17017a83f7e6be0730622856c5540157716f6a92baec01aa515c40ec55b928f616885442dd173c365771350a1f1e723b7b8531585d6896026e1773c596260c1ddacfb82c6dd304940d95758a111bf4c2a819ea0254896316886530eda5b2108634dad4fb7442a2227718f550d25533061f8e2e16fc27e7716ca792814eea081b1cca9b92efc6d3a2917bff8732c19f39be3af6c971fac2c61019ee69986a284ef78826a47ff230f3401fa83aa899993464ef5272ee8bf9c87873ca9c5e94b68bb7a1f121549330d608be6f01d0788736e3282ea8eb19400c4f15a268c8c3fc28ea67247ab59b80a16b15e998a7fa147feb2a8013e611cd39b590b7688c1e25479e44c657621df80e413459ac11af42aaa7774b95fffcbdc009f9342f3ccae202bb4ad77a7a60e725903e618d04fd7264eddabb2d1bb345452a2d193fbc5ed941042b4c5b878c626db56e9f628ac69baf38c1d5f0a9fc06364ce4e18a1433654382a680070e8026ccc38d42e353440be58b5ceaafe9dedd50c2de0fc9b8af86d26247bf51819033213d1782ed7ea0534075a6c9334e8673add7611905a243fb18ac7bbda5f889896af0ee29f4c3d66fad1d9a97f5a378bf1ed679e995217c8f7a98599bfa5d8d17b5dfcbe4bd7d0829fd637a8519802982f83355624a5d395c84eb08376e00fae0054e573c64b060fd8e1420aa3e430efe51f5390dabe0d9bfe58f39fe5154903160955a49dceb4f27fd75319823a1ac88dbce722ba21bc1d47347e82eb26a7ef9893587f77ab975c5e278f2d898c377e5c3557a4bb0a4ef8967da7a4d8d079c1b7e755c95c7e5e501fd3a4d38d33eb04605d7481caab23cf266102eff8894c1b6471989dd7947059285170e224075835dd464b5fed5ffc9f5046b9a1eae35460d2bddcbf9f326a0c212f204b95812681d7c8d20277887e282de5072654206f534418139188e2a346068dfab5c6e5bf5fc9051800f70c9cd51dad7feb68142f4ad378c3415618c4a34840aed5d3e27eb1fec7a8acc3bcb153185f149e7e72463a413cd7199ed60ef39ac0ccc789ee2398de4104d466a9f5020cdb1024a0593ac058d6bc58c449601e8264fd0aac581d909d88b507c78b99e09809f823a7f09bdea8ae4998d7a823f80326508a31d843642f0a9d2ac91eea04b79a4ca5c6c66160942139c37553e0196e83f35cab37f5cbb64e0c43e8eff66efc70c95a471cc80fa57b99a585b11db832637cb71ed7901c634ce7c86f2051a15855cdd8d891c32016fa1114f2237c19f4b0e1b9b12579b43b7e96d5c486393cadfeda51377e503b192b339bc730020417dbcb50422a1f9fa77f0b1d9f0ea0b3a23885bdb2e2116d305b9135037a4f009726d67241f1bfe9ee9e84ca0ebc66c67fb79cd4d91a9502c6e9847d73c3b202a4e1fbe9cdf40d9c6e963704e9a2759e8f46a23ae71a428ca2c624f0eaf07d22f40edbd1872e6a4621fd7f199cda2c10a8c5205132072f8667106eb65e12e08197b0154c23e2e64e0a07585bfcc617fae9c166fbd3aeeadf446d5b285e0adeca4716b91726eb6db2b55ec896571e69701f1e776203572fbb8098c88919c57ba2aaf120ac0a76d82112c8add94aeabea0fab37d35514494756d1c0e636606e2c0b2ee3d6c11ed692784df5d25e6c2ea501554d6d7722a20c0c4813f1bde72ae5fde6abeafce4e864829bcd9e91250cfc2ff5c38c8674e5d399149395f7abfc556bbf1495dc2328140f5533a9133e2733bd50867301ce2f281147f020c85e3733705712456a15c6d70126cd994420a9c6d9d8bc771d5071bd826b3621a0a0016cd1548ab8de6c2f5a11b2dccccc41ec0c717bf4d5ec1e112e65b588f635ce11db1c0d8e53fa5f2a445318ac54c44c89db43b0cccc01c5d8f7021ba9b5eedb27b980143acb48124026b5f0d6ee791a76e87318eda1b5aa9e5f7b51af3da6c872348f370a47c9b818663c17d765fe1db9eadf9d2f167bcb92cac41ba8220d88b41829f1831167bdaa58ad146762ebc7ee226c81bfa81d3243472dd07903d813cf6140b60158137d2767c9c4fa6f78e6f4703e8337ba648165eb3dbb6d8dd89a190726991541051da638940fcce39329f3ec99ca31ee3bf632f6988722e2abc5adbc28c169203a2dab3cc813bade0a5e409ff57b5ffe6f32f4b9d49dd6f19390ab551d9d519f650408a7a0e1e870784","isRememberEnabled":true,"rememberDurationInDays":120,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
