<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"f4a1d96de8e69fe640a69152a569e218d9d9991d0cd43dbdebfffae901185f2ffe236a1dede92bc68e0f6b37ea7a5b701856b47ada7842ec6e08229cb09e9043776a4b80bb088abbe91373af7990f9957f848c07f11fc83d98f7c8b2071a7573fe71c9f27716309e97fcac761148ad176b4b65c8638616994d00a7ac8592f28ad184cbb825698b9b570fd53793a7ad547b9ef2dca83fa77d64e5515f1212707bc632c12a72d526d45993748fba42f0b237ef200573ed8853b0f812e59a3ec4383701265f8a185bbc19135e78e664c5734bf4a80854586fe8b7327202bce6cc64bf90acec24bf0ee96f80efc9c6b83ac9dff5a32bf57921accdec81b5e083f572365a8f422727187da4b5058b492e4a9126072facaffec7c7a2c4ec024c4126a512ded843260e60212b82191e4d80ce700f735ec3d838310214a657e75847877113d007c5154d50c110eead417ac778db575d08ac14a97164e86debb62ef97552c9c6e097d0e882e34310e69ad3567a7231f14f0fd73a260d2b8a31d4eb457418b65ae4cbe2f58a733e74fcab6720c1699226de360326f072849d779a12581c0198c51e3287bdadf48902b242af3811dfe44997e4a2bda04dd6ef6c02185987e2c45449032a0337411ff21059f76601351387b309c007f3383aeb4814ee8a614f080ec48f780b9b18c162716fbe01d5b8e4b19657473ad8a6bd0a36ebc69c0d997333d8791d9279c0e7d4b6878d647403bd4c01abc56b051cb3ceeb161cf4e353f40f95df188771230f76eb965eab28a36b6aff5c35d869a3f239217cc75e1cf8d67fdbc1f77db9487d4763acc5e225e9ccd91fd114b10cfc3929d7d6c89e343e3aa903346172da3b76ecdc67e37a38b6e94ef9500f6217aa7fa99445b20694615a458a49f5ea09e97c6c43a5860685517efc6bcfd5538e4314f24314123a9ae079f5497e0be821c66d6427ce01a0fe970841feb9a340cf9ab1f8abe9ceece02e2cb9267f2ade7e3bf12591987d378cd2030d4c0580192c43204fca10c8c76efae6c2ff3b27586640d100b7760e61c6a04a31d1b8cfce607b5c484b960b826031563139937d1f879328e40ed48a3fb78b8cad1d6cdce26c6b7915ed5d1e66935880bd36714655a78ef49f03a58cd7deaa5897f8583ee18cdfca49dcf2945f373c71dc8a82a087c54bd389bed11d1d083d114337e01be29c60042341801418468039e7ab640a80067eade0acf6300ec5fa9deea0a70e5592aec5f17af440f6ca5af5aa181ab0f7659103e10e9acdd47d8a1839b6432e43b2184363c6fc7761af8692567c855f2dbf775679aae3ade576fd5461601d3459df4b1bca6b37c4ffd243bd7b529ac23fd4cf0500a0d7e239efb36a0bde65363ad9f197c22f92eb8eedb16366cbb6f84109f391ae646f22b359af00a719dea796e90da333d6091d6e168ea99ba96c468b369d8243d78d2ff324657f93c2fd2e35df0ed6004d1899d82f419c5faf33eddf337ce58770865cda099efcb4816a77b058ec10680ac51c251a72d2d4af1e3f61a1843db770678e65c97d2921f876fd0378f787de97fa0f4038d4bf7d0d06dc8c2ebb16bf88c3a586372afd37db8a30473d5842cb63eb79e6d5b30d72c2ed44692b0dc3a3b346cf9dcfa4a4e360ca0a0b704425a51feb60dd0e8a2579b03b292eb49ab600c11ec17dffe301dff4b1b77567e811f78ca8608ee537644f2ced9348f812bb737101c345646ccce6048266e5b14d6db368fe6bba6b46455fca2d123978894022afaf5da3c8357b495c3bc657d455e19fbbe2a58dfa012294fdde957fa9d4b67b8a33a4099783471cc1da3d1aef4ea1ebbfc989e3d5182198e7150de54b1c84daa9b93f964b7242e59c699c9a963e7005f7ff5a93d94c90bdf431059dc81a7d78c758a1a22561d11c0969057bfb89ec62ecc0213050327ac067a339f98e4bd7d5e076a934ecb0393ec448197c368e23ab5cb958630c2e1072f89bb37e6144169e9a5b8de2ae4d9dc5bbd1db557da3ec51a6ff3a6508ba6407751e064fa4d8b7f30fd71be92d176ecf7582cf65485707a15446dc48e2cd13fd14c42dc71eb7a62a96471bb6e84bdd276ca596a3a54f032e55cc362fa38d39e57c2210a1dfcd34626a5837b90bf1c0cdd1007fc707186836bd8eaf32b4369520fea6c3a1a0c372cadb5f32f3d86e4a8f335403a53d8ba336243007e7351d1b71597e161d41052501969feff9f086ae9810a604e2349efdda67e4d77de7212c179f7eeca8fbc0d169a2aae328a8ef0fd0421bd02f532a3aeddbda31ba276ed6150c4e9dfd0276cdcc8d473846b1cffc2fb33ca96d5699ce83653e79ed581dbab58d417c1f60a2fad96e88a4a42ce53caba588af7475edbbafa905aa1025fef942e83d4289afa84182450467f5284bb3505216fc489b6ee3fb679da78f7a5155388e19ab28abc3b7650042c30f54e9abf0f578c04ba83c8b5065a385f257724ac3a6f45dfeff2f95befd2ef347289badd1c8d0f78fba3fe0085a135e99ceb769587f7b0cc972f76ef39d9979201edb6bab026b93ac167d076b280db90d759ae1d1435114218cc273cf33faec1b12ff015f8a66950fbb51136be25840244ba07cff8fc11da28edf0d5afb23e41f33a92e9277f424fedfea1edec4cb5dbf7bb9e4f651c82738688aa332f70143889d195de9f69a37b63df4b408bb506ea1e751930f18f0d0a4752f04474c00d04441a14c330f4a796ccf663e24d6b126a8e5d67408f22a0c42385ef6c9d9ef5caebdb5501efc7f2a0fcd95ec490ccffb279faeb998099ed05f882769a0a5d34289cf298333b173e09debee7111a5a061ae2c8a727f55f0b6232e390d011450fd1fe9eedb79e769031e55d40fee8fe47fa75f58f0a85e90f2d5568a879abde95925c30b6f6013dde8635417ca6f85cdc907a664e5a0f7a727b220fa36a6627dd5fc9db6d373ac942868c3678120c33d3215de9a057f402ee6c82a727db5561894344f6a0c00861991d1c6937e99239a6910dc91d6787f5d095d6dc904e0f0868dbe845a3c5511a24754b0c0f77b71751b44517647207467e6af92d85f59cbfe411137064ccc222f5ca4b8ff89cbc2e5357b4d5e170dceb80a43c8939fb908a43b3a48ef588160510e774fb020268ba8ac29d6bd5f61adb33c468ea20bdb20ded2294c797ca3315f286ae0098dd69e239fad2e4c6ca2c6059c7610b394d4b763548a47e08aee8bdff9626389c1a8e2a12ed1b6db1bbbc1bc1440b2a96e93fe6f0a3b20869b2b9106a9cde1c85826d363670c62ba7668199ae7a48ac6f33cb7f7b2ac38907567c2d377582c982d9aa3384baf8d7bf87e57453c7533e49b6cce1a423f505fefc5d375e0ac3388aa61fe896853af2c61257e46c486ca81b6aaaccc06957e5ff025d9d2189f13f96cc404e433f47445393fadd96f500897024e796ef72ffe2a9ce1562807cece5e5c8e2546d71a23e1d60ce9808454575b8df995e34eeafc61bccfe916f0f649a0057a3932c8c423d7ed5cf519a585939479f1b336eae0eb83881963d050ffdd6866b030d39c7f8822ed330e25a32d8cd017ea0ac2afeb238df208f7e9786f2581c3f0b2afe28237fd9c5f697fc386a8761ca9044c79b19f7f48001851f0cbbef01aca7e0320db901d1932a31645546603bcc3fc5db8fc685407c715403d9f3fc2471881aa5ba9e39ab945657b438701f0142f3554911b052822dc629ba380141aa3120a77641b7f76d7284100a57bf26caf782f0386265b3a57dfc35388d3fe200787daa550b9f722813e0f5252c0fc2f0c9e97f9e3f3e95d92732e12c39fb4dfbc5093a779b1b39e8cdcd17816e7f685f78f27e3809865b50607c5af511c9fbc091ea41cd12d0b235b2273949b0743ecd9fd3b22757557851bc5ac2af2586e05f4b43438f5efa298ea51d77f61895ffb10042ae2c23d9c458e64749ca4568574dbb31df0252b075d742d665239745ce015f362541fcad1ad4be76aa94c77087e1747ce4bbed459a40806bb0b1e8e29a41115e33563885e781cdf32fd740e5d90f945141be8689e29298eb6bd33c97d03597b98f04c3d06818d4f0e7b6d5d4e991f0194a158295c3def43cf8fa8489c399320a42c82055cab664c7cfb6799cc74d40a95ecf0d3305c019ae7a4ef051087d76c1e81f697727f2261a1287a0be63fceda8c3c22b00602c715d0f90522c9952e43690db65a1c8cccc464a45efe4a3464301afe7f4dc66100f465a6d5a4ad55bf668b126351d14b275b60cbed0a12e46f6a46563bfc0f36821e478f32e604e4a182bed763e7246eafe4e3b0636303de36017f016ddbc9f586c23bc854ddb999f8a93ec8b11c553e543a0f4cb8be7315e26d0b6b1a52b7e735161034994582c6b5e877d356b451066b05485c49ac3c80bb8bd585fbec0bb348ba7dd923de2e5e951477b9106f70590f7f5380a924f62e2055f335282442bedcf7340123b0f7f893d3d4e65ef0e27a7fac9e08e4c9792e9976ee13a90321e9f26dadf951d55cc4e159273d54eb74156d16e9b2831d534c96421e0c824827056d9e690309edd65e22bbf3218a087575cc27d16b0f5802ffabb7da6b5a27a278b4eeaa8ebba50a6a8be7e7d68f37a946a344c7f5783021860d8387d23b10b586e73795cdf47178e22e34abbb00700a3a06cf52066b7e4e05bbda6f9bb5948410184c77b7b2dfdbc71d38053d1cec33f6266c7a1be7d031b94049e0efd19354ed4e9ec702314fc822435854126b70545b6627e6ce2567c11c1bd0481f89241879e373ffdc48995c4a232180fecc7a356ff66968c3b799e1f2904076eea5cb96513bbafa5ad9e6a2f338631fda3e14d7ce1a1229ea374f01aceb49061e33991d18884d31bd802f0b2fb2195d5cb0bf71c98db5e17ae14deb93ff47aeae12b04de53821f70a99540d4dbcd37819538b8a1e9e944c36bcedb6deca5cda69f60011dda82b7a6df7ffbf74668ff6e960c2fd6d215fb431f7e8f8797469f3834da40a593cb6a7d560310d1f3d1b4b1f0bd41d57eeca830037b985db226b278e5e725f07ec07e3376f82123e149161c7975285982a5be914fe511cbb6308ced8cc02109f29dbc39835b43c65c68dd310603589fb5552d90dcc32523e44b6f6a45310d043c045682d2d58abe66fe4c6043d5b5e4ad97184db60e61a217a507210623ef8345ef5cbf8aa6bf9b82cdf291b1d978907a1dab3fc7172484cfbe8b7c38563e718242d0fde0f34573c21b205b5fbc8492c908c74a2edca0d9756cf41179c4879486c2c8f5949c022e194c5f1042635b14461754c0f553a786598be85ebd2179127310e3f3c9918167fe28aa1f99b30fbafa3da94d3572c81aa4727d402deae9bc537b8a11706fdd1ac4b16fe7f508506b90102c49aab233a2953d1934c747104d041a3cd51e19c99149d7ccafd128e98f7a2fbe96911d6cafe2048b032816d6f44a654e0f4fa50d43fa5c7b0909625ab85867207473bb79aaac8d021dab8384da4d902a73879644e1737adacbdbfb4d2e45030728ab9cb8ba0dc290441db164cdc285b5b98e304810451a6349ab9e53ab16428712ddd8f6515cd7d51791524a674528196def46457afddbbc76600f2ad89b459f4dcf30ef9ff021b697b7bd5c8232e1473a172ce0745f9ee0695300866954b33a40cb13a080e65733bab55136cc66713c100fbe8edac5e1dfd4edd3cd78f439da645a6257614c452ef499ae06449ea1f8b8fe461fbd11200857911ea554a9c4e16dcced68aab9b0fdd7e9afe720371228b9fceb742810bd56591528974dd18468b4255d868fb05fc4cca6687e5fcbf1f7fe825466c1ef9367be34e7fa650a2c2a180fb3fff8b888f72f1035463e73fae01c3ac1261eaa893e32d23461d2e12fd80123e6ec9d3ab0d19a6231f4b2a9f9cc27d19d2575315a428f930e4b90ca24fea5ceae841bd8ef719e5f366822173012a0648e491814ee830f8ff281ee1afca000fd57f7695d7e42e252044707fcb4fd678c54273f1127f72c49fca3a671a446122ecf22986f7b0b0597238d6d069d8d8739f880f1c615d4fe5ad6547a0f336714e325cfa907450e0fe361263b05c2db017088a0344d594c1fe1ddfc37beeeff1483f5ef1291df85a51e5d8cbaa05d0d555fef3fbdbb5f8dbcbf473317e806be2993100810ec68a1af3732d409fe946396bc1c2811125f6f5c66d35a976622f2c8eae99fcbb816eff5e7b362d23dc86be5c5e69350bd78c49d0fc3d69189e3ce720aee38b4192dbd1330771e8d57f92baba8bf3666da8e7db486e3f31653ab24c892f92cda5f18a374fb5ee1872a6295aaec3102d0cda170169b2b9ccf42f8a176c5211f6c7fd437acf5661c8866090f4d0b942165933e0fd1010ac654f0d834a3b495beff90d0fc0aa9c26664229a1dea3fa9c284d51278c46d8c3f776c5b990ca51987f2b8aab26c702cb22e02623d9c26a3f7a8eac5f9f157d0e0e1f630143faef6aa29f19e7a3dc8171c3ad15b609244bbd24cc71cf7089600a1dae77e46a9123bd4719673a69727c1a8d17719edfaf789086ba71c79994104bfa9239da2037d28253ffd04a642cd857aae5c0d06c864dbb85f3558ed85e4583185ddcb58dff65326152c946680d0241cd16dc23a51932fdd0ea5e7337d61f878d226458e94348567eb6186c0fd7675e09da93f87743a846c656c2a95dd4e82d748b576af310e53fdfc68e79297d9d95a08c0c582c69d0731b5ead7ce619dfd00ae9079b72befc670ef6d92a6ef1c8ca1954fec04f88ecc1d51882824eac631a1386021937793bd5d31fef4cfe313beb32d715730f9cb9f22f2d913bd00ed2e981e303bbbf3661fc317d4f4ae9414b95f10da1ebbfb183cfd5116073609344df195003830fc0ddb964c5f040b7eef7dbc4969239c62ae1b61b3393d8ee0c7ef118a11fa2e1d231d54e505fc0d7c73638d7745ae61571dfef6b235183ff3294371e082f56fe0ce1a8c7a5f160e41fcdf58f25b408ede719a77c51c33b88cdec51175b8aa71cff5661ca04473bd986d42a3e2b7dc0323545a017b3d66e9fc255069ce1e4358b561edd033a94f3ea976ee4496f7a6dee1bac181ba59ef7037b1bfeabb4f96bcf2eeb9fb06e633efb7f0be2e8bc39aaa101259825f2e34e67efe1fdfc74d811e48d0d1f77975f730aefa470ef444664c0f1e102cd3a42ea807f148b8858775a4e59dcc4f3d83a0ee8acfbc257eb875976ea2dfe121b0831d2951267bbf4c5c8db350e5cd4f4cd5c2f49a45b3737330666002623f6f44b6318128c8ae5770ef7f0b711b2bff7a1422d6d1cc5b426774c81de2565c7e687bb5727bca7e408b8f598585edddb572eb506882c4bb441ab29d50416cfe9de1d4b270e77ab25e0a971efb8908756a1891be87926642b1a66344a34d2374c9491704bd0c995cf9a249b5186416e1bb4dd14391906a4320621259cacdfde7fe7aed4293781e0f886ebaf9af558b8b82df76e11bf3f87f9318000319e613ae392757443f0e378e8fd3b5a45761ad84ea7b7f1331809c6ff5bd3cc56e99a45f7efa5ac19e255ad84bc78fa590344d7f309aa82a87a13c6b6f8397dc8595badb776c93197e396757c941d19aa0ecd243fbfa0f07113bb37fc2725a0ef318d8889bd07ff6ad8281cf24caf7ef2d41474ca46cb8f7eb7a120404233bac6ceb6acf644875aa0b8a779eb0e0d63f1960f039cd79dec7db0267f5b8e50b3dc1c127621eedc0e847ebb67f05deada810ddb49c7b8daa10cb523e79893623f2c4043ad26a8cc775f6185fef0c2c3d8e0cff0823b30fc77afb8b2a1137aa861ae14097ab54dc8d7e0d072a1f7e8df68295da27a1117fac46e18e640fcd10d908cc3578defcf0e9bab225d3d156d18dd69e89304f4bee0a3f7f451b210e65726b4575ab39c3d1b072d03ac56623c2b5869b72f8b60b27aa3483e0abe8ad2d68f21a0bc8ef27b89afde3a9af498e1c6dcfacb554389d55fc41906791ddce5190b77d8e6f734c6aa3bd0eb91fedcddbf07b7370cdb22855fd2c49837aafdbdd42a4ed195558fdb76054cd65337fc975a81f5cc0f9d3beb1a0a253bea15825a6b2d07171e779ce8c3f1db7dd75caf8ec6587c7b964d8db9a4ec68960ee0cf5882f92ed34c7d17c3fd603aab5604f3f93ce0fe46ec507b7979a3a82656f087b32ad2c94e4616003a353db04699b3f5ea6ef55f14b77a50a0f7046f14531cfa19a67fd7dc1d106183c2f519a0019033ea435f6bd36fe1e273118c35186695972bda5f32d9e9059a9f25e7cd85b5309ee962436b46ee36bd123a1474e226aaedd43bfe92c754ba83e21b7b9f274f38ae6b054a8880a6a83a2629087d2b49cf5917f4bfcc862dd8bc665b5eb3af8208c587a7ddafd6815c996b6809b4d3ce37e7e75da59cf888e7cb217cc454689e2dc72bd964b5f08e1ece0f12057651e6b48aa6adcb91da1d47c3c4af5979e490427e48ec8b6574967ebeaf44b8f7325cf4ff5c50edfb752f20ec7b2643cee7ebd713b4c8d841899cebe3bf21707a89ca60ae18060d6455bd05c8281d13f86639f5e341a004828d72a444dbe6cd4bce970fa3a690f1cf76d21000758769247309200bfea39a7a841eef45c8c468f00037868b0c41c066a3129cb33e0e32fc5e509cb5f0a6bfff3d45aceb20dfb20d3bab814cd78831a5ee077b25e227affdaabd3f3f113c1a513be87bbadc1c5fcbaa1cc0092a2d82c765b9c43e616d587162688687a90fc157443d148a0e22b775985b830db4cedfea7bab08ae87115101fe2428f4ac9e0537a938c75975e6dc2e840f1a8700dee2915d332c2a095221fcb02a6c898e28da6da3bb7269cc11f8e0a5fa7acaa71e7bacdca2bac8e8179c9e6afd224c8d4abc43e02277b836efc0b207fbb36acc12997f78aea216ddd0f5d17eb4f7500ac862d1666448ead4707e094c3439860b1e1da88ef9210a9fda35f8e214a0166755f1cdad444ce94351576cd84b76209baf23c68f25d484148b8cf14755c5c84218a10ab465d449bc25eadd1b4a70fba417086d75d3271b37f10f1d02fe6c55d009f5b02b3e64c8c4e39d84c703bbe6f2f994c1e26a9cce9bee9e5cb868e276b86d8f39fafb729a79b83a58d31f8825cca1ff0183dfa3a83b90c82900eca7d6bc72af0106da418cc2dc57ad83a56e9f22cd7a68beb3ecd176e668e0f6251c80ab074260505495d769e9656a47072528612af465bbafd9ce0461966b4fddcefd21e2a657d084bb2edd74884d95c8d75d78676816c413fddb7ea479c346a03aa35c336a7e652a7dd93574127cbbd8ff06c0638d0cfc884ffd88dfb92ab7510db75f2b82f150b339d9f498682199974d19620da909433a1bf76953efcb2034a33e1bfb257ca532bfed98815060b0bdd8972582df92998af66568b37448141c8fa8eabe9897a468d70d997ae51db0242da0b88685915f04ca307c2f9128345d5facece85f0c206678ac40b077689118e20ea9740d2f68f1127b2304f7c2f95f64acfafc6e6da4c3c1815fa140a6a0b2aec5e03d574bed11ddf7bff83fec0685fcb7e0e412a5ba284e7866edf4e00577951198e6f26fe3ffa4e95872542b4fc22dad2e0cc4d82490722887131a6c007d3d362c9a61a743f23abc73c8d424977e2f95996fed07be168d4fac3eed75edc00baf9ec9be6fff700245fab8db07a7c0055378bb2cfc596eaad7be1ba2811d6b91f16a754e7d40ae13de277d12be9367904f1b7450c325458ea4b0c16674abcfb17d9505e8c397da21c6a527cb4a637ab8b71bab057777f7ff9a25ee8beb39cfb1a648cae292ace25acf2a73375d5e8f9bff4a8293fad8347f883e61173739d95f1b8a79480a30158b093ef1ff1f9a69a20698886ac591a8bd6da737af5e1074ad01b8b4c1ad4f43bf1d5aead4b6b71d6497bf8f1d097f57760b9f286685e9b52df27c9a01837327b7332459acb7503ab866c0a19b91bd37577e6b2601e59ed69aae65a2f28fa36982b10d02dc1d753e2c8cb02743e5fa3f2ec55fe0351ab9e083a0a0017dda3ab3149a447c09e85cb607bcfcdd1b461c3146d2c9f67538abbddb590d68d902c665ca66f19f9b84f8a244e041b017fdd88cfd3c02515ed4d4f9f088b0f1395c22ae15ffd4038ab95bb7c23fc32975e7dab124f9cac9a4c85b59e3d87c6436952e4ad86e61f5709a907143882e0b5dfbcc94419ad9fcd2c6d092c626d8eaf7b36d9e79b5240c2b453c408509ef18ca92d6b8851afe9196587343ce83bf1451038912c8cf65cd42ef5f9c1091c970eb7f8aedea4e3d1aea01ad08a4a35fec2c78d096433b43ce568c1e019b0c421ce64d6f100abda9315e6b6a330ade57e18745cc0255e4dc10cac55f153766b3ff1826e0d912f6106efafcd99152baa13c7d2f642906c9fac325ea535a7e37fcf89f29eb5bcd67b43c4ddcc9c1deae119e44e4092a1a0c0f0c3f08be602ae92def6c10beef3663490f24fd2c009944a08e8740410bcbcaf81bc9ce3d9d15793c18b1e952d1d113fee755b7c8682d453f76648d526dcd0c1d0827c87df45355030f6f1b9bae4c30ac00829519da9d4bd20fbd1dd5a31da9cbdfc9d6599125298e0a2aef8cdc4029b6704c5594ce25ccf62ace60fc457392249cc779bc25184c08f2f29a20830278a2a9bfdd106bc7df6107725a8b77b30c72b5b549c6681e13ceb4178be72d9dc0b860db4d475dd016cb6fd20b27ce087e2d668c44e4dc0eb7a5bda5133ca9fb4759a8847c94d27bd34f41123f00084de85b52868d55abcb401979526ffac5d95c2ca3fd85dcdd0c32411cb595f672d6275825c537af69efae5a4371da152bab5a69668a954b14afe95d784d573022fe1afb979ce2b40d8cdd7ffb3bcaba4ef790bdf7423517f25a8fdf8f024720b67574acfd7940dcb215e0ab6a50f44fd94a0a324a6cbac772f0217dac029baf4546896ec428c95f8b313a7234fedf919cf87446301db6b497f9f396687c595b75d92b9a6045582b57c107b9f2e25f9f4e47334ebb164b007ac2d2f201a973fe3f689576121e5c493b73e7b17649bbb081e8e34f090bd3bedf8692edeb9d878ae1c314ce2c79bcfb3709c7986c6f5b9e1cf3a116a70663247abab7165b54fb0b6fd75829cb720a2c4569871c0bfe3eee3b1d9b70abed8e5636ba403c1c455333c748aa9cf6b4408f1d7506431e7e52333b32b12f2efdbf48afb476e990ab0cd28f7e4b61270b14d4027e914fff1cf0e6105acab5689f1f6acff354e33234d4f0043552938b080de4bbece197afe20346f6f28b7e269238d7a9c97b581b59ab587185aded509c610d61a79b25b215fed1d1acf219658d2c15251d40d73f89e9aec471df653e4bb323218ea7f64837a84b9b4bb8ee6de66725b8a88c34182bb8d3e31328ab4a28826c126e67fb134390338519f0562591f2fa8c770dc612c70975abc06fa207518e976686f67d51c1b863772532376d3ba06faa2a0b649d20cb2305cd39b5ba56ff0c34a173c0738196d78b1ceeb52d5a50fe9d61ff3276c7e706ba9ec38daf5119a84116467727e7a25027ed21db27eed544fc1cc7fb35f368706e291a5b6e3daa8e855f4b41928eb264a302caa71152c0824ef4b5cb87b9bb769ba454895a833b5ceba29b1b3e9928e8904788e98ad24502a8b8a6298cd88aa500a79c258a3f113cf612ef9216ca654d30a03b639b7be12b1bdf4b75ea2805a26a159d98705fd8383760c9a608a08b1d1a103977536a45601a21022f51a391bf239c671ea14ec02295134fc75b65196c76bc1bc13f899cba1bcda8553bad5c0bc9184441b8e53d84be1aa1f0a0347f7e7bac4e52fb05bf77ac8b16f1bfd675bd33d447cd81838f50eb412e7d4c89b2ca5b92040e14b1a8cac08ac313ad91b68ee9423920784252fcd0a1b255fed2a18f20a289b35966a513eb060a0c568b6a9335dafd8a82ac589c3716c184f0c0546c70fdc6b73fd083c321bffcdd4e0dd161862523b920ee1e6e4d2e62c0ed03cddb911931e051abf637eb7777bba4cb366465185c890c40b2ced188d39c384bae215e1cbeca1c56a68b7fd3b3429c96c6feb16a1fd2723a50f49ffbdb11321784df5b6ebbff98a6f807cb1f290d715a8f646dd6212cf7f83b18d1dcaf102d31e21bfa94e01abc59fc82891f02b744d09dd1a37f9267d5e2c55bee7af45eb022bd5d555553e7ab28246c1b0a2fc96b2de49d4f4cfae76b8be61fbe9f9622557548539739f19bda879316602dbf9482467bd1ce3f162b1f9d8e5ed99c5899337177048617657b974883212e582be270a6867ccce2f379c9022245f3f75fb1e479246ce4b78e952a522d5f96438667a4a46674b0540c85245a79d060de6a1f25e6118906f176e316fbec3235fe3b21af5e6e914e80f4d696419564cb6f2edc771609ddc214798994e2f132f1e2aac7608b14bdf556f5f5a39b9fca958956fbaa4be6173aa0f2c785b7dca883496a42e914e529cb996d9ad39831d0332490a3e0b4ad46186337b3984420ebecb4b040315acd91352e5b51b984d1954980d26ff31f738974e338019b6a972d02b9a08ed6f361c2a6b4fa8a45803688d2409181c80dcffe66000c132c4f6a38579c7ad4b79dcc8c24163b7fe4aa0a0f54af199c7a35986dc768f1786e790284830b2d245689d531124b566eb67680dbc4fb1e0edcc17f072a274717f0649d6aba499a8edc7698eda3b436b90849fa57c3765be9763553d158fdd1d2503ac8e6c29dbc8036dc06109a69f8f1f83ef6f7c2e1701ee3479dbc6ddeaed0381b460707b3621e9a9d34153a4c752b1182194daeba9d0d81ddb2583a716f176ff03ace91eb30daec7c271029818113080bfcc9730f66f8d3381fce562a5a42c9dd8267230c448cdfd31a5a57f77ce93746c1a16c9a996f6bdbdccb06310d77efc59225f18a6127bea8a6bbe8897ee5d978c115a4fb9742e6680e7cced80ec1ce92b34dde964b4a5540507bd8dc8ac814c9a60c962c80a369b79bc14af526c48dc38b2611e0b370555ab175866b6a6265bba93e21bf4c4b13108189313489198f0e21ea874dc232fbc656d925d92ae2b5087ebf710f6956ce32a0eb8407955fd781d9083de22e41fe84f54fa398f22705c214cc7aedea9347e071ac0fc75f95ad6bb35122e60ff27fb16ed187ad6f0a0e04fcb179ab0fb7400ff4952bd75325771e15fc69a49c100cc6153bfec4442a5ee1ac7f7b957247d799b453bb0333c73ef94e27fa3f5fed411fcd3609669400a36df2823b17e1172b365ed2f169573105ec44e8ff29e116b77a4911a4603a9c9cbd8e07dff9c5e6fe868678ac0f3676108543fb8f569a63b871eb4790a3b89196d02317b79dcc8d26ce8227aa2ada0a497ab509f37d09904133c340e92241d82738193de666241e51539e6518ade5ddf40db44cd16ee717571f5c3b4152bdd54ab3f027037e7333e4eacd670657e46928aaf6a323961bed729941d64af9f6897936a91ab70ea9d9b2528e7cb2534bc987ef788b6f61bd71c6622f76335868d5f82a32f391ba586412a9975f82c06de82431466f13835d43494f01bdad96028005c6f2b9f86ca098003776b96f7728fbb15377d824b826e8366bde14dd52796233f5cc6940d19a15374ceb3b0331acbf554f3d3d00531697fc1cd46ebc88719339f49e5db4f06adb7402c6d67b47db6bfcd4f0ebbbf9f3a5c5cb90f64d3d409bd5cc6cd32938d6c13647fc61e5ca621fa72a74b8e1bcfb1d5337e2e220822807559aab688dd3d0e03403fce8d14bdff6e655b503886bbefac1a66e4866218da31e246b5d7580c1d0b82626401c0f88a38341b84d8c66f05bdd52eeec110c2a7cc0feb07ffb50bdf6d8d01aef662d02c4b9ec9c8e7068cb9054933664e7dadcf7e338c9574557cdfb9af9f58d76d820ebf8ad2dd5658c8c2e9ee3507d9a56c0ff4de57e2c0c70d43b030f8d29ad2c89edd4b60d5daa89d544be2479f34ee38a8ecd04722c5a7ced229d98a9c9c7f2378f1d32547175375634adc0359d26c3ffdb56cc9691d0605c6354f99fc76b33265182ce89364377c3ce2a51e9060bb86288a2b82605557f08a0e29873defe02a320e34c102b59383a3ecfdee8920e5d86a3a4fe5147e844be39b305c706c6c7a96b70cafc008decb63c1f2b6e5938fe249f121c4f437b02aa0c224d681063c0ab13e51f0c5047ff7cb9da6862fc3a199945d4b4d11c190b9448f4e68ae32e2bc52c97aa40d4c5b8536e3403353eeff74ffcb74acef60472a07ddf0355a3af1403f1f7041b8226b628e7200fbe7c89937f1b03811a80439822444a858e6457c415d7cc4760728ca542d7ae98cd3faf791809c7e0376611012fb85eda897da147c757bf2e022baf1dc00ff4410d1f7e6e5976fd76bca17c88d322f16c38e49ca327cd620270aa2a8c5ffb5df5a8d5181e3925feb733de69d89ccf27255c17ad50a46fd6e887dfb87ed42a497b48d665f5e194567ff0bf1cd00860d2535651d608d4da3955791c199e4a413b60259a5dc104bbbf6e745550f022cefcdfeebfe2016655e98b3c5ea6916ba92174beb69c6f33beb28a1f2862a9316d0bec9187127a9e96a77884ee3f6f9600d780f69e61905cd87c7df4e436296b06b0230a23bd5a8ae621def3c72241bd24bca5b471a22b4e71a2370a5e1a7b5d8db4eae23a5a294043b1263b3f98b91380ebdf561adfede473be4ddd8a0dd6a70562801ee14fcb3fb95446035c807f568533af7de6bd6dd9382077059f9f354a4e1425df559de6aada2add4bfbf272f1a9b721e3e2ff4b10e85107e1cf1238ef97bd646586bdfd3c948948f31c55fe37c2c6c15fff9e20c25d32e56aca2359baf5d302abcda0cd80a1b2f43c12b3c6b1946458a62dc9ea584baebf65b0d1c52967d53ea5fd95b3bcfbacf4134c25d5bd71226ae1c2abad1ae437527cf437b42b28f219f67d4a7dc79adb7bb03bc74d3acdec184be7945836a2b2cd29ac442df15495f696d4b7fdb72e683ac838d5940e3b5c9c02f854855d330bc6a2eb53288934cc1ebaf65d20aff095a5dbce919e5a6bfc985eae1ada0040b1149959430519b0d5845185eb7bfd8252f0482185a1a3741dc6bc70eaa7052c81c11de8a26d07a0bd0ff49cb3a3b14e6ad8a90b5fc59488c576cd04793dc61d7fbd4660eb9636bd8e7b6a73a1ba849f5149e7267b8942a6c6ca660e49a733f03cce5ac922514575cefb4cf760baa820f4b0d3656fb292223781cb04936e1e952e4bd05d56bb7a35827da90f37afac9b80390b53a701439c9918f4ed40bb31896efd8717aef0f699e29f8507ea07d76784a7de7d7ae524409e035beb86d7a4ec09a3b8bd0711e00afe6fb020cf00cf3f1c446ef2bbdfd92b907c53701dc4cb76120d4de0bdd6cd13957d09389450583583ade847078824f618d7a5d4b60c4a041656850eaf854ecfe9109a4219588558dab9f3d449dd50cef3d53219d52dff90d2930e751b090d689ecc1d06d26eee5a917e51cb47735eb868684dc1d3adca8f664a9fd616a99be7e95dd9940c82e08d55fcf7963ed8259c3808ac8cf016fd3e5efb788b51d9f35d3dbbd4915abf08648e0b2676c2bfd918983fa6415a68a842d7b058d2a1f4cf6d66d07fe5ee3091ad1ba054df4e533634d9be3917afde61c416df8ddcadf1dabb67873ce04dbfe715a7d1337e53ef11642292c933bb70faa45a8c25245e326fb2936ed6a93bb6238e0449efe6348e1a99e33d214aea0243c60e987116deb4a0fd3e791ffd3f135f4ce864ee1501aa891d165e5f24f48c60564adcf2674f815909c5c75201bcbbe628803fe343b5b780cc205d36656b765ac7e46974fbf133e01da2a6076c33087771c8f28bcae536c789284635ac00554aaf621152848b4244bc082392353c22869b14386692547e0f110c417d28843c97f42edfd5fb3df172908ddfae53f8ee056ebeb3a97db44302b1bd5c7d950d5f1ba9da3bb66f186fb20d8d72bb8a00fa67fc5a7f896e3d3687bde28b29815e9ce57c9cb52808672200fb6cea89ec36057037410e1a53b2951704c7272937e6a1ab675074af202ab1370b39f915addd6559ae3e86bda9b7a92cb7d2565c1513308ba5164bc0ed45b295318b9e82888dec2794391f84540d3f01cbe6b9f65e7d98c283cc75cc9bba7ed07318cea41cc0a4b2cb87320a61606601aba9a78c5d048532cd46091625c5c17ac9f866f697f6472f7d4d4c0a431529106fefeb215b8dd221943c6403dfcfde27da23b112f8d8b424499b1027b38be219ae7b430a889c4b86e1f3346112f95cc78283361e51f0dc616b997297ec5cd210f03329d94303561842cd290839fb26d7f5bfa3879d4c5faaac7d3c5b759f6e3bc8a9dc3e049ae309d80b5c97aa3e40d0d9a696cae4ae1c738e7fc2c0e08b813664345361f1258b0190b0c3de8903cfb432ddb8a86da3bcbe828e529821b134064f555f1e5174709821b6975624de66da6489853b2a5ce9582c90c1dbcc9525c2df100619efb4f6c2999c976569cf2c99151a97343f70ade5843b73a7d29598493421614c864933ec0ae728c773fb999880d3de57270bb264e3fb51d1d7a49c4299e53381d380b01294317d3838bdbfe618903865819a1721d9660eb50c09e8f06145a626717555ca7235a5d4943f774c39126b4d50e7126ee9dc0151605d22573c816412ddad57169d2b08622736fada54051895e2e58da9859f55592177a8eba6e340c825e97ff501b911aac3de6ad33896b117012aef63a7f138b49adee39faf422f446f40f2096e3d73f5a05763e8327b9a46b914483f8a3258234b1456a4f18718512dc275360a213ccf050cc80504bdbf7a4cf790e3ca3ef71a6ebd88f6444658ebd5fe951a5efc57652b05b0b66cc243e490b12bba0604bb79df40118e4fe8d0520cc2302e1becb72dfd28b4acd50211f28bec936eb450a643f0a6b17fd0291b959d6d68530231e4296d55f745fdfee52082d5abb08e55c58f41f4e5109fe34497061379c63620904e84dc78d1ce1270314aa189f0e776024dc139e7f9379c76027372e1e894b0d200c52aa72031b8fb059943c4246f6826d246ec977caff515bf4900207acdd05018d5d9ea49762717eff0b9f66b8a731c9c2baf2dac8d546185f5a224d647031ead2f53d73be164b5dffe309c5c78f1d919adae143d53add7d295af387cb8a9379c231c3540905d71b6dbe81601d0a25a8c82da9a345a8b4a5596c61e36f5128cb11a2f72b42d9b7e3f8b108fcf54f3b3fd0a8613db8c934df8873928099433514e1c4abe148b8eda7670df35ee84d38f7e27c2a5082b8baab1c0c6a5a7f65802d6d4b14fea365fa0b164b2af872cd5baa4ab2f6b4ce2ac1d3889cc8fdba74669ccdcd5612bc83ad7b225a179a63cd35c1f1f0f3d33c169e9bc22a5d801b8850b1eaa5cdfed9584b68c5684c7d20cd178378b946531cd407143231ad037afc526e3cf4a346f5611999ca5ec9067600af6518b01268f8d7bea366b94739bd639120cd8335e26770f1918eeab80b0a5e99534836b290c5d8961a53a5fc452084100c81de484e573a48a8ebf02b07adab52451c48e2c7c685a71f16157987b8abce35db7fa3dc21dee1825bbd347321d822c839fdee1cbe7cfe45b902de8c6ad7402ac3e9b773648834f9ab9f6ccfb9ad71b24730af2c3eaa3cc4cbaa3fc4a478506d522ce725c2d08d202bf849bee3a6df0897e823fb6faf00e30a1725372c0539461ae3e8c2eed3e914b5c217e2197e70d27b37a09d5c8411046392dbcd271878dfde6ce443564d2a4a8c0e18089bfdc5e935261205dbfa91b2b23f8db140de9ba9fdfeb2e3514ede90ead286d9fdf2cfffcd16bc2e12279248a30ad85ce851ac1d02ff8ab392fc488a8970559bd20c79e56c3d3873c35d859fea2581f0bf3153ff72ad349731c00f39ab66adb5e3edc7ff0534f94c21ba863dcda51a6441f52f89fd09439656126241d814d45c276c003bbdf38e6b406618c456222794712382682ce34c7a2c596691ab6a26fb268ae5ae1df0f1e5adfe49c6ea6a8b12e487eea62b3807dcc1b6825926b360a145574dce2cb6c89f88cf31f06d3c07a24515e2576083c98b1456abcc48f34382fc250ea9dfeb4e8de7aabbc05be5e46b27fb0b30f3cbe5ebf189058ec6325f1ec79c67efc73296a81a451c7da14ffabd80b88f554fd83608136ba00b94b7dd810891830a5a4f5f150c2a498f2065055e60fbebf84eade9a8af641ff3119746ada77b62168af1d53aebed2696150292f2686521611b6e632f413d37c2f5b29a3ef09f893d34b87a65288137290008b4e2ea4c2b8a78c8a0ecfb257d1881d319036b9b52eb8d98f1c2dd981800e7b6de170a01f5656a3589d7738e73bddf03062bd0f588b129bfb50302bd067ce7fe601f729bd2bd9cbd816094fff92d98129b3aefd580091d5bdc64d8b3083781098c0b18e5be83cea485b999c1b04b505da8030bd17c940852c0c0c1e8831b13bd64664c1dca8fbd6620356ff60e51b982392c7fb9ef7f4eb0e10340d9781895e84dac3fd62bd04ac260cef470f973e6c7cdc9ca93865433fb36d069406ccc4405b52e29281ea7df20565606e248b7d1b925362428fa1bd4628d899a6529f15caf19e54251d6a095857332717132043d896a7ccf3cac4e54c50bb39aad32febe29830dc22a7e3da4fe41806f7fc04482a4f31851039c602e859400470f5474316c2cc7fcd2426628a897a92307b87c2c428b0950e739a1500b5e933f2a8ae64e110c8f9f7a2ba119386429f1d35f71bb9c2908750f1f35152b0c96988060de844c140b07d0e80c234bc42cabb91bc9aa02586eaea7d2ee9abed487c02bcfe9d1fe8a7574418d85b287bfd0e2494dc9d7f6c8eca1ddfc990d605aed3ac2666cff59e7cdbc03c2558773d0456f97caf234550c8f3367bac4eed5d15ee26ead973134e8434d3eb434d129192d9cc74b2d0388b67e925b8f0a54ade9fc6072bef6df48253560749c008afd7eaa77a9e14d04165937f6f86f00ec2b220813607bc1bab3ebd454eec8da220db8d6cdb1d4bf17383d7c3ba9deabbf014ab5fe00175ac448f3fc593d62abe2a8b43f8415ad91f35b176c2aadf86f6cd599290d155702d745a7834335caa1c3567c714a7fb3e74ebd7946fdbf047f3150bcc6c46bf4d83084a449ee2458098f8f9a1b1f95ecb9639c870613e47b0a7f97b062d50690e32600c9b205039f7135fb3aa4ecab82858c499863d713cf260b738e7f1dda387ce209b6734879da241c4f43e05fe51f56e3a438eb3348ced865bd7bbc8f8b904666f774dc91926724e22187010b99bd3c8108039696ecf1ad1801ff246273483e623a912e189013585405b67f05f39091082cf0f6b8f9e71e648783f62e6063f0463f2a89e8222009835adb00c0dcc7e81455d2c4f63f0ca570e439b61bb6d4d86ad8da33e5866d2d429aee130cb474f522a9527500d6067aabe58ae6ed3f7f6eb0c60244223764c7d54bf6f69c2057d24fd1d6a12f59e01c21a2d4bf1aa447ea17ef6eb69858fa55009517306388f2121f707aeddca183ff4e83f05ed1297d6f753c19c0c09f97cd37be1d09bd4755813ada3d178f9ba612b8b4e38f39e4b61990f4d27e207519c54c439a7b6f3e6e755aede60dc236d640d9281fb3d0330c05b04c209813f302c98a0c473d447897dfb19679f784da6282e9079eb002e790b935d3a91af00cef4e6132c6be0e35cf49ba02f36a72fd28daa345e75b85fe8e56bfbfbe4a6d38128ccb04db80b86a4315cb897d828abfe6e33ff3edc75ec5ed3f0c609dfbceafa9126c49b4bb4c74fecd0885e95c52b7dddecbe568c467f2e76987db4e550179f9c8a25dee8f432c6a8e7e9eb74560faab680f273838a4b91441ce7d2ebad606690ab595a5bffb9c09059a6480d3dc3215a24fd6be6751820d314b59165e7069615c48bc9d1b2885dabbded8cce5df20cde5ddf56e09de4dbb56b9ffb71c57c4a7a0cd4bf14d87fbf22078fe12761340a7b5129a4db31f9f9b312e28bb98c07468c823dee5d7d78f5b96d6f4794d65232a9634fabf555b5540552f2cc2e0eabbd26532c288350ef8dcb9a67b4044179bf9480cc5c86522e85fa0127e21e1a66bdc292c66529376fabcad6dd5824c078fc31a61443ed528c559faec5d0b06f009f5584a52b0327cf39b2cfce6413a5be1d1e8a1747171965115cd4a38536eff4699709119ee957700a603b90c9b14f8f5c01a3e78e6584a56be926aba7a58f05686746c9097bccf148d796f78c60101d222e37284d42f16514891ff754a13c0fd7a8c16aa158985034c0b9f2240889fb028794b43f225f9c098994d7dca7fce7203fbdc9942c4a1324fb283f53c63eef377a734e84aa32e1ddc4f46615fa95a55d168e362a252feff519732bf4983264775b7eaccefd0e47e3790748984788335e9cdea7b18a1e685b14830b9ea162fb956616ac6a9a8cf47e809663c36ca5d78e26b74bad727f058a16652e36e1c072f8b12f7d4a31330b5eee2d86c857ec5086631f9fb9c5f5c6ffb50ec09c571b2d51a181ab19be26a4bad0002f5d6f8c05b2201aa313a4bbb794229df4dd4150f6a6819a5b45b906e1856ef5a9bb5d392b9dde6c4e00bea93d54087ccb3dee0283d5fef42952da90c086b6a2368b62da6eb3fe80e6e2eb7f14","isRememberEnabled":true,"rememberDurationInDays":120,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
