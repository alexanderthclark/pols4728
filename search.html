<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"0adc31403b46d674c21e54e616e7d2533b060362c23b4139bb046f2b52c3cfcfc63dccf7a3d5460a490758debd7b349fcec6e4873f117687477380684a416a3ad4b1ec503a61e87fec681e8bf56312cdab66d886ab9fc54822072d33ae495f08b70a0529b8d2a846e505e4b7569ad2f35128710862b607107fa4b8b51df0f41c941d57a96fce2c158617f41259b8499ae5e507d7549418d99511de031ee9824b3ff8a3e12b3fa6f71d2a9ee0253bf98a92942513f8cf0c4a1bfdf64a96333940c25b08896f6ccabbef80b56665e54e7e99d08cac4746b416e847bf14f949713da807ba6c1255cbae4cd08de0a35416d879cebd7b354c5642055d20976a940dad8f0fd929593eb5b5f4b43bdbc403a75c57effbe0777933f23e83be9a6aabe57f52a4b2b70d8614ca8c104badfffa52af307a3109271f66745b01e8e8ac995d01f8fe1253fb4132004682decf38fd3b8cf88a4506dec2106192305d16eaa7b6dca07ce9117ec3bbe653471a86cb290925b0ececb569ecce9cbdacf29ffbdfa35f497f4b075337bf8f467a3ef1188265b71752e4b9cbde3d70c8924c47d43969b1814955fe06920011813584d7dfe614926504c57c61ad5725a20b86784bfd80ac50e637c9c05485fcc1467f724b36a8356742960d3da2785deaf0da08ace3bb4363d57c5b02cabbda4077ace690ca5d5188b71d3734bab31b06d9a4446c5564449df29a9e8fd6e38c6aea51ebb059f66b8374ffe59f660f982efd451cc669542058871da48d3a68b5c313d48a4d9913c8d32c27454b94b0ac223a18a93af3a636cdbfd26aede73b970bccfc6fc25f812464642aa9a42674df37f1574308a64ce635b9704c41ff6ce25610e4a212de3e7882e8bd308c092b093828bd6f3808a08229629d58ca481694a21dfdddcd296a6cfa68678bfbc50142aa6351f66b7e6506e01020daa2554fc4a8fcc5e564d4d06a940bd28c9164489b698c1a2ae22cd6827d17c41cbf88d4b34dd35ef76fa4a64f512c96fd79db046a4844817a10a1f34bead47bdfe02e294cf51e1920adee1f7bb4ec833836d353ec10e207c3ccd1810321afa6ca5c60ead6d80548986162c434e0011e2f08cacf34611ca2798caed3c990e2af793055562b0bb3e6e93fde1fc55a30ba37829ec0f2a4d938b4d92bacc25c2115d08f9f43375e258f28e66b3cf5f968e1f458f3b1113a31af4851ffaf88910927e3ba3041a78dff61034f6a2160142d98df51546e1267c80f75d9d257ae9d98703123e951508854c027932dabd2a96a40d41726be2ba2de6f8eb8a598549cf183dd1a57ccd591378270a70a7788e96c2197774f36ed86a13d3a457edbfdaf60a686e2a9d71a8d3068193b5858b280105058f0667d0e17e19d93a5e2ff396524987a0b4999afbe29f9a191e19145014b048611264e48b325cb0dd618da251a91df4124108b8fb4d94000912e877a15e96f44f50b274e496b198d91b226c530034433eec6631b1378252f2c3c9943a141f97f064a181839528049eef23ed7dfe14a2a15f721a931d0ae18c16b0de1bb514a4181cf7299c58425debcbb9866125a7da33aaf3c2c5aa20ec9af1ed7ac46bae17149a60b630969aa911cd94c3f985d862b73f01a0bf4f38299db8a5061dad1d7cea2ebb35dfea7875454d46533890d33bce014604bfd155165b35b44487dc2b954c0794a3f34fa970025ea1b9d8b4f8338483b0f56fb4d0663e38f88764b39d3f67995f856127cd526cc28c88538eba6c7da9b63b2e55843ed7193ed3717bc72ea9b6e18c93173613ccf0764178955483939f96fe9a037df836eadd1d86600e4be52ce1d2bd3b55656e1fdc860038e4684cba1f1624c7e4f5db25745cba14683117a2c5ef143585f4e02bdb4d2a3bab90897b7c2df57708f5c70985598f210004a97a9fc5d9c7c96dfb8a5df35b707262dc63d8a41259e3a1ab5e9a7f1b8dd5b3f313f1f2c5160b4bb70c20574c410d7fffbad13bfb839e9cf248b386b972be1f362449934984977112e1ad7b2455ae63189f627e61b1ca536bdf2c4440974c60e11b672d9b0726af8e1ad5bfd0e2cabcf61c60ed9e6e45e19666e994472dd1a0e18123cbd1e16f8facd2b5b2bd492b06c5dc9f3d1cede13cc0c1809bda27f9e695109e6f9d3f678f1de2fbd42d2ba5ab13e94861660c220d70ae172716f3fe09c5ea52eb49f01d1f5bf1b2a911de36e09ab1816898eb74bd08e51dc98743c4e3fc643d7b82503e25798cbc2312c54ee3e9fa4f575f382ba8e54eb663745d45d5c8dc0e1f9af4e1f8866f59be958c6ccd5dc449f8ee194dd0c807635ab150d315a23faf01a5a0142ba514a0b45e7fdb024f96c2f3754fef163c7ec986cc5a3ea344b1be038a5d4295dd6a885f346b1f012a8845083751e8755bf466df6b3a086fb4926e9b9d0be5b0d9a67bd6ca6ce5534465e4265a7d7b7f28fbe3901cbb2463971519316e8681a891d1605983df3e2b869fadbac2fdd2d77085a481b6f48e80d776ff6aee7fc88c417bb8fb0b13244d2b3a4241f7a74b9a5e48f9e7bb72ad1ffb59d723428ffddbd8feeb08bcfdbbfe323e561f55f071671dd42ab9d0133be06724506b89b905b52f0efd82409c5b8fd173b76ae534f16a5e271a1c6f77e4ca00938e4c252570b3d20462164ccb005d85987a526796140a6fe2e66c115b97dd284ab5406f58464fb719a9c3c978ab884455e8cc23a1e3d5ec674e874eea4d4705b2f28cd5c8e71e8de0b904e50b246f56c662c9db234b3984a2864c1ad2308ce7bb5163e6be8bfbd05c717771b1109276a285659aa93e330a0cd72b241806fbe2a5a014be29f9cd56dd5194d98cf1a4a3867d9774300733920af81652c5149399204583bf08f4a7d872fef94908d56c89aecf71808e71641e61884d2b623462341db1364070945413a5659c04fbabe80203079a43521c9419ee5b005ee43bc54076c4f2347597e88eedd15cd403a754fe8d636e67ff2ae47179aeb4e6e29a1579ff5d3c5efa2ef37bd0c757c9729f50840b54bcc78cd1d5fca0fb6a983edd93464eeff6956bd100e184d44d74b357fafe3703991cf19d19eeb76f016afe911176bbfcbcf1b4fc8e96a795974400e60ffd1e8633e2577694e9836addafbb5fb78a7f6fb687e084a0bbd11dceb57abcc4d143cee5356776d25a6acd1348fa7881a162d7e519bae88b8df5724d59ad8765d2f70213c2a306c9730eed1c49dd6cfd226b677deb1b2ad5bd47447fe3e01ff4c5d4ba8d729f5d32c4c0e10c058398a140fa481e94760c4939bb59fc81e4064c31f7c60d1d926e683c975ee4e17ec64af8acfdcd6b02160ef5496167ac792a92dd51945cb6f013ac837a2b0b97986a00c9bcd68356bd1023420e681623c1126bb07328543fcc90044e2b21c6323ca72ed3ea4cf75a552635678645b68438b0ededb77e38e1718ec6e89272047793fecfe5b51de5932555e73e6f5b8c03cbf1ef2ce2f3f3181fa79d1aed7bb5348fd377f0ed73b9f76b8a598b93b892e55ca2f1ab83a1ae3c8b8bc32cd943e12afca5cc7f115cb36edecf3fdb6c50f8e129da9ec3825b700b43766fa342dc81168105d8d54b041d6ca5a5b9ad93daadf1fe92ec36569e0e3c00366f6bdac7c76381c30f0473f938b6d9781a6bc39999905a2101229b21d4f65b7b75e43d4027fbbe6bab023e8d0d914634120c9f830ce67607dc38c8ae4c08d6b86fdc4dec5f92b81f58119b85c9b1a015f2725fcf676bca53912e428f5dada805b6f3bcd70fbfcb29f24627d079d8b4da1ed7162eff90b7493470a810af092ddccb667729eca27921a5afa4387441fd029c0c356553dfc6a08ef86c3c63308d4586e4cafeb86942eeac0e9457d5b2381b6c35122410cf6763edc360c41cc3af7d48e0e14db1783157935824f18e68fd12531fa6ff964eb5b88afe1b0616b4df40f76d7db96649502b6e94de7cac02bdb0effddd770defe270289ff70357b41958e9eaff656b1f887318287eb987a9d27d6e8c24bd4217d7190a6aa06bd3486fa428dd92a7bc87e046efe1d4666e1b6472b3a823fb5cfd8d977c27e3e725ae630158aa28eb5e92cbde7c80189591971714c03874270a493b2c0a5182c22310e6b628b695ed9852306ce95d85e2af9ae368b034492e3eb9e70654d298c27e54ffbe3bbd3cd131929aa2026a8bc980a47a54e09e808d518020149d7f4d141f9d6cae3f151bdf6ffb35bcd0187e778f9470f793297b53802d6947e065a6cd19acc912d1fd3526062f886077f4978ffcffd6a865572a00a73bc1b936d453376ce7f0c9628408175a0a388e8479ffab82c48c6696ae43a981636b14e6d2c5dd64cb1aa45a8e3b5acef9c46b7d0033451a6400b4b0c20bb50813b4241b49b52343d8accb9dd9f52835cefedc4d1cf98e82ec6f63c05816a2446b5360b6a588a05a567f184cd43abb4ac541ba06a63fa4ee249fa2c2fabc482bb8f07e9bc7e66ec71ce132e9ee0bd963d410eee64a9b4954a7b8a874731502ecca4ac13b32d0f2a5f7336f38174d90d1a3a36ff8491b87e7c36a0ef71d4333dca5634fd3f89ebc261b4055204206f7fb8fef0c0d723110061c1744fcbf629bc780727fc8a8ba7c9a9c5cb24a48d19c9f1c521f1e30ea3f0d67e605113a7d2305caf32fc8be8faf9f1eccff7a5107099dbb46ab500dc0dfbeedc5f8b8e438f95f0c2f96a73793109edbba55a128a57ad8a93a9fadc55aef7f43f29150cb890e7306a92950b4492fa12b83ab9bd54cbe5ccec299c89992760b61273b84f174c5fbf0f3b9e5ee2ead1b31e07e6dd2d8886ecae4bfb091ca489da49726f013345bb749b1051b1c1c432a93717812b6bc18ba5ea947ae8068dc70ddf34d3a47c85857379790efd1c3cf6ecaf6a6f53257854b8f91d64b1a8d7a09d071034af80ff9e8dcd1b609d403ceaf053931806d3be9d0b7f4c8b47cd5656cb44034e3174b4dcb402fa2dd3edc4a9f819aa6d35d665835c2c3970962f421d6aa110334d6ad3afdcf90221c3d28b8bd94dee8146551fd51c8dd52f26e2f12e2e1a221f15c6cd10b08dce95a144522bba181f4749448d355f817702cba5eab548236a8492c4ed15d4a136352e4a9f477c9011281a1e2bd1bc1719c17dd5c84137d9614f486d75a3f80e28f60d8b4fe82e8c003963245a8a3d57f5a2c7ca4fe285805fb04b4fad18534b169b996000e6495ce4ab33bde474b5daa245437fbf9022eaa52afaee25486f61027c9cca12f9fe0fcb2def1d5682a327bf02f62facd264cbc2431a54dafc179c4301dbf6be867248d7bb86fd21cf9898e75fa2270f224ccfd4f385688576d3a74c702d2e3c89845833d8b1ea7485591955f9c32b060fb50c386179fb2292173e2ff5060a30516ad416b4d9aae6dcfe3682f012543be2377c2f311c63104a21bbed2806f7dc4c7c1bed27c48137a33e76ffc5d360154b56efbdc1d041a7e0633b0272d7f33e9a5e93f207b15ff28cd45ddb3106e30c9ad37f201c19cfd1a3972709393c0cb686a1ef1cfaf124eec42afb21f7ccc4692eb03048e23dd235f739f94bc37e4b9bc444eca2e69a065e40473fb16ed4f30ecae23cd367134f6cb28e8f0594a42d3c1e83de2415728fd88c52ad4ef8eb63bca0ff397add626c76e234089bf575f15b88ae9c3b5add05e5e8e08607d0ac8c31e7222f28f54e3c2f27a40107be8c481ba7a0b826bdd6f60662cd54677b6211056145d3d8dc5a3b6ed5b73706a627ac28d90afd56154bd55f5f155870fba545929f48aa3b87cfefb92db659fabf583a5f63ddc5a36b0c5f6ac485048085712b5f48dba01cbec34803501f871c3076743bb0b56603906d58702cceeb1e666358094d2074e2d8ec050b0f1ff4ae2b01c3cbaf52cc71e99cc48d087b7fac189c4cd1f5fe60cd473d365a3bcd2128475ce053e41b573a1dff79a0d0c3e3aabae82c6a3822290aee7657f7acccb0a9701b3f8477b67aa13ba45f44b1744d24e958a1a137fb3641b32307bb8f7c7f36b7f952a3a45ba857e486f064454a0a248803e682ac1589ffa8d3a77e8ab366b16d9d49bdaef0a7f2d464079e7a83ac612972918f25565286b969f83bf7dc6db71aeea8bb9dca5ed28a1fce109b8d8c3c4627338fcb83ba138998ba03c33083cf15ba3fa5e0edee400b22f11c549a05de16a749704cbf65476527e1fd07b45b838ae8748245c5404e10d6a6f6396eb46c2b678f22fff90cc7b036cfb5360a7c4e2c6f6d318213038a198e3d715ef37ac516aaef207d2e540b2e62d09c3bbd2fd2c7d6a2fe4c4d93b708f747cd1777933e0e880fe3167fa69f826cb5cb9b0b0a36858211cd18f3eaaa6de387cd6e6aae5aac434bf83298b657764d702afed504faa65b9e9bc771f75152f69f5f844b57ae538146ab9629b2a694ba4bf616c01e42eef11937f80f88fb094501808104a9cc6e526749b813adedc968332c00af6f6f728be78772a51d65cbe07bfc86dc62f1448060ee20682b78eac5f41325c02803f3e74eabe236d5a0fd5e2fa689077c3324e48b49dd204e719035116e3e03a0e2d647d01a8a2967471f4d002c183f9d608a1a2760a955baf68702a8d6cc5b787f651ff121ba3749a8bd6fd615990d6815ca2ea9d16bba4acfe8607b3838001ba9ca6cd2defa175a111177c8519615f21d00909f4eb7b57e4c5d3eca3a15d1abf99e15e0d4839be81b2e3e06cbb9e7e31264b7cbdfde0fd266ef7b94da60c62d827cba54322f9f8575332f82f816dfe4dcf735b4c010098de323f682234b5e83a8ffd0ef08a1cbfc1394bba904e30b3760e0db788c2eb5d802bb8eba723e79761d16b10beef3a9681e46b26cfefb28b5ffe4e053ade055e5ccaa00dd880f1ad7e431305cd9bda8add658dc0136cb7a768cd254f9adac4cf13b99068189253b3b23912d66b862753a914fcc8e518ab3518bab87de33a6ae00c6840e6ade1abab67a533c4af07e120759ea7b658e2590839e598f2270257d8e4000b4ca6fbc05c634397d4c708e59ae744cb14d96089b424bf0e8dcb2aa538b9b056e01740191f209781db2d6c6d8f47c460b3033ff142d098bbafe495c0811bee6f038bf3a81b1236aa4d9344a05c3077356bba88d42740aa989a54e8fef22b0440fd236d967aa5359bbd4760adb29187ecb9b97861402ed8dd9958d4f56ad58a87a1735d5851fa43d4155835f84f177108b9effb7b740566a919a94e08f2cbb4c68852b691b814ccd758d784c34285f2a80d8e84920921572abd5df328e524a9219b901e75020f7fde1477e655c945dd991599cde046e77b0dd2bceff3900adff8e9a08e6f35e5ac752c65ac2ee3466911ee10de014b4e8eccb214155da26fdccea56afced769c987b959536c372e0531738fecabb268fecb8c0c197248b9362834a764211dba33580a41e9837d20da0acb4744289c4801d6afb797a86c121b4d5926f9cec5e0f8829959ad3893dce9a105aac448e712c52e1a43c7d1af46100b10bb9ddbc1d52fefb69226c5a5679152997a5e9d77c1e826e30645d9704117ebc31390ec390314623948fdb28df3ec011c01da76f694613b438606d6e2ffb5efa249e2ead8cfae83374001bf48bb774bc094da702e7576c9de1767cc2e258e24aac359de233124ca1d698fd91c81fbc0ac7eb5592f2062673346c8d6b0a196d19356b5f704ab8dc0afaa8a04187adda9653d81430796c276e12f628e504a42a56297ea52ce6ae24a07120549488c4ef47c41e4b5ecbd07a16b43479fad73493a63811b08e44dcc2f81fe29a8438fb4c5ee9f28ce5d454d4c9cab63f216ef497a53e71feac46add4660e5db2dbea3eaf8447d68d7bcae32c3d103f68a60a2610697eba022c1b63488f10eda3bbbf87f289b7770606b177db37e2906b8da8da41443bde71b6adc2575ebc070a2222ce073e546a8421b717d1dadcc00bf5b5b4c4211bb477527923746bd1f8ea24483b4d6e3c8ee7a0e55afab845e300b7ec83e8a18554a9d27a57483fed65c0071ba8ecb51f06346a764129ca75d5979bb5e52ebe6592c915e340b5bf6b1d210a1be56afa9da4c06360619bc788e46f72eb133ec3b3d6d8806e55a16696c101e5db9dbfc8230799abc43634670bda019ad5c2676e90a3f3a8a7a7ab202ca1f3a09632746fd34e9ebf9077670cb35231a40e83eacda4079d45ca2578b31d4e8bacc0aa0c7c35694278c49911466202a7a88af7d606032cf43101c87178388c53fca4a826bb28401f3340e56dc836a1c0fd441ed0d81d4e42ddfc0fdaf52a21606d775fc102ed9ff9c8ac3745d2c6e9838df55eae5dbd166eac659d26aae05abc60b068498b6598d2de360f3626d0c64d4eb8139964d4bc964d8c7beaf79fbc47b27b51678e6518ed8ec49dff03f69acbec2f1d3f0f334bce69282cd088b0c215f7faf2bb9bf84b8be6eae78e7ac0ee2566d225f0546e036746cd55ea799d5ade9b3292f830223521069457a17a392cdefacba0f29e18cb5797d27c9d12538bbb8fdc4a757811fe9010351771bc39ed8728920bd7bdb3cc232e17101175ea2353fa9ab0c7df783f84c4b246f93f0011dd21c2172ef8cced70a87f5466860d191dd6ea672646130194d02ecc692c6e9f1d62ef73fc5500955ee2bb6942c753f5090c0b8c3560117ebc859b0959f51717c99a312750373f7b605445f835472dfedb4c368f283d22bab8e606e6a585125f73f3a958fa424e852fa188d4e04a06d22ba187dc2e142ba01446e959f52b92a24025b1af56597bb241b21d94d91a40b5407eadc032168f3c164cf118cd4e3858259592bbc804139ff36b9763dfa78e772530ad818a6b867b91e0e5db357aff0a387c559ac68cca87ec83505eb8e2e03bf21252237b57ed480a8bead22e9704282f7b43eafad0bf8e07f8622d5a4495c04347629e6ba8fad29245c4728ef2c6bcfc425b2d97d9c8578f7ccb221c9c578cd10b4e55821ce81b9c9bbcc65f0ad006bcf5211d275c0aeb75bb38988ca123614cf94db53694f3708698d7b5a3d64b59002e7a8bff0ec476937a4c29204f0e11d4e87d3f93c1571f4040d97e9460c5a7c202a18a1c984bf325a9f050ad0fb716b6d4fbc1373c83e760953e216277956dabe978d1c43f9c3559bf91716c162c167731729075d572ea4980bd7d147a73f971f9ba7345aa98cd03cd098301db4867087868fa364e0cd839a0479eb8d19b554db464bff2581c3b33a9a20467e5481d4c7220eebbb89c22eed7e4a07355057f531f0fea127878aed140db5b3cf4248d6428c0e86e099948e6d0c782b117a221b6dd3c1a217d1ad5a5413d59457761a379e4a9be76a5b3c840f0e348d51f9e17d523c096203e89e0b0807b01b989392326b4c75edb69a5691944365fa2c2550fda03f31098296c7a0b876414bd9e32feb746437ea0565df5f0e6557a65dcb706c6b97777d22ce756d43f40059aeec49d90b7f7f613b51e14836d1ee91a4612785087ecc9c3a76412c5b42c8d8d9320d672663e5c3fc68ad607950704fc10c390d2039c91492a604fced3ebd77db700195ad4073e5b0e0a3f027c7c33dee643f2fbfe954a7fe9cd37ba3f1e92bf8aa14484048c968e3143011e0ae9f77c3c0569330016741066779cc3b2defd5c0e407ea4c3304f82e95c3cb1e2e5dc03ade10d7fea04ce8769ef6bc773752a3cd97a50ba88f6d13ffe1aac3b1472356e9d39fdd0d4357236fd97cf61d7763aed62f015c5bea1e70fc80d73fd3fb72fff138819f81aef3e862803151bab0fb91a523731f2545294844d8b7f13a8ad0bf4e61c81b0bb53b5e34c9565915eae3f406401bde959e231f03d8f3060f78b81e845c55ef2e7242c284503c133f3a70b12b0aa39b11d0021dffd10f9bdd2ba3f8ab1ff4adbfd731ccc7d047e75a209c0250be1a536acf8e091289bf4aee565b809b3725e12fdb20f8d4e49e1f8aa795087f4f4de826116050dab119c0cb33adf755228a090bd55f95e6e1bbfe881ed815e8af2ee3a41510327661b1ff264906a91fee3b195f5c645846c68468f0a665c199f3e81f8bdd2a6bea717fde5c44f122e86f1f8d730674a95274af0a465481ec835ef14e871ffb7e26c07def1ebb382c5c9d520d68081ab103e25572e8ffaa8bdca098895195fff8b1c7d64c87c93b57dbf4d47a4474d4dc6278d6bff13b709a0dbc87c78c4d7f1e4bf2ea178b88d57968586462ef680d63294ed136b80cfc73c9566acc50ea21fdcd30275d2f4ba619e881be439aca3d06d16c4a12de1bcd7304a1f819798cc07eda4bec2c88337b5ad30de0072b279cc15f483a511744275d00903cf8d590738f3fcf0674ffbdbbdfa5bbe70d17eaa525d926834f4bcce8b0c825ec04178329c85069af1ba066d0d11110372e770e98e9ccfcba76319c2213a657f02ee437ced3e5cb425b20333710b6305880a4905101fadeec53b9a89ef5607726cca6094ac3ee2b70e753de70f2009abfa0ea23033611e0a3c213ca58b3cf9f80386a9a4d49869acd27ad53fc0fc82b79be8096ce830c91980da866757132b35e5e23caf45a0a9ded0c5f9c46c51d2e49f7f8fc32597f07674eb939e596b50bab9d9db09bbe444872769e3dc6de351bafc501fc1e75d4532f8df7edcb337073f0838c8231ca4cfde0b9790f0eaa97c32052763672323e8480cd88ff5222e1f5be3d49108c021495e309d3f2017b7dc52758890ef0441f56c4c2c39d419121c0e50737b329f4d2d74b7a8952e2ed7849a73adc273fc7bbf157aa91827f9ba8ea300a963fcf5009da3ad26048bd3671b36b42cf607e1cc00e88a8e05e4d3e8dd133918ce52741e94c9cdb68b4275c12bb93baf92efaf1ac1de5846c4c9db476f3af1c7f20e1b5e7559cc50d52f4e2877e625f56bc9c972f039bafb3398d5233c558770d1e676e8d91f72f3acb1717566d03b95a0179f754ee42279ef70fd3c2cd598dc7e2cbbc1d2ab0c5616dbf3d29d86b813a412019f74ac3f95f8c9cf17a08ee6f1f96de8268bdf25fc9f255582da64fb9916f049523db89ddb6566dddfd018360ece2bb6da4b69f0b67f649cc39ff13ffb3b0f890b65af94ee3243b57b0e93aed34056ca65882a5b09c9a46ef35a32525992f317962989b3b3be640852d396a2b9b5e2fb6f940fa43ec3d0185a17017e80f8529b4a776f23d436352bd9397a59cba81f8f9bfd10e8628fad329df12b50912a0eb31de17921ab2a8158780ea1c4513a355af1ab43714c856b1c5c8ccf7d41bfa728a0097560c0caa65497b8aa5c4e8c8bb2991ef703ff05e2dc64625c3aba0a8538d5ac3dd7388e41428237b6068c6cf8a47c37b7f9c2d22a99416837557130d15cf46d9bbd77fe6bf547de110eedb197d920f5624828914d42a886ef600891a1f66cac532335da8e04ec8ed1470077a3ee039c2138158d86646bef7bb6de57bf3cf6428a21b715d7137c952a7e8d7cd36d9be260f1bd96d164262800c0d5091d07aaccf53a8d243901c7383dcc75f9e3d70af11375330fa3b52078397d721fd2f8fd1d527ebff69163ae55c016bf4568859bb288f6b746f2bf7476e90ad9618dbeb84d8c82b6cc21ed7560576236e5e176bd1d2dd126f604a076ecec665a26b67041647d9d657c1a5a91861bdc27e6b07ff9996849b4a73ad40cb8f85d2f8404935d45d77d5e27155bb62ab9c60ed63f39d4695f1737525efd1ebaa19afda409d86a3b6c6ad97276d03955c77b9c8c7f1864067f640f650b6f13260a726864795388f2d8634a6b20a9a6edd0b523a15a6303065336b37db28c31e1f05b83b585e1428eee1148b937fe6e4def58ccdf86e8cc82e34dcaab76d1e9a104526ee46056d0a0051b0f00404405c549f9ecc37ec1f81b2c5dc7c4947291774a2bd9ea13297f2271de767013868e8b3c35fec73b25809991a799f29c83a1f4caee0a205b662fcaba52bc34def9c5ad79d90b01ed8ff7a00f958ee9e0bbe56558bb156f0a03b49a289d775a499729acd18f6d7b422862b438d1af9c4d5949532bfdb8c0f4b6d7be404f14684eec9e52d6c743c9829f2f2062b276768d9863717b900cfaf8dfd4f732bc1dc99b2738c6eb4c04db366ed417cb196aa38854acbf354da690b6740e16c333bd53046f29cdc144c153af45fb591d76292819dc27e4fdb4af598455ccb16fdcea49cbcaacd3237745d5293f9c8f481d80cd07e11e8203df0d9bc06eb9e32d78723ff7e425cc1a8f52b753685daf14111f91962143a02ab3bcd22cc71eb5c76c1ffae45424db0dffe8ea45c33ebe8d622880a2567a213210f27a840b30bc9b5922b6c527841c25cbd029dbc3c44ba7c90b0aa79e50dc56c288e3098f494f7b9582756da7ce2601fde76c67067639bfb3e7ba82094e7788bc5db91b4f1594516b59ae334e344c0fdd42861020e3d8f9669fd7fabfe33d7be70fc7f8313bf6b23c01cc19daac98847825f11dfb27eabe0108193af8e9a4ff0be01e409b82c72c736a800875fe653d4bdeaa79fcc0d60c6f5b7f044f2b428f1a86368fabbb2a8667c0c7cee9fac060a87f2100350915f0d388bdb5a8fcafadb923de45e78f954b74fd00eb6264f46e4a92acaea73161e957e461019a3dcc2117225884157468e1e792aec6aa2d1ccbb6f61bae1a6feade6ac4cc825fd236dfdcce78131367b7c5b4160e5856f390564260bb649fc0a3a1ef6616097bd8caabf1070e3961ee96b37d88c235bc8775ea2f1077587be729d123bd167cf5d2eee6f5263dfe04d32b6c04c8d08126b23252a8f4b8134325a27337862dfe20a432673705543ff707f71c3d93ad2137b86f05663973acccb1a7f06c8035fc20b0fb54cc07e3d33a8814109a58d56a914ee759eceffd2bf26b6411611b8485c4d02e633ae40ffec15f2013d74c8b8f1c92fb9d7b0cff6cff6c232f03c5082ac634d1e38498645201842d599b168e325f75c71e23926a8c7e1cb7ccd0f9407cdcc4f08658234bd3df22f683625a8d163e3fa4b52db123191b93dc904629b6121cce1f94816dc4f77bd4172f3fac1f9c3c2d3422ca67da5adc720709172dcf86300f9ef36bf09939930f477a20de876fdab56a21cd416c2346fb125dd4e1dfcfc7d130f2274e6363acaac64aed26a054dab49d251045e5a06783d95f6f7268ae717578c049b067c5a4e504545be7d75d7f431887d766405ab9a1f10a270b9537e00a78730d9f210afe6ae400489a1cf804673964e38dcbb505eda8b0122595ba854b79ff233264707f5567b0ed8319b4f29e83e907a5e237ba37b639be2e01783da790fd05cb83fc4f17fd10c0ef150131aff09be231b942da385796758e23de280a6409e333a6c787d5bcb284e336f56d010bf0a602a8dda55a6ed7e88958a29ffe3328aac929ee27d9722a2b1e117b89240a558795be8b36b529fceb29f7ed2cf0b7f39076f028d43a20eabd6013828db656f08db6a659ddedc8d2797fac91ba9315758e4cf9a0ca97c9c8e40c65a8f623f4e2d8db5a815bfe08d012779bf7e079a867f11c0a92d226eba47ab1f8903e8712bbdd62052012213f64895754f58902f6e041eaa9416ff0461d03cc99ea3d748343ac028169eadace60642557b074c27a9a04d1ae64f349575c038a7d877a9c856df08bf3c6602481757305f58472c0c02c9585687dc1b6203ce6dc6538615868b4272d6eccd824ae73c1fa90145d89f7d54f8c45bdfde99f0e02aa072a04c8a18f07548f679bd474af9185737096092acf866d53a9eee96357cf1ec2691221161c918c4864e32e3ea5b949e86d23dc72b7c64cc95327d6bf4233aa2554a454675f9a8942e80c9191b5123f76edb15b77efd4b5564b0385ca8a4c24e6e8225d963d4caa9819d4f5414af4eb4da58a6215f5dd1bc6003ddf577493955d3290f94c6b608a4e68cc66f9d5eedc018718ee16cfb95e04ce38d32e3b5d66b6f6cb3bdc0d27cf0faabfd2a9bb04f80c044391964653c177e4bbcfdb5057d34682dc2a4650eacbfddcd3bb92da8fd4c08754427bc09372b7557062d8a28101fc6b044c04fe0fb518f91f3227833b49cc514175444d72571edb428f6dba38ce8a7f7aeeaec2619e18d58b8e98ee2adf5040444f361700f48c1793c5e1b1b5289a0bf11c105185bfd008ec2d1d2c3f4f3d79894622c3d84113ea00abc63dbb3a929e9577407e7233786fe79caaf5f0f371330dbe872615f2a13ccaf6e9a3fa354e0e7ea55f4f67d25dd65ae9ab4ece8f04e43263536850f5ef9968ed9746dbe9a7dc0e42cdb89f779de27cccf4277a3abbe2c42f187c783bdbfa0ec3527aada271ff2536386fa10bea7c9e5123565327bd3ccddb687fc73522480c63c66f23461769fb526f9de4f7f9cd6471bde4e210212c3fa8f27b7c4ada8dee1f970f7f363c14be777cd4331fb28944d0adddd309929d0f26aa8cbc664fc51bc460dedafec2b545e74baa7b0bb476ca5d149ee00c129457e695f6c23982c084c8feca9de7fc4631ea7a285e64fa4d76be5898afa503c9e2a34bb61d420f466de595ab10d2509dd0eb66a46703369a489389176f0390c7386a97fd4151923c0df0b63f5d58d8a747b75a09d5f02b3c934f2f3699272d511b1d05f7aa24819212e7c86bfc8d2b49cd4f4ec6159323e2bcfe2aa52f0763847516a8bbf6f8d04a739191fc169b95ca0cca5e602772e3881a62ae35ce5ba777433e230383bf39c0ea0819257c68b2aac88c6ee1cff8af6020af687ea3b591ca862a8f83a4a603db6190a08cda63cc97af42dcb1833306a6420ff82b67d081b4afff0a56b7f058b775b53d46c19e5e16c22269ccc561e0420501e8604054b6c621f662561614f155986cf466bba40462d68048420b879a874f47c2cafaa1ca4ce1d5b330dde38834a320965af99624e2cce9497b6d38835746a46dd42f43e43fa4e97dc725b3ab91dbe0ce7d3139eea9f2fad9acbd44f3f513ad72f330cc1c9f1d214b84ae0cbcdc9996bd53a72ef1b7c71c011df0252bb00e5fd2ef2843d35d6005b1fe5667a9ebc4802dd28d0646f83819cfbf6fdab71051e93f68dabc9bd44bd228fa6969acb8fbfb2854237fdaeb7ac5cb0c584caccf449fa4282458aa3df47a972816aef35d58eeaaaf8117837868c712043aba6279389bf98d07314f8d7ecf0f112cece8a7af712866fb84b3bbd7652164cf07d7c60ac5104f6ea80f259e2e106385c1b5e285d677c8193c2773d2f0356cfa4b4cfc05df338536679f31fb0061068167e5b3436ffd2265481a2935cd3ee21e5205beef8edec52132d143ad1a98dd8bbafec5f8724ecb3130d3f55f6dedbf0fb7b9c8d0e2627f7e0c6e9264900e1230bf015e8e0652a8dcb9e473ce0971d75cfcd29f362ea47e800dce053142926eab6d7c729663c170d053f9a30b5529168044664e340201c79ed98d58b21f402fb9e2e95e4f969850709c6b2e5c88ddaf6abb60c824062a1e162502ea9e892d1006fe56c22c821f6da159bf54486fb12dec268cdda3ee81c92c31d6835b7369215f8f2cd00ef66036ff28264f230116acaf77411df892747f5105a9398cd0433ebdb3b8bbd4860e90b86441d482c597d3dfb8f1d4f61c3647450a0bfc89d130c354e67c3bf82f8047d941e466aa9a34428533161250a032853046dd307726c2bc95766570a05994848ede9ce439e6b4b0a3a1508c3a1688da744fe09a97cb403d0a00df27982acfbaded65764cf3a363f865ddd657350c6d5603423e87b0dc0400d58f806b7d342bb70da1f8e60a7a584a3fe36929ba92c2c7a07db12ecb3cadf8e6a88ebbd54b13d409751fd05c31ab67f780c3371e6588a6ee514af90544dfa06eb0c69979145dcc7ce5a1914934f3624414fd3882884f173eb343facc59701a4528570aa59c7179854d35115cdfe479dda8d079d16c09e1b0625e3cfd7c8ea1fd2e6fdbef7940830c53f2c336daa31d2b9b4db6881bc8d57e11be63c7dd5dda7a642792edf0f896c2c87729b582608ade64437595a4a231907cdac557a3689d4590451590f4f5df5c7a30f4cd25977c7bf010be0483a1768ee2cf10b27293f69ed5e682168b4248cca1eb3dd2e46732ee320d630cf7063e002bbe482228cb92ab3cf683dd43b8b13f9abd0ca3fc3f73c1d28ddf35dd022b9934665e743e518046e59bce63b26cdf41a65087632817966b29f5b555f91a1995facb6ef7d517f31bb44c54daed099593ef456b187393255a053581961ab4deb0e7ddcf8b8f802b6ef7a2d55662e33406055315088e946f689ed2673350bc3238104a10b12477a27a44b561972d7df9fdb1472b5f8efa6df08d98691d18c1034976d8610997f4e1798a78d95fde3037066495b33a5e56efae811239948787d885491f2be2baeeb4fcb272f60c96654a4aa28ce96b9c0d09f2eca5b35f43395df4e21805729b4e7498e7e9c5f042adce7246e33d4d4742ecb132d2d602d1fd1204c87f3d92c2fc99b0e5bf0823d3dc4c7c57d41ac849a7ad2cf945277f553d26f9b98713bb15cba2a5e08784e577069b98c2b3e2ba988c454f8b285087a933f67accf64f25382e51d6721a868ddf9d6c79938c2e500c83bee6b0dd3ba7c38a9e9b91e15e301e1a2970ba84237388cda3aff58a14ae3984900a86b51d5cea077bc40b10dfbdc568471f8af4d50245ad310f31208e694bb597415d00535f3a0d9841d297770e71a86febea9c6119d43bd2cf2bc012b1f75c08c307da52f335a439748cfcf30b59ec0937b2b84b39cf64b9ba8973cd01bd29402da12684149f2d4fd7844d6568a0c7d25a4141f7811c0312d205963f40995ffcc7b334808f797a524d60d99b19be5f32aeff0a0268cd34fd6060a7e604fe018d5802c0fa66634f1cbdd5dbabc9c089b5c498dfc5e3317d44e6296ffa45e40ca8b2d5779bad384ae16a325cc837b75e60edd8a28bb616ad123b924f83764340e9d408c9b81ce470677aeceaef260b99a5f24975d81b0825897b03750e4f9e9f1e486776b787265e67fd445314dac487d36c7bf632374edaf19bdebe1c350519f8c5085f5dd89629b8e3d4ad0e8f30fd50363da11a555d9cc2b7a2ed7256a67bdb9d5ce68d7db23b1f896272ba190244ab4371603e5d9f71d4d9bc4ed2065df07090d0fb2dcfc22c6b80b46ea83998cea0055bfc8d6121d5540584de0f860859a582e2cd95c19dc9abc6ecab582115f5d8eb88c984ea1ce89a545329aaabf52f430bea79e4ada9b8ef7c19e3c39563cb4ffe5b2187847bf1d0134c3e1e9d90a3984e9fe9169e2a3bda8b8bbbbfc6c0474d5f9bdf97d9644824e5da700c4f62b75d001307c950f19718be2fc825fd90622a927e2303ca56ff4523d2177800dcea00e06c1ba1a5b5a0c5297abb7510ca93d2d59fa2aad7c55a0d0897746a7d7e220de1ad82857cc763301c208e2b19cf27dd3dfc38522691ad8e87cb7825d57871ebca602039d1341c063c7a31a36c119b166ee244c46f020cb636672d16a1006bb8efaf73437161774832bab657e3d1eaa20023446fa00f25fd8bace8cbe3d54ad1e0f66287307763f0193d94e363e7e5b7d8207440e5fe44042ba3a8950e71e770dd74d5557a7034e9828f7b9183f507591962a377b5707cfb90c85bcf69091bd55e05bc3f1fda86663e7bfe8d3150169dfb172c6c920f7e3c9f5220253e79c563ecb1f463a2d9cec52f061cc8661094888aa33ad2c59c3bec07d770583c934d53b3cd37913e51452af92b2e1227fd9524eae73db70954c1099e99da63a551b93dd209f9168ff71d749b644cddc5e4bbbf7f93049fb41f6dcfbbe2213eae4504193e2041bbfe024575847be56aaef9b755e9a00cab7da3703a44c364fe3ef62526dc5dfb0d942f2af0529624d55cc23f37eb0a4ed925c91167ce4075e58835360fb7fe867aa82ffbecee50956dce8423f3e31d3b19f77ce8cd0c7da63cabdb26e213050b7a4f8d2fa34e5ee731fbc932ecfdef9bbff8ab8a5024fc54e2345feb4ddbc65dd1fd66f5b68deacb250cd4d2f372c0d0565c38324ba7f50d83ead826c9ed7a1320a74c0350718632af29a01174be91f14d764da3fd74e8c8db3e556ac97ea03a870005f90897c01d1a18a1f8ca8eb69f1b85cc67dc9140e9642c46ebebb2edf88a853e8a441095586170206f2e08bf6e449a4ced811bf2c84e56e9b10dfbcbb8903d5063cf50abf0c13a54bf2e128eaeca18d3186c2bea4b2030098a28359f49937bd66a4bf136808f0071ea976567f873b40bef979ffd6404d0c1d0c9b3af0da516cf1da04f5bc0964b7bcd1f947f6cd648a5dd0733727432185224a6aa2559c80e9c33971baa9de3b2fe24ecfaddabb22e39d57d1ad5005a90381d51637421fef41e4608a35f19732fef8d2a5127d3c6b9bebdf9397d4bb6369c9b14a61095e40bdbc8fe54bda4ec94283ec6d5924e2e72e1db701c697b19aaa5a828120c90f3780cda9815fdaf59bc30e75a0f8cd6bdd6e2cca75345241389047d9c1dc1c66f69c3704fb46f0a023c95bf6b971f9cbd45959d9316c88444e61f78a5c15d1c18435ad0e61f4f6b696d5c11d84d194c3dda4defbe2ac3cc3429c6857d6bd28c81bf424f3182f7e48ef5fe7fce05727989812692a206c741ee73cbf3dccf5a82ac4f7ae39796f909b2ad18ef511fac89131b2ccaf19d97f2f5113ed9b0d00c7d7eaf16216687f432d8f0d761fd329cbc1dc0ecd8c2ed49c06bf6cc99888f27175d87df84c82a9d721899a6e575facc183f0b7cef2a23dfece90b7fde92a2b950823526ba311ec616a488ccc4e3500dc473ed2d7b25c14a4e359f0447c119ed9fcb32a5bf8f392a807a2c25d0b2a4b40109504ea44a8e4dd421a400a76d7705db069d1249662a5450888483828820ae878f461b632c6e198edff79f639a00a59c2e565f9f3926ca122c1247fe7b3f075d429ba3956ecbb064d57f4cbd30bf034401e3b2edcd42abe1b367c962f33860b00f43d3764df26d5145c0ba163b31f35c196008acb0e4cb8b639280ca14f755f852ce575ae95f12f3f484f6c86da61e6be69bfa4e35e4b1d91e5cb21c1205cad5191fbbf197776f1414f754c1e16cefd84610607f6fe0581e7503b8d9b76c0b0e9b6ed291928102f00c10591a14f7d7ec8170dd896369437e65b908f049a5839d1b82eaf65d27eda81be5dd346924780973d12548145b1bc55282ba2dc58b80f8aeaea3a58f9cf273496d3f720d8d82ae1d894efb1a0756b106d02a9c5c455b3f7cba8b9af84ed0639a29c71e0699bb0fbfa7bc8e6482a27eacc877316fd1b140468606f1ae414e1c0ac7bf80fa1f195c960f37b8029018fe49987c4e86411b192d17408d79f48fcc3981a044e405492c82ec73b48e31159ed443bec81d45f749e8aea81a4d8e64971364e3ea3f647306fbd8c93244971b6c674f7ac2b1a58259781d16ab83d5ca74357e2bd0bfb20ded4b4ecbf5421786d128821e4d76aa229194e4ea4fb672ee1d299d74c291bdffa1d06ada4ef68ebfee61d27fcf9a61377722788ebda2d923c7ee1264ef0c9f3245556e0fa4973a32d699babf58aba2cfb4b084b25c016a299cf674e2e60b882ff09e786192fab6f9ea183868713fb3fda1f4a0c49491c0562dc2a608de73e63185f69bb4262b21432cb7caa6c88e32cb5b6a8ecbaa132261c67f3671189896d8e6f92cdd7c5898c9f4aea6a15056192999375e97f86fe36fdecde10fb5ca761f45641beab020c793b55c7ac44c1eb124fea07b24c36825caf9fe438f31145570f2a93ae0dddd681237dbd3b2f912030828a0b4f55ecb466565cfe34130a357634d38211fbbffa18b2da2c6878dda2c1ae4f943053250f413d83e6346e53e1c07a4a2f8b7bedfd02a51fb6293e49ca7c53621ed58ed83398815cfd5ff20b7c5fe86e4dddfc3842367e0793ec23d474241057fb086a820ac6bf6ffd422e6dbfd279a209bba77f2f735621732a93ad3392658ce69af03004337ba6f52266c6a1f7399553bfa981903a25d5c4cb610d3bbfe8efa9235760abd2dddd7f76514e05c9440b790807d8de3f093b095d76e9124cabad7b8600cfeb0985fb09aad4fd303347b9ddaf07a8f22fe4e900b0dd516ebf65c90147bd59b451af90d455c0f327865baa7f995ec928f2b41495ba8621fd324d382018ae7977b16608fddc1768c1d20b014947f41272d3bfcc5fb28972546e3fb220fa8372905b99c4bbc890dc8a7c54fdcf7a05eb9abf30516902524e2a5bae8480c96b6297aea01b9c73d78ed82ca301d30394c1704598ca35555b71421fa6e6bf56dbb3a50ee01daea1daf208fa56b279b7cf0303d9999d214394300bcace5436217926dcc176dd1a510ee8d92491c5edbd6e7ae733a14d959f4ad9575bfacc68684d07dc1042e5688b16465c63b8b9b9257b74345a19753b40c55ed7c225dde5a2a89251a0cfc39ee44cc538f4a9f1d5c1cc3d5efc8dd196ec3f5381bbf01e4055b74a93e797edd4624d2c7cccb80ca66ffbf226ed66bb52690703711b0257be64e8b5bbf1113a9172a40e23672694ac0b883db231ca8e67df87aa624462d97c19245b52908990ea57e2ab7a5cb1a56f1a3561c5a63df1022d25bfd088dfbd878dcb4c23d14f253f4a3d929b5887770769c1cd72fac9a2e94be79b7314286e2aebf49cf348359df7b956eefc77fed80c18fac207fcc3a2af5feca5fd3be0a629995bfb9653035f3c3b4854bf3d8412e8b3ffda752d060","isRememberEnabled":true,"rememberDurationInDays":120,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
