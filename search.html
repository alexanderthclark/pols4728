<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"58c5161368b8c03e6d98e35f1690fbd7e50604091a529ecfe95ba20161bccde4f68e4ced854c1da58e20f73dd76cf2c316dc49a4bcb11c0a9f93d807a6ece12f0ffc19c4d0a3383e41445aeb62e64cc442d3e6d7928fa049d6d740b5cfe03818a097a07e3bad530c0386ecdd5ef665612a57fd3612fc4249a37aac52ea94b8b125c463202c3e9c4428e61501af4632cd8621a2ea33d0ec7959459d6446c5adb8f760202dea35c9972f9134d7013a082dfc2c3ab17bcf106b4815fe9a078e2aeb681043a076786116a7c0943fd151c2640ecc2f19eaae87236c159790515b825f4c10beffe7713211c5052993a086285feb09912913eb8559f618b5d99409bd86d3b4449d15a245ffa532c9e089ed55691a5f10f8961ce72d7cefc5ba839a18ccd47cda58a45064b11a4088a3c8ad03b625ddaf5922bded4d3442b98ef12ae8ab6957266764a988208cb36810ce11b014377dc85b11a6918f6b2704fe0fb3aa09c618acd2d967a1cc1c3dcaf8d7062df058f699bb395569d3b27073d1e2410dd012e6b0b29f0a7a7b32449349601f3ce7ebdc44ae4b01443550ff1a7b9e945ee8d3746d9a23441ae3caacaee09149d739def18867d66448418da24e4305ed487a34546a15a7974357098b65e2aeb94666e6fc07a0011080a1fd7755954635c171e2b9356889fa7f7d087b665d7fd13485fb14d62661ffe6a76e55fe5c951ef070c03f4d1613e361b9c2fafb0dd7d1565a51352b830edbce774886c441def95104e5504d26e8fb6dfde7da65dc5a76d0cc6818c6cfa969723971111f530b58d09d67fd9c2a72789777053d537beb41ad032ebb1d864b7696c2c877a107995c60371fed3312356fda08582f8a19611c23a561d11b9dcac828ff4976f762978ece5a48880e9b1c43ec8a12e3895b535b5ec3e28ecc264e52d27ab193767f906b6ec30b9d6464ca654100931403e2ff7dbf604750f83884317cf4e1dce71bb9d08c30b01a7dbc7fda729be5589a2d33d76a7f28c3c5fabbbb93896a8bbe4bee37231ad430ab8b80a4fe2dfb1b748ebced26b00dcd07fefcfb01f004910a894363bcbe3468a12ae539d1ae4712131b024e7019e3391a53dc7a7cc8ad60c91fdfa493cc253b3927b569e6815a7121e9c83da669dba0059dfc1a710de4fb4ecb31c5c245c7e67f88242f5b52965e74423fc28146720261f50c9e1c5ad540e8b11861b678ac2561096e40d70c0401a675812ae6a3bfc1ec80edf1b3bd542b6b2d43113ab04fd21f7809354977f4315aef50ae29be2bd01d429d9221c00520ac4f26fd8dff06445ee770167c7919ff06b7605c99b5f26e68f5656277fb919b9e6e086685055f4fd1fa3fd235fc42c54e0ccde0e5f4a4a9f9c51a7770852830f054f9b550fdaf79f55a3908c14b029136f66243bce69dfbed14ada380b9737ccfcee5f673d6f989eb0e1846546511454d11f3d7a74348239a6b00d47c303e07d9a1b34a5d48a698cf9f89bf4e8bcfbbe83f2cfab053472224daacf351bd116c94518f4f32fdf36fb91c9936e1e498d8e4e2d07691da0fb5b533c081fe389caecdf561990b97a15ece70ab18215d3157908c7042bf804169939db3ddebf6bb71707b979a6a9568326773102fc586882f53ceea9945c112c7c12e890b408779383d76b2a767b9900b7886ad6566f8391d4aa2c66d095191ef178feceb1019d84e294e35b015f5f17696791a5291eb1218f9fcf85887d435bdfb975f5a434e77281562454887c9661051161bb4e2a10bb72f9db53d37190754aa604ddc089b67c8cf3b1916ef5daf71e8c4e2ef14d1a7c3a91e4b1299c5dbce608ee0a0739cff84372d2440a460a22c9552ff716736ecae96dc8bd959db34b04c5030b66613ac3465a678067f7660f1d0c4ccb88a1e44b7aee41e11d3380293097cec66a9b390426845b20a3904e4e684f2f23104abf99b3bc4e1ff16d5862e0a147f0572ecc3737175508b3c6aaf753789058e91535e747808f3efcb89db8f9a0c32425b8a472c040e4699c1d3580f4d2b3a9d5e9279df18e7c7f0db88e53c360260110b05fb3b1553a34426f6b621a293cb568002b26952816c53adba4bfd0b2cc1a7497e755ebd46a3fe114c41f2838fc0123b326bf1acf2a117f6ae90d7827df24f82bc08eeb84cfa442c6d05198cd9b2f9478453420bf632d4a1197ee17b8072bb59af8c3cc621156c9226da539f73d647a825f7eacbee3bc4ca188eb2721124fe50c969dd6682e68748f983cf76fdf1c4b812815502c8ef59330916781fe01f54aecedfa167d5edfc81fff9ea956dc4144768b602a43458e34a6cfb97531217c44fcd99ad3c0dbf9f601472c454eee85772567842175722741b1dbd61ea3c9d25832cb2559e86179cc7f5859f67a17de0ec8c418caf961a3e5b61107a70b69b04426c64c349e903027123840754befcee35df81a72f11e7d60595b13d06a1187937ada8ee25193cba15c629bb9328e2774b63743fe524e7ca5e7e05598ebfd5a312d050a562a49238ffa17cc7f65cbfed29f467d4e63336e5ef6dbabd4a232d355da2122bd856f6ee9c12989b00f7e9685c269b650ca416f811f30ed7500421f6f687dea24d4e8602f152abffbea81f13bca5db09b4d0d97a4a8d8ec2931df2979cea2865461e587c58e0dba9bac8be1abbaaface2a633ef0978df618e51f3a90cde980b33df4645e4721fb8f76a507ef6989251578cf997ef5cd095025eab5f2c25169262a7730a3f27e9fc0eaafc469a57f267c16de410d8ecdc1d5b97ed8a649d460edcc4e97fad7d895a6e4ae74d24920eca56f419700e1627af3b05e3c55fc776a64e75a92b8063e5e3f8b1b92daa2efd235485c6cf43e322311315ae31c68bb6f16118e64e13c703ddbe9007b6e304fb903bf1585b7b14b53d6ae9f58503683ab17333d04fccc62764004115767ab60a9cfbd4a31f62883803435c31c7dadf0e0927707eb5ca29646fbed83a4731a670410ef2e14713293ccd47288f8b0fcde4e2023e94e189ceee1649ffa1a55aa71b871ce4838e09e3f1c09af1cd23a71aa7abbc169e19ecc34eca8a77e756dcc747d825eab0ef006d81e583243465c30eac87913f555b2a277724ee8c108fffb6e0f82d116c88f4e91730a423fcef3f4e2647f4578a2d841aa108230cfd2f69e26faf8d7d784bf75b106044013a721d3ce3458ac69d0fe1d2f0db4ba1dddadd2064521dda0dc544f590e0268ec48a23b13c13b5758e35c9212bdfd46c10f9044c83ac2d74df168c54a631c0e530f67d5cb36dc8669401e869a64958a35df70be6af4a2251eed45e2db172113ca4250bf5b8fffdd94a3cc4ad7749c542af47c69e7e042f4b97fcad68e90725cd4cbe858d4038bc2027dc7fc831820e298e23e525da54f9a1d8693f421745c21f9245f7e2560e9b2e5739d3715f4cc3d008b72e1163dc0d5d71bd378fb0f35535e231adf8bc4ae95b407e3dffb5f26acf695151d599b08e444459dd5d015813b1856a9f7daf2fad60aae2b9e18310b4c33bde85436c9fbeaf2aa18b8848b0f11f673179b870e7904b49d5529ca1caf6327ceec30abbc39ef43b4cdab9ba41e20a884601b902468070359063888242221b68d20375e7c1da6aebb5b94cc6a1feb9a544401547a55f28892c43b2c2896493a5fd1358bbf5d7bed76cecf6d89fc26370128e1fc038b4d4aa72f1bb01a3f7526624f0cfe77520c6f39ed8481b1620da9ba6a9af7b1ac4b28783619648fe97a64d1ba0880b896c957d6e632fb643a6e9fc9d39d3744e0ebec9206f34716ad3555241a122f931ab15a723eca1cd44ad590f1d99943727cec64cff9c120e80c0cf708725b436d336c23a87964952f83edc5754ac7c15ddae913a16338e3cea414212b9e51bb7f3fe908295482068a9c6a48570656194fa762a07f19357215d1e3ecd5c67d36dbee6da8858f8b1a4ddfe9806b4f7aa17be3db7d7d77130df16059e83378f47d1c704d2eb89a1875e619751184ab66422dd643a69a6581d7f2751c65f176048e88dc1c78d886a5b732981fe92fb4e8bec8fb681f39fad892da118a2ddb9912362c80128a52f633e3de5ee5a85458445208181b2f5a80f0a505f7b6c7966b785f0610a5ee0c3fb4fa0d42f6909beb4732e2f86ff0f9cb4a13b4f422be8e46999996ec12e1f9d5e97914ca0a85fe270b20bbbfcee07f493271f8040863b30987996ea6e8beb898e6927909c8f7c08f9b38c08c6ba58f0edbbd73ed95aa4da548611b17f29c52c01f1a41465a4a774fea7d45c0506abb56c10cba8ec25e11342b6fd520a7de2b9ffa5eb2fbcaea326864135a1eb8c3eb4e7a60a03467b69f4bd76101bd4d1ee4c2ea211a7d78a6342d2a79a2d2f7c8b6949e3560f2396ddced28aa9bafe7b840c5ce13a4400c5d719bc49bf74067cfb17396bf9324d0ce5c11f4b151b1f887125da5c2be15747924e41e9fa7a4278054cb86331bcb080423c50344376d59e49b3f43f3da9c189647afa6b934742fdd126eaf6c31765a8cb241d4591907a57c01f29a15c073377843903c67197c384c0db9b8698073868c6c4a41fabb27c7083120885dd0172ad678a15c8bb49c47faba46fbf132533b2e6cfa419c282c0dbccc820bb65f62dcc9f0f1a2bee56810549daa14d516a069cddce21723916d77591e44913dddee8b170e19b9176209129f943f27978a3f755ba390551c6b827294dd45351178007a361d9393692816f5d958a81954f085151aacbee3650841fb434a4769ca09ba9f8c71087657c38a390dd5d8094878fcddfa786e774ccfe55899678d7434b860e91342a2ea8da16de1734cacb6cb591c0312cc502ba7a91409633d192207adf0cdc1c8130e30f37f25aa98a043a1572216725c68986ec5a7fa31186c7eed9de6f8b1601c2e403a436cdbf288828695834f9d0a0c819ac759aec36987fc8679b133fcdad7a12d4f0e66a4a19b4120b584a1ee841daed32946aa280bdd7fdc26fdd7a9b5134c4ee99f33e8193b26b0147e0bd67e47aa58a70e839959336b35d8c3c4a53249e305c1888a8139917952d211e0035e0b1a331249aa9dd3fb05283a3bf48f468da3fd8201c8a7b248e24c47ba31c768234aed0fcc74adc5e93393d220f5aa587fe2f73e0214839c4e3e0f13370822ebbe462a79b110af0080f70bb1ddd1fe03b08c83258c96694356c4cf5548a1d636fd272beefc80f1feca94a2b76925c604f415bbf3e53c315b477d42c499ab4a66723db397d1ed588c2a05bbb24479d53dfb14c11e2bd25c852aa8e0cccbe38c3bbb943a10cb807085ec5d7c184275d98b678fdc0445c78bddb7c1e220257ce8d39aed4b646a591ea6c6abce1d60e9582e36f009804dace9d56f81286d2151d76f2c71cb42ef7a40ebf9d4c77a510d4204f60fe88e88df2ef7b5122d6fd8d1cf604aab306d797cb564c796e2cdabb60764c52d0b2d39b95759b005697dad90fd2993b33125bf56469ac80b5d1a3452d43d3c7c5787eca0c15a1c2adec00a073904661805522285a839f5a9c0597801ad3e0cc7cf0fb27eb2f3164af1a8a3cf93c9e9c7291f520e2df41b909b2a0c579312210a5f1ad5762034732ebf4c428cb41b74a9bd775e35a421cbeea78db3e03a9695f5ae883052390dae82f1abbdd5704e159573419dfefd0925ed8769e7e80703cd58d0d58174043d77e0eb30a8673b4163111b7f67f7cfdd33d56bf4dfcdea800af526c6e0f98014c629fb1fd1aa66b57ea1e267a0d74ba1899db0d342211ac687e5a8892c0a24169984a9159469f616226fb2276781b94313847f558174d8ba18d698ccf6d72111699163f392586ffcb32ce452457d13ff6b4ec320f816140936f5e02a0efbdad880938554bc8938fbb41a0fac9c6a4092b11ab0942560f528fd90b6a1eccf927ccdbc2c1aa6faa0c93c17923088ded61df4747045d9962e164363d468ba533b22b918e3ab5bdf3760a13ca2e8c41dc013ed525770b19fb73b20a113d6735835a6e9b82a1a73b4ab4ed73da5181c5127a48a47c2ddd84cf669993587cb5fb2727b2afb93f7b942974f3247b75fb9a6162511515b6d720210b40de1bccb08962f1cf2332c61b0f87a0520ee728871d83ad47cbfaf35227eeed8536ca2d1e62a7f36362eacafb48f1e2e33ee410896fb8daf9e016daaadc84755047d8a0ad63ee5407e0c9d0b933c338aa362d6cbaeae0403721ac203905bb9b1b32eec109cd784277ba0db1b378122bfc793d808f083373358abb39e569e6d71fc286c8a4607272446d6bfd433726dc1e0ff4e31c4d273be7298e56e8952302afd8005c86c3b6c3a70a64c036dae9d50bf785713951e809bf50de2563809686b51c0a56744489d2649140ee219f2462e7c94ccbee655a3bd634ad15753cbf0d5b7bf86ef601ac391d776e71eadf2faf3a41b475aaeac150c5d9c2e515502f8258a6cd3795c7e5b196ccab477340c7bfb47089b0e19fdbae287c5f24ea79fc293f8e1bd886fce2992a23c713deeb27bed9a010e2270e4f5720d3729e323f023360fbc1eb218c7f121c6df3f4666c6120dc244e1f045491a17966246e28ac0506d3ddd9225a9e249bb98d4530b266fbf76aa7c0084dcbadb3ec36de486b586dd9d1d3b041589a99e68902201e9916e68407f1c666cc96aa30bba6891fb45e6562e29b8db12f79aa3fe9c46da5ba7441cbe626a186c084772b3248960454475f1349070ebcb0c1faef1c12f1500b959f91908350ce5585d86b6e1cc38504638493d6d4bdde310e80d147fd835836ac6a81757c6189075406ca1d2cc5bab53dd3478a962f316616e459d629ce30fbf1ceb9e3e17d46e6dc1f8b27bbcae0d0df8409ae659f919ba2a504c2961b6e700238dc15483026f7a2b371d705ec1b29a25df935b7bdf327065819261ba44f48a0da37e411580409f4f2169871920edfba2568fbe2bf22d7b0bfcd30ed1ff6decd714f50db6b2dd4c01d8895fbff9ce56d54f4d638026713688587086e4824d5acf75dd974a0b85e8b623163e9c00f3c73fe29fc1d0f66ba5ef99e45c355ede5f4d71b63f35785f69681e292e97406e4a0cd5ea65d902e0d1afd1ac0374258296d920344a532afcd8cb39353c7cd213e85a271ffe89797cb21a82e741a2b8a558c0b0fcd50745922b21f737fb938a9e72f4cd933d387869fbe4c9afe8deaad63a44b340b68651253f210d50e60258691ee214bf587752dc1e41b6c6d370d8530fd5ac4dd1c19c4acea8c253fa87d152154b969c284995f31556ca44b7bd2776c055e7e1748d9e0fb45803161210968ef31d6a98d177f758786f10e96067c27e0255933652b05385d6ddd6e2beaf9f0b4e5412bf71d6a2dbb65529c5806217b0b32ce3d8088ff9803464301938640ec4f81235124b56801bce308dfd1d048f2e640112a3f8f7e489c90d763badb6804d36327f69b6fff1ca983202c2cc4d11c3df2f17b0d5b2bf6fd679a1a8ee5affa6a3d2ae023ddaa48d9b6903f1b867202b4975b55fc6d13696907caff9a4bda370bc10e2069d4c6d0898e936e03cb361cf2fc82468ff9c303d6adb61547904a9051700cbf19eb3eaf1a2aef532c97fa19d24df85677a9d1bbbf486be71c904355ac76d81c0a90641e3d9785d7c66d3c2dd8723abd3ad4d628632c18209638e051c500a1aa096be6ca3aeeb47e164eb984b42998c3aa74ceb0686838ba6d84342c755ec270b89fddb8cdb3d0a13d58941bb6123ceb187ec45f8adf13a2a033d5aa0967670ed2a0c8e8251dca32f8aeb2d4c7999209a805c730d7e6768c46ff8b9841974cf7b97035cc20af457851d52c512e24e307d1ed8f0d62f334169ab410ff5a3c3fbab208d46eeb2c5378418b8e8ec4f6dafacd5aabb2a7c35fa879423bbb5cd1bcc229b7d1245335cc8a66c5b8415432e07cd15937e743f18b4d9b1665da7dc69967c52d1cd83a5a50075c4688a9f72b8714168df38d129bea9450a4e49aed681a35615e83f4115a5e0c8e7ebf1ec32793a6c1f923821ee92798aa51fdb11970ceb4bd1fda04e889215d240a152dd5469bb4c36a6981115a97971ac9c5fb4bb7a9e88f8527ddbcb95cf5b72dd4b985fdc5202b246113e8f151ddb375335ebe495809d003f0cf396bc85b538c1b3db97e23512d334d80eaf9597368e80326e4d0e4bcbfb3d34366c79aeadc5a10801ef8b6704211af78ca057c07e65fe76a05ac80b1833912fb92935102b641b3c991274321f3fbfab52b0f6c2cbf4e1c9f4ec6c03d3bbf9d7581372fb0ceab0255c018be733ec15b5b8d9401a5cc366b253d4f82a84e8aecaff352a9f85ffb7f5ed86cc256521d01d752750353c085b933f950b9410b3bca864cc0340e881519cd5a270eeb3d80463e89e270e980e90d281c73ce89a0c0342bc08d3fb489665bdd0d2454522145c65a840e7ae402dacd556420c1f8a32450c68b0ee79a0533895848467c57ab913e75d5d1c9542b6b8d8a478c8de440528a5c76c2a98950a1793d975cd8d1f6a891346acbce18a5b09f8e065711cb8d5a1faca4255a47a36ee57ec15b0406a71de5398c397ef55fb33a569c42a9fb6a31a23db93eb7a84bbeec10857d7daa6721e042af3b3fb1b52ce9085b541f9f58da7e0eb6ec7fe43530c76bf2f64162c1afc3189140e5ed1a30219a37fd79d65c2cbd3ea926400466631e8a9031c86fae9ea66eacfbaabdb476286d1993771d50caff40346b8ad83a7756d7203fee4fe3b1d19fc7da67551b095502b22b87171dd5549d585a197e27ad8b6cc5552dc2b787a5a7b704a68a034bc83006214391b58fa41b4976f69fe58032ec3ff13870f6738c847060dc31d64f753688b8dce6e870e30c469abab223358c24d8abe0b4e9915d84c6f73291c1aa4dce947ddcfc5dc4b5a39f15fb54153cab28a343a3368b8152c6707f31962cb695f5fa23f838b8ebb223fa785b58c48d872faa830a7fce38b987543e3b2a90583c776877e67923208d085ecf2ebdf5da32e3340d18935b4a933b481f2f53892f25619446474d120628850419d63714738e78735b76f03a6789f1614896f293a1d74830a17dd6522f103634d9ed6bd2c1426f2b707d3640679f72bbb3ab680c8ebc19f24243e7c106173e2290191f66d39d7e93fe5cf755564380da27d478560367aa2d793cd7194ebd5a93212f9f5a566e6e409ef97e74335200e6ab37dc3012e7fe1cb227f60b439a2c52c80f7fe4607b6af525ab97e4a55236a1b400521f141cb4a4785e0654827aba3cc7f512d3141928139d053ad33a696db64fc569a3ed9cf42b808ef7326afe32dba189e70656948beff3ff09821110b041ef9bb93ef752160f8c1aa23e9a6f380c0be120ff65cd00b1356d0e666e7cebaf14d2951782743e351c193d5ebf3102ed70fc248cb96eed6bbc15d3fa94de9f32b7a763339a5af6f01dbe0415f4aeb89a812c1b19c5420a9b6d604d9670aa8bd913fe563c892c6b7a69ba61484420974cb57c3d3435eb5bd8c298c078834907fc2b481bc3dde2a748077d44dfa1fc9091334e7fa40ed2128031ff8ff39bdf8f9c62afb08e0e492da6ebe7516b134ff0c39ff445efffda870d6704f5db8a0877fe7394709db37f9faa4f4987e611223a09c015c1312e12018af969f25ce355f3ddfd04b62500d0e3ec6e2704a57281718d4de39378b8e46969ba36f0b92a0dfe3ad8a4e17157ab4723a3a3c54a93a428edd072aefd44ff6e72bc4ec69e8b3f11319cc4e61f1ab3fd3edeed1fa3cd81c8b452f4747d299209062015a2d98cd9f97e8bdd1f6ba1de530423f6f92ac83ad1667eeea2b8aaf6a7c611306a6a0791f4bc38b39537dbb863dd8047e2692307ffc4b88e50ace27c0617586325bff6d95698cd86171c51ec09c0b3853a104ac94d5f3aa6a743274edce33e961ac6c02009e153420e42724fa945a510df43e2accc840d981042185f3eeac21e2d50450d7f4fa183757f1bf127915c77c508e13a940281813ecb52cb53efeb959596263ca5b014c857742012205be9a5513214196f02a8678d3c6db26cf6d70d356be5647cf45428fe6cdc09e36d50edd5e4e21431119aa542d53d874d532c68c4881ed590c4732c007eab49c127c730fc9887bf624856210ee6c47f7e199341e002698216396fe854a7055b58014aa3911212c61b6479818b5d5a964dbd74e2d3987123fd4aa4a4ce1bcb3d56f3a28c564e322e367dafb2f5599dd2b2adac6686aa27512f477218e4ed07b2ec8882b340383a7c6c30023ce64fcec093043a901dceadedcea97e127106d91b7cac15913e992a2559b12a1f2e2ae1cc687bf1b5925405a103722ff0f0b27b02f5b401c40c8850916b211cb19ee00d8ee30ffe3de62cd744d3b5f17f0917e4bdd999a31307b9254ff6a26d7996fb7b501fbf4151bfa55382a590b58cb6f6d159638f999bce93ea5e88abbaa072e4eea15eac97a43b77915cbb52f2ee8b783d93488921467804163986c4185bbc708490f9d9e0bd98d1dec0537cfea317deea522a19535fa57607ed42aee703d873ea37be20c2a942f04adc35bf175af1295c94fe90df5e7023f6b3c2def16d9ead0a1da53d9b111cde581a0c003d757855480398b73d90edbe8d92ad54db1d9c371d03673c469d66e87fc349ce53a62a5a4b7719ada836c2dfdddfb6b9d8d2810a52ca520610d7473b5cf31be66b0e4db612e028439fcfd5240df51c4c2dd6fbb57ed2cb00925c72c6f1e37b5ccf4f4bf2b8da2c4d0bac84e16811282c813a4f6de5bc430ef918d7bd561fa4604a2f8ec08c47b4b787df188881563bc793d100aac03c84a970703b8d6f8a1646d9514a6ccdd51e77462dfd295f85db7f370ad36a5859a87ba370986585910f5c7a2a2a6d98bcf0a7bfb418604b1a25f96335be4f7513062289e298e6e0b84198b4ec64f75c41c2d3e0b1bcc86cfcf632f85de0e13033d703b08abb9ffbcfd09cce8e6e1f6b622ccee5c43ed8a3e9f3ad9d2b5242b65d4b549cf25198da75d6fc9fa9e5d156e00c48bbb1586c1a325cdcfd245ec8c4bf9ba7b05302557c2de70dd3bbb501b9650f65438e2c17483b0e263dc4dd546d258c64a8fa08bdc23dd5b51e71ffe82c78a907800bfd43ce7fc0f8c0b7620cd5560befc01aa380902422e79ebf27ded1169b05dd8657f57ae3fb403b92ac462b5adb42f8a8eee71a0121a61a52200c6257d667d32e9bdf527a6f227f02812d1184a6969d93223c5b0b5f8315d11239ceef85b5735acfb949c01a2f913f13d67b5bae97a45f38077d365074a6d3d4074d88919d16a22fd4fb80407d095d7c36bf2279c0575f6271579246003b3c2468c7b706f07510fd12817f840c81cb73e82577c2977d5a691cb0a4181b5f9212f754854db7fd178cc386b19758e5302b57a9eeccf9e7b1b98e499786a2e39df8c4d03d0927914d772bf25bd8563e21e419f257b3912ccadb7f9ece9971df907bcb76a4e0ee460cc0a37a446690926fc6a5bbbbb0393b73b324d0918dde81f72c45e8ddbf20626f11eb4c2d4f5bc63ab95c477b42a467e446fe9c31391835ab1f8fc03f582da6853054c7456935903c48db53d25b7d0ba1acb8f9aab1f47706e82d19da4f371117d7959f8c7fc71ebb17c50b196dc460fe7525d0709046c71f24c08a372230fc612ef38ba6189265be820537e7976e13ebc3c4ed2b9edee48f99199c37cab9f7320b597bcd33442ab06a991e668a46d8748458bbadaf655c2a06032fd35a7f58934298d7aa90bc584fc86da6c172807d3861aea0cbed24384f444c6553f0fb20b67a6ad4d1f25c8f71a26808f2531b8c9363711c56660e54757929a7f4c44b6155bb2febbcfb03c222f89edbec5e571807fa7a724b053f60f7dd4352d204dc49265d8aab29da6b4072dd2174be8e455b8e9867eb0774e5a314a4e9540bab5a630c601fb740069478bbfadec980c6d5aa0b179eac58bb55ceefad3a11dcb5fb9faad835ad6b54113a42e53dda4712f0ea9fa1b670e6c442b4fbdb8f3cf8634402a1691a77af686040d16834591f179721bdefa4a5eb53fcd92f0afed3bb50bd24d16a3abe88261ca396ed3b8c420b4b6464e5af036254c3cd03df839f741c2ef0fe4c07209a8efb849e5bd0d6c14a6748db6974d50f8dfaa6cd7805118fab65fb5e0ea1cf4b7e38f945b375d2e078d3f865fffc1255c4efbb93bde4268b367a29b94837c862c228ad35ab5ba9f1a662a5e0f9c2c547a2855779a786a5d1bfaed646e6a96582593b64be526e6fbc428b3e3f62ea7209f3e499eb92a6886499f85304c38b7b72065c085e9f9f3f7eede0513c2db884d81b7cc321f3e41e6dac6bd4d2e93a4da285bd66a246c41a0f2c2aa156a83867770093e8d7bb074835a326d50552bf9f0c98a967716bece77fe83b997c6118eb39fe31fb585a9f67d9af3db032feb55d7092c89bf06b9785879e9d18521b5cd68c73a8b5028d5df5be95c45ef7aa8006af3461616588a9b514cc869e6dff388caf9c559a8c50516b663f474dcfee91e31e18198d9b8f615ebfce74b6796f15f931afc4eb0d0a282c656bd2ddda963907ffef8b2c7f994ca0479b46bbd55d5bebba977f8738f8fcda0da164d94f238fd4dd55ef3d3d7d6dc1ec77c329ff37e75721ab1224e8d895bf2dbe5861dc64cf5556437e15240c8ab96d6e41ca0bb747dd13a4c7ea6a8f95dcd46fe04bf95f8c59eec587c289f669f013ac90cc00e8fe247df62d3bd906e4d34b93c48a24d738bbeccfc13eb509c508e2b17ecb1b4c49e81e5b60f8134f8e82732c9680d7548601e177dfb461116c4452c0513ead6d9e4caef4deb5aa85c34461c100cd6d32406d31cb5a7c768617d411fb5ef1bce1a482911f640b850ec8c5578ef13d492ad57bc9fd16662e564ea68d69de8e6c8531e8acc2ceb4ac4a121cdc97cadd2c32732ee4295601bde12897ca3995a8b1e64cea9078a80ddb5eff7e22d2d8a1229ac7aa9bc0c945aa04ae64e541b7b83e3e1bd63639ac21779ca779f15b579385b8e72224ce752031e077ac5c6b0ef5a0abbb68c8f7ed78b57aabace171d3e6dfb2f0de5dd9f01180ca24475f741823e273cbcc6afbb7deb6864d0e4bfbaf6d379f4f1d4f7420c399d5c726d76ba02352d7fa455863d276e32248cecfa12d9b2e9b1a50ac0769f81aa3de07b6de5a8730a0d97ed12b3780a1875ce2230fab1fc877949226e6702f0273434d41387d2ed6fdfda3c262cf46d64a739d6a85fb2b35bd669172757450f3be4515bdafe99a4c2b0a82ac7b4a5c52f036ce164fe8b3f8af745175b006ff860ea5f83e12437d4cb8f6a06a6a95d19d9c38faf7d927cc30eed5bd3b1c95bacc1770e0e9dd573efa36efca1667c4761ed5dcd4d7e05515e290b87224a2e3d1ac7b560b28164ec00de246cf0234bff9752c359b580662fc67ee1155bdbc30e68241ae31aebda23ec7f9d6a1aaf1f6c5369f4a3d6bbe5c40d05fa2458b325efa29bd6a1ca44b4d380e1c1b2cf602d4fab132cb9ec0d7f2b1e5825945c78fb4feefe83169486b80e62cbe4ab5959d29ea21a99bd3267dc8a4bd3ca18d8fb817e2e2fe0a334ac2cb34ffce30a629efe8a983104a8c6682299e69444abb398212b3ed0299aa806861b598f7a484d59ba6c5b90d2e8aafb493b07c42f4e0c5ca12671fb0566be5e72ee23b0ba1f2129966adddae8bd28af6bf5a10b502c29161c410d69aedde1f672a5e67de876983923675064baf4fd36924ef6741001f6b1c3c345439fae8d729eeac14a814a316f012d7772c40036008320360e5f78717a80f2069e431eb8f01c53dad7648e74c6ea9bd9760c8d787af1bd911d11111338844561890d3d2796ce5dcbeb8132a3ab716819c21dcc6a2bba9b48091d31e612060d8c7d3ef543bc98a15b34e8e23e3790967f0de6c6213c71a0d73c6dcfa6ff8010f8df6dd842631942e908af488398ea489c330e4a634fa62997615acc7370863195b01a325b972b3b3eb54813786a349433e2714c1918e93e887f02c3b1e9fdc6be87b45e78cae938368745fad5d1dc4139ea78e05d7e49901945391a08173fb64fc9b9d46040403c95f03ee32d805a7374d81714ebf8b876136ae98b187701a06aba6fdb82e894d758bc2d595a2bc56d543eb3ceef8d9e261da404e8e7c1485fd1b231264339e3f53925dce5ccd063e4aaf501da1624d45afed07944f98dcf34455d01b67623a2939b65e60cf8c3cdc0bf7e814500d05bc790a33313f05aaa29ea52a3e1baa8afe4a25d337a11bb3a3408169b92eaef9e526140a198fb4cd90b586c81da513d4468eddcbac8e153334382bfec744488a26920fec680fe66aa14a0156b9d54b147970a95b851cedc5c5d36811b715689918e3bb4730d9e24239345c4852ccdda9c3996342de333227b8f24532a7364347cf5e156bbb17f3de851965b78cb622563530cde86c430abdcf68fdf873b72a89f6a5a34ed78091eaf7f8123d49db67b4e5bdb1b8525469d464b433b7a7d9a6f90c0b3e10e49049ea61f526427e05ebe98d9b3d0689f7588650d330c399a18e026fdfc29f86a830f3309c1379c6f6c8dd69d573086468b94312b0dca8b3dfdaa978b0652aba152e8e950599376b1c9105dcfb7e41de69e556bda1715e1f28ee6f5d3e9c54f6d3c19b243ffa4aa53489a1a48258b802a66b1465de8f631726d026766d19fa952e1085705ca32c08250dc9d8fe468c9c7aead2bdbccfec7661e64bf7ca3540dbc54a152e3455f2001628a780fd804ef15c77e7295591211228f4dbdd4f5081428413965ca515f77cd3afc39eaedcba72eea58e75d68ef47c8d810ab68e42c8de5bad80ad24dc45a9612042a11a1b7722d6160ea7e2be1817d57a4a058ad284bb6761c0e40ec600b716841b479c92fca0e15fe98aa4e76c54efec58af53819cd2738e2ea2e5667f03f9d05ef8f188da85cf731790115bd02ed52b19a04af9b07e80d1d56772ca651f217b3280e6e7e4ab622912197aa985564c65504760f8a13c18d5147263afd169f28a6d82a48e87875cd40bd77021ccbbcd6b4ceb617fa9f953096c64f5b9432016a24ce8542c33b8797cc1d491e81f07b1dbcb0df43dcf99a209b0e78437e2d7b3e9157f7b17b55938c81b5c0a313cc5e33ec9255f08a40b08c64bacb8cf5f25d3b34f1de4e8a1ce33b69e2f5de0d0da7c82039fea853cb18c3f73f46a26089eb43bc08a306494ba2fdd80124436e2017a6ea3c923d05012296153828ec7a62c140d3ed38a59961413f7f590e56a2ca7cc1acaec8e728c24d7e56a023fc3e481094a8faebab07b030d2684ae2624ca58f3e12bbab577877848ad5f144f6a931e1ce0457e7a6a2aa5244b056144bc497ae987a16ac7939d948acbb9a159a7fd910d712b6043808039909d8cce31b984b071c24b0e58633776e3afd2014cffcb4ea6884c5c0518d246e73d7cb7d5955d0d55c11912aba4d70d76b7f10c4fbe13c1e11b01860d33e98a52ce32afcfa62e40cd9aa6cee9cfa3d28321b2918f23e857e78b211e11c6d2f3d16a36a7908f8cabd481af34a50578919faf04896f950869358c60a09b56c1e03abda67046d57691891bc53cbcb45fc719433830d8b7334058120c50620bd4ebe835a267068a4d089c92c6e4bff7f6e0d04d65622e85313694dbdeb371f7daed22ee4310df3b8174e935b4e44cc162e2455994ea678c8ef671007ca8a87f270c2040113e20053ee7e60f121c6c6354d3f8217878a9638193a2bce66d8a847cca00e6dcb2be6d1a71dddc2e7b8de965ad57de39ddd40dc579953aa143611a6f088bdb60f394d2a6fb418791535fd68cf8ecc46202d744557f8d81d340d5266e3586b4016f597b89f9175cf609642704307927538ce7ceb78c754c048ab36c08c519845552e2ea1159267919269b8b9ce4ce1b1338097cabd31b6f89daf716c867b57908c666b773055ff891c541c4dca19470975bb6d01fbf0715940f3637af77d6476f66ee77c15588318c1a1464c4d0b3627933ac2d5507d75fe0772f0fd730146e9a3be8f7990891486c973fcf6fd05333e9704f8fc656c76ccc773ef3525849e7480047df207b9e90b19e20dcfe001bc10ee03988c1ee42e6e4408bb864ac6cc573b451618e2bebc67dcffaec3757c4df133445c33ba0871cbd021e89e373b5403bceb2a237d6f789f7a358ab4de52c153f341cc4591a5c69cbeace5c9f6ef6d516442df7df2ec0a0c912602b746b4564c61b88573644a2318ba50a80608f4612a3ccd37baa26c23e0bdb71a96246902c1aa32284ea6a1b4f994032eb85c527590ad287ed97679e7c59b6c4b86e1e2a95b85732036e87520b013acf79221bd766ab80f40e9d421b57a1ab62e03fc927d19a9a063061fcf1ede9886764146640a709a53b15864b0d7f2119da1373dbaed12649fd9b76517655df5b160522183c3392a7976219d7b4948e314db1bf1f032c15ce8be5a8bd573303c1dd63ac35bf98366b9bfc0d92ceeba839ca729103bbf747c81f38cdb32b3743a9ab2d8f42ede576827a111746298a0cc6fcfec94f312e044e2f7426317bf8e71c153975ce8ed7bda80112b9e67a88d84c847ef629116a5f085445fabdb8e5fb5f5cb9a7bc7a35eab6cbeecb94308e4a29fe8c0db99422756d56fb3a2ad55a9b0c11e2a3ce7110dba1f33f8dbadb34d46ffdbcb4fc5688a8a3a42bef0e137b357c49e461fd01622498a6c923ba7d6084b8921d941d1f988ca8ee60442a7ace385702b2dff6f6b2e63c1e1393b11bf2fe6cfa985e862c461dedc7bc342c5d3fa7fbcfbabd67116305eb5981c56d70c976ee62c52c1f8b7a80a19394580451a606a7b9f3c305b323f171c1b87c30d4665e89ae3be933d74ab3d7149cf0923373187f503d329302f5d563d2fc178f0b1293f47b32f9a87a8d12de1d294543208d2705d99e5a6aefa7a4587f0d7c864c617aec80a24158c161e4aa72228aa19928a5a1c70d3669219bde26769b094545a2697660d9c4a249ffab39c70b67b4f80b6915dfe62e3c88688069d75b643808c2e09b0dd718c607706c43d88bedb80bcd9179537827d2735bd6ea03eb58f5f5974245824e70c25ac62f0e027af41464b93058a0443a01610e7a3cbc81e2a62aef001b5bdc5cb3fbad5f6002e531d86182f81397498538d89ff479b492e6bdbc9ce03662390313754f8b09f64e48ecdb275675ba23640e7534a8c1026bed1e04611186b95aaa23e58bbab62689161886dae4aae3e3b17b13a0a23edbea29cf777b4328a847c2948ef5aadf4b7621e0714b84875f7810bf9b2adf95c7799caf42c7d87dc68d42057932aefc6f4f66dfeb38d6296710e2236863f1ae6c6352ebf3caf568a3bfe2b68402601f0391813b06d5478b784c0a99a5f4dc12f495c9892c6b02f0b9a08212cba45e65f12b770e58d653a1bf09f5af7ace56fa778d05600c488d0bde5f6b78b3197e47187a6d4bb63a7ab28d420b06b427b691696ebe4c6627dd8000817de2cca256a51c5cc993f3803dcd25f91d4a0fa365c8a7cd7c8e7a8cb4c0a1fb901a6e90d51670e5dc897d0dfc1ba9c1f7618a527bb45c2d035d8a97f3169a251941ba66beade179da44744094ab3c6dba31cbbc951505888ad7fc7c9a3bcf9183e3ea6529c53335f3c3ddc3f36ee13c32bb997dc57e0940917b07ffeb91946bb898b7b9cfd45dab2a8ca30bad9b757f89189a37e08b654b0973887ed8c6fdb76a79a0f1d76b60626891abca480832702fb7ba02e573f258e8b65825b3b47c3119231d18408e7fabd1e4a19215e0b33f66d68d04b8ce6d614856956b20fe74af9de4486674c9fa15b6036eefb0784a5d6f95fd2d86c586dc2da6966889ebfcf3a659158e780cfbf1d355a37b5a05759d9075f5feb85f3158a4d8f307535659477525fe3b67c07b9f7ba3811efa0b42db827f0c6d8941bf800ec25b2c3b153903c0a9817edd559c0490a9c7a48624c1eccd7ced6fe0aa9d17dac970efd7156f94b8b8dc01a61675ebc43397b7af4c2f1f6f5362f4f1a3cd80a5833340edeeb68291d4f3c5280b062f0a91c6031e09bd04651fd31b8f8928ec1f12d96cb769c91396436a326fe0fcd3e5d04ae4b099c33ac353c18b020df852b10ab81e8675124b334d565fb3d8a8880ee6070a69a7de4c1a7b201df9de6e40c3b0dd495ff21b47fad7ea4a807ac4c3b52ca7762046aa55a4bd0d4b7e011064502d534a9f534028c9f402542847624e83fd6fec744aa7ac6c6d64d47d0602e738568751b78d716b4fb22cb534d6c4ae20c6c343bb900d42f135b7dd9b2bc4e68b7377ec4f6bb1d2db4d5f59e1da5d5e5829448ba12a4165f093d17b7f6b6b57a686aaafe3051d164fd11b76907f2cfaed1ad92bbe8be5ac1cde2a4fb81150c9fd249cd57ed375aaa73b2e04e5222e3b0ec4a61119ba045b94e96265cf5fe9213ff15790b2c2ba9e079e96f3fcb3117627c7cfbd22d1ec2b3aa143f03d8b8f84b0021346fa5e855b5b5206910a15cf35f0eca0690877a39038d4fc5d40908bf9808e07e8213715e9c523b673e4b015604658e0086e001cc3fea56d5187a736dbaaf3489a3ac53afbaa170f56922c8f71069c37b8f01afe3b1cb8392a7706ebb613c24415a68f4e336fe9312bd5b6ce3628901185bdd328ca4e41ca99fa869acffcd826c07883ded1b8bc8f1838bcd2fff638b12dc62d06b8267fae4ab1462da2db6facd03a79ece16705e20e43e644d1008d37fef2e97ae7eebc37f4b3262fae9314830f04d203bb3315b6bbfec982ced6226a41f09e74124a05a17ea07cd2dd167f1900dc00e9e54cc58391f03466cdfb69398b4128b900e56f80d7cb83ad90e06b4a568fb2e32893fbcee612e90822be72fa4f5cc0c2b427a300bf3914ecefc217879a043b9f52b7548cbd87629ec8fb3294c072ceb41ae93ea54726087afd5fd358c80b0af68484968651c1f222ba15c26e11fe6ea9250e86b9025eef8485114a49b14eb7e0644841302f10e0572003b607737b5de288331da1b4e4dd1648c5161553d08a280e0d44f191e867eb2c4adbb523cfae4b5c68d71df67ff9e3f3baea8b273831136f35c6fdb3d0a5efd0d0d2fcf2bd4f82bab435202e3bedc49e06621966987210cab5a76d8e66da65be0fe113948ebaad4266fb8a035686d0abb4d12b3fea8a2c9e20bde4c90f4351728b84ecdda032e01f4fdf00d7ce0ccc3c7125f860083295959fbb1a11feeb6cfff3722329a8fe470cb8f3076fa8a63858971f3805ca0900780cebfdacb81b0106bba50d761d2c819ba4e4486cd8bc3c0ab5deae4c30d237bb52ec8f902ae51c8e228f7122e260c7cf81719c8ef77c66972175a4039e8a63a8445ffb1e6a40424355100c4acd0bd9e375838cd5c8b7de45cc73b201792a63eb3df7b1010a2c893738112e59726165b93eed5d3f45f1755a07d9f86086db7498e68c758d579998951ac4ea3e1af20d3b5860166ef912339fe5747cce79a4a6c11ddd47794c8f7f6ad7486dcd7dbd4ad4e100fedcdbdbf9b4d67b95fe916c356a115416e8f49007005a5e6d87986178abd05e8b08b43ac74f542f3cba64724596e7d7d9fa8022f776e017abcef6c09330f3752869969fe75a53c905cc1fd2bbb259b76b5ebe1f9138a22ddb60dc42f7cae271ab946e64304c1938f4638f80d1dfdc2da85a7b763f360d35aea0eaf86b41d8b1eb44919fb9918cbbe9b9f572a1fde4556b4d6116f2f17aac2fb9a5fb24c49438fb4241dc95f4a2affc383ef8cbb994ad31c69d15876091e8a2faf7b05672788e95ed8aacad3224cffd2b5f2bb256430d5a63b0ae07f9aa4a4e2dcbdd2c1e64f9562e909c15b8f3d5800664871449ac42cfd9208fbb4aa522ec6f79b36be17ad86feafeb441c99e8c025751b91a2d3bb85ace86cf22ebe1f5ba1ad43dcc2350046a9616333b27e6320c2ca47bab30affcf8b125b09152b7fcc27a667ba59a656e2fe35d9c595cd9d745da4b40ef5ac2311be213897c6390a42ad720cad63c68a25a877ca1fce45ea1b0b172eb3e4fdcaa4fac3879896aa21917eaf9fe02cdcf8dbc73b9008955c629851afd0a749c5494d1b510c30f7156be9d0ed6ab94990db0093b3f10f857365ae2331a748850c7423e0cba4aea759d67f406d205e799ca8c0b699d2e86f3f488044604842e738ce75cb30ac3cbd82d34c946eca83b6e1ba2cd21e33b031db49fa107c59738c725809ab0348a0f6682fa0442438365dceeb239c1c15a16e8d84275c6a7a1ff2481590d9149b5be248074ce2c55f139fe20e8728231798cdab1d1f373207dc1ed07751e95100522f5a1bcdcda35a91f89fdbbff50f015db8feafe3e1b55b4f02d3a5faa03a642ad3157f13116e50c9a55c1a2453f102e8f3592ce49694bfc4b617c509dc217e504898156013e119bb144254d4e0b481e9398eaaff2018b1fd4617a948440b7a6dd45af541fc1003712252f7ba0a3600cfc06c42448ab967926827f9e6df397584ba680a63646bbec2d262a497df44ac00a4ff4b747142f38563b13b6fb57c71a76efdfdb77511c3fd4dba2c03cd96433710e80dad2a8a65c910a5a2163687e733ee976a51d64e747254a9bda2ee37b5c26770ce2602f294e6f55a0c461b86ceb2fa3a8b008d8d9de4406dc268352461ae8715f64f0210c8653292b7b1be29532dd63dfa02f72bd0d57621f02e29ea987663b20213cf95","isRememberEnabled":true,"rememberDurationInDays":120,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
