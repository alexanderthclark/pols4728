<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"08a1a901ab6763625b1f6a35b93ff3d683531c3a43713534fda290bfc94cbefa1d7d06c304f9d95f79669152ad0907a0de83171d5f9aa21c2e0f005b161c288133cad8190ee4da204a197e03912fb113e9a129bb7c4e4eb2f30d65de253c175767b99531e8ff2502943cd817ecf70ef5adc8b62bc878526e6401bf45e69bd5f0337d8bc3aaeb61a1c3e37001a6a7de76eb48daff0f366aca737da0c17e3ee4de3439c6bc77675062b658584ac7a995753278be04bf9e7b72039782e256f3c3eccf2515afbb343886aa090551e7ae3b61420d0d44926593fb8d1b200a385bfed6a93042f1691532758a79339ab5ab1c36af62baf482e44a37141d46f5c2a65ca94d9b8e7d99586237d15805bda1114f59680693a70c0a8024cfc456fb2eeec29d5e90dc446fee8496d5fa7523cfcb1b63a6101873890bdd6372c8e76a1f5f5442fca0af0ea17e8f278f7237d3ec9635b2ec9b6effdf20d90f2d120f590e44c1a591ea76ddbe55523d8c0c8ed044fb6e32e3595d30f7908569ca3fc25c950b26097a9848e8a4c4f3637110cf3a709230b34eeb0994d49cb70df43bc48e4534c532b7a49649ad9ff70b9388b6497311b09199114ac3cbb704e03b3c09fd1c1deeeb78f4c087e23bbbdfd5fc9269ae5ea9697410a3488295b96d762c4ded26746c67ee01c5bd5df625416502f07fe5d9e25f0c9620d5db72eed86f4a95bcbc06037ae043a70830ec0bdf35300b2af52c047bf27c52fc7e99e87a9e01e281c1123263d92e90ec015bfd591235f40017332b36a25a1b4ce7558c76bc2e6de6cdbcc08242b3556733fccd7bb2e72dd0d4557b578c117e13663e3a3018fc63a81260846f575958451134120f034c256d56a4e7bdd6aef9a9a3c96dee390e3e53ac5a20b15ca106bf666f594ebc9552b7bad168d745b13ece11dd12caad6c55659815cfa6a4591235fd9db2a1fec59e2fc8701f12eb43b0143bff6dbe487534f805354ed4f95a64fe2912d74efb664bdfe9478215e1aae444cf6a54840356ac345a48421a7676fc0c968b3906bca31b7637066b4f52f9ec79aac282cfa2a797308c116130e01645dbbecde3f7808936875fde24687bdc291aa58b7c40db450181a647096a7729ac3ae99ace1e6c6b5bb376f29eba8e0f69e18892661d4e09d5207e01145f83801fc55ea2b2875a1c689f7942f39ffb48dbc5b92b84b7a88d07b3149229437d234f68f3213a720490147633775302ac307551ca64b3e538aae0d01531e11865e2d4f22881e7e3c28b3193e63a831bcd6dfcd8ae8f90981e3fc8350a6bce9d73fccf5a1184f8a0b080a7f279687bf994b4aefc4d9a6e4a7ef4dceae61100a5c29a791c6f3b5d730ce0380ac91ed0e7e17dab9126579e8b02083c10f69d0687151b7d5a0c41a461a380367ae9725fbc5caf00c1678d42cfdffe6ab6194ab264dc911380bdcc9df1ffeaf8ca478c25b4b23d2d9635f9d34cc0723f6b5a00b0fadde6ca2102a2269aaa6520e90ffee61e80f7e24eee2c6488cb571459c6d166c9f12c7ced59f0cf28596b5d9c7f9c037cc2738b49bc1c5f48437d9572f70964608da2c3d5519ed6c648adf9929091629cab89412079a1e86eaf646d9ffe0ae6b9dd141f4695d5643ea9eb8ee7d38088b91b4fcf6d006b2da7d82088b6352e7923269b8e8a5d6f57047532d625b2567a10f445ad18d8f7bfb16acdfbcf15d366a4d0011a6dffd8772879cd7807da6dee7cdb86d1099f009b05744bfbdd4c1e72886271452285d5dc4a6d861cdb71710771f2a89c488a21ebabf77583c87a9881f455794fcd065390f822788a1b02efb3fa0cfca9d81c9d73056737795da4ea5c1b1d2788530cb1e71cac66e5c941cd19310ed76c1d262fed81bd0f09179d85df4e77c8aff81ec9c194931609bd4c798a1d739d5d7c9c9f08c9ee012e7d67af89f139d5ae0e8fdbe9c326ccc958091be90498fc558728553b8778ba3a857019cd8849a364c629ae2e2242f6a45b3836b2dd843cdc3b9f220da31644fddb75a1ee579b01e233ec615f10424db50e45ae74a03414a7467ca3e91ff5729e6bf24a89a5aeb469ad8447dedb68d2e209ef35e8ec80f96fa36e4a32f7751c906cc429f25afe540c967859f258eab8e14c992d44b5d563b61d97f68d5cb27b99f5bb2e0c6b92680a4b1139ba609726e1080a889e54fff5add98c93080a9a3f05528a347237bcfbf93ef778cbbfdf3b6ae1fc9f1d09457395eea7fa629a319eab8f48937a206699b3aa52c573852de444fff1d8abf7351f4270ae3bb8c73174083e1b583d45c31dcbf9e51379e30d89ded6dfb2702e3efd770ae9ff512f1df4108f8107b03095ba231caa424bd3c8e0704885136ad47cc25b366952f55b89d170756aebfe82989548aaefdd6fe36235eb34f206e70b586722c5bca383b6cf48dbda6d8ddd71481aae9ebec5749b5eebf0a4f5ccf205018c0c0159a571ebefa8f54417fc553b789ed43a9355450d9ecf0f5e1e62f77fe8ef887b89513aa50d42348ed47ffc1dd7375b8e03f3c4b43cf3828c7eb37be888a5541b67f5cfc9f3ab1ac4208716ccffb6550cadabaf5067e97cf4865359447d6cc689b2cb13afa1e2be6539460c4097d16e52981c83ec71d8d7a64bec7c0ec2d484344c1105e55da035c59e1691c0fd7b5e3e9f20294447e7b4f0aadf6db97e47dde0dd2d66ab2968b3803fae1056558ec7593fb0b81d57b599dc83608542f34daaa5562a41bca088c87d7d3ac4590fb578baffe90779e2613262c31f265efa4c44a53600ff55e7c89b56f7c668a89b0cbe94edea11bd48bb4642096db00b2bae2a02eef29522fb91d1d0ffc5b63c686a8a91334215e706fe44ea5d77edac64c544eaad0d5a701b80705671de1148f6c7c8f3e168d2554224e83d65e416a7d6cd26247cf7d8e40eceeef2e2d5f8c88bd90a979a3941368516e458a7d460bdac4c65100f71608059ea58851ff8d6b779ae3add1ed4319d8556c355462e7de84271ccc046577c588e19ef85bc7b75665e15b712f57e12dc36e2835de46f899d37685758337bb1442bf8a3f9a2748dae476bfda7addf3d2cbe3291050bd2e590afa2f1983391afbc151fa52a9365b399dfbc155f363442be5051aa3ea266769fe30684bb873643b272bb763ddaa46384930aca4fbaa7855d6a6c6a278d1ad5633ac3652a52554751bfcd3262a961c25ed9d823bb377c665932e1cddec32eca421fedd4b9022d71f2ffe951778b22a353b3bd1f8a555af9c7b8db3928bdba58f6c83a50f90459a10084318af034d20c23c5e244489c40ffec38f71a0d7087ed310f424956d26662c73fc131f99de01585564fcec432f1be0c40efb35ba86294026af679c3ddce426c227c4c9197384442fad25a0265f6fe1278a5858c78a99c7386e4a2ca0c16b3e4263ab23bc28c6f421787b30c8402274c7c64138a6bb9dd34fe9c6a91971b6821ca56505a46f836c1b5e012a6fd042cc6784a61e9541ca24136a8801358baf7ee6bd00b455d90a6c78d6b404717d44ec8c30414287eb9c9d1ef9865d38123ccf953a5c4fcb9781ce7456bc56bcb521a834aa7c353ead8dc2da5192df5f344b130cc8d2d7b62bac94c149275edb4b687833261fffd807c2077e4f3f5ff26e89579a6b5a4a3bc8c2fd3cd70e26dbeb2a0ab297d8fcda969d2409f7465ed2f14b544449883574029ed5072ff60370129f6eb82d9e3acea9f31342bddb522b9b62ea0be8b26ef07ff7b533f67d3b93dcfb19832afa2d0ac6416f469f3b1191e2c62b11132bf6a04ac8baf1d41d687900fbffd62eb4a8ada49410c1c2c7d6833c88645e29bffcf3674ee1c18e1ef9f32197a3edc20d5f18fad27024f396f02f467ee1a5e07a5f4bcb75b5feceb5df1a8732b5aee270f8fb1a3117a5d79df1d8b946069d546d36f0fb8fdf49237fce8009386e247e6828b1d20b379a1d1209d0e3fed9820072c74d84c36fc6a39b35772daf09cf3b0ab96cbf750718eeeab68664442c794572659942298c1a53fdb5c1dbb3446ba921bf835a441f09ad9c84060a7551c22b9fb7e9a47d7da02bf687a4886eab8fa783060a36e00c6179bd028ba817ce5e0e9161e597557fd2483d96efac8fbb921f83e1754ca7ac464aa1b0ed26749ff69d97bdb11fe184a0c91dfbda01509a952e5c0b379fd194a32564f2d76593750fb60cac1dedaf6af6025703a3c6cffd41e10753ee2ac6d1f716079fd70614c6896529ad5392e5062b0c0989c44522393ca04c824bdf46308e394281cb9fdf8d899a9105c1595ef22b4b8329f3144d45e19507b1e325891d7c81bc3b593267e741efdcb100920cb60a32caf9cdf26b5332a8281013a7054344ddfcddbc8cc776e20361cddddcdce6a7c24af2a3a7b4107418d6a718cb720fa8f542f6afcb167c7d238515b19b37e8ccfb402409894bdcd3b0c35d0d235c01a834940da4171b9767c9ef29dd0305068ae28740e288a8093529e7e9d2c109afdfa09236a6c66c4a3b14bf2f6ad4cad71da3933db315d898f715025525b5a50ae32df5dfcf0a42033e3e81d32b11717588ca8d1e4a158aa5a0631ff3fb5f1c2b0f0c3fc6afb0247445df501761097fe7a6a5f67854854b38253009090718a5717cc40e8895dee28c733f5a7ecef99f25909cc8106c3d545a56afc2b77f5541e8ca68e3e0af6a91a488afd611993d9be4a2b4c60fdb8f98f0992c50d1411e511da2ac7c2da026e0f77f71d31d6eec77dbae882a60d065be2c59994126fc7bc3c2f11ad879a6ec9382e8533f47a75a6edb56f54a0bbbef4ae9afd3a79524f884a492758dbcca865c96966d50d272aba4e0c16c88d7f98af47ffab634aa65a6cfe83075b9803ad92ec95a4d8288ffeee455ac888e7038d9e7fe821b9082409e1fdda451e50fe89596b8a39dbbd38446ea05d9a17a5d311a03b89aa7c72ec1274592101fbce939d2e6e67793e65632490ebba057536ea7f7eb2402dbc9164791e9e27b39df0bc6f7cf7b9e57424e5321d79b1bcae9c1997a7aaf26c152712ca7ddedc73b394f49d32d14188318d573810492710f5184d79766f884df14714a61452d2c0d69c681838066a35bc7af843fa4e4b5d9826fbe208bad5dd03b9bdef6f2b0e63603dafcb72e7d723a8894081a25c95ae3ec9930eca1bba6cba1a152e5f2f14e9e122fdabf494c8f772f6df82a36b1806509bd98571ef8d1e5b6284b8153096059e87b6db7f5efd4dca1964fd0660530cacd75a378378b9681c69f926d74f4a22818d63c9b1340bb1ed7ccf3c215597c2886a09b33ee46098426ce93acb358246d8ceace8309622b2654b1e7c97fb708b54e497456a32c55bb5823c6f692240c000ee86c2ad6245faa815fd21f7834199b44738ed2ada3f974cedb8faace18ecfc161dd16ea14e371287261c00c441556ba5bea584b02805581fb1007f16a06fb812bf782aa3258db602bcbc54c2d7c22e5c314e9eb857db642a41b9c561390c75c3bbb7d8b584545314285b802b23b19f84ef465f25571ab447e02605c11daf697e0968fd0c9673d7ecf00f79bec748bbdc6f7d57edd4f1a9ae6255920d82c73630c6ca4f9bb1ae28822c7a85eae359af4eeb542c06316d25de0ccf92f788c73fba60a228e4dbd81f4cd613528038b5bf9ef4951dac9b7036007f00ca97677d46a0f12ef72b7cba5cc882d37d4704b7910d545502191a923e9ec418b5cab8632c9e3ffe14f746f9080a5cc3efc2d55195026723ee54e27aa49ffd5a5451641902540074d469b47edd280ef556bab0e670e92a9b7868e9643ea26e209bbcb7da879d53df344815461a51584196796b711d3d504ef6ef7b63ad42280701ab897c5678e3b5a3c76ac166ac60b25e76d834795d0691ed12e4bcd4f11c6fdccd72aa1461804c8cf20779299727fd29aeee326c9bdc03fa9c82d5175ce9872f76832a12a88c7a9715c89ad9d30567e333b9616ea7534ef901f988473154df002158a9672592685aed9c24d1a62d3751eb695ac48171f00137ca1014f613b1980470c7f59dfce548a2a8f171fb0d4af735a5f31d5798ff0a8c46cb680a82f4e2891384bfab8dc386701abee936238258343e721cf42a2a068e1c084c6b688be3d2c6e39724aa42a5f7b473e7a05cf4c80cd3990aa3c2784814ccd2adcbce88a3446678f603883e98e73dc1ae83a02fc374318aed97c19659807a32b4f077e7ba442d67986d786683ba7270478461a16ba919d72bd4d450835afbdac9b97569c569605f0b507a199cf6483ed819d7f7e48a2be051c544ee28632bd9da95d6205d09124256a841b4ae5d1e1a745c14844d1726089ebc844691979b431a070c84a8807f2321da679e2148e69fa5b5f5e4900ca7528cd95e2f894cfc1876edfb279165aad2de0ea5ddb82dd9d5e878135dd3935803ca99b1c1c05b42bbf549b3e841ff52125b3c4c8efd8a61a3c2eaefab263ca121821839ae38e6de06de6643e8a6b7689952ca0baee6c81e64a502af938bc3e2b1130c151aa433ef96d1f5448b627fd7d443697f0590ce9657ad2735d4918e7d037c2a70de522847467d0df90340286b1f917a1aa410ac21b9884f7a1b6f123226fb0c978e6178cfb71bb2d6bbc03f2b68e13ebbbec3a140a4a566f369beaecf7f297104c83237c627b03e503571858fc79106976cd2b6ae32d285bf8b5a3b511b2d906e7104a65e1c8549efc9bed38f9f3a626d898745695cf918b99d652338bdac44aab56dbccfbefb2c012848e83c500c2fd911629e0f9cb64d59d996c690c2726831cfcf04a559f7b62f4be45024ca85139cdc12e6d3425700ae96a857e6e6ee2f459d06d16b7bf4e0c2934a81f4d7e2362b3f926975f817a75e29fad4061f079ceb84b25c59c9293c773d526dace80dd274176fb3484cbfba2af34805dd9d400e58324780d1d94643151133551fb642303ca867223ff39258c9371cc311b374d70fa48a8d6e1130b120057e4b94d874e2941705bb12be347ddf461fdf1e38dcc03303be51b13c6c6991ebb3c1e616c9fab38993fdbd11f725065fb5d43925918c7e16698472efb380dd19f0948545d58b5c6376765d0c6e3ad6b32aeaa7b7dbd059627cf6fc18b102c86da0cebd037c3931147ec3f8be9793321afd49aa02778c2d04177bf7b59b2f8b6044777e0b85631dc3b02e74dfcfe6b21e2aa0fc36a11ed98962698ac4880db535de9df60022dbd84075f8c29c0bca39b9a7818a69cc381c3b5665e27861514511f943f72f2931a81d3bfc4b7239aefc496af1dca0afcf2be194a1fd29d452e9692c920bd0e67990326082b686180d209b9fac47b904dc32c6786a724d0b04b877979c3632495140d9089c811edf9f1c475c9f65dbe32b725784a96fce36c8eacfac41150a2c71837828082d0109a27032b9d5fa9efecc79b128ab5cd632d8037132bf339adbbad8bfed9cb8f0a4f5293f1f04b441d89bd56de81670d01d1b42f175b872f4fd2e9ba26ddd35f97b5ea505b7b1c251b1f75c10049aa94dd99378036a92d7bd481eb80f237b83024fca6a4fe4fd7a59ac63b1b236a55bec1da68c8baf7821e803b4963ed939382bb3ff10b1f7d05138348a3517327650654f8a291f91d0869ebeee172043275809a0bc2af1a12859a4c31b4086d34f5abde6a3bc0ba6e2e4137aa2144f7507d3666ed14d7bbbdf0394b262354a63860b575a5f3ab042d2897455a58768e02c0c54ea921a3d49d145f4abe1413043348f63550cfdc3a52bf6a4fd97c1c60b5c419b8d6a385b7d7587bd77842dc2791612c4b96a394859eaef10ae5db99283c8b188cc29b34cc7202dde14f7af52642a94870c76fbee3284984fcf13d3dbf54abf74f6b540162cce8db46b6c419546a15266561ba7885ca9ba598a8598076721e4ce71bf59404911684404843088f61aa56b6266f7e6fa40549427bbbf57e6afd6046d3903b754e46e32d184e42d9a85c311a5a9a2d8ba9cccda84272956abcfec8bb6d30968fccf85f76629dcc8fc22390b83d1047bc78cea83453b409ce80ac6d5559dbb4eb47a604740f3e4dce1fe647a0bd5fb72f538b18e92e6496820b200c0c6b121e017f6c03033c8be8c405b74d2b66e8c7ae078cab8ecee3002f5d977f5321083acb4d9d038eda907edb61fe2501968d58a3c83ba3929ef2e7319915fbf98b330622ef4cdfb2fd49a623103f3fb7585e76a8908a9cf508518be8d545b311bfdad99dee06283e4152a878f17dc3947fe53cb3e829a1b0011befa6e23e29db61b623c25277c01ac104262d45862f93ad34e509a5b77d1c25e046050855e146703de7e65b99ff98b66a13a996a35027579bd10289d1cc0c1ceed73ffd66f687d7cbc72342d51d7a6ddb2b85273b59cf839c5e57b0540d2b32b11891b1d2ab99d9e351f04c192fc05a25bd0046fdcf590ed0eba0e3ff67a4d84d59b4eafe4bdf36a53fe95e938facf799b338051fed3b872040c2adb379781d6621138d5638c82269c2078cd832f3de0659c9bc62e1b60cfd38f4d7be35931df5ea50503dfc20a810ebb8f924e58fda7edac1b595492b6272d6e362794f91df43517da378e4202321f68901eb685a9bac66c14f8f5058d6c11dd38c4cacd0906a0f1ebab0c1ce2894b20dd5865e66934bec86c9235f5cf2b119f6f47a917f9a4eebb7e00d5133d11fe10563346a607708f930638bd9fc686c7f030ed618066022a89da7ffddfabf5d57442d6b6cc6c8770ce99edc041aff057145e8f0e45d47f9cc6a51241f4105e449c0c07580a61021d4942934de4cc52971328ed844917ad8961759970fd0fca889da9ab5fff335687a0b89d9985fd9b21aad4afc54679d99b4b651e115846ab61526df6d1bc39405426ada6d2a03f88c9b5c9f9661b9e602634d0e87dc9f9a8c1e2a9e3b0f2310815f7f63f68c6676ce7d663cf063e2d999e918d075273679b335e17b9dfc2fdde38116366fa014216f082ab7bca6730eb65e27cc9f7ed64f79d8b8068aee05ca7b35b38cf4941e0d984736ab351cf303c0c939adb2ea5b8bcf338376e4947a739516cbbd2686a989880d2052acebdc72dc3e8212857e767ac6dfbbfe4c1caf31417a0b46e3f4b01b58a3e1a7588d0bad8ba8703675668a553bcbc2b3d3392baabd357de5261ce2d64727c9d448b08e1d86d5676935fce10542fbd0a79fe6fa97bac96d33f84ca0b0f4f06eaec754daed8b855a22d7a0cd58c94d77ad0c63432d24d3c048906dc5c2c0a2934d4a4d4a55244b19ba8fc7c1e0957a5b036c1b6dc906c8951138e81b011ffb9bbc582c85ac9b7333761b834494871a2454c64cd93358510beb5b0c24fe86207f7a71e1f7bde4e55873081dc6265d1768594bed4b89c4c5a0c9e75333ed8bb507896545c01407e04d2629eec086695a7db427c590c8fdcba7e70e70e752a04ef5e9ff45c24b8ada63dd4f9099729452714b23f1d1fe70b2a28c8a8fb40966d74e7b93bafd64bd7eb799939b2eb53b5a8d92908e0ef812cb43ce1e534669369dfbdea1d01afb656e5eabe202eca64321179faacd9416cc2b8a83fd191c6011ea67821880934cecec90ae8841e9ac560f41682176e52b18dd5e2fee54e763dfcde03737db7cb503efba8d3a20cc650eb901900426dc77fc2f3234bc78c9c13ed9f7a7e0c427dcdabdfb3ed5c988dcce1da5136de27c0ea7e0f7bb168140b8ddeeb4e01f369416a373b5f2e6fe80142212816d12e0b63c67cce698189f845edb80296fca4f1b11e70ed8be6b069a8284017cd66308fbb35c3d9c7fab2c0cc0dc71abbc0cba00ae6dd674c478ac1869ae10110bf0054767b3430a12799b2184f864c2a58a5778b1199b4a17ca19a494a068cc5be83a14cb7aff03c970953bf32f4fd106b1ca4e8f556d7c4ad4cf98f604939a7cf268ae9f037e6cd38b016cd2b433275c6d1061a7c51c7516dc4a6a0e05a7d69bb0b727a2b91dc3d0d95ebbaf51d22a772fc7cd85c99bc67d488d6dc96c03b9e085171a5c800bff99aca2a191d1b58b359bcfef02cd4e598380cd689280ad86771bed54bfd81f8eca6426ac66cb47390d5474cb9c12040118e09007e62a6b3807861b37d709667a7bde0610c1b476468e62a3716b57554ce4d90a5fda28a4936025d11648e51e571d8dc531323b8495dfbf102124daf4e31b1ceb27fed2b8272ab764fc21bb97ee7e596914fe050a4955ec55d94e7edfbed8379d5f5487f8c1780dcadc6e3ef4f0cf857592f0c37129a79f42499a5c6e2b676c995f011916b39ff33575b93dcf30f804290ac4fb5746c07ac078b34f3b433f491a70d3d6cf6406d4e7fc8fcc19bafbaa77b45bd579f18ce7111a3fa2341faae6be3abb9c68f00d0ece6cb54780f580c362557a7f6077c84b293e9e6ba1089aca5edb8fab114616815637eeafa5b896c9f692d9988f93c0a41a6cb69d8e0cdc3d3614e3302b28191af11713991c150ab4a26cce6324934bdd44ae210f49c5aedbc40fa5eb41667b476a8a50f6ebdd3695c552acae6f788cce4c7d5906fd6ec6c21ba859e0082072ff2436eaef2747646d56ff35fc8ad04981547181b622b9e45c581217ca6cd3e316036f6fbc0c9e60db89ba1a7c85859b4c9787896a6f4e8ef55f0e8259e37e3c80b25a74913f9e71e8fcc204c7eaf7dfbc411f922d582c0cd611dd25d33e46029a201bbc50a228f564cbeeae2dad7564c086bff0a3cef4bbae2e63beb37fed05c9a4b925eae433c0418efe798252dc340b7a8aa3660371957b2f4fd78880bf21d192e805d43fe16d5c88a1b02a3ad110064e6e894e8305c87b5e27ec47f1091c015206e3b864a2a5b67124471c84ea19912dbf6aa6ef20846525d2f06c73abb561f8a76fd81c152ab09d6a6f3dd085c6b7d51138ed379aea28338ff639067de936e7363d0ae0798a40ac0f2bdfa83b36544810a55838c065e1d678c21f901db14eed7075a285a0ebaa77ab6e25d90646b5c55f4b2829a5e78bae9308c649069a3af932c362a96fe5572fed82abd35bdc54353010245dae39cecd75f281a2373e6d6b385456ce23e03f268db4e18ded85bceaf7fc1c8e746a44d6b98a32eb72a874c1358dcad8da8c886c80d0bfa5040d9d405fc0cae74d972c8d948d10deaac2af344151366471f67527075603e111145596e3cbc3e8f91310990ed58369f836bed6e013bfae99c5a4bf5bab4af97c3b71f2faa9574cf8842f46f49322b997df1ee1c546e8fe253d429eedbd1c46cbb22bac489e72286a6cbb03ea464c461753618be6682269844e92f2229bc82a6f3b29d191b73e14e6c6395af41a71344ad38872bdfe929b9e3c45e28223579835af3057b31ca88293c768dcfc7e100e489408b603d0042abe1a312d9539b65e75667c8662d29a127f43365d76b73544e2e8cb65c931ba337d59d6b7668a367529cda7c0de688ae1837e2ed983ee16ea3231e8412b8e28b17be5cced8408ea0f40ff2dd03573fc41398dc52903e2f4641cc7306c0c2e5fda948550c8df3702a0933a67c0e7798593eb34827974ca49900795589027f78bc494b4720c7f0bd19af7a57f5adc3581150abdaf605594ebd8ec6b15a208bb6a280ebcf265bc5dce9ab5ddcbc7cca573371f5e38013690ba0d21829fc292652dd80281a48440587f777085195d1f48e438fd1328adfd470b8f65fd709111005e84b873d9eaeadd63399b338cf186f9d8dcdef62ac0aec2b50feb162fc9ad93560e01703ef7d5454d175ebd19d86d29b7f55e3231d3e78f6d13fd59c94ef1529abc5ff4769b74edb8f26223b0f35b2d6829ab2fa41704097a316afa56a5843be2d78857a73769ceb32d371335db386a67ac060adedeee60960aebf3e5d28a952a6364a29badc7320c40f119c5868e4102c9fc6bc4a8a2b0074f24fa8ad985c084b40ec2807ff99ecd5780653d8ca68fcea45d1d5afd871594a91ef088d5a3d42dfa1d8db64b812e297ba853a1cd028426b97efa5ff744da3b0a08c2b53c4d26dad8cd87d1c7bc6af27f8ba33c30e20cfd01c376fec4257643344ff6f382faa673c5c5b4361da90c2b6a61d59a597705a503552ece7f8a02ac90ea39240ba563ec02876b2d4d42447f107b0a3b914e69110e998d2b4037f45d8d02aa9136355d7231a4bb6a9cd2efa2c37cb05b9459ace9facbd3e8ae47fdb274bca978dcc422032ac275ccc1840d0c8aa19cfa98719215bd107a155bd9d8d208617ae6b114223109e0d23422e3a17143655ae765c537373ae8d613521a6ac779e81ad97f789ed00ba217f1d76d5e94178263292b98505bb6ff86fdb848a9513c900de4a15c63516fece89c9c90076b9fa1940239a9a677578d6f7e826ae169938a951e506edf65891cf2e9f216322a12dc6485eebf3f5bb417dee3462e112be516646c47547a294a097ecef709fd125d6dcf3cabc792e2d4eba16dd9ee838ab547ad8f1e293767df7a79bbc04b042618364cb0c426528c89bf29b0f92a481de9446eaac7c4a95072dc4273da7e02589ebe728d869c5ead1bd64877cf2f0a92e4157ebe26134b8f48f3b07cdeba0affe98a50b544541e381daee8e61a620739dce15aba07fe4d066bdb99c349d18e944d0636444a5f2e5daac1b932e6ed2ede5867fb0cf7d146fe2c2d50ffeade5689e039e72906ae7b9239aba09a82ff9649de971eeb33af9423c989b7787c3b0b0d5f10fc129a5d175845d0c78adcffa8a8eeae1291c4f0ff4feaa66668a17f50d0f937a4628f8a082ee45275103c28674fc9a2ad6df498c1149a46e2b447a1629828019ba5bf910eeda15084f2870ec53f30b41535d19766c191bd567f990eeff2d2dbc9e18fecd7a9513999de1c14c39a3fd00649937a5a68fcf1a242b2702730096f3d209d0fd7c9303aed7dec5b7d9976d3cf0f7701b11f7eff5b26c28117e85e6ae88fa53f2b5a32c20199249abc9f273cfb9576e1d701d676f0491ce392b86496f15da2278fc5174c56fb496eeccf631fe059d0415dd0b10f00147e7d70d56375358150872c4f790b278ff68b2623d85d87b4c69c6b4c04f52c5bcb298e0449d6f69fda2272e6c034d7640519b32b3d2760028bd6f0bb939b7b8226461a133ed92a590b26bd9130c09d3e14ac05dd43279f4c6b04e33764b6e1577893b7d98220e7520247c9cedf5ead4e2d88c3d67ac849cb34da481d5529c60803aec2a265dbb770bfc329f60a393a1c739e569cb7f42a278b70dbcba9e01336b9ec5843498d9e96f4002b0b6da85c9517b36bc2bef00d42a421d845d1999ac89461c70e83857e7089b504ef4e64eb0d7b3d9ffe504fa8ef32e293adba271d0f4b758dde71bfb726628786bd1766876599dd2366686d7588c32e26a1454ef4cddb28c40f2c400fdabefae70b836512e12e7e11fa18933456eadd60bbd61e5be6d1f1f7cdd1770d916cbd5d1982a8406af36824cb97268af6df2d617eab783cc1086209fc825000345e89ca59a0d827361a77bbde3695059833f804d6174452cea6bcc37ded4f73c2bf1de2faa8b696d1b1b7f4c091560227c20f53495cf75f964a4213fe19c817373e8aed7f002ce5e5d804028be1361fbfe4200baf0724e2b12b69b4528bf0d77b0083d07ac818c0fb63a7e2e370c865e719686ff4e843b79fae6e840888e3a0443884eb309539f59c42858a65910039f6c0dbf3e367008f974dbb043ee8facf6b2982f8d535b68dcdcfe3925ef357384a9ddabcf766429ff7337243804d5572a176c901a4991e184dcb296ad4e374549a5092442243a362e2663ae580c4d527479adae869cb6959a0834d350b499948f6043e159d7530e4e68666f01c2528fd71a5032db58e36493e65de34b546a862c43c49d7a03eb14d07d2d4d66210f034fce2480c2f99760ce423a521a94a91bca615c5d4d163a0f989f23f52dccfd538293898225d4826f993af514c54942d1ea5f2cb8403d9916ce0db0e79b0b3a4b0b1be8ce579b15d5fc2c6f4776603788ab761452a49a333bcc2029efbc48d811b9109114d974ebcfaa1d0eb680138d8660266a0c440aae41e850618dcd3aa014a7e6fc56141307c256768c73ea12832ce1b3909ac1ea0662702c922a382cb863a2aa646e1ccddbff085cbf3fbec9e51c80c1b96dc37b8ea6dec148e595359dd70ce2ed409e718b9f1a3d4f72bcc362affd96a24ef2f130294e539e056e7c098a2c3f8dd4199158dc61ba4a76b46157980b7b38a88f6fa2dd751b9b1ac16a2aec285bbcb857a0e7d3a4147bc4c4be9c8ac05fd45f736217d87109975da659150ec60959ad5826a9eb4d6d1027495a21a4964391745e6aa7fcd582fc34818aeaf5f8da5d9dfac84a02b98bafc6b85a23403bcbd722f67a3f35746aada6f10027a62049b29e7011ad6485e6da8e623eaf3f8308966f3c2a792c8f42872daf484896f47c7c9e42963cf8d39b1b96174aac81ade6c91796ed0d9938375b7d318d295f2d28e9adcbc736b250f8b3bcf1311dabd46cf77eb9df7c67fabd7a0214b0faf7ee008fceb2f1a6529bd9a09698bd674bd47c1c50a1d24772e0cdee424d4a868ab3889ccb4f9940a4e507bf1bd7a411679ee0105520f9b3679edb4ee6ad2b39d1679cffd6c9304507c1e1af7ae637f1b31f128d2bd0e757fd0c1e1f2e21c2709583c319c524ce630fa880e96e1240670c67e0c3d78dc740a284d9946747e1f6e5bea2f4a706fbe9213b58f55cf50964f8a6d78cf98dee13b80ccf52e6fcc6824ee68c8a7f4c18b8f7e1cbbabcaf09577a67d86444179558f94c6345eb6eb779431838c5d5827a0b89fae4db5b31c9c88d65b707f759f493d4d3f50c823901eb62f43695b45f5b4652f32e80111d303ccf60f00a8c5d165b7422afd82063407859962c60698dc41e8e5e569063ed753907c693f4b28eaf081e3aae55d8aa11e6796413ec325c194dda29c4f0aaa92516999751c68a8847572df306b8471a98e17f12311020e54b52448737973b06caafbb36b89bb69e859aaf412cad03740a553f8afd3824ddc178153b59dc0d3d5e686ad981907ef08e004dee4fe2dfabec35c2b009ba0fa67ef7c4204397268b89b22d8461e8ba962bffc429f6c0ed95773b981a005fb93375f77d5134b703b53b33a74c2b66ea211423158aa6b67bc1d5a085f05292880ea3a3b4be8f1bbeea2034dcd50a4848f2dd0a23238a84dfe8065032697a8603296ddb2df2e6e1187c8bcaafeed1cac735f4b9616be409f94315eb9b962954c3d2f2bc4547c6870125c8ca663d9964268b4b89d546efab6cc8267b12998d5ceefd262b23c81341a9e1febca167d299c94174fea86cba175eb4917e624e7d9e1e847c053111524088c5d0bb28b93d8d95cee887f8616e977a1a0a858b39d39fcbebfafc1c8a859647ac92394a26f31fcd02b9ae30b305837b7dbb0ea649087d5714ba797ae1748fc0d06a427ed3e3693810d13ce1e72b33ac8064136a6de3a043f3578db857174060a28ea5d7e57d5000a60fa6191cfe654105d6daad29afa2c100a6a30ae3033d0a8fc40ef5d11743186ab55e389e7a793ba453e4bf53dcdf1f5939859532c3657c7d1249a94bc02b6419bbbc6a3731e11fb994f033a9af53f302b43a6752348bb30791ac7736ec42c134032230b4e37cc74144b71dfdca9b90a4d7812dbffedaf80e65dab8ab12ea38afd178b7699713693fdb3ca48e6833b49da41c7c773eed2ea021a7a50310e0786bc6f07aa1a2809cc836a5235d2fb29e05803b8b17d9272c30f30ff5fd450e951862bedad95544e5ab654ddcc8fc7a777014cf130f27079317df5927ed129a44294e5ba18b70184fff4289c6b9daa154a7f998c665fe739ec4edb4360a9443e55da2fcda31d42173211506eac93c37fbe138f734f25ae24f009e56ef44fe08a5533b707a5332c2c7c4d2a7caa397daef7f06c33682b762c89125385c9e64bc4647567da9d95391ee3d882bd62930205c2d5c7461ab2e67dcf7d31b2cf8c48eb3490ac496dcf2f958a21ed56f8d7a5c213595e0df7abf261270c68374fde33cd0adde0ee11f64f8b7576683e40c22ca867de443312bfb23d8993913843ad0132626f9cc1e598102f3b45a75910d610f0d9870a69227ac95d24f737b1532b4cb5d248a501da7ae342a490b7e974a589929264e9ec28382f9dee9b6a283bd1033f982d51809e65b0174fae8d938039da1e56262a5ae577357afa8530c56cc603f15b59e775daba4e8fe37538589710c1a599e024e04c6b542492389dc97ff3d9c884cc6950832cbc760643c39b5c59c4f49d790783033f8b2f601829bfadb2d2c827a172c4db1a4b204a819a6bd0656285883a8b0d447a054e1219218adcf4c3c83b416ba8a2b2267db7c960fbddac9e45eb82f7ce0fc4f18f908d3647fb356e0645f29b6f27effdcd24386acdfb3181ae6879f152e23e60a8bb333c2a038feab41f721390c70d80a762bf174a26d5f47f50a990a7b6cc59dd63f00ff968dfd2913aaf8cb933bb10ee023f8dd21096f39d08826b952969b221d2b7327754e79b2b0e57e08d8f45048eff7802217d8a226dce828ce3a8f9ffcd3e39f46f55c2b42af4b4772b69c2e6789ba4618fa4228d62dd3a213aa86734e5bf798bd4ef6ef4fb78f4c6e36ea6cb84779ffb270d7ed96e695d6ed3867e240e8224fc0c6a0be6eb3919a11a4f71dd18e35caf11306f12884abd561f32bee06e8f8ead92c10cd884834368050395c90dd647702f1305b9820257f3e856021d9a9df7cf385748709b30c5c7be4950c91403b795f6b2ac7e8fd9e8d5a3e7678ba8db102925618c56ca82a485cfeb0a590028877e7a6333c5d00b0837f36f3a984f6a6b03e7d535b4825c350904eb6a5cc849a092575715f056bdb1b83bf21dae46de1a6d6c4ec6ae0d6aa85f3000111701c93c6065ae8f1cafd49fb16f3c976327f4ec75e2bd065a8d9ac9041004d17265ee2f7b8b5a7ee58516ca1642703521b994527c8063d9889a04daf8132ac57d7d9bededb4a6f1ecde8214943cc676464d8acafd60996dc538364484a524b50bed745b30c32baf680a1d912307ce135db4426226fb7cf1776e75f3a3f6a3c6549508ee844ec7466a0954f78a2fde8b62a0d7ae846322dfba383c2b980050d927ed7e72c4f734986612c40586f9ad50470c3296fb83b425fbfb1b33a25210a5a74e22baa7eba5c5a653f7e86c9fee679741d1b0112d106984976c60663aaf1665af4efa7f365b4e4cd39c5ef11bfaf8ab997873193a2105df9ee82db830935e14788c581993ec5d19dcd6c104ec9b4355e18d0716c4890688d441c338e96d666fda907e7097d1413b30afb79610fa9e882664591b8d51706483e7046b60cb9d992fe10f8c2463ad4fdd4b11a8dad567822843fe68284281d041bf17cdee43405a2b4bad5134efd146cf8e4cb48d5a44eccf4c3722f3f78e411762072b7af2473c6545707491ed681e0a94465f1fd35969193728bbfc5e600315ee7c48e07e1e28a693a2b828f5bc78b153ad93ca2cb6c2d3d1206ddd997140897d13118e5b1e2558409452ee97cb48d754ccf19ee34253526e00917e7822a6312876f4b1088a9ae5a42d5604dad62d1f0f365834691475c1b7d1d6eb047a3cf235c1889ea4ccedd9dcf6b016f61c136beacde9985bacada9d3a8c2280e6f7dedcb5fa3ea383a960e110f78613c50337164a8b85e1547de68edf0fc2a842e1671e5f4cdd79f9abaec702947a81bf3469ce551bc1374b4e2dc99564524fc4d40c6195356ff61c0bd989f8d059a1872bd45dcb68a3b6cc789ce0e662db8e8eb274dae38fc4b537a7b11c376f48665581d8f35c1a2cba14a3185ec3bd0663aed14d979db544a84329a17b53b686e8860e07d4da34865cbb20c89fafd435583c78abf432c616b6cb61a28dc651834231ad5806c139909ad2baba301635fd14f9d56b9229b19963a7d5a59c34c1c2e89e9057be42174fdffa0a8faac46d3444a69542f6f48c9baf413383e0e27e9fa2494e3cd763fcb57f1c9f6732ab1438ae15bf43825cb0ebf01fff43192bff962a1b3ebc855db4b7bc2397f6d01878b6ba368cb9fdd6cc1562e326f7c7939ff466cb5980a46867f1a8fd7bbbca926085b6d23cb8eb4b2a519df5b9cd4731b965684500f76172f5810b5e01e4dd5c27d6dcf118bb7c644c20bff69ed79665dbaae34e4b83269e6e2784d0a4cd7b19c01bfeb169081b05843bb5442c1df5b6ad93d5f378eab3e70ead7ac0ac4589d5b4df8c32b118a1775ac38352188c0402b292b763e71804f85e6d2a60b12c44cd88ec7eec8ed244c7fc7f465f78b5f64ec16973f42dc7c7a88677fc50fdfabea704ce2f89ebf05c4dcd9d621b056cd45cd9de463eb380ff706ce530e4cfc20252a53d07aa878fa401dfa4fa28e55c518968a3e4d04b54a86c194f730a72d80126e24fc99ddf3e74a79ae39a1d20f0ed69d5395bbe566b636955b43e56a0ac145b47d58c2be01386975ccd4904161a3569e1916260de79aafd69d962b0153809041c1e1add4eb56377bfa1ec10d6c222c07bda5501d88ceb1f94dc9d6fc55b421a5d7fc8f311feba57fce7a28acbf6ebb3305a9b05804543a08a6301777e7570daf60c743db568365f1c9598f389abf75fd9e28938deaa16d9149efb69426128982f43446ff31d83be12571578d35d298082396d39addefa2b5151b6c3b8a599cc4cfc881fb906822b4faa28eedc63972ee4a43e8b72c2d99d8225508b9dd6ee0fff6d4abed6c1c5ec1b506c5f52fae4584647fa924be00250a97f45ae93d59d41d64167ad943413731a146f9fc1750613e4e75fbc8572f05b07dc446fae3061c838fac894054bbfebb7ad4be22b4c3bbaaaf10a55bc940ac78c9d78f3a5ca74799afb8bf3a6fbbe19d42509ba413a981118584758aa4d0e0e153f0ba6e12a58989bcdcfda5f6057b2386c9c731bf54fc37c1eada81e44a93b041f05c7cb0cf9ce64b278c4275f4a0bc40d38990df34e8f2e89b951e3f1327ed6f0d3bd797bbae388c8c301b0afcff93bfde1e9d855141a90ab6b15bcf04e2bafe6cee604b575bc1d9d1ecc11edb5df8bc360fccdfa3c7484b7a675a83d3d81a69a04d253ce98b4ee1af78d5a85f70e5e6969b07ec011ea4cd46033ca802ec9b94ea16816c632a875276ecd8df69acde5fadc64f58ebcb3c6f1a2827d6e87530ffe9233c6f0617a27fd82d21e65eda777be028980990e2230f23c19230774502f8303daaf5d3cf2f2f20a05b3a9f6d0d1012edf6f82df122ec58f2a5ba4cd6e6e2171fe5c63fb3c4031bead8148530b7e716b2cbf72568e6c29f62e93617008187802a0fc413e2fad9bc899c187f0b65d21673eeba5f523738d201e8927681b5dfa0ab6d266e3857b6aad4a21c92bcf0d7ef70c6f4347a5da664b7da7700f8c5dfca389d01a2cceb65dd2a0acc1827b55739953f55d3d78c713c234d49dd3ee859fabfa0f4ad7d7157978010f323e0bd7f5a0eb5ebe0a1851b3b42fd05a698eca409691f4b7ba6fa71446ca8b3d13bb1b49d8d67b516ed36a207d1d02a7c211469efea3ccdb77b5825af70e02f38e52f72bfcad3194262a42231722ca2aad7d12f47d4114ef872ddc3ea28b078e77a3ccdd474d82a58269aeda45cd8b4f724f72afdcb937a54dcc34acec47bb6be4c02e5a6ee7139c863603335ec5cc2e32abd82b649282ef85984583b3a3d3053714c1565f0cef6a0cb440c673e036f1e854fed29c38cff46df588021672d560512f3c93682347ee075f62fe7db5715b1fad5bb56d607ee868cea8ac0fa863b3837c438b5e5af1b9725790642b9e93b5a6345c6a067927bc3971ac44f8b2672f1d0551b7c636264da15e1c855e8d37f457fd05ddda4fccd8d741d1e81333a9ffc36057ca1789a2dfba507a72f326c3454d964eaf466d325cc9c21636a1764884a9eccb98e4f6afa6a1c3d8cc1e60c650041ada9d5f11d305077f05a6078c3513c63cfd865bd3e9d54045f23948ed7eb9dea0934e6e518731bcd560c38bd28b98060bc89c0dceb4348ad12ee9b3fc5e57344e9cbde9e5aae2a17fcc28aeb23a6682a151a22d4ea1d4e641805a5fb0d607a1d75d403bddbcfa8088245af0ffec29fd3be76de6a6544ca38dae8e71cd0058585cf45229bb26799e534db3384a414fad79bdf20abae9b12aa85963c778f8e9d8e91deb750b7426dbefd4108c86b2496d72c57678c77db785984261f504f9099c4739ae50e078e3cc2f3471c896f80a8fabf8b8622e8dd212aef57d5baa45f6b492d0b69c4d8d63a463cdd8034e76eda495f86db331c5a7ecf6ba9a1a64eabd0bca3de2f96d6200da50046ed14183666cef4395254e8a6935f5a1490e448bef80302fb275637e29e5c528ba388dc60f3f56c4aba3a85de3065f28ac1731b6eb3d0a5e6ffe78d0b1f32bdac0724c4614e1e38d522ba21ade98792db74ff54ea04cb37432ca42fca98e8cb9f7b8e3fa16824a8d8d30a63a917d14c41f88dc53546c368fb01c211c82fb11cef9540705f168263ecf8e589ac4f54890b8891c722b735dd7d66b5c4ec397001643debdcdaf4df02e87c6940b09962311eb062e8696aaf8ed57e235e67b648636acdfae90ccd5ffc4d231da193a5b7f5e6caa78585e52f46f7b7db4ec9b0b9b1d0bc62229be98b2196b5f53de6298fef954cfc8654392f67fd737cc55ec5bacaef4388fc0623db04e8e012fc31f312a928f9a42812","isRememberEnabled":true,"rememberDurationInDays":120,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
