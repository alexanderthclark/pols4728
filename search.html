<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"217192aa231d09466d0a60cd74dcb9eba873da69ca67d49a88ff732d2a3a958f497fd544469f4c7ff0190209b8f37529ef6e933457ff584237237bed23ed5eaa9db2e6394bfe7d44d2ff505a7e147814c0df9b1031505b769ed70eee10d2655c52d7536de677e275358fadfa0d2f299b9abd183e955674f152249a106bd3d33e70a925aafbf080cb2fcd81083a675ccf5402ebb52b9a2d6603132c33b94b8f73ae9f28143f38c2d4e39462c8cbe15234f7901739093c57c847d222d0f1ad9c30ac1b0903845d345ee649108856d0b348fc63c70d28dcd42dec90a148d17d199215110b62279f38316c73f77533fc864565d95e1f053ad25b7138915a2236c0326fbd405e35dc555a0ddc2cf8024ff04d590613aa5084f9ffff7c0982d2013b7769ba9c223c0158e2a96821122dd1a173cf53badc17d221334611867841f2efdd99dd5bd95f5c971335c724d4dea2c115450cd2446378744ff740d9d9c6084cce07179a417707961c0f952db957670fb8e8b6bda825fbd9543159ed6ede6a58e85c50ee1427fde2403f10f062546defe65effd4eb3e589ab1985b6b55adaa53a35d36c2012477b8b3dc57a8c6e0b6254f05ebd3db04149082ab3ddbc4e1cf1b433f9010306d3ae7531e8eefc22f4f977081878d0700ba3393ef69397de1db67c2469c84aebf7ff33e5e92704729387ccf72208783fc8429e65ce3ad9df2f2d1d58400c858f58f8a7226a1d3ef76a5f1377d97bb94617aa5b8a46cfdbcbf62fac4eddf3b2b50744b2bdfc98a9d99429bae8b6db37eb4e13f8b1948c0fe69b94655139e3dd15dfe829ba5f3fea5c07e34ecd6eca8781aa5bfb96ffd081054d1c6d3679b2ea31101f44b2ac15611a82b75a499a9cff2c0902a8a366af915e73f20bf277d0e995c730d07e2c1f4a2dbabb423db3f07efe34c453cdb309622e2838f66409193ec44589f889442330d8c330c28d065067f7004382c9b5630ab21dbaa317965ddb9b6c952ed926768cee1661ec69874492521c71b5afcc13fd4bced9e8ced9f6ee9969d1e8b5e6ec41ece7bf573709836f8be8100f19cf78e154f141e3f924c5684bee95fd4769c5d7cf6dfeb9e283cf80f0eeb01b4aff192217517ab44d1856c958083ac30e31699560c3ce0327d5ca4970d08a1786a666b5fde706a6421045f8cea4f4cdf01f0dc62bafcdfef8d60cc4b4febdea8818f72f2e4e9d20a01de08ddc1311946bb9609370715d250373d6d4f58bd141caec9366fec77d524bfcbcf4fada0bb17e611bad227a37b209477452b625e12b5a5f4bafaf50008674a6cd556b2a9e40a6c79f95a6efeb622ca138563c4769275ab0c1a6efe01788dcc8c078f97bbb7430319ae645d6105cb95ad3b63c39022fc52571aa563e481911d257f6d0b6d6add3213c653404dd72e13e3d9f7b1db307a3dacf7467e12fdb53f9ed53af60bd66f1b61c7ab0321254dead504244abacfdbc1438a1725ce853685a7614a8696466f9da9c7e6d60fff7efea3591a8427fb1491a0c1c3a702df7dd0b2d8779f597093953696c3de99cf6afb049e69e1b7418174ff72f9d1ce2be538895118cf2e81f54c38fff0ff28d7d364b2c57d4b22b4c2283ba88687c2110584b63626d3d161df8819596ff747b8b7c299b3877a5172a32276359975fcf09864c24cdc310637b5229059d6a440e1db2093342f04a0fed23eb5f7c2790b3a102f350eddd92fb759742798ac689ecc26ee787388f94d1f9fd3a7b8c80d95bbe8ec10abcf5870c5b410f1bae96042d7951e7c41d9b74afd947dd1e7d1bdb2b9b7056118fceee76b44249fe3c909846b6a8151ca2d3d23f6eb0c86436e12d3f97aa2b3f0b4faf51d15b0845fbe036799e98766fdb5d4e106a04d8c763ab6e239b6bcf80dc72059a1e89e9bc4c455b79563a306c3d7c9448f9ead2f089eea7cfca5bdaf576c82d3ad054fb5a49dd6a17d78bc0450cf4ad489f23738a569cd6e0fd02738e9c36ae317afb52f80a2cf90d337cef9eb32e8de14e9bd2283136fff2902a94046ccec1862141c613a5de89a62a9cf5a1df6dfbf43ee1bf04e5bf7db3b5c39f88515881bd5df7acead016b981205f8d3300b18d681f456610abbd084d0c2bafb8ea4b478199b02f5f4d46f76c9d856cf38b9336746450236b9194322ec2ed540f8a7e2ac7cd76101c0ddace082fe16ccdf9698f5b96403e11044fb5a81fce407b385fb2a664081740b0adb78680b0ae3ffdde4c1f8053c802db7e605afe35caffae03aa7d65c46b85b920a2c453db9b33e00c5cececf4068a53f6c83b0012a737e64933ea8949566c79cb7609f06c5b70982011fac2e5d4d5e28d768b85e201d77b7f262bbb8463ce7de2932eb71ef389bf820f496ed3ca2df7a2cef5f961bfbba79809b3c96ff4876de00615ec1f03d7d58e3d7903b0bcc50bf5d207b6d07ad1ae853c65c562c82f89b55bbaa2b9634b0de7a619057ee3f1dd34f04a64a20f7b3ebb410fe090297a90d50bfe0aa0bd8a039adb90bf4d008c0eb9a660287bd66249788336f2f39415b3cdbb1cf45229ac31886177fb0882c331466ecf0296d323f6e180cb778bb2a53185de3aeb6bbdc7f53eb6a22dbb4524fb7226587bb72c09ac1e60b75b4c1da1e9388dd4317c6ae503966c55aed535049ec4885287fa8e0ad03cc20470ba784e71e11ad49a97a2fd2a87abdad3e9aa2d538262f663380c43f17d6e7a85239ec94e687a80a950a73a35f2d80dc2bbe77aec1039bfaaf8738bd103b5b794b9b4abf8bbbbeb2cdfa557066a53c1b5a9c81e736cd4c38591867b7cb9cb9056ca7cc368755ec3a75b752fb8019617713c982aa2f9d7358c6298585f9d9da2e02f07086692fbd3115edfa37fe4c6016e2d0d9f9db852c97b281bb800de81795a9f0f6a4a99504b1df134144499c199fd1046eda4a38b26cbd5079ad58dacebb7483306e0da9cca63af8751649091e3f0fabf66e218a62e79074d9889a62322e7eef0c2f17c85ec8d63fdaaebd5ac6f4ff2d8026edc751cd7856bd65cfdccfd1c9ebe27250b816c6f4097f57ec976e1f1bdfdc7e08d74c33f3e8930813c2978d0981dd2c9909a1e4fdd9e84b9bcb34d8d5b5e08dd811d4a49c31a81a3a9ad9ce8f7a05f2926ae74aa0dd6c0edcc5d7e84947dc31912e705ea2a425b218d03b210f128a371a594d29cac2711dd0afdcc098e311072a3ab036f62e543a411e69cb2296d1aefdac20b2db1e1ad5007c0e4fc91612bb2d83d90655f481c4ce86274960558b296165320197486e70e55f10dc45f451ac0d37ca1b14c16724e8b4fe623a21510a26337e473e595ee81596b9b6e4cd5f477673077c137fe6c943bde7e67764a508d93a0754ae5dc71a8dd404796851d87a5f61a1d8d3ec2b414971fbb98da55f55e15783571e0fb4c7f18cc943e534a784c108b0aefd61cb46b8ffecbe2484c9c248a5f205625c90e3d4e030622424bae86d1843a1e2b98822358c94cca59f313fbbca2694da7002a4ca2d8962b576fd8ae9ad61675741b02ec11c3e51f1002ba953aae6e002cf0dd5117fe30f84a1324421099f1092c62a703ca8ff5706cb9712f55b72425c83d170b3da206bd53c7e39ed406686992f73d43e2216875e1e4dd469cb6eab6c9499e9189eaad8b216bb269d3c548c48608c8b1e2afb97e93142fd7b8820c1cb61984b934ff4331a9558c474611d4763f4d706001d1605e7ddc797ece464608c1d636bbee297caf2ac3209722cdaa12f1487c3e485feab1164ee8d320808a0ca65928d3816006265133d0ef1a4ac6f14a7abc0d2aa3c78ecc3fad6c28d2358c9afd487e2dd7f07c7aacd246d13c7e10e5f86763de251a8b2eaa455b1547723e4a9463875ed26b237d252823a0188c406d3db7eb560e999d68cb429cf736c6406dba50d7473bb39b6495c7f2b97396614472608f0e054f77a73995a1ca60cc0a9c0210a72b0155e36a7ca7854d55c08461a637d0e58049278e2080a1fd3beff8476b21503791d279e0e0c97e7fb4f2458e1487c575443d0d47316eebc1c0976f4bcd6350a65174b3a4ded09661748dd5b015e479e3387910487f8d335a54bf5f48bda23bde56540013e1ce6de8c274b941c14b57aba2435be1ec966e2701b93e50d39836f34902bb0f3df196a031e1b21f6333ce738194d541bfe2081a67a336d5d31f999b6f8cece190e8f0ec237616b90809bb86f1289d57de167cc3e1a76d93d721be668a897ffd128848323e23277aa8c41a68d2ca1bb99248e674942a58646b73b815a3cb92f16c8e820844ac3fe640e1bc8d7987ded7fd3d722e573e91af5cb914f0b6611258921030240ecade5b7fcda72e4f34f84686f941a10549d20c491e039a65edf433a17fed51fe959c5171118907e263d2f3f704609bdd52e7723f423d816d910a44dd742606058f65f58a3e340276a518f0dad67301b9231b56cf48b816a658545371841ae9343c17b46f66ce9b4fe9c89f3000a0527a191b5209971d559f2d5abde42daa11525f04395f9bef5dc58926f38f71b33a8a259c9f4a0fc123409ea14fdc7168056334ea8eac2001ce26b48b29f318a798c206eb27fe8d36c664ac644011c7778a02ab0fd330e3fc0e26f686aed8e0fa2c369c7b631db547298b1ba9646ba02904c6d926932dd0ec99cadded79713634645971ef15ce3b4657d9373a91e367cbaee181f1ec8f22376aaa431c387ff39e3fc2f1ae8d8a8184b180d933feab0278a8a1d30b6fb8e386bcda9bdee2caabd1f2638395515cc7077712c401a3dbcff7ab5915de316f015670db74c45f953b56b0a0fcf88d938a23e5e0a973b00dbccf80139bea4efcccac8b4087e7979ebadc35ecb3f1eb30848f405fbd9eb5cf22d179fa163f956cea60440eb67d14f9541ef59b5c72b79a089b81eb480ec03e9e505306da27e27953030d77ef71b7f7971c25ebf3816ef5e4974d97eb89c10d780d8cb8bddaaaccbfbee68ff145b7efd6b9e4ad0bffd047f2b565b99b799de11cd67f0b1cf6dd5ed964b24f9a7208032755e59d9728d770c6ddcafef63ce59dea844530b1891ead526a5122db11e4772ba7d6edfda30c0af5aa7239d2d898bbb3574df72e7f8a5a7c9a027068381554dcb9a507ad7beecb6f416faa7821c71fc29f03493e772bcb2fc7d667b1e6a44f4877a5ec0a49a2e6aee25ae57cf9972382bfd356f0050d7e7cc99e9fc48879652becd2ac4c95e3d903ea6d0bc1cb1d27fa57ae101f52fc1caf490b12035a636364248c46f82b50189254ebd833f34d5b40e28063db24841f70224f16a0bba4cd6821f407cd85b236ad877a1c891b7670506933ffe9fd07acdabe2207720444719bda96ddb2c7ad74e0267a6d00660f574b290f0b6b351240369643c47f508c65cdb33a74925ed324117e917010151f2b09f7cd5fd3fadf848f5d25736232a81ffe7fc5f89adedeb9cf0d9328402879c5c7d69bf7ee6cee8990dfb603233ea73c37b196dad2423c2523be3c24b8ea639b192d429b740c62e4534fc152eb409ad2a31d0342be1bc8ef5a63a254e6cdf1b76a34205a6d2fe0ab9465e366ab93d303259276d72e44e761b86b0fd22c19beca21fb26b5c7547ea0620fa7f5184b9e5b337d7f252341a24ffb2bcf255fce12bc30be698d2dab6e15cf2599056b7128c1a5156a62f33dbdbc2856413495d9ea08920227adda5b0b0a929eb5d84e4337e83ed9e73ab3d8b186ee49e055ba3e61647ae38f91368c886357684c2ee414def8beca4424bec448d28edc9ed4ee604b48e89b29597318481b22019fabd8646eb1d781aabd6f35147cd592152a9c869d5653effd8e1091d3a873649f46f9f1a090d058c854732da0a9a129be5f2755a2bc136530abd618ab2d5db1c747c665a9d90aa0156a2c7725d552e28e01d29aca56264952824b4b259bbd6621db8b8f87e5e44f98c3f6f2d3ebf30aca9dbe43727434010898809e42a84cb0eb15b778ecb7f2f1847ee32f7f7bff08080e87e1f131f068cba72c962e2c3a9f2dd3c39b8b3bb3bcccf8c0dc181a1a40589445ff28ce5952578a895f04a336c42cc8989a9261ad8037064ad2f65896cc0ca986d815a748776d1fac4487f21e3870320af6064d2c0cc05fda5c2105dcc82d8a13ce6ac26bb1467063dde2ac8e7bff75e9325ce636b6c618e347546f43ca06d68e4433f17b1d2cff9efeb3c119bab9474deb48473fcf9c0820ce1678816ae6f7eb70f11266672ae69d79902ac200ecebca199692c4dce28b605a888a230a904ac39efe2004a7a5cd6211af0aa4f9fd016b0804d8b073a9deb74247c1fcf8c9b11798890192b25297843fa09c0821f76a769fb4da9e08fd191002a5676c99b6b6c850b0f2aa6eefd29258d0834a0a0fb5b4e61e794e6b8b7cab435a21445151fb17200233bb3faa87a609c4ef1b39feefcff38d4ee6a74f59f03fa27e715475cb935673ece352929528b79c568739841a7d029587e27c3a84c8956f0aecfb152de65205567fc688f545e0027dd86f6eba775767c17152d6dec417ea0bd8de8e41f764f668975aa8517bdc03c2707630a366d3e6bdafed8db6a28a436b017dc0fae04d537b37379a753a1883a5c3a5443a6b3fd382cec47616b81a49015ead9aed8744d996156972975b23b6176883c109f5ee5b07b84d5a2e80db9406af6b56fba26f5863797481f137d7b3c281aedf9166fea2ab28acad3c1ff28cc919f48d7240e2cd7a9cd8e718f153c7c8415717b56224977062cdf1e43ae770227782405d6acd30222ca6526284ab3e84ec9bcd2dbc08fc6082e90c558e4929ad0cff2f6cbe055b99dabfc7706f6a40085ad8363d36ea6441d2c1a9832486ad03e4a228fa37681791035a97a981b2a0a3fa185a8a18d06623a2553ba7429174148cc7407d51b76063c16f1243eabf7877152baf843a2893318bbf72fb16e588b26806693d4c55772adb13d3e0ed935b734563dd8484d111165fa99a8bc1da7060c4f0863522063b31c046e068634ebd0b3b370ab19ed42ff5803cb44a39578f40b961b2579b94e20b82dfcb647d4b05d7d85daabaf6149c9ed04717db85cc659cea44b6b51bc6a7fcf6b133e46b0e6cdd9052789aa3c930bbd737a0700a7132b1875f02ff61803c9d2206c1e9f8bb702ba4aa315b4f37d93c06a922d16a50dc1a199aa553adce0efcd8ebadc1d8434263bb503934edfc723896684ddc3d6116b2df52117177e71b9d422e45b1e454d1a7a94d06dc6392f1b73f03d00a0f0d4ae78f1bd313d9412f409f3c652dee3ceee653b50c9a27d4525568b413220fa7153ff3336400c2f29c93519303a23487de2994d0f6931e69cd4f26976e60fd52d1b8ac51fb888430a318b15f27ab24ac113c3af649455e7d250b73ab645563e1e3e91ec19d5a9181466da66b7b1666e40410cada370990aff24a990f631d45950b39852c0a5eda6a090d5d59cde70857777b4d1ce56c6fa683d76e8fa6f7ad5ab2d440e3f0fd9555e73c6f9537eb1b9f8c6750a0aee8132edca1e0f54490cf9ef354d3bd9caf0f2bc99b0d07ba0fb8cce46a286af62c2b7d290007c645f504d44b3397e5b04d22e49be9ee4fea03a58f6df8b8a04c658814fcaccbe7a50a09248799622655ddeff440285ca64eea64d0114bcf546a9e14bd3ba46f8d0f84ec875f4eb6a56e1f9d0c79dbf114b33632c2eaba97e594bddcad17f44ec0f0b3fa81ac30549a7e2c022d64b573ccd68dae39bbf4b75290b049cfb3911aa7f0649184c2bc1df113ae8a50bcc2338b0c4d75765fe2abe2625d6653464a3daa599bd50d6a260da4b77506eaf3a372ee54c4c468b0bf3cef59d34e89195a8964dab2f373d46e097d57f0351324312de1d06671848197251b3fde42d8488ab1cc9942b49c2daaaf4d295c1658e14175a2b65d8c7d97605e9c1e45347d61e13863dbd133dcc76d4e5fc66816c0b615596719f9723ddfe750e66eea10ba82eb3d3052dc484898de98cb1a362fd1edee5c386be38f719e9bd2179b946ebf6d2ccb3bf0282217c3922ea010d31fffee5df47eaaa1a4acfb330ec6ee9fd9fb7f11c3bb9bdf41b4ebe9baac6d15d67bb9036970853ed8e73ab1d533ed43ca64ac1c4799fda9d5bd69a6a3521808716b94f8b886b2b1cb09bf5b17be4fe64a7679871196dbf537efe6625745aa9b2fffb315b44ed158926d1b533a9edeee99092863fbad17ec204f8092c2773083547cb7269f90b92e3b2daf86d6f8164a4cedba478430762b91de41452ffc6b0f962cab991290161948dd286cd57009d27f81c09a5e43b8e03c02399ffc41e728d29c63e6db6fa91a1fae8261f5bdbd7fb26a124ebc3a6f6c929abfbd69eb0b09ed1b1bcbe63f8483de6bfb884c582e9b40e2a25effa2d23a5fbd169858f6e5bf4cf7c01ce0df66f563b54d606837fdccc43b5633b78094f83071353bccc29bcf5b4f995c05504d2d4a16308e145ff81b11d026991e966c1d3866655c58a8070828f791e142716dc078ee49a778c0055d66800889ab2bbff7a42306aff76c8df9ff807214ab2977f5c7d20e18c28e584a86db5d39f6a44addb50d65a5c679fb2df27ae3a87aa7498e6a5ecb23f46a762a1325e1bff6ea755f5ce94e71576a859581ca7522fe3c4417c9884679c69d0bc85f2903a3f398d9151425a9236775cc3f38fa3212c35f8365a878f40e46c3e7aa1ceee375f2d9ecf4b8bf720d22990ad5b7cc8ff316010afcb5c1dd7f4d4064e0a7d29a8f398a07d3e5080d3bc08525d884a92bd61113cc191ecd8821d6e93f8b725f2158891696465b292655fc5bbecfeea410b0bcd0155ccc83cab4afb0e5990dccbbd4cb5230a2b7fbd3c7c921e50ed53a74b06460998d5873afd00f17a57809a133c06699df6c15099171a42cb8d2050fd6d9df979c2b2e9a3aac4d03c21e8b0e0ea13d686958e478689b1b9f50544660f5394d55b3f442fed5ef0f5e74b5163094930c8722465930b398676df60c09d09be961d7cabcaacfa7b4a8bdb18bfc93f5a24b4b5bc1a5186416973fe2c6fff3083b6a1ed48058f6edf0fe9a0f46e8e71072fc4c3213f2202367e6d2befc95fc88b6529b946d88c630c10530cea1b643adfd954dc4c0068b24dc240f781799257b9046ba8b08e1e931e66aa9b978338d55f42304ad06d5960a576b4801da862075d0982a849752da8b4e16f487f0d352d3071adfc2e8e5ce55c2e8af5a91875223f12de22df19a1020f944a772c9026b27a6cb776dfbe481089c339db25895ec6ebaee811ee633418976354706324be99dca3794cb53d7751fd95403477b7f688ba3928dce048c3e8d9bd1c9afb18f661fe3edec8bac326c420a497e4fe0421103d57c0c6e711d65b269119d09c128107ee49a875fb79b1d57193bc3eb7c2da6f870f784d646d35c0c26df476445270dd22444a4a990fbad22b042f5bbd2402f4aa8bce23917c1f101fdfb87c34dc53d2a158b6c2f5c760b0b3dc81b88a683d5f2f807f3aed704c8b6625c7e3ec91e944c79f30741daa67b81020075226be9b9232b6727f5dedf9a5a336775bec16effe0bd9c4aa052fb2fabbbc99fea00fd65bf8ec0cfebd1c7516bf5e3a810afd991893d12438331b0fd80fc15f9789cae589e5a1fc30812170a4112d3a22d4baca060ba2d3c92b2f816328c9fa770bd505b64d0748b66b5ec38c8266ec1969d0d4c15c88e3bdbcf8f82cc4a71f31546f8db2a8667949b78517565ab5437b1366885b0e7ac5a813c568e0b2dd8b83fc6d47d5d09c4d3b6a02e6ddf4eb3218c6cf3c29cbf2cbd483d99f2ec60b2c63fa97335f2ab555042a89e228c0c3894fd972135eff5cbb4176ff9b34463181f5312dda776feee8d05ff7673710336cbeb82c6e1703b062e6fe0f1a07c8945ccfcf45291fc8702780e1040928153ef8e2c378ef9b9d22a489d9beb9851621e99c456f790da01a95afc82cd49c837bc248cea8b87da4a8302adbc3a5b5827a98b95da57c546994db2914f51d1045e9c72010c7e7ac14b50f6d100b1724f19458bb29079fc722f1068a790c880a15a39ba5f86c962c8cef8272d152f3b981adc630b59465ca5eac41e1cec07e44e58aa040900200d45cc656a629cf374a15c17db2ab6dd1811f790a8ebe55dc323f93d71da03e1fd729508a03d5b82e4b55062f6045a502c47c25656e2546e611e7ff47b98125e0f5d063a6fe1c57dba8bbeb39331aac4e17bbc33274e19d1ecac87d8175cf7b0800d2213f38a51f4db68700a8dcc85835ac5a6ed4220b6afa96d65f6bb56fc3c5d995bf7e3c372dea1bc597f12cd244e1bddd291103b4a96907959f0ad7ad7b30f77bb8cc4145c0614ce9a8fd66683c1a77f879e4a19767511fe6071893f91757e30c55cf35b4d5ddd8f6717baeb0ea8a913e1f625a073eabe7cf66f9c96999130b4cff015231c36d25fac4819b9dc6b136c089f45b0b78591963a6f0bb01243a70be8f6b41177fa602066858f240731c559091f94b23ad861e484b40f5dd6c878dfbe613edd23759198491a400a95ea420e84be0cfaf03a456e0dbeb962d6aa5cb68ab3464e4178379b23aca1e07306c84b23dc7d24187cf949c45935632901f53b5824e5bbcea637a3fd69fee0d26317a03c8c529a78801b113964c7ca0708be93561da477a7c2851ca869f7d9f4f4cc1c00f2bd321bbbf2194ebab154fb6793a9a10cbcd9c3f66badd029da7d5eecaf9d9a50b7a12517c5f14a7a9479fec21f2f105a90523f583722007db5a55da1ea2759c2ad890acbc3bdfaf8ef29342704511f5aa3cae3e850a6565ea7d4e93c76d78ece83e8bfaa6b3dd9d5b5b47b0685555fc52b44e8aa9d6a24309f29ee3eef7777cbc414e38333af032d299fdce27eaab634a07ef966bbcec2ec18e3e04bb43ba23bf2d96d176730ad26ac2d9e4b673434cf2dcf2c6493b3538c94f48dfe5f4d761250525d8251a0c7f966becbe6183144083a74f6a35f32f72d1d07d5cead35cde71e55d64b185ab7c19fc61c06c4333fc30daa34f6f7f385854a9c0c34b5ec5ee1082d2d510c7d530178cdea2e21c2945ec159d158e7a2605bafe8144a6f3b5027638e0f146b150c62b473c6ada6f2fc1d74ae8934b071bd61ccbeb98ca3e5d66bf874659d4dd581808801c788bc92976b6b7b0815a066f9e051dc90a6483a00ddbe5177735b51efe9953bc7f7a720a6604c7e9400c02809d8407d1e348783014cac1eafa36ce6f052b917843d6069ef968cb6a8053aadd4da396c5bb62280b9049f1740d7a06795729f8e2418040247c8aea91d784c5ca17b69bd6cf102c814e55fad5747c09df8039ee90856b8db1e62bc79d8151ca78f29db0a7e2c7fcffe2d3a05d50be67593cdcf671fff154ddfb6b4e6b9937ffe1a2e3fe9b20e9e9fe8c8f6003b3ef496bd41dac0c679f17c9a0d548a4138e27e285fe94597995d1a226dcfc0cfeb3605b710c1d6490df658c0ca33f4f373a80a32f55ea0f3dc694218247318a01f75b6ee61fb468dec1cd67c5192f2f14e0916bcb92da60442a4185b4190e572a1da9c29812756127f822cab5d4acfa09a8cc5840a65b35bd2a27f0e71d46a3c200dbbcd4f7040777a4724521d5db315576382a9772d4f049f7d3c505156ff482c8f40036bdf8a889e49ef8de2c33071c56fc762d642990c50c4561b30df89fd763363478b8187df430430595cae6df0dd8dc1dcdaaf48cb0ccf5d420b66c568171375ef0f714351084df34bdcefc4143e630ea33796c8c218605328f6e123558d50d8e050b397055c99328ca79bfc47e6d01c75247362242c8414fc29255e0b1e16580492471333c7d7384e757459b0c7c47eeac16a7beda8765d9c03641d8582964046bbfb4ec2746ebe258ff5cd4ab6696ebf0e60527f1fb37a19475bf85b5fc01959b1992f2ce8855409546570dc9312d19d60957be29d3022da5bc9577d644c5095343a27886297df110fa12978f2c22d1c78a0f45ad8e4835209b8c799adaf0853925d1aea66c61506ec47312cff4046cb951b16c6a116bf709b1e70361ffe9a5ea24aa3bd187e273b02b4890a41eb0e0a95f5a8b2493300ed955a778f85b2c3c33e09f8144a200c33c8b1a27029f96f4b63eca2c34347dc0678fe481bff56ded63f9e3893d03b9e386b09d78916b4b709310dfbf7b0faebd5ceeff581fa4db4cdb0840ed06d4e85449d2d86f010ed4ee142825511203c13026efdd50af2e1d31c02ab2c1d05f1edca4148f41d682644400a834a0adc2026ad9e884240b93dea25afb63c77c0629b8dc5d716d98814dbf14282fff22258478de4da1f14c5086fe2847384102f990ed63827178ba0eddbd4dc211c62d355aa9e63cf505bd0e67ff444f4d3f0ae109fec0a4ee7364a61624f0d0745e4ed7755a6a16eded77d839526810813e7e129bae3bb4ef78c161a74f44d9cf68a1777ba465ac10d075321db8235fb9c4827e612bac3b855c1fadd4cd93c2690627deafa0a5356d5f27abc96caf9c0bae6957e4985e41faa968ff09aed4f0bd087f28fd5dca83148473f6b02fb8129cac98fe80aa5a6c766dc995d417ab626b5fad982185117e7baca691a637fc3a6ff4b2261083f868717e1a050774c29008eb9aa136b612e9b56bc24d6caba51efe7f6699dcf50c8bfe9a9f8abaf16e49fd6c7aff783b4fde4e160a0c600205052ffc158e6cb3564499fbe9954eed6293355f8c1b06981d35421856f42b467a16a73c0b1f9f693d50e68c53c6ef175a3cf1f3e371cfd86b8ad5a7788f6c4a6a21c6c601be8dd00662029711de396d21363cedb0e2cf56aa5ce37085f4fe0e07f627be8a03a643cb54f1ba43d42fc45bc12901ec623ab73fb1799cbdb75164cabfa17d09d2f5c17319aa0f04e1c0eb91a72960f57922c2f5fa929c7cc192159d2dfac363d8626b0d128374b8c847889332170192831fce1541d0b8e5c406a123e408ed26007f349e52e92947364f353eefdcd5726de0fd391276427b06987f9d501487d1cfb7855dc55ffb498188d92620865ee63e461fa8131d1d6d781080d2185c88f4d818a406646bd26edf9d54d433642eae859256014e693a91ec191f3bdc625cf3fcc75a58b63484ed2039ca2ede55a953d76f7bbd14fac8b466c8ce4e1047252aa820a647f24208db0f592d1022f2ed272f56e70214280b4a605079418572e7a8b21ffe160ec6382a273ea929ec1cff576ded9a7d0e435ac3e1aa3a412e23648083b77c1b3d19117255b6e36d7e5ef6681dd83d11ab4e7f5c88e8b8a42d6f24594fd19907885fe3c9a871a92357b68381e75f49fed2bfa6331df412bc8d8699b4b4534ba3a2c62d6c1b2b6de76b1ebedaf44c0eade4039a2b98d25809ce5ec524a47f552aa412f2db378659a9982237fe8a3a5a88aba5062136110a39398a8990a3634786f0c50fe2a7c2a1671d47e406efba7d65e1f288605bc383c199f3ec9791129e63acce056ecf6ed53f2eccfe2d1eb181c8e45859951b69c73a47fbd29f8c8d8a2c2b924a2ad88df509abb0259049527f34f7056b1d25560f9efcd172a30f8ffe09f8c790a0c25e03ee588969cf6143f0ee3b622be9b23811c575a2360eaa3db86614cf4559b1c23950f2c56f50db74f0191c96cc6012528fac021443d35c72ba828e0aab2797834d33129b020b8f62e11b83a9245fd7f0664dba631202befd6cae0535d90d0ed144b010a65cf9963e2cf25740d071ddf3187526f8a3f69e3b162b6eab277efe457d9a10763d062c7a4bf8564fedc9b91d7f267b64a58207940d33bb9ae77cc37e741e9a6ffb1ca34284e47fc12c4e72b200de71072b7b72517dba8c0d9acce4635f7fcef669e9edc86f02177fc9e591bca90904ff7bad06f9f1da847db8209bb590931d0316e88a3ddbcc79c6fb73d6cb3d98006cedf5ea1d31f3fb505569b5bd70d3b098b2c3ac4644d3144f3c3a2a601405020914cc820212f52ac1e6c5dd3f71f21f82e509b9eafc2ec9960f86a1d7014213caaf31781c47e91e4d67b92aa92c9355258ef7dfe0f37a050f44236f1ff143fe7d45feffc23c8456dd405eeffa1a174e35f334cb3dbc99f3001f5604cb4bc6f17a50762ca6240eb94eef53937b97484f41ea0c84cfa4872f671deed40cc07dbf7c59d68c86752a94cf732e2db4b7cfcc86a9bce89ba5db1d2ec71d15d01ceea37ec1f6e88a6b807691e91308b555a8f694b665f16bc7c2bdcb5508c9a8a18f4dfaacfbfa547d18b912e5d4a5108582782b4d4e191c75b01df44d8ab7a01262a12cc955818bf84b3a9b261b3dd6918087398840307fe9e845ebae2bbe789cd312f68ab2aed7747904e231592131dba4809f1ed0e0c9a57919535cd2d8b3979ddb57c484f900610cbd2873583019b483566f27033d8bb2265ae8f8bdd15b2e1683ca99f2921cf91fb3b0e0133e55e8650445a79ccd2e849a347cb713c23d0e05090cc229d01eb1ed0881a281390dc79ad9e6f95124f88778a9a0e9a0c8cc19221553a5d39a874ea28a39b5347a69bf0da6b0d50d75dfc65294c54aa56b9749d96cffe429cc383dacc7078575a8753d26f28c653080144374e5f4214dd844f2d852747b4d7ebe99dc4f424bbefcfcc636d6557750b259954329d7c429add2261f7fae153fa287cb7a79bc31725729ed135232881133f56deea2f34a8b5139fd4f38c5ec5c109697cf3fb145c7701395e0eb861e9f0140e27b770ba7690fc80dc04843b5fe01292910437613508b3303d00a82bfc859295be986b1d78c12a6c5482263813a09770164df5fd646a1b41347548804525e2d7e41a3ef71974b32d2a84c0b3d5e5f61159683f69ba460eb979dcd248ece55938c2f84fa195eb95a98ae7f61d129ee217d03db62ff44fa02c37641be716b64506ee2cf12d8ddf46c1a281cf0e2b4efb66e9c9a67c8950ef6186936ff967ae4381b12e260aeac6ce9d79df4936e27834d0da6e657ec2336876c9157a8760b576d2e9ecac0acc039995d15853505896af7786ac8093f9675f782dbadd295e8139acd1d6179e08975a5fa8521202e4692d524486bbf574436bfc49bb84898de0e064f5a774afdcd3d57d4a751a2ae2bd3e0a0005ee81068c00f3badf41b5d34e99f4543fc4e00dd6d21c4adaea4daa1880e8ce6551aee58e815888a8e55767b1f799d5cc992ea2919a4ffd8ca91a510c14e3079282bb030a343f4025e6d41ea20076cc61d25ba8c58f5c20dd935abc4ea50c3dbcd3935f828d9f8004aa96d1b3bc51c18c96d27af47ed0ecdc1b0f577eb8c704b1015b65ae5e0db4a1e9bcf59018d4780341bc6c578a07ddd13770dc3194921423fca54d5fd0afe598e163c2c2b35e03cfa5ca0d1f9b90a9afd8466a57dfaf73e47eb5cae7394cb627388675b793ef7bc9b3a11db7c040bce26b7ecaad4c491964e9c2f0e3f650fd1e94f979b9181db5330d10ece4ae41dde41d472260c36f819e82ed166abc9a6f3039e7ad3cb3eede23fc6884172c58d4571b7010a1eb52f9cc5fa543d7ee6e6d426f94c6655d2b8a5f841aa81dfbc35dd761d85d58eee056e736ad7f983178667da4814b4e83ca52a62304b28ee68b052b21e6d8688b86594229b1e2ee4088363f49fe6473a447b613c5e43d249458e1c0433e1ff5ae1eca5816243788bd6f7dbe34b7266c9fbe7cda12cd204b2d0fa9b78929cc7490084a93e37c8a5dd02d81b210760b1d93c696e4110bc92217d568e95ee3a9ec5b21a72eef52c330310371e0158a6f0ea7a29077f7723174d8a31c0f1c77e49874789807f19c5d36a259140ef3f142c1c761d40b32972f8d133b4ceb4e8e2cd81d19f26a85e74a39eb6a1533a6a9be3fadf8a421c8e853f17775445ad3b6d0100e69fa0c2290630ae4982b131dcba530ec207bef9cbcdc4610d5bd14e0ae2affcb5bec0f197a45e4af733b839ae7a843c245ac6f6f9e1d233ee694b3995b2a3fd3e7f6d6e051813e13e0a1308ecfb05851589e755a369827b1b12081c4ef66f4cadaf593e9cfdfd6b0417ae59056a96171db22d3bce90be87ceffa9db73de7a7004881dc0a2e3f2cbba9ca98cc6fdae3148eacef8a6933a8c2c889a0587b05b9b2d46401e1439e1517e1775f31ae45a35308989503f6e6008864b5d925be51f42bdc15575f4a98c66483e0a4de8b836c685817edcf5c15c5a4b11f555925ae023ae8f105fcea194b98961e8db734d296623ae6b2a9ba9b6984c0f312a626c135e1021476b66844b5201baa0490cfe2c0868b27bdff93ce8f0bafec2c0db2501db7e33419b87e1a7c62de585c20e10c9d89254b16fc1e198bd048141b8244c7b3842bdb94708fd0542bdc3557431479d43c4600d6aff9fde7f13d3e2fc86f0ac39427eb5e9a5e6ebfc4d28d9b9506a40085fc8f5cd0153b5e6ac0a1c524177244abf9832a7523ce511decb7e781cd9e4f394abb6c8953838c2fa83af3a7c527228f659b95a202316ac6424110c457d35144f117e806f693c2837bdcf1ad386dca2674c1204404be6417628c3add3c57a49fac4644edbb91b90954a0b776d66111c9de89d8ad88d52854fd15e0f3ae9eeccefc06fdac8f1af086edb1500fee905c15a68997535634a25e3dd5db564f50e08c3a604a2f9841525d234fe6097b845db413d68c0186e0119788a5d5b0d37a736cfb8a31903102cce92bf6a2c7b8c087fb56b925f4f74e66b87fc449709a54f447e1fe44d151278ebe54709a4c032055a1b2ea8e186fe95f046d5096810f29fa2c85d3ce772657a026bf5a26868c263855bcb1fe866a51ef0a7062197afaf36fd8d9a8e6419dab07732d74fb392a0150537b8cf3ae59e691fa549d1348a00e50c3d0a7ee80c91b7a5e458c03fa6884f97c4f124f65a053034132b54ca5129e9bb3bf8bab4f216bfff5293e4c0c81cacd6c14f8f4ccbeae75fcb9327eedd78c158e0031e4330a820892cdf4e5eea0de11027fbf88b8f80209527355ded101bec2bbb3aa05ac4b6250e4244073004fca1280488789229aef95ea768adc87b5e6a2476e3ddf2d9a3ecd5de9e750a216a2fe43225ee870f3048f34be2b9478fa0dc4d52a5edc6094516bd27facddced5989bc6873daa96ecd5e86787635616648b1be528698f4493ba35ee5ca5da2c00e8f49c26ecb6f9188195c4e7621b5a50d2c203c2d18c45853ff86a5cc60955de966bd36070d74936d766579e8f37ba6ba0ab3e7ba132874d36a25bcb2595b095291b0d45df2f1f710c6264641210e1e930d490ffe70c69122313bf480c268d3ffe2b48116e321d058c5a49481479b738c4cae02c9d45fb1ea06f77244ea5b83b1fe6c1c40d093cc19e49959670b758e1d730062292b6cefdfa5e0a3fd26c3f95dcdcc397194cf4b693d33520b1fbfa8e8e21caffa21da5c5ec7c689e85f9eab1846f072cc6b87701531f5db116045d15143408f9a60039f1deb467aacd3f0fecc12b2c041968e270c93e4348c5fa543e0f64f34e427e3ddb93ad0eeae2106213fe74ff62114f272056819856e8e079962a3775ebfdcbfb60b100c81a418da4dd05e6a1bb3bfa16ed3eb8e92c97d725b2fadb2f4bc311653cc8a32cb59743e0cee7e9000c0d209c9411f7685d37ba300271d2a492749357d20cc6989e041dbe907eac472d3141a97a5ca336f3497259a1b896318d2e6e105953ef8ab56fcddb347fb7832ffc27a75be0a64c0b92cba276a6cf00c73dc7576705dfe5bd6aab75f5b52f1d91c0f5a8b3acfd7fa36f334c4d57c9cb8b7ba8b8bdc4630c3b0dd3bbb4bdd0b5c142ed92bf2fd48350016ceac681289c37ccbb677f245b95b90505a91ce5699a10e61b920e57c7c5c2712cf1591b387feb866134adb81f75f0325ef91106b6c3300c1b6a59e72c2c8542cc86cd249c79923f6326f2cd577b56d4371fec61e93ae5d33581d90fbc4c8e6f5d4516fc064c42e73b2a424a656cb68f772a6e7e177247453e32814299d58642ffe39d7d8223f967e0ccd0fc3f6389cd8969e977aaf6adec4407674ab94827241f5eb773acf2a2c3cb34f84e5328a58ef56f2e8936e633ffe6a17d2c0647011398063c46f5432f4960331cd14427d9078b6a0eb71a44e9655958725db16964ea98e035b28f2a2e87d04484333de4df730d18b118a88fc4660a10c1f42156e7b771ce416282eae25bd5e0aebd5c6810d0b3264c6261188c190daa5249bc19465d699c4b5816c5e09e3bce84a9ab74eb621db6dd499d0a894e1fa493c19d9cbc67ca24ff89325438b401ab9ac9028fb21a002566733f06c05d57ddbc2c2e84a3bd7b5d87afa540806a91a22ef7180133eb3504dc772642a62e55cae1583a1f8bee9f4c4e4dce7c59e512665270b8f03ec48755d443798d4e6c4a9b9b3ea418e5372d6a4048c3d2b5773055971cc33eccd200d6ae0618760c06ba3631dc84fad7702c3a3ba2cf5ee2400c10e98391e2e0976f585dffa326a0cc6f91328a64a5b9a19ba1c82f3ecce9c4f63545ebcffad6c93dc59dedea363ea909bb07c6c43702e900ef99d9662fcaa5a58948dea417c63b725e22990295955e5fced0c241f5a33bce7e31c155d03fa2119e0e2f36d3d25290960c38ff9fc93d28d143100ea977970040ea6a69d430c920199ff08a2f2f5a33c3e116999e73526016c2e3d1edfbdaee36488aad0436a2f07846be135f7045370f6863170e37f49b392e19ecafca6632e5646073eab651274e5804d8e1d398c68efe1fcea2bff66536a68906e019f3bd7736de0c9be024be5bf16c6db3e37da3710175ff8c20b37dbf9dd8c53606b37b52c71bbdf4efae69090cd51767f5a90560cd0dd80692dbd68196895c58d79b62ae280bf02f7ca146bc802ca4af5834c139ba8cea2b1830190085c55a9dbc857b1f1244e0638ad7eb47be388fe8801d146ab0eb42559a31f72eff351ebfd8140fe3ba201b1491576c5f9651c1d3a7365c5602192caaca42d6ae63ce104b37266f79d81b15da021aec4c022a0861a09bb4041eeeb2c1cbfb4a04c29855bbf6cdd52d3fdc4cff471223b567430fe01be19899f66e35e58537f1055a983eff037a3e56b291b391649c7741de9e2a2146dfd78e58ccd40ba57eaa8653acd7dc7ecb4590d78371db6ae18479018979e311d7faff36979d87e621be3970dc99647885e9825100c48407377203ddd173199d9222e766ee273be2116bf7246f266942eae81e698c8d2e2622927ea13f5dcc4a78dddc0d706474f1e5476a84bca1993bea6d89a33c398f47b17281da988cbe9b7714230e91522175f86a51961e3d61c7030810a5433ca03e88c3aebac422a11ee079adc8f334e6d3b6d2169b10fc34b873222d2a9b3ea9c8ec113062d27f1245e348bb73ee6bc4fc9dd1763e1577240a1f89acd28a00e9d254841fc714c523c19113344d9ee807300e9ea1b16f3c6957b3ba401cdb14d87c0775a6c202dccc4131e4ed3378529c3a0ce4ef0d92d92905ecb115c9fa997db0641b4b6e0549511fef7e111b86c845249c8de828133c4931377fa131bf7ac2dc1b49d8352d1046a8631709374ddb08fa4f638b64e6b6aa20c1ab62b5df4ad2b223d6d78643567195e952058b3151fb6dae230d1ed7c6cea7fb254a23d09d1fa4bc61092640cc8dc4086dce79609bab425790792b73977e1fb232a1048fb213239efdddaf0aefa962495d7c9eaf522a6efc59f4c1d6f737f24bf36acc3a072ecc7f79b7209230d324c50099a1407a466ae47353caf1b85f92e50774f1efb3e6eaecc7cf06c4c10ad2bcbed348a021b25eb345072a96fdafcf23adadaf66bd541ebebd05a9cc4a8fd8ef5c6d4034387f1af876474cdd5cc277f4bd2824d72b13734436eeba99ad9d2739e09e2197699f59ddc2526f6131c4816fe5bb92518224922bf91b1b6cc9d16edcc4fb7e2114914860316037c9ace708243a40e4681cfbb8feb2039219fffd100075e28866596fe94d60da50ced090d1be58a476a91131912886d2a754951016a4766a33d3f99545f32508dd1506f000fb35d25f6088edd3f1adb82bb3cb54795016e571f9283089c7314b3fcfcc602a881bb4b3898b3d7e982a3ab43d503ecd13e43a1da8f03afd9ad75b728322c731200f39f1427a649168e44b49ea6acffffff1acc7c04a42b8693ffa4ec12015e7df13c28246addf7c4fca58e6da720c0d97f51cfc53875045a2dff820fa85aad01a4d360bdd41469b15cffdb2aefb187c97bcaeade918699d77897361e6d0b8d54bbf5affe2b42507a481ca847fc387c9e1486fa2f73147da555b9e285680c4b32df69b99fa5e36f11a18ea6bf06ef50569027e53673eda84ee08420a9a878671f556497ad6d396e4943526e44a26ab92c3174406411e0fb12f014fbb82f4b59344df5cb7b11761e27641b07179d0d209a269d9751563211eb467a0ecba786df134e5e1badd516c3a42185b4f5a5982d4debc7937839f1d853d495ad606b8a5ea097f6fd523e0717ca4db9cebf99a6311d43ea645ca6c6cdd06562d6e00c07bf39d4bf86e15e42cc3f269069386356700b8526c8352d64c971da8c0ad838780597e526433e68ad4e79ab63e4632eacccdb7755b50c52d95b006fffaf94d5daab6ee6198a4497b265018759f11d5aceedb3f501ca44073ec93053575083098d7af4b333a9d8b762a3aea40e411341c2a62d6c0db1968b0a6ede57e4ef4c5e0713a2d3b98fd988346023ac5fe9c254cf4da7e01e47a220a8d6be822d7fd4104fcd","isRememberEnabled":true,"rememberDurationInDays":120,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
