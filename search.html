<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"8816b33850d9c7857460543bf1eb95c64e7311d48052f88e74157f14623257ac242f7fd61d6398e3265ca485fb415b3570f2f6969209af1f9bda35439f8d17077000de07fd04dea8e4d60eed9d66b9499d54c702e9f1716d6467047c6d5aaa9c128a59c9a2094f9ed2caab1970d3a1830e218e124a701f8f3974479a6119d039e4cf96acbd166a3abea672a0829bb1bd521d8938796eb824654aea9f26b50754c5f259e0a59239eb4f1544931ed2e7e4ed03a1d103d74e33ed4fdc592ba54df434e080fbafd3362e9392c4a7f25c7f96b166fa437c26e285c469354e3a12c91a802eb3696b9cf0d61b8a3df99b14db117da728c74d9977c675acc838e4b007a669b0c2b3ffbf21a50345564d95cff44c67e62655614dbead5f496f57f81750cb09f9a5a169a4820fa4ce23447964b3a2539c20b7b3e89b65cd9042ab3b16bfe734809ab7a27fcee0a02335c2b56c5d8d8d8fa9f96ba36b70d3333627685e1585e6ada2d46505d998c50ace050c018cc00a61f39b5ce7229ad22202599694b023c3b88366882f3ada8eae40e8b7d1b88fadf6b087c3e29945d94c78096c9137a14f7b41324466fd9322e27a438a1446caaac78e9cd28cab5b74b52f87a04c9f447b2f230a22d248a09dece89c6accc2ac70f72c800181a8afd407ee1741ec1cd8da0e25d8b4f0c0215b1d005f3477ef36224a12d7436b3708517949163ce20865716d1ea96348b31fad30b790337f0806481d54b34e6d74f8a4640d2139dcadb52bb5e12f224b35124827885108150e1659a54494edcd7f0cca20c31662abf87836a0227c9cd89b3030f9d3284c9f56f80eef271a1710dba0e4d66767daa4cc968499c3b04de10c8912440f795cf559318ecc5c9fcc282b0902eb33a881aa0fd38c42c808ba72bcf08da4f3186c22c2aa3b73c9fe169b8d9fd96b2a1448eabdb458cd21f9bdbaf2c484dcf701de9e44335c2ded06c5b74aa25eb8e7983e13bd20b2a3145c3c39c395b348d7245fb1d3c2e1d2528168013afc3c2245785229963104f34641027a1f84c4aaa7daef54739cc6cd33ac35f122368959f9b499fe5cafee23989f299a1b5fce057db1cdf7623be596d236d50e2af296336bcd79c90b7a9635227d7d00cc34d57f8fcb2018c8713e2d1e522df20b01fe31db042f951e37f06ca8a2766b2fec5c263719a78b249e6ba83362a4aba8524eae174e107a26e8e31cce6c516654bde2f4fc688297f52422686da37c3659bdee7cd1889073ffcaa7b429c90d2167dc21b756341b1585358cdcbec41be53b193f55e9fefc29cce811abe8d471ce8e9a6403377453593e00381d5804fab871592761dba0972fafb8562a2c139c4d562385e53c868b3c080fdd9214ada29b6ec2624654649157c5e87a204e1ac7f9757bf2584033d200f575cb38711a90be54987020adf20014449aeebf5ba8695310f5c051f9a1107d0759958c7afac84725afcc841d5cb0dad3f6f8c700cc1f0c469dc12d99b53935bc97229eba97b8d0191d9c627dcc1b0964432c60d847b257e5fbb394c46116754cc59627885f3234a5f440e7dd22d63601f996b1d35aef1249e29e51dd00d1565e6a7cbd87637b0f9434fcfb909a2783dc8b6031eb59134c1f09c67d0491e33e77342e062af126e088ce4f48353edca35a1f97ad8bbe0dc631042f23959cdbd2656ae5b87d98f3007eb456f0ba9b867ba58824a0f0fb6e1cd8650924ff1c035632d612009802a1dd7625986d2a454bbb5e0738357ad745191ee659fa6aff3ebab63fa128687ea68fc8d0a28348ce9438c841eab07a025fe07731c363df7f17ec55aedcac5bfa9a83c69dbfd39767bfab8311feb7dfb279aaad4e0860dc4837874661da3be0adaa6ce0a89befc6f1f4045af9449a5e2f28be23e60cc74a9cc6d48cd642b9eae6e1641d366c5cc85dd865d9af9b390c16bbfa0df6c781dc1d5e35450496abf938edcf40b5c30b7dab4f4b069b13700b5b862f60f2033c4b46ef696e7d453d69bc5e16be3e0476f94fcddc5d63825194fffdad5f8449d40ba317e2ac93b0da5596028acde16619f4062371cab2ede1fe749eeb82798299d558d27d3ffba230c1e8545f7da9f12f761d7b80185da5e1d4eacc789b2acf6a9f727ba444d50c0dda1262007a2e9c07d1ab8894f6db16f2ba591c10331ed239d87f4ea91f0c0b5d0474fdc7a41cfe6120dad4f14e01eb3d3e9d8c61c876abab88f9fe416bf0dac828743234ce0ba939d7acd602a724461f0f13bec15afe0d13200d157d23820e4fa301032d13b19f26c5a6c8e4cc05614d42fac666252c5fb1f1a68a169cd0d09017c8d0675e8029b6312e3ce319d1432ba8314941289574ba8d013656b12f9151f3691306a14c67d62fbd3ca2d08ea7c8be57246b66698a52b1d7a6a70db612f312843527d73f2171f809976e1dc6914c9ebfc9d555953ad3b0e6c541fc04db4f1a354968b37aa83b481f061aa6c77443896aada0dc86f2534a6a321167ed67a3b569e3574b7f69cfd42e0385cf2be469336bcc5bec37821cf8e2f2529543da9d52bdb8fe685dee920df3655dd7d05789197ae48b8dd68d9cc28939ed4587ef409f822b5f80e3cae047f8a5610684854999684cedeaf13f440e7f6afd53ec76cee4a34d3e4574083e4f6514239290f075612a93a4970dc7800a82a468c4ced53e15846cdf26bc163ca397fefb468eda6c9780cc2feece14f1a4a07d193957b6953c1c8bc4cbace2e617841fdb0a7d2d85590643fc4ab799527c7526b4e60c926591be192006174ba107361da709d9fe80368a8131f5981c9df91926323ea31f51163cb9b29e62cf210c702df9ad4cb162e28213991c2aa2fda8755ab4cb24aea96d4f3315a319ecee9728c09e5efd85fd9955240120ef7827cbb06b08c4b58f5a55ae2f19be1a0e4f4449cdf1c4d89c270d0e1a0e706e131cef04b3e0e5a8dcfd90605eb04843c078db831f4728c9dfe1b1a6260651ad3a436a4f1715c329c6578268e774ac97f8f795eb6b11b4053b4c58888e104b77a1543f26ce3fa60af31cf0d62416bb4c51245f301660a947e3f47a04d9198109420b223967171918145689cda59d5deee9192c01f56a108b87299f00e25a445a0966b544068a9478fdd279c319b2b1cf8af73d262269e20e6066c55456c7b5bf81a236c6ac054990c62e31c11d1a0b0d8ab3282d4561a9028834dc77d8ea1a4add2273ae4fce9212bf8b5b020f4a52a4da10af8e529bb3efa26c2d0d30b7d72801aec52480a677ee27bac6dea8bd0ff534c36b50c43e260ea00318d6b04a823cc95eeab20ef79dc621e9f9f9b05b2b15a3e83dfeb9eb2aa89c83b4fa8ce4085cc90f38e72e20571763e7451778ae41f0f368bdfb42d869803fed86f02c10d20a590510b172d4e5ae066efc105b6a5ca19040d9fbde78a254ba56d72c9633f90f8eba8e11cd01acb4b7169d9ed5770bfb6f0e138ebc04278df8b963412a57283c4bc60ca2ee2180508d7b43443a9e87293198bc6fcf5d51cf346ed90efa52d9b17a75a3eb9ee88886858ad5e6ae2b2624f570d01d17d01eb6bb6a0997d2fedd3a643129227516bac0394b8ebbbfc8e1d5858004e2ba546be00e604f7807c54b5a174fb1d547e3b278e978f43f18fe6befc6eeb46e34e36a7671d4a26018b223f18088a14b022ece07ae82f73549728ba7c45550253da2252807931aecb2e6d758da2349cf86cad93bcadc83582fd94867044f4cf7644fe2c433317b1cbaf7ee1d594548e919754e10fbb04bd70e022f466a6463538c7876a2969b8445f5e4f6768c7c56214ecb0f93477a6b3b7e8946029939d003312a5cf9a54c9a77f36f46fbc8bad31d4ca9befff916b3b99857d18c23d202ccc103d2155473eed2fe333ae69cd234a669d7a55b5ab38ebb7c8d9483727dad0dfb798476cffad756959b46075f9be054447a174f8e9a4b39e1d657b21993e50acac3b0324f5b665e4aefd021732efbeec30569cd025497d505a2ff19ca93f17da4f3415fc8f7c8bb2a3b716dbcfe3a0401027447418598aed070456f5963bd5d9c82546060d5c8be19c60bcea21bee4e971d40312d8ec0fa74d1de63c84eb374fbdbfecb1610574bd55c6a6ec31b7eb35b2ac8f7414f26b79b691605f9386c89c22db0094abb91d7103bf3e8d51710e0af7dd6758173ad0376d8976311968ea2aa07c87fc7814837c5b236382a93b3508f0e6664a519a4c88632c83adc85e0867011878d0b77d53b712539514907c1c536be39c35859b18a2147fbd4a966f8c39f42b9661e25a46da55be3b9b52ac35b4139c5b4fc0996259f1d0d34750d7666f56b4e402ad34766af0093eba2ebdeb8c52add3127096a55b0befece175f41c6a059a909f6c30ae32aa2e6128994d1b2bde2321685bbb9db1c98211d898ad7e0f99f703c519da86e54248b00fa33bc6be975b1b3e6991ec102d4e97d98b29e14893eb3dfc86277493674a68df038e0e4c6e8a5a64fdc8c4779f0009d193ddcac0e4971e279ef8466dbb7510e2835d7f0acbf225e9a05fa365565941ddf07df4f62c9cf492a77a2cfa2a8670fe0d6bf42ba64f0acc9fbe22424f8549dc44ce6ef5e3c4cfb34c4850f9653bb748c3fdfc0306c65b483f3e8ab539845661031988cf18f64c58c945308580ec74fdcc48d6e9f0eb507c926022ff58f7e045c55fd103cef968ebf6d4f45a75b8d317fd22e0d5d59ddf3b0e7d7fae65f5b7b0f2567d35abd6fdc744a0505d8ef92646d35f0367e089cf668e51db1ece77376248bf1773d319bf84c4d77c5fb0eb10f9ededc309aff072aebeeddffe76cdbd44b600bc40d936a1b5b8c8ba9b6470d0269c06924fc031dd6907071ea63898b1ce857d4d5cfbab553bbfb4dae6f03a639208a1cbbc2b649156447cb985863e7d0d1850f500d0c6857222d4b91401cdbcc072125c3db446ebe5464bdf312a263a14b447d9243f40342ebb7e905cbfcc745ee58dcf06ce49a821f4397bd20de2d8f531791ed76ae89bbe45c0403f79b2b1ed0886b9e55d0a36668122dcc6e77e533208779ca971c378e9a18ce05a9063a93e54c854ebff9c47795e97d70cd14a02d95049abea3a521b8cdce2287b80c2ff065eeadf07b31b42fff108e9ddd2634b1284ae23aa8a0e089b352424a7a91699752c54d08eb7828940ee7e232e546465aa5e362807c8451b2ed60ccdd6b16c773f7ce594bf458d1ada6b019c865cdee7547912a91baba285b71cb3c19c6d55e765cfc0ea0c69beccf86ac5ce595dfa9a781b3a7a00d3d1f6e362e30fbb9f1a0e057a3479d19601690f873f2a2b6bff512a60f0ac28569b297aead04a2a36f27d106295fcd26d6c1d428b8b65f861b0cb0cbdcb6f8e48e679f3f38df6bfce2c5f2fa649a650cafc1224cd47a44ca0d388494abf13dbd6166397d4795bb82a4d024be777ab1ccb004c7c94f66b3e2969f4cd2ec6b3edb4334053245580959555ce9a926a6ddcc9730f768ec72ca85c3f7e8b0e8088b65017e4920ec7667214455f13de1c5a8a104be6d65208fcafbf6e759352bc98674e307129d8ac13e0ed8aae857fe1a61e8fb6a9689f36eadb174bbeb1785bc99214c670d0e690671a53638f3e96b7dd4d189fdf289915bfd4a04def540096fda2ee1d43a6096e046d7edefd2613abcd5bb32ff2ba0fc2ecad6f32e50c30f7a476dcbf7efec31aaecffbe8b64e86a1c63a5f92701e04011b69749d445342c4511a0fc716ae42179a9f40b9d88caa8257e6444033bb643cf040f7b94f6ed1ab004718213929e058a4d4e30593148a1544aa65cfb084ce4f81877d69bd4b2855639b154569e796ccc47b5203699bd6ce68fd828e2b017fb65f2ea5d4cca6e6a5134416d868112d3625540f5168fdf55ebf47bfeeeb86af944aecbd4875d1550dae2f138afce4dea12f49a5dfed939f035ae4bc93ec09c9b7df7abe12b3600cf345f45f9555de7e583e9fb3c7fc557b367dfdea3bc5da3df6ebec54cb902254995b21596d9f2b37d0b317e9333f5a816d498454a09b983684980e833c92134800607b739c7616ecfdf00696b3797a9043e54b63d883e6ff7583899e366ec28dea26bbadf393cade76163ee0cb995190d7335f7b0285ca8e82531291293fe503418e78754b49c000af6c4d9358f8cd5e3dce4cd8938d8562c319e1d029b8665366230fa10b050354e6be57edbbff5b75fad24004107a842b0da17899c4056e4be735f94fc27abb23916925122ed3376e94de88efbef0e28d14e191d1d66abc8ab29ba2fba2af85385eb09bbe97f263eafa69e7e2632b6113a5a2bec174c1e449d0331edc3731bf2626c161118472be522758c930407163b56563401e34ed5fb911197edf054b3ec1a19e33f5aefab443da53e17069c15be3f1e905c165f2167afb727ab513b89f5b562e8018ac78c8c92b05f419a32ba0234a31999d68466fd9bf043e317e37c01cc9d327777075a61550a6103d7fa1dc24d17926efff2eb02b390cf170b9e9a8f7b6df785326c4a1b5d603a07e136ed8056df67968ad96eb0c59c345dfd4597d7e7786f2f46a4a52786bce59e870dac7e05b5ae7c61f834406a43782a71f6c8595073c06d9dce280f8b7c93c6daaf0617e066cd797de225159873b156c8f18f972d3e10cc69ffe9fc518f656861301438573c1c0eb7a397d9fbc75f0cb9f7b2dabfa8698f4ec81ebfda5dd0a3051b9841801636de3013653eb7737f6eb607ef3dd9e71e9b95a11b7e7d4bf69b55955b613114fba00890cae5bf419de15f730982b1517d6a206d450f3782cc85368d37406bb6bbe2d0c9dca3c82b4dc01257c168edb597230c6023f552eeedd8c5d613d1d93169538f2ba6b96400044a1b25fbb17ea4344d69f0c9bc7d48076353ec782717556b25d8efb591b7bca2aa0b36ed80c76eeda869daa53ed42e8f4a2f250ed842fc06057f74d6b952d113156f52cf234ced3f19f8e2daca653f2a14c3fd9f0c0cf2745e06382bbb28bfc20ca95d400f82ac9276b2c560528cc3172b91ba3b0a952d22a70522e895b73486438dc271f3a039bdaaf78fea12caa2263877532eb4c98106acf2d787142086af39999a23d4e35c3846692fd7034baec672139c2db0fb12898fdeab132043282c331a259d4bfd894fc0042cb03a29131ebc2d5eaa2a680a7fb0e85b4c6a1275e56f09b752951d402295b5375d41ebff4770a9d598632984dadff2bbc04ce935a613c48eb3c56aba765fc6270c689ef0537d0ce341921196a169adb7439d8331d8af09e0ec517bc568e344e659cbfc94292e285105b9c18005788302288f2bf54ab8f10902b36fb33a2ac5a4a18752e225cce97ec81427bc66164864f07bd11b0f95f4adb7813be4ebe18e7eacfddbad47e786397b26ca3210e9994ae75c7807fd9eef430f711c9d5fc9c4c0c20ddfe8b6f98984956e89f321931696be4dcd008b61343de0b21ff383fea38a004169dc9e0e54fa92db39aaa7663af23d052c7267b81a74c640981a316fafed5bf09e18a877d34e8a010ae834a6da638112e607101f101e813c70f95555d01883b95a0818c87d9fc277793a0e06d82c9958d041b85ef20e5687de66fe2c257267ad2488cf25b1542a017ebbe05cec203d6410054adf38f14b781e1e107a2440201a4cc55dd8797c82c7f8b0245a790637cf52d75aeccf387c3017688d75534f3be7497e65d5c848dc51a7af93550a2951a5f06d5faa7ba5c870202086e84817247563c13b18f38c5808bab3a83e18f8aa0c4144bfe6e90fc7e2a068b58a0c9cf9a00498a9184a0019a780b85b69c444c64f673042a744a57b8a3a9275b34598f92c45c06a2250aa331428c765bd0754dcccfac4f6e126b62bcbbdb4c242bee37234abd1e358e4d96ba42a530664d52d1918275db79acb68762ba39b07747b8c5b49f5f4d1f45bf5fca51d8a0062be702af7c7880fef374958a830425389d7c929fd07c23da92fd9ff68ec02688f4fccff31c487ab74aae2f14930f43eda297352301285dda4bebf69fdcee21d275abf87636bece4bd8ae9cfd87e04cb9c1b2088037aaf32b917bb7444a8673fe529c0c9d7950626a33e3f5bbaa51c53f193efb607e3f6fb24f5939b1221b7d653e7d7fb1653374ada2df08e19531b243ca86ff3c81e8da3f50128b20ab0cfddd9ee656e74b6e8a1e69560feab8543257d5ab2f85b27aabffc82841a0402ac7e9e675584f313cf6df65b7c2d68ecf5bd13c53515953c0820093a364dbf1a449b0a6982dde5b65d1b44b0d900b55b62c7071d43b757aa0c58ebf6be7ea6ec711c5a428a7753cb43359a60e222453194edd7c54db52f59786194778650478b5721a0a8fcd932183031af67bae5d68040cbc7791ee9f345bb8e7d2c75af1ccc2e12bcbe4f05f29c174a89b17571470d60fde9c2c66e3d57578a1b412887caf00b7f1f1fa802a9800158dffac99dbbb38050f55ddb19f2069d703795a734befb87b184be00b8308f049506348ffcead09490e7e005ffd82e752f57e469c85415a66a61b5c2292e02d7861cf1545c62b69cff390f85f705e463fa2dcab30f36947bde6dda0733ee9fec74e439755380d9d8eb77b76793f6b948d48bcca9b6096b8af3dd6c8e0f83d20cf97c9a671a1adb169ddd39307f5976ab4a76630048cc7fd88a68b8068e5600cde84c95fb0a57efaa1e4fb852717082b6d4c07017617b021439ed25d116540b00900b28819eafe1c1da2ea9f11209853b682f2a9ecad180de36f1c3ef1fa123dc622ea9bae087bfd47ec6c9e1e100d4931a0eb0682d32c4f6fb569c28af7b7443f216f2b2e148d97e1cc7d1e028d330471ac8ff02e82c9113257fb8a2e71983ad47a93a00b0029687236c07bc3a36219482591112ff7505e22a38286f8f64b6af29fb86b6a84c0c58f5f31f9bbff12cd8abdaaf787e0f47bedfa25dfbec00e0ed7a91c24e023ba7bb970faef784b137c2e4ac2e0eec0f088792be640dc3527c30325025617fa54f12f861e38eb0c83612ec39e7f62fa4db162d86fe3febf9884c34b2f1424ad56eeeb8915f5e2c3173a1a67ad2fd447cd2b7b8606a30fa58ad274a9d02124af53e116f8f05fcbcb0373b752fe794f6ec176237ab8415940b46f500f0e93341427ad7ca5cf170084e50955fcb5213d64c82ccb64e71b9d1c2836e0773acced1cc2813770d7b23c693268c0c97aa2c3c884fd25247d25a3af70d38bf877cbf6b20888293297afd188ce30c2e7bc44c090e873efb41dbe177df8d5ea47c7da4b74e4ee0f3dbecde85de8e597a985fbad75b600b803c9be0a8d55322adadfaf8e517fce147c464a18365a4f2c75b4aa7c650825efe4a477fa01f1e7fed35de084a7bc598dbfba202bf22347c4f95b72de80e32e828e861d744a34daadbb6085b649c7d3908f557790bdea56aff42e6a54d1f28b83ad395d875890393d3c1420d7fe935e418cc8706fd5d4f90687aad35d9d2f798d8dc743456846c7bc3807eb3f36d5d861460a27e50809acbf17798c8b7a2f21343a8928d2937c376b44ef12dee05b858b5cc655546f969706cb02e5b787a656b904763e56bb87a199d221fb31d5e9b4b40630447de94078cb67d73caf02323dbd80cace5fb179ef30d682add857fcba86bc0ac17904f1d12379f7d66abd1da0a7d9dc54180b8e942b5865328cf9c61afd5378b95151b3f71a5114ab3919d52144cfe47ec9dd8d59b128d230b8ef62742b508b394cb55dfa383d7abca9b7f51fd8ad69b28130ab41147f368e8252782b0d386aca0f9a2603670cfb43168f4ccf11c142b435e5804ab39f0f110041deae7039d108a46ce282ba4839b6c8f12a60642e7bb50d37d7c050dabcafa85440bc301ee7f6cb5d307151bba934ce590d4f861d3e03424ebb2c268a982bf29793e33d9f741ba1deb33df4a2c60ab302b18be25fccc2a98e33ab22edc3be6e937cf6ea0d57e609709f55eff5a7570b235f4ea3bc81aad4c479de9c85a45fe158a3d6fe4f351770ae40499bc42e166c5dfcd5cd55889f22d476fb11e36b7c3f1a9856d68048d9560414b59fa77508b1ffd98a9170f161905bea6d9f1e752e43c0acb396d1e08b7600e14a826db9c6ba7049f3a548d1be9b62b2e4000a035deea3f30fbbe3e2611782c0ab7a0aa25debd605ef482bd8e852a5f46c56f6df3a773237e648a46a3c49e035f05548676d400dc2489d8f78ef4eface64fd9bd1057a082cf2814903a7b32e7268547eb3b2eec93a73bb21764203f6c9ce46ad189562d51fa8f5e1f4056c4d5bde02ae277f97f6a03b76ba8e32d5f52b78a81a8f8302ef6133296a3638aac2c5c5d39b87f159d636f75d60bdb96843eae6b57544f72544470b235f746416f17f7d2be1a5752a822cc0dd75237e2e27780f9a5086cddecaadee1bc4c4f7431da3af42d03df63b3b49bf2109765d1acfaa0dd730e219e79d467759efcba2933333398f5b8564cfab117354c8b64853d467a85eb0acccc8ebb5ca0e91e1d7844f1d462068b19a01655982afeb6232535b48537291aa0edee7d96dedc5b70ba9f4cbd6dd08feab256379a99afaacf79fe1e8df4df18bd8b93bd1a14ecc2b20a0647cdd763c3fe1b3ada04d5b5ae82e0cf7e400f70b2a2317585a415cccf0530c1a79ae7c456d86db450bbd6e94cfe3b5f4b0b7e82075545b7d2e63cd1433ce9ad0361688661f24720e48505a40be72109c254c5d2842cc033b25ae77a9bcf7856131e1999c9609b52ae034a4fe3bc0f9968ae2f6fec921dad8415863a850dfad83ea6e8f4160901663860925091f143d89e7d94da98a8a3cb392eb7ef0a1d28a0d700e687784d64b2c30addff426641d03f6a34c08e583f8abe243d13359f12780f0632e21d06d7896dd3c23c68010639ee474feefbd9f669226ed9812d5293e94cd6650eaf222e31edeb5104e1fd98e4f68a421f198b26abef4c8552e5ab5ff039281d1fa905fdf70adadb1eebb09fea1c2af76d4da659b334c24c9eedc95b6fcbdfcd83674872b299a73e46ec24ab8cf71313a97032eeea931afef584ad16165fca850a820a7f73535f8be4541fe9d2944910b3564ecefe122dd5f5797d3f89ecb0bffebf35d17bbc4cc56cdea15e370bf97a1a97dec20220595dbe522429269d763521642c7691b6160e1d148c54f5c1622a7e9e270a2a52c54a4ba6a134546351bf02a31f7a0cda25604042aa58919701f5d29d601a5c6cb229a9ac0847f835fcbc1a6bc9143725654b2811ca6ecaa83d708cc8be37e6467eb3a572bb991fd70ecd473527ec72c95730136fc9800c4e81515b2389808a9acb89e00adf8bb78c32ccd1231c30742ff3f5354a924d9e77ef3d32f9db15244cbe91c4162042cd7cafae5e5850d1dcc5db4e09daf58e146ba7cbb38d5edea790f816b1e2b3112ccc253656cb6a7a88cedcc42064128b271220ec80556cd4d5cb15758df1917b35a16799b6000e0ce3de0dee95db16c454a1990935b1a1cc4b3b6c08e082a242610c1a9a22b1ad606ea6491f80da7dd849eb3a8e569bb45565cc7bb8fd45cd543e820718a7c0d32ec5a56d1e96577e9614b6b37133f0cdad728aa85bcd049cc59fd2868bd9bcd6cc59816ee720355b79101f6394abc6f720b1afb64c5f24f07eaf2d7693724a23228cc425943b994282dad2f180564f6f94cd52a679394fb3dd033f4378b321a9b9d549fc52457a7ef644f202dc1f12a56de57f7b1cc626fef29a34960fe9310ac58c82789d38456de830705c23a9ae5392f08529767e809dc6bbc17b01016db58cc23202addfe1aea4176d925e9284b7e85349fae15b6e5ac0e10ffbcaf24fd44067261d500437b21e731d217637b9597decf1b7724e6cc7d13ce8e9f88d970dacc896e17f7fd6c6a63ec5e38e3073a0259ab0d4d145a4f8090ab44912a24f198d117c52bbe9c7f971548bbd4b6b6f531fa6f6474be86369530ded89db3f6f904947e24473cf57859c531a9c7c85669ac2c1e088b31ae770a30c7f664cd132b9dacf64c4e30e05fff3c0d3fd79ed9fb3428c0e1aee5c5cdfcb07a7345490f581f19c34028f99bcbf40b70e4e54c6a837900cd65e9e28ca761b0efb74c0cab56b569068dc4ff15d100757afc9fdca41bfc3be38dbd16358159659d924c5356186e17c2bbd1121731cf011bacce389a4150ecb91bf39d049770d3edc7d766c5d4d274a5f44b025749e296cd84758846184094caf5bebf30ff55bc11e21f80a0f23b2014dc5da58f2f4fc7168b34837c3770e0b9e28b1b39cbd6a9cefb78714abf4f1cfa6a13dcf90356d67f6d057d27a77b677b34a9f5e6d7f46629015b66c3b53ab1a8dae6b438243bc18437ac8aca32c4faeef4fe0b2c70186f4c53971d8daabf43c2537d9a6e804998148f7af36461e87565126ecf1a2385828e6b4222fb3a2479945f62e34fac15449d88d8e88bb061020f3b97ec6ff6cde54be36901fbd58905cee5bd0ff94a048bc9f2c8e68d0cebf6dbd529fce703a4174a28434fbefeab9a382c0c104fd8fafe7fe253b43bf3d939c47c9aef45c4d255111d4e54e0eb5b210874b9c1363d072b6fb7b7d89f737f66272f16a1032f286d5cfd4f54710404e1c6a0aa709c8b99374fd2c726c7ade4bcbb5b0faf0656f7f5024bf1367f3b6e17e709f4fe20c47595345aa5dc8271844d3de2f01ac2231b0f291186598c70fa1c873b39b0fc9904fc5368acd125a970a811ef5266e9d82a98a31e370b1de5ac497cb5d1bc28a30333f1ae17e560f6da2871862658b18d28b732cf6b7c82cb21242a9a4e7857ad6202c0d64ac493d64c0448235ba3766569367ec4a81d5c7971070feca989fce2e428d23873771b248e4cac4ab5090bae5c018621bde9df5da6f52a8e891503da2a0bf8b4844003edc32ab1425506d7467ac4586cff513708f360459934addd4444fbf7a431af8ef690ecafc7afd4611d1e00114a354200152193d28f15069f1415ec31a74407bb7a08f2e7b626ffa4bfe0d8c4fa30b155be076083a3bfdbb60652c09f4f73f87323f051a28ee4778fe442a9ab3756635710af084bcc8b2a4d63e1a4e5fb4aff2dbf3fd124e1a585e2ed92caea623a644b9c819fbd9e4317a14ddeba8b8f1865a9e1f83a673dcbefb313e518ba1d0abe6906293ed0c547102a056ed0c705c011bb77d34547299306ab449bc2799c7edb9cb172687fd6d5672f265f31c439c737a1571ab8aabe8a53cf04adc5e224cb557755600d4514d7c314e678872b49d3de21fc647346c75e456ca38bf257ca63a040c88f27a07da28137aabe769ecd01c8e30fb0e80818bc4406e2465c81727c154e5f86e665eda31c35ad197239922e7ef1ff5ffa367cf073b971daa9f4f8b82bdd786e6aaf0e764093fe26f522c9ccc8f597e66b35692d6769b56fa8abfe7ff1d36fa6ce47286ddee3b44a42c2b1b2c8923020949aab5ba4ed3865cc0e2b03fdfcc4064d1e579c9361264ec688fc0a95b42d336a17e07d6735b5751650c644a53fc46dd2b5cc46d2564be130256f13cb929a44220db49ce05fb3ee802f8f4b0c7ddccb42ec704a2c2e8f59c7cd3c1743cd38f87ba37e9e5fba1874dcd050383b2687062a90216deb257c8cd967003c82c5c1a43be7a0aff1e1451ae6648a4925695c9b14bed0a1891ecc1994a2de0c491388ba2e4b59777feb35ea02f13504f3bdb3a75adde8b9fd94ef62e3b883844bad21f5aa990b7ad39beb930d8e9d9c4f2f3515dbd190a35d53d7e9fe57bb8e0140a3c90c19a04b5dd192133da458cf92e9c4fbfdd00442a3eb8af9d3024b7d370fed783653a7d97b1acb1fef69be6de3a8492f0132683c2e057b6cf38adb745a8132d0a684953c05d0d55db173700e08b5c8cc80290f020194b1415a2db1a7ff623bc169915f83833c75179084a9fd9d90402cadb3b919d46bec24cd4f97b79cfb5c04b399ed706a1d228cb430383b31184fc251e35124828fc520700d9b45d4122da29a5dce9244f361efdbe92c2ca9dbc72ddf99f62012aa257b09dc89f775d06bf10c035fbb596a148bc653daa8dddb547f13978c79be9ff741e318be1cfbdf41ba6088cc0f388b5823e01eaeda65343ec75107f7cc53e8184e55c21c66a2f60b1a1eb4793a6ff2b85a267f330cb7dc5b3e1381895085740b2dace6bb9a006d1cbfa92f5086cf5288060be319bd37a0cabc19a469efe670d316fcd46e57945230a2ac595827ecd07079b7d0b602ab064a4d67ba99537d97e0f8a86b40847bff6e52c9f0e729b8c91e22a6839188497e895f89ffddb1f8a5c06faf03bf59a7fad360c06523e2e4015ccf0acafa72eca214873d6c91682a2ad03ca0d352f1696c5811687c4954922b062cec0679bc07b63f18123d08db06c37a3fa42050d19b7cead5e49fbd3497bfa26f93ed271949b884f5f10e305f422323cc0a23c573e2812084c9f2ae57f2e6cbd1a800fa3cc0c995ca8ea54a564581969797adf37a42e6663fd4ec41ef3ebfa59a95b312023cf1f4137b5fd6b6c49e309dd4f5f3b10e80ac77eaeb8d0c0611de7bfa370e15e0c26df051ed39818eca568551b29036652633d587689c896effb20ba8f7cb4671d1b94d3b346b5535711564f7a76a28bb99c97e3e06ff408f6811f383e9d3c74c6694a04fb187fe53bbc5c079e6e23eab5d40656a84f73322d103034d527e5222e85838fd66a75019ec0f10f264bc91cff05138298f681a013e4d8a08592f46b9a776ceb349f60e57c891cc4d0d32da93eef5d6d1b64d4761ece47d670d7562840d6661584ccab1e9bfe08a491e70e80f388e165686cebb6c45abfb8b6efdb3f801f02eaf79445176582388176ec7b603b413359b04941320357370be1154552627f9bee0ed1a71a79f6212ff24d4b7954322f0b1419c2cdbd08690fbde57bb11fa3619e0c2e6bceb1b960fb23219a4264981f8a41e2eadb08a4df8b0136dc64ceea7c6bcaff63fc20805b05831473de6b0c4016a34f5ed7499147d457ce0e0cc9f19fe8defd60bf593a259faa8864982ae8e1f2f6af26cf098e538539c7a3e7e2a5d5560115e3624e4136904456617e3619c4102bf684f3eba3cabf003c50e45e438120bdf691f1da09a34be53eadf7231828e9611c42aeffa5aae9b849515edaeaaf63908c2fd61002cf3e7380001fd4f10f2edcd7426ceea63732fbfb3083df71b1ea352db57467e97c5c813fda9c30756d08c7b098b28ed56814050453c960fba28114427263ee91e6054f299cf2a850eed10ade945ff43b96aca2330c705b71101d4dac36f546662a7d606ca59a182c5af2927d2dcd92dfdb6b5e7649822abbde54b0c70024036bca7926d01c0a20c651ada91bf0b768be076bc5917a1ab647f5bc965ca956fc45940633b6133353aeacfd363fd150f502fc181f63f8aabae40ceb3992ba1529004d0359a7696979b236f433365ecf6927ae35fd839569c0cc2350952c704e07dbd11bf1b4fae8b2ad0bcec6158962bcc5f959ea6e9f58ee038e46951e13185bbeea4dd8c80abbeb960d75fef81129ce7abc3c03625bd60081029be98dac71e9f3f7538fd4e57c792d0764596ec5742ee723ae10fa7ef4d362481109be6040837fcb68c0088cceb0039cd1fa3b8462b7e965508cbbcef7fba80351497a4df94b52159fe1e0addfaa92ec41428a4d86f8f3423972615c923bc1407421a3ba3fe7431985e3f96ff37558183733b32f670aaedf918beea1a9103c874e87a57fe45031767d6ea3cc516f3db96e38180e19cd04d8be1fb67c8faf0ab64fd71aa7cca28751860ce225d3e7708e28a2816fe5e60c4ab604caf60fde6c4d4a298ac21d269205263e7ea3fcb3adf069f5b5e1c06c7886a92f8e8776b61c313f64ed4c367095542d2280df2f33d1032e8007fe0d203b579cd07a3de8aeec0f35e6e11aa79e327e1c950624cdbdde2e1cb9ccf878fa2504a20a3c421686539c54a88177604b64f766aa257a17abd2302703b9533f59ec0258b4a09d326eb4ef12378f6f2eb13e94e64c26f404cab61ac8789dc49d80b6d61d96dc34caf2de853f903f904e890f61584b2984eac912e24e826071886bfaed385beca1df99aad072757280ce078aedcfb165556352f93d8654c392299b97971bd84b7643ea7f7c20bec460c64c957b7684753addcd20cb89a08cc3e5b21a588df4421b44befef201f5260b9307e02eeb7e0d19dd6d4338d7afcfdd1c171fb591002f97eefd3978ef969d8edae3c963b30cff13ebdc60d96857109893af785298dd84a67c712398e0eaf51d44106611d58209183a8304f3cfbf37c7a9695cf170ada82f287643e71dc1ef1bb7b95b2287ce08201726dacc35427fee3a9a88e4c3c5e95be1dc961fddb87a51f09784b51c824cc43a8c8d7344c8dba8c625d6f2718c2a5d4a18f08635355743e9d5ea96531d66fd95bdb39d4d064aba95f93140157f35d87053cde095145fd305275ae32229b34ccec47623088d133cbe175a9fef877f87bc9d27beb89210a9b18ef5c5e119efbbe2e25bb410f1e1fc3069c9c6652821d6cc267532127d53224878fdda9d7b9df7426d7427441258c77f0b9ff6158699d1b72c33c07bf2cf5ff30a8ff3c679f8fa0e89123a583077d1764d5e38737b685ed28b8f4af11b00e17f1daea998682c44ea801180a6b71d9579896b4a1902a89c946cecd7ab2ae88803d3f50146238b01cb01e03d6cb3a4088c9bc01581a5ba49afc35db22a6b4bc785ab4d8266c9420052fc36154d41d5bddc99eddc50179a7a102a328090d2f70352708b302e8e9e1ae5426db124ef10b2ebc5f9bc9010843f4af596b32611c62fc8ee3efa233068254e5f1a14732cbb320e4f662c40397d0fc8138867b1ccb74cfb3896d69089b4bceee16ae35a94c877c16abe6a33b40f92a8ad711be747ab2623de3613520de148da27193e2c1d54edac03241958ccad4460005eea02d07cc1468aade864ced5997f7e499ae4161c269f768d20381738700c47ec9aac8e783421f9aea1e77e4de051137cb058aa75811b3bbabad1bd253e96332d08cfbca349801632494f2d7f53f983ff1be9c87006e58b06080dccfe5e4256729d770fdeb82f02eeb3d205d9d95f22d4f3eecec52835202b749e77efe11a7bef9f96b4ac5d6f99d8a75a6864e1b027b0fde2ed59e9abe1f868645c4ab8d4ff06c2dad3ee5ba72be36b9399eff9f7402feea457dce0c2aeb0b20825ea3d687756104e807da0690dc1c3c85de41b4da391bae470b9e63eb06b4663bba6ccf04a8fd66ae520ce1651e6713efea57e6b6933ffb80c3274ad6be3b7a6c506390eb7c03c1aeb0d614bb2761c0905aebfadd27ad3187561516803889901271f68a15ad02ac9a45b4d3e123e45832044257d2f5bf5f60644f31272692d53eb773746141d979d8e6dfe8979243a7401bb6704339717e3a675c1ea145dc6dc8c42351ce7b3a698b234efa9abff583874fbe327b11e35e6ba2ace979a57dd87f55348da0f26f09b5453b36e0de437ec1fee13f3ad17b1a20ad715c09e56b93d4718bbace896aa80f7775834df9830f850f35e390e7c007c5e5abf01d6c6f0ebbe2a000400438e40d072da25a152b31f1d3c9c1f09a051e4a4aae7a7d40e647cd2040ff07a77dd7c6852d999817fb2509e42abd974e3b8a8e2fffb374c31e8d65621dd7ae30ac1e184ccae6254d2c3580bda62cf453a3cc2ac0c832734925d6529f98bd50b58362867e2bac2cda12e792b5ee8e797f9efd98e14dac653892eb7eb5a5926129ca0e35e4ab3a695b983b1871d2056d0ba02a1ba687cf12e856601fa28a745971d62497e984fe389ab321103e1e084c7d408678b0929ecdcf467ac6889c3be83659243121e8f99a5f1f6e3ed0d52ab10d98e252a7f045eb9dc74a0cb5203b08ff3b86d795893227f4617594dbf95fa019da9193f53d38fb5ba426dcaf6655bd2c432876a115de5fb7cd720436816e9f24d7a920f3748cbe39a5e593013558d47e372d9c657659ac47b1b1557709d8613d9428a3fbc998c927eb8f88439063a65f5d9c144d9397055c520a5978b6d63fe21c2f6488cc7a1ac9feae1803480db5a4b53b8b998788ab14bd414e5dfb59ddc417d0e5bddad2e62f8173e19daf90d994d0b2b45fb66fb355d6765b34153156c4f8aef0f10a17e124d39a74881986f717d4326c7ad97b2e80a308db4ba222ef0fbb9c578a593405917e7343b6f2f8f55410e29c35691454c8787bceff3bdd1627f7f64b800733316650ecf4fe74a90cf84a9cd58a3c8be670a081ebef3668e57c2393165003b19aff89cd90989e4a3539c4b86a52bca30eec478c3dedd244f52a4c14f98d555e615b9ae552870a3abc03b87cf396d3237fdc4da61c367deac939017da0a1913b8ecae34e36a822f6308ffd6123913b4cc939ba25f9a21d0dd65938698787105ff6228ee981310865191842b483ff9bcbf5d52eda7ca4b7516af9f4fd993b95103cf5371b8df28d5b85dccb0525952673b3670fb56f67e59d787e18528896de3c440edc882b8c771ce7ec8e43c0e1348c84b2c1efc37e91fe739b6195558e58e863455f1b34ae3bc78c08baa6ea24398bc25180b1be57e66b3895d9a7832108702d3f5ed330120fa9d1f26cf159da75c642af1c63049f615bbf3627c4673572a94a17ff47d68645cebc3a4a08b50e5ed145718539df1e4ead7d3fded1ae53905089d841152029f338edf3017d7e66a631ee9deffb1a0f0c719b9f6f11d9f3ba42653bba53b35fb8ed9b2165b886ff1c87147b59da35968d48a1d5176b47ce1fb66cefaaf04e16e59386aae23a453c0d40b51c85be8a9e6b2cbe9065dee4db51368492e60a29fc3b63335c38d1cb88fd6a42154708fdc3bda7675814af277a8084e4b215d5a51ac9afc9da416c189616cbacce59e4a668699b8185ff8adaf0e2508356ed280899cdfbc62fad8a6044da033b98600ba86613d969884e8943388d94feb083b516886f540a9a2db0009d51e738caab18ea60d805b527341eb0efd92e2c816750a8ee47fe69a69386c76ec897027ae49f6cecb56325b1c5afa2fa780c05110f5bac950701a1ba48c6703b6833fd7041db242ead9b589afde143ef06c05f9f2a925fdd0115d9051111e4a37d950311c03f0b21660f67a0dea980250aaad07f6c53ea74d78bb8447e02754dce8d8556ab22b075513a0bd0ce7c190368e735ce3bb4a2cfde38360877f398a8b52514c826b1384a4985e29ac70d1a8b8dfd4cfeec3fc58e5648c133136236c1ddc3daf7c86015666dca50e8f4465267792eda0692e8033c743f14b5e64b638f797decc964f660c09d83685723f7baa5f0b604ec248854f9d0dc5372d8729a3ea4cdf4307f750c26076d78e235e61d84b3ac94b621563b6aaa61a98202d1b741633adaa68198166f20967899d10ea7a06e35a5a21d4be55596a43317bcdae45999df0a13f6cf20d2e97e24dfd592defc2462e2003ef6321b0de5f407f439434924496ffe602ecf8b2ad020a8e2c5209125a80998cd3c05b31b3a4aae48261151305596659b58d1c9fd11bd31a4517c56c3730aaa536db3c538cf19e4cbbd2db30ab131e8797ae88d1431378be23dc60f6f1fb5e1aa1814ebf51bc8bb45efc8001ff962d29ee94c51984a495ef37b697ab9cbfb2dcaefe726d2a649bd1d6c53e105c5ac5907ab896c7bd80e00f4e70a79e9ca9d9c41d5232e95b599547c6c3634dcd1e673248373fabea38e3876732d7f9ab9ad03de83a7d9fb7744793255e43b8431ac32f2b858ddd7bd495f2c6fcd7faee5cc2635f58cdf3b547d8cd2fb6d3cb07491d4408a7f86777c620b625157dab2ec8f779c61dbb8856efe3edb3d4ccb6cedceda3e1a2961ac931290c21aca18b740632f9ac8d1b97a825500eb71ece01d2c1be75f28b88ffb298fb73a0cc83b2fb00406ec1b06bfc05583672234aadf94397e6d76266eb73454c61aea1dd7063f49deff8647f55d0fa399d984c4b784299e94e9939e5b543aac4e64ed535c795325be1506286e18fa56b32f7988474a1707fc41246b0ed1c8c99bda810e9e6aae0372d6525a3b73b72d82491ec8f9001756a397f40d12363d6fc7f3880edc9b287b6647b4d3c15af3228777f044fb4d15150be00deac7c7e11663ea987fc8973b2905bc85cd4ccbd922ea39eb32d4751a1635429815c32494705a703123f2d30ab5482a238334f5db760803ca36aca5c181430e46b2a7e412da675655358f1b981b1e6c2692e30fd3a17a1c104dc6d0235b1c9664d6e953fbb9ff7f284804410bd274868fabd5af8a747dc5093689d55be0f87199f7c9f96d0fd007db0ba5fb3abb625febaa7437f32a3d4a3e04827f9b8569021851d510ae3deec0070c0ffb37b80590155ad2fc31cb186bc819fc2f53cca6c9b7db37d369fce565c8b19dee00d3f57090f1c8e8391c3ec9b4d7d36f580c7a65ca097c9c883e201e2ae2a99bff3ef280beb114d95426bbd47f227856e9e5a7411d535c9b33571c9aa56649976eb4b891408c58c2f7d944b3cd1440b8b39f2962f8cbb2aa40862fa1d63891c77e7085b8418caea720b2b1f72385b44a11f23fe937d78361abd57eb8a7ad1ffd1a1d1f1db53fc4bdba0986390e12fcc2c7fe0806ed2545d02ac0878b447df61577185f5a47e8fd39da413b3a55f50d7409fd703f217d6807f8cf2b5e40dec0b0eb0ffbb0096cff929e67debed6cc3f0","isRememberEnabled":true,"rememberDurationInDays":120,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
