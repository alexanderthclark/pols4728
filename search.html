<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"c30d70146493588beaa71d1c4da0726f4394fc967d95e99939ec0ee82df4949028e73fc912dc9d6fd3f424631ccedd974fac8b7eede4cbc132b5e12b773b2c3e45e72872cb4e55e1f273fc94a0631772b5fc1deabf14a3a12db001017f30628e08c516176634053bc90bfe82da7660780bb1187770505ad101d02b5b9a55350fcf48f2c49681faf6333850a106fe2cb531b4e22be2f9c39adba3b43ad7c9f4e66b1152e1794ce43d21fc8e4b6e331c09a2b53a94522fead3f9785b8e4d78f273a1d399a9a2269f8236efca8cd6833585ec27b15b3a700d1e905be3071bc1766df89cccaf983b7dff0814e1620fc1b80222bfdccb2a39df02cb100ca433a99481a4cf0a2c2c82dbc6c19f7b350704c8dd9e9cd937903b11969248b15c2bb2d02756efaa1124f062b32f2bbc1540f880129303f62d133bb60be7be49d2cfba1c27994aae0f1904f8f726475e27f5f3a645881f4cf224c97001d80f340d18e481ef780e0eb209368acf564f2a1e604dbbb99e523b68202edcb25f5a27d3f00c9b17d23e2ffdbee6aa2169636fa108a538c1eee87dd9763c68ea359ae3368ddd19a216aafdf70389983e899a37516af9021bd39cb70c8bfc0da9630213837ffabe04289a07105dee98f623a1c349e736937956d7752a89abe9b74f65d441d5a3924e8ad6b2150f177dcdfefdef159862a7235a98c9e8e5744c0c380a94acc8d6aea05f949d8e2a7883c7c6f117533b0385a5d4ce1a6088fee894766c28186aa83de9cc487a22d4172444f595050ea890da2ae0a165eb1aed9cebea8dde3d19838fab7c55a649c7969b1bc21bdc4cf2e5417678f35301811156469eddc61806d60dad0626f77529f1598e47fcbe19d052f03bd2a74913d38460e0b0b4e477ab6b58d8970df74dbf482049ae1d35aa2ad9a33913d7d7e86ab7d8892d332d868d7ad0b6531b8db984716e510bb666841ab9de58b8bc9c13dee99018347d42dbbdb2dea7d7dc95ef4468b69cebda5e47f156f8be2c053b9c815369e115c384f8673f2661b120bc57a45ca6f0fce0878e131cb99b1c001363b07ae833db4e1fef9c6a5700e4f378ccb84c1355aa4305b49e6e2eb3f1f7ca6ef809512626319f2a8744fb417671d19ba67a61eca39d66216320f8ca76fe14ab88bd706cdc79e981bad7e1b23033e739682505a43b2c040124d26c15e125156d26c665fd9be0189b49fd6e70ea4299e79910daff439aa04d47f9c525b17342f6d25e36f604f150f79cb37c2f5faee1f1498ec3b610d3cbab0068dfa5115695cbb5c560cd9b86b0f68fc073bb6be14c9bba535a40a685593aa2f632d905cc22afb2a3b8e901ff91d802d0cc155107848356c937c10456e307ec070f678c2fd8585fdecd9be603ea88b662ea5036a6d4777a9000e43ac09b76991bcadf235f627a50d3f656ce35f21bf4d912a77b321f179e40641ccb2acdded438b58fe18c4f132f8985436f6b0a1dc67367767a5335e4df45d83873baa6deffac1b20c1747afb48afd3e92b3672940e7c0f98879503e2eab7d9843448535e51491aa3219cee1057385cd3bc12a17e84302d3237386c97cfbbea89ad4467a85a50ea529ebe126b16b71c06123206aaa11a41222d9fa713a6876abe7bbc1a26e22c8263a3aeccce4f6fd176908354ba3681760cdedf299be5d7a6c9b118898ed479e97099ab1b3d27ee3a9091df74dac3da979b23d9b277ffb806e64fcd21d75fc75e3548513129c9a4b596685a27fb07a840f95f8ff8493e9027abf758ac26faf5c3b2f80317b85e423438b95595dfe1d669e9dc750247f73815d823684c92131915de1f37f8a3ddedfdb9f34efcab009726192baf19fc419eb2f1215412710ed5da70d1927e6c0ca9042ad3557b0d03638ea2fe892d4c7dce62ac5d3f1b037d62eb16187f8d83468d6483af5bf7a46f370acf5889ad381e21465fea3db2bc9007b516cbd4736bb3342e7c99efce1689fa4a96e4fb4b93922c313dc92450899297e622e465c022df296df8c51f4a4b71068cdb95dfeb9cac67dae888e4cf3ba06f2d1abf4fa7fb8bbf10c91c9e0a38abb2aea873125dd07c081d79c5ebf75b4965d4ccdd6bd86fa4a8c15a58dfe61a92652e0929ea95022270695d40bac691b88a709d990b74db82ce237a79d18e681bb4bc31423d713f7fd16d201de0fee0769cd72a76553c141fd19a363de90976d74675413b466b472e3b3653d35265f4473f9e10affc296e72625532705aee4d2ba83ddf0723eddb35a1916626611b8bb1762c0939f43e421ffd622471d69b586bfc9ca2978aeb467867268276d3fa059805020eaf11ccd7ff76d9ec5eda03641aa3618e6b9b59080b3438f05864768a3fdb24c668dbce2d87f609470428bf40b9321fede4a9a61ca9c2ebb576d2059a82cd8aa25716347f9e69470fa9dffd0cf908aea8b204e0558b2c0da4f2f8d343bdbdcf42db457814e56befd3efb8f34320ece9876b09716cfbc09439b1d5ab3be47d36a15569e7466c245a9dfd609bdb1ce7f0e0243a79e2c4d15b7f8f9fa81ec171237ae60975819d115b5e7bd206ac19eec21cd4e015cf496c0c78e69ea1279996a3c509876d4e70ea6928551645e259da34bfd880c64f25ba8fd52938df852ab1448aa38c4a618c77e7f92c5807599a1280264be853cd5e0911a93cf53a74ac0f6049696dc8bfbdd72a6d358e70e77549331e14b0b8cdea619ebb265cb21f38009cffbd0ed73bc77535d25d6070018e4c88c4c50bbfdc9c42af0fe2d5976970583c059d55f1b0e8870cda1ef1db0f27b7ad6df10b28059d3a2ac0dfdd050420d50ee6f7a7abbae4352235b24f8859da957219300869bf2326ccef9b34cea07ec9920e91c51d327e79307fd2a479dec4cfa214c63acff3c8f011d809708310f3d9a3433794e0c2a678b4f565d6ab9746acec5dcf3fe139c202e523dcfc9915df8869532472ed93658fa64f0d4ca7fe8f10a38974d28379a79d76d433b54e3a92b68719ca3e71f182970ac7a67030dde783e844d454a4bb0ad9b294d904a0d2d1c6095934115ac1c805da87b541e269ef8aec46ecea362ed311beee268cb72bd888d42df3eeb065949ac3c8727a12f837e47fc3c34afa68f0868a576e440f806ae1f959df45c461cb6ff7c6222031445a2e261fa8f1224161d25f9f2afa0b34d4173c1f3be1db599ee128c295ac5675441b455c51556d61544f1adaca7448322d7aa64036f0a4b19b849bd4e156cbc481616d3fbbd8aec6ad440f13ab85875209dda1192da0c585e5068526b6c5f30de20c6b04c26585eb5abc7e45ff8642b2f5da2b84c9728c105addc0a582dbd40f04cc951a6b883a9016d38dd85ee39fd48c104b43cc155c2036da322811bfedc8a3c373e7306f77a90b6aaf8cd65879270de478d5ee38f5d9d040ee8e44074e608b081c911acbf9c7bb95b4d4f96a03bccc4d6f66a252b72e84c009aac0b6bac07e0d4488e4a0b743e7cbaecaa46a7a5032438bb64c59073db50cc86392ecdb00cb77673f8c497ad482c56a7b20e98fa4e7502a24c2635c8f0827b2b5da10f5bbc49082de344c47e8c42a1168fc7e053fa46d2ef49ffaebacf11f3468bd506e49b9817838cf534ee7666c48a52416c4187befaaeffd5ce65b2839be813cad3fff0d7ae42fd22beb6e4c251307f4bc106d05e3cba52b232f3af35d188661309049af16f1d70a2c78b79d567d08aff0f5f75c2dc74cefe9014fe6f3cc520fe4b6cc0f580c0dbeda9a1009f32dae83dcf29803060940168286a93aea32c8a6365c097c574853a1e4ee6ba3ceb5484cb2a5d9276efa1e4e2ada4f77c5dc62c4f28512e76e2602a850c38422d8d9170bb326d1606a3c71af13cdb89167eaa6af1023a1291e3516ec0541dde56c1d79680bd8c786f8e2e763cced2755a4a5316497e1a04b787e5ef722ce597107711f8c5900f4b29f8e57d59444406d5334ed358d3c55aa6af6840728984fbb772c402775374363f6925d21e660524e447c3950161682240c1233988c3f2ca3fd8344322d88557b985097d6c4429e8c3d00793051138fcb0cd71f897ae791e259f4b70c53b66a7d42a396374e224815a5e8bc6a4c4b78095ec56d5d5e042ce0733488e3a05c15f6e4b0356a4b1e7f0a6fe09878fb9d4c6afe92c343f4035f826885f421af35593bde31ec6d131104ea4596f7ada48f96f4166decb4233cce145b6e604fcde09bf5c45658358e329b9089586a822d07b0d8559170ac2108ba8ecf5febff0c5a38677ef71d78c8f8fd260e35f12e697ce87d72d92a90e679b68c4b9de944300e9d3cbb54e9415b5af1c863c7c18d97755f53e1c93b30bbe4d1dbe74e88d3e08f8720169d1a95e355ae101644e0a57c39ddfce9a36187a543e92bea75da4523864c2ad384df8c7706431ac6bd75eaac14e66f8683e31b9329b1fea7c1e9db1d93cb2a9a10f3f58915b8c015c13d8abd7aadeacdbf746927c534441a88eaea7dc9e05cb34710643d7d7adb4372a000db813bb4b65693a0af64cae755a803c47bdecf8d1717cfe83544d25c7ce37755c860c77451829a84e1e7a2a54e1ee84f613b37ac99fe8ce274acbeb75ba72578440ba5b3cc8d414d8046aad0c809ecb40a0816212048c33c53d4477c49886bd172e09d4411dbe0b17a70fcb50ee4c5355cd3b0e0a9e5d0d4fef4466839d5f84b9ae3e3ef6d3aea1f4d0e5304c2b0abb81e3f239078a4c36dfb82dc152c2705265b42e7077eb67d2c335f3b1f3f2c4536d326a9eb20af415329f110f6d33ecad38940d77b46a7a29c3c388cbc63e7700111712cc0f63fe4ce10bd8fc9cad639d231cdcf722cf2332ba1660ef33ab2cf99eaf5a265f314201e80c996f217f03264a32a14d2e197d43bdba59b1f1376aa0f1dc4c0e416be401847e288ee0b75a81c0c7ee5a4b2eb603056ca963c55545fa476620ff316513654d4f44ad0c05bb14e6a22a1f60b682020f0043ac0ffdfbee73ed67dd29d343903d9d46a0ab3c3f7bd428251b7ce810dc483dc95c9863fcb164b90004070ff5ebc36f1bf1fa090abd7b1ef0afbaa9c9e870850eb831d0b1003b1c10b7d031ad567048b0c6e56848d3c0fe8b52ee5300f4d2e28bb85326de73fb8ea2a3f1065cd899952bb2523086ac69d66973f15d7ac93fe6c5c3d34fbdb26c7f31743ff714359c2b6300fb31c5ac17ccb3799ac6369768f5fa070bf115af3dbc6d2c59a68ddd81e6260de0278d54f96224557767ab07ce3257213f971d37ddb2787b21ca351b56c471b6c7a1e370986d4a055decf6bcf6ed8e04c778039bf14c7df67c0233d1b4cacab1bc375de1b627c90fadbc62f11ce6573510bf56520187252cf480068f90ec8a18ce5a0fb1fac6eb4b2704fb59f7041fb7794f5603baf6a13e95a01f8353ddd0c3c203cb016b7551755a1601afbd18d5f4270ec068bebbf0e983c6b8ef38d1a0a828528eeb64aad172aa7d165a0137ba5cc7867ed091ee5fc8642548ab51b86b55a6dc5d62af7122aae5bc9323cdc3c9e14cb6f9e15a3c5b65f2b7d8d771f78fbbbf186f846847664e2b89931199d48f7d1ea6eba9412162f90b4ae9d408cba10318cdb0417ae4acf3b87fe2a613b9e4b2de13d00eb9b90db471c8fe5875cbaaaf0d679f391c7abb05c0a7021ba0ef2e2e1370cfece7082947a903b9c9cca2b6cfd9316f57fe3d50a85b7b535dc176f12ec7ded58a13d47aecb58e574733534710c492bae56842a17dcd5e2666ab748ba12867806597506b390a720a2568b625055331519a540735047204eae7afd48c5e12e7857326ee88740851985cbe3134d01feb0f0f78f18f5d5d3858a2b7e649a1c4569a9d604ad315ac8b91d6199abd728e275731c647c7d9a5e757dbe55c72eb8af9365921a0067958bd63e7c050634a80e7b1bf40f12daace0ccd9b70c745c6e3588437cdf0eca2d7bb90cfc74e59cc91a9be9059d3faf893dc371c39430a2dd9be24df927328416342b5df76eac8eeff0044fef937a1ca42575f80390a0488dd6270283c81ad9ce42c1e22cd419750d371a592dc63deb82c1e3b224f7cf51dca1520abe8352ddb8bfb57398e8ca6ad808ab941c60f3f261f7241bd623d604724646ab56c7d3c01e2c6d7d909b52015c877ad4955935dda898781afd00a7bb03a089f55e37b3560cd573b02cb1b26f89f6c14c6b26079f92e8cd904ff66e760b957dc9ea4c3ce2c18f86e89cfaacf41ac24bfe3b5ac21c7484fe9551cfed3e15c3dedb24f18b8638b021526fe858aaf3e9a081375d24a43eb5d7d1b4263257a82e85353149010e0ef22bd4ee267f0fb902ef25512494e047817f36fbddb07cba1bc7ef102f535e6f9992679a2b1eec400aaf1617203f46f2c9f680ef1869f6b11183059d622795070e7511288cd5917d2ab6c3e099bb9799185c6f7f523f5be8245442b5432a7a89e1bd5a924272016c2ba5b30fb4e65456fdd0775d9af8cf73c5ed9b0fc56b3295a563ded90a6bd6139e6173bf3d8c5929f44d582fc8d23be027a6384fc6ae405bccaa4f37365ffe1e185f6b249915798ec2ab9ac99f055070f69d9a8828e8a07e5c8000be62d693dfceeb9b549db56fbf599d494bf89a1456f012bf2f94ede02507eb8b3bf42eb27c016ef7cc9f530aafb30e931242015aee64a9ec131488eed11fb8161979c7a1043e056e7477709e7f5f9c75827bf9f4825127a6f9609430ca8d679232a78b1580e3d65b536fcb4f0624ddf736167473d08a2b9b27f0b66e0c21001eb57f463953d07137cb746c1db66fd3da3511fac82bb240768a62d029aa6533c9b33e98c53e9b657c5501aad7d55901c9aa42aaa3ddaf4a635c281c6ca1616fb187eb4236df298008542f61d901b45608ef52b4094ae3346568515250bfe33b6414d69e3e87b4afc6cbb34cd4859c4f259b37924fd6d5dfb9aecc83124f794c0d8ffac0396d6acb8c0d3a59e589532a13c7879724fbb3da87e1a677ffb4abfb5082c45968c8f76f067dce6510019d3a812b0743efdbb559470ea5bc65d0613ffe16bda14d4090a8be62bec57b0b761d8be4980004fd5406286750b0890c3757b0e36c4d2e0826a8ef6df6f890b708b56370108c5c4ae868e9b0b175215b8e82618d635bb3eef05cd9ce66d9891b2807b65605f4226a952a99f91dc32050c76db4019743033edd0e2e9dd02f04936abb765b436080362a23a24e85658325f0290fbfad637fa4d5e37e3e68ffd9da3d381efa493751be595aa18c55c09e8d8ead9c84ccbe95e5a2d21e4ba180fbc8d1fc9666578621f90a0c2f9733a9fc63354a6e135ed4f31757938a1cc841096b8d3984e2a4cb70ed84e2c22141c11165170f983caccbc7f28e9686db4127bb3067e32b32215d34ba92217b6945d0ab3fc492557947907adc2df740d73c8f1ffd69e7a9e5237b94f71c4ebff5fb54f14d5978060b269ad4940426f29291f719a2bd3ce55924f4a78058685f9349c753d286fe1d9dfa6dffd6a0c04634f7230c51afc6cfddab56abd22db55f3143a36303b83e8226b43ee8dc85662e1a48726e24c23d9660010e55d2e36739a994c6724560d191d675982e2e86919231f5e455e2033b2223e746639002055f8f234d89afabaab5843d9cef6f248d59d5d50a81f8616f5575ee3a2344a7475aa2e5999d0cb0498d9b2038fade20c5ba5bb6dd56b4c2228f98bc8f278aaa1ae3edce8884b3923ef75ed5e24362f8fcaf7045c43cebcfff38adf9dff2ecf8fba0b56f1310485f30907d71ca76f7c66f83617e034a4de8c72326268132a5e2f28d19f13bb0b333165724df83ce0f96fa6e3244ea7225d928a376f71f10006809b689fecfbeb16bc3d37fe938726b1677af7ebb9e690063e4267280901bd8feccd33edeca53ac0fc1214d74e1b05257a7422328019244508bf27993ae162f093bbeeb87af13c67d478c80343d22dbb6d9e458447f3290e2d55c206d48d09f10cbb4f2fba967ea7b5919b449e856331f8ffea97e92e203341be323dbfbe04ffdb035c563b33da9a16227a5c399412288ddbc073a9e24f5d90e7f27535e423a885f38718e5ab213035fcdf7e06d144a5dc97af1438b6bdcf8a588d524401e09b5d50e4d170c33179f0213741f023e457447d6a741fb2552692845f9802da9c63a232e90a43db1f8ab281831d2360630ad92add3dbc51e56a640765469bacd14fa2811c0880a6f30e7b7fcd8e5bed9a619927b01d197ac84c03dda9602d5369ca6bd5384bb98d7a3b5d0cd642402a3b14871acca7d4982a62e8274181140b15b6d29872a07db21668846fe0f2807afbd0e817c8338aad80b523519f48a61d15b6012a8958c87b67335918ddebe95df943edfaee3345707685f646e14559ddc5ed3ccdbd24c9d2518000d209f188d546a07e05ac6074fcb890379ea85104313d8d44f37662bbfc3ca4ede1f14669082e8f8a5c2efca91081d10d4cc4c9b076e12ae586e9604f717db1a2f365d10cc388d3823d36fda1584f99ff02da55e1b8f4a76b4420a9901e2b198f4bc8852409b2a2566d51ce553bfbba9021b75777e4b9c4e13aa27f427e5d1f37096df19dcfb2c6103e9825f51c0984f8b822f9ca20a2080afd2d483b70b44c80b9a62274a0b706465b54f5502a98d5e41733bb3d9d5ed14c475c47c14534fd2cd128d3baf974c9405c648bfed5d9e7fab24c2374aeb4bd537f063990598940635e3524df1696d4996a87d0237382cda84ef1e3aad4142008c2f2f5fca5df5f4f5ab1209b9366e5cc5951012dfd8d18db8c941eb37039e1119008a1c1f8969216cc97e098855fbf4e12c2ac9620feedacaa9f7c9ee30005ca2df18314f98b959cd015f7aeba97953bafc22a9aab94152f4e44d45bb6adeb9ad6bfcedbf8afabfec58949fabea087856a0eb590292ead2b20f897469c513f3759433dcb3b1054c771cb9e04b9e0fee2baa8f1da5cae66c0c16a41bd2c05a7b224596d16ca8ecd02ef92a9f936243c100343fca38d96afab18ba8213e43e9e9273884632cbdfe5fe68c11b5a9ca28f67729ff28fa5b7037039cbd42e5447ae0f31a221d1ea9d4a202f5a709cd3a27f355e0047e45284cbd9e162965c35047b92ed850e3a1d26a2449b73d645fe61e2654462a9154fefffa33b68b7f6d8ab8432b761198333f492dc5235b0991c1ea44456933e683a417c2aa8dcec87b07986a28edd76965f147d3c5cb7fe46aa14b579cf596a2a62af1ef86b5a571e0c4b78d700c37c474e2226a615bb76cc242a3be14ff8b63476f64b388bc8210d75089e33413c10ff8069140d34f7335cf0734a485e39a0278eb53d62c3714bda17154b5e88b3f8d4e190618aab48273f29c31b00eee4f125b3f7571801348bd154328e2994efbbe39ffc327c08bda308d1a3de11e2bc56f07d90d3e6c02f566c8492c3be23bb059ddd7927a974c83e1895b8192954e4e2383157a25ff10665983c93e82a82d8f92f6bc83f841ed0d6da02d56f3682e3cc2fcdba1dd70f98d890ad5ab2a3904acd33df6b2caa439e5b0b89591b01a4d9a2ffae332571dd3cb85e1feed519cd40257aa4467d391a323d66e74955cbfa08ccb73e1c8722508e7a140cd729b1fcd584348534865a2e4b63b05ae5fbc5c88678440b37e5b6fe80ae5a577ea28f6c956193e752de192465cb76c13f2d3206010f97a0edf9654639a99540ed655d850ba4b111d80d82a28b855d15750baf9c206a25f94eb1f986fba3262589a44905fff94efc9cf39045fcc604791e4a7801c98fccb97fc399e966a00fe3b78ec403afcb0a18c0177a61a354dc8f1c1af97f21d437a5be21d22817510b44de6203c414531d5dc9231640558db668caa6936b3f090e26e1c23fcb5c9814d55904d7da4e5cb38d694be5efe41c693138caa6439a85e9da917c6c99f77517a8a47fe5ebb80111c0607d4b53a540cfc38b9f3c0cdf555b23158a1201a6fb633c9e8404ba2fd0a0623d7bf17797f70bb9ec2e4af2dd27b5f6535f87f12c2cda6018068ff5f9a2b1533552bc8e052b7a9791ec5fc3459b8df406aa167d55f42c2ed4d81d84ccfdfc8de40e84f95381fc302b462c65ea14bc915befb282d07773be84ba33629f233815bf5f8cbb4f96482648c745371d64b4247bf2e21f1933f385c4d1d36c39895446f1f09804ee64f802e08c4ba31769cf62e495b5016419a908e722aa6938a21e88ef7f7250ddbaa44f853f89a882bd6c3204ae4e2b26268fcec27c810f73a4b80955c9cc8c4235b22734139102c2c9dab5f34f271ce117fe0d39350fea719aec808a221a5375273ebf941919e7a726a7af75ea30d8e96bd5bccdad5b519def2ba2e675506e03eb5464829f723d7172c06f3d83ad713b5a92eac1d047c6ec120520926dc6f1359e7ad0f9ec5c744747a0472680170c7f9336e491aa53628403199a4e1ab2b32b476799beb99ffb68b14081953f1d96f3b3bef9630bcd691ad2ddc7a7edb33db0ce92fe7c86565dcf4d56e99bc36542335e30750c6eb9d4a621fbe994337d6d8881823853cce13e3cc96132535630b945a846955d63479c003a951dd884c5516a914d21caab0e40a4eaa20aacb141c6ba99f195fd67735f9b5460e4f56c0281dd180ff34514559a8662fc762cd5dcdf520ba7d8b67583503dde508bd62bc50a72501813bca61ec955803f5487ea53fa2d5c0059fafead899f054399c000099120ef06541315baea8756b8b4a5123943c8c506fbd2fab3ed1b8b741fde4580fa2ccb882337c15a34668186c8a6de06df2693be4a71fd87608fa29ee443e97a3aaa33ce7d7017a81c77cafecbca35989ce052195562ef4e5485e4500e0c70d434548cff367b0fb3064a7474ab6a88193d6577c70ffa7060936bb030af7e005f7ac481b08ebfe5f8a717c7c21117c4d7131bb4d8aed7054250e39d6285a3c13f02501bd3e185b967714e4b0fd1ebc26084168937f872378a658462053f05b00d2514c74c1a5ee82575ba2f6bdfa4839e9800359e614f229eca8489cd988278bed6ea772f2a152c05deff28fe9d39b58b2ce68c2d71bd22cf838e7007b15c9e6108d053705b9ccbc56c6bad061d0697270f894f5a05cde7f4b9c1532b8d89a102270748666ca7019a28debb935dc725aed02d147f23f981997eec26fd10bcd0ffd8c4e2e4d968c44c4d976c2883a66740d2d1efa94dbbf9513c9a3d634ae6fed70374bb432b7517a869c367e07f4e40968f5597e825be897cea1fbe8b3821b64daa5f262ccb97967420f02ad71c3bef4f9acb3cea006f2550339a8497193c0f6b4c42026937412db5b0224d57b3d254918d5b0b117e064ffdc6b5dddf35877ca31da3ea7681819af0fdf9d94ad0c22d2ab076c6e09dbdf49f42e8b0278cd4605748a564e3f6dff552943833c276ac253f78ad6a5d4758a5a51b847d486da8a34e056db8f718aaaaf9edca82036b97c3e52f0ed6fe0c6aa9dd5227478f39d9f4cbe324b52241b7ec811637aa1816909719f1b6165e4200411e4e55f80f94ab288ea61ecc1378b0e2486ce7f363730c6e67aaae4396ffc82b74e011144f5e94c31584478f68090bf094cdd0f1c7f2587e18e28049d4496131e7341e464e9204c5859f22dd05942fdfbdd19227b9c909ed4ccb79f996d71fbd87e00d643b66cefe59774614e59c5b1615ad64a664170c93a078272077c1e646eaaeae4b336fdfd5222ad574c349edda4b8b1e4f8eebbf6bb66bf3884faddb47bec9a78e135a14179bd7f18715c96a27011dddf6213faf9f8887fe2a6669f8192408a983d6ddd6bf34a67e094559da051fdd7269c8a7df6d386490081eeb390884850c819f1cef0e0b8e247ae8a9e76af1f800d58592ca37c3f7df38d95b5be858ffb412f4b89a20525c5526922faa3d9fe84bdd27c9fcc281597b1e861b481998d5a830f87b034188c11db67bf30d3ad0ade2924213644709c580eeebf8528b4b428407d4715e3eb752b79430ef2bbdaa7d1705d2ec3d167300c29478aa5b5152fd93bcef99688f718658a4a2f263fdfc1c474f27452d105a4ed40852cd4867aa503e2f121876e40972545a88c6b08677304994aaac2c95b5b15b0343509f5f51135bd142656e618c93c45dc39c90dabbc7d19cbb737e1f03ca3a6d5df259ef750f296891756b0fb5e1892631c23259792e29e7a9f13f455082218901ef9389ab72c4b22ba542eb28992a1b116edde5a98165130408dbf333233701ccc15a3c8d486b25fb312ccc388b6cfa2615c616633ec60bd0fc353e3bb984f1cab6d215bd7dc6eef5027d5ce87caaa7f60e6cac04ffb45e5f60a8cc224d599a738f332f7c7bf1acd84e62f4349ce695bf76db733383a38a8af8c38bfd0a456a754b38ebcdf11876b35f6092a4a42a4ba243d7935af5f706fa051b97db677977bc89f5fe1797465f8d49776446bcb8bf80139e8700d368359c58e143229793b19fd51395ea4b7b4a1c207690b62cecefb3a4f0c4148d85d1e7f240cfbdd8bfe65a0488a4e04d8de6f53fcd94f0d9f3636692a5b1eea14f752c347686cad8fd7bfda91eaafb68b2fd2b099aec9e2c809f9c645e5098fbc759468c157bafc6ada278a593f569aa52431bf78459ac3cea7446e1cfd244298152eabfc230329cace32aacff12777938fba5a8ac326e0f95142f5485ebdd999bc04d6a4e8733308fe3d7b5abe5e3be2188a13dd7181b7c707c2fcdf7c9a3b383fc6607de625853474ecaa9c5bb988bd8801e15b161e06949dda14fdadb98cca483e1a22f23c115a05bc49ce71bf62bc4540ef9ae2682c4cc5696eed8f79df620cf626dad420c2d98fe51e4a8cada70fbd11c86e42409aa9ceebab63ff6abf156d1023aaf15acdb59b03dfd68fad7db52966d5d7aca046d5c0c95ba2a3c1004cec7e0af222832423f6aaac6b15ec22e07c6a32d96d3d23c742985e650f4769c7a54993616fcb88c5b606cab5f143caeb88672faad77cee50519191bfa71302e53e254d3d6a6a7b53caf6bcf7cc27eeab298f44bd7477e2fb6fc13054c33ec81c2d5d77dfd250125b40627790c888a22055c25710b8ffe5a8f36d6406a4f3a9502ca547bf727237302df92c7f6b3ad757cd791c750a1eeddc8f05f2d3e6b1807686573272e3f6eb24520fc45d6a83378f3311440c386dd382e5916b27f7a7f0e4db77fd17007ebd37d890092d9d1fc67476ecc58af16bb62bf7c557284dd425acfc23338dbff895f16353205a6d686ccb05aaee5ca056b79a3ef48a6c5250cd6aa2d8f228037ca5b8732c5fd1a7f4368c7201caa4dc39b61c20f09b7f9653882586996435305405ed0d1535b5e3b1abdfee817d812e2a8ed7d4963ac5397157c1749025040d34bfbee91ce23e59e8e5942861c49aea0cca12e5c54959750d8f6427959fefce8f4207765c91806a95aa655dd036586174d641d50ccc2a500fe6572cecdddf48acac5bfa0fa8cc20b9e1c3534f0923f3ef357c801e7ef881fa3377b317e57297519877af4a3c43ceabf9bfd3af779fe332109ccb8f1b7ac9de5d2ce8f92e4d9702407a22e8c1f478746b3b474e565c2e74bd181863d12d2be7b9cdd1721d91443451d6d49e3d773b30107d5ea1bd2eef1320e3e72f833d786182b83b07079484b5239ceb02a64929619ffb91278aaf9c8573c6e04d055e5cf3be9a3527345750d36e6174cf6bf32133e62d5959099d4bccdf04d7b44c7817c9837e6fb1340ab39b1d2c1b25a86fef1c58737030e96497938250c1e1e52768cefc4ac1f8d7446dc07d85e76fd55892ee48dfa6352c50833da95bc0d39e92188a45a7a7719513a2bc65430dc1240be04aa1db661651f42d7058de907806badd65b02974c14a680d2601a9224992130ba23f9f6b606533364e82e970b8691e2556922085f3f494872786ead2bae9bee2be21687e360dcdfdd71b89d77b6fb0f267a2e26715b8941bfedeb91aa6c01811c50d645a96d8a1aede5174a54251bf59e369eaafcdd2a9e5049e0e354eaf59d6dd86c36edc2e9ba424395584e216beb20e6cf92ed27fd97222d70ea8f05be2dbcd68f371d848e9e3581adc007f42e9e04a30454a5948f776547654e1f7b1667ba685a050486eb4e7d9dcc2d06f8e072ff2d2abc6af8f136b0ff7d8f7a07b21af41ab91384194746bdb954b6f3a7aba6eb63b5ade9c4f6cc95ffd1077d4e41c08b63b06ac2ab70830667fe463a09b7a2033011be0cf0d58cbcbe182c7b90dd09f85b2da0b1ff073eb900052d98e5bbefd6563c2531ef6ac162c76ce24faf1da7c311111a259f2aa6c9f4ab111d111aa3b95f484e54553f53506a27d360124ec7ad58a98046e845e918ae3a9d387d47e332aa24b4056b7fa0bf3491c91c9e53f54f0f93379f7d9adddf0ed32d13ba9dec4f28b5712a197379b2f718e17d90b040230c420ec2f547518ec96e08b1b34ebcd2f551a6c20575726480230ab0c594eaa43f934b3e85e96c96aaa29e6c5210fd72c6f7d30ed72586ecec01994836015c8e5294721459aa5392edf858305d2d13c94ff266a0326d8931122a72bd830d3859f0c59df280b641b5048b840c1e002890179369f21b830dca00b1b5424a4ccc9859d04234e6cbd38aa453c6c5bb6dc12cdf0729f6d1630a6dc47d5d67c88cc6d26a0531bc223859be32f5ff70d40ab14367d504d2df4d16024a35d41e278148c5b037859e1a508c113dd07d2d86c2a9a3cade306f36ae3ef060d82f6b1b098423b6484632ca3a9589f4aa616b76b43985cc7afbab7647762850c181b588c5f60c365d8e7a46c900e75a6a590e713f0e2acafd66bafd9164a0c92fc2611718c510f65ef56a599e44eae36b70a0ecccdeabf3f78e8e948b0fa883b7216d756bb66732b6bc563b4962ea4191cdfb6be8ac153e612b673a50b838194f8ff5b39dec07563d54c181794210a3002230c1cec1e29b2597672aac20d032ef33d3082369c71c78996dc168bc56e4b52dca280a7bae42e73b633f893286e690d7aadc940032aa8afda6e7f6347be3ffa2756ae2600be79572f198f7e0be389b89600754917a42006d7107a650ad17a8f269cb07b59c6adf81e4db8100c3269c9a02fc7b3cec245d4346f1b2c7b0fa01cb008200f50bd4aeadff9621e84dff583809c88784cd998795f1e167206cdab409c9833223c313c263f885748e3ea6a5a6e72e8fd81f38aded8e09a06e8990d174dd2c7d2e9f0747deb0d91d468021087ed69261107627736817559bd031c0bd8e57eed2f7e3b809e90b95091789323584231fc136db1244c5002e5880197f0b60df5b8d5c7a86bb17f7f747c3aa8946fff4f256b59887b726f44feee2ae89afbb5f57bb2463b571d442a5c46ef82f5c20f32cc4eadc26c6f211f31b08d3e76a648ca5d387600291d68c696ba0dd4d35660afc1a6821ba7543cb399d752059ac9df8883e9367e8d7da4b48e26950da8eaae08497b08966b7af25e6153414df06f1dad932ffee0fe019095931d3d208b33937ee00dab89ceadc3a02ad713b51397598e39393acb58c08bcc1f22d479084901d5a2c9fe13fbd0d27d955abebfaf70aa60d0ab446418c5d93267023715c178150b3b1ced23930fc9c5d408c9a6aa2e0c3e716162f494cbcf456f1a2700179f1aa7ba1f200867be5f16757d4c06777d4a2802c9ac9abf90a5998bf42939ffb5a255381a3abd9e2937326b91f308c55c0f0b85ffaa5cdc2d554a1c213c250bb8fefb3cbd893f485c7d464b1be1b8275bcb4df9b86bbba180aada3bd2d8c747f3b4ea930896973785fb42774b7c2b65176812104d79d3f28196b076fbf172ffd62c67b8b8de3995564e2e436b222dc940405d95a1cbe637059398cf4fac3f5c6bcb51ad73e5cb56c006a7b7707e724ada4ea5f8a50602bf5efd45a2d5aac2fb8e2a767e47734dbcdb8256db3900735422c5aae47aa4a4fffcd0d4772dd81c7d13406e6508ecce7ff53b7ccaaaf4dcd59447e012d4f11e9a34083fe8bf3ba1e2514cbaf8aa192b0115c1f4e5d43ce90f5434f47a0f434c0763ce087e34fa983477a03ea4e2d379ef138920929f0159c5eea079564382d92abbe7d1f4922843a4dbc8c25082142ac282dc40bbd77331e689c8a3714836a9d48f11b7223ef985d403769f841de15321cd1f7460a7312cc92d97830e437e00cfdba817e0204ff91bec8db664004c2e60305fb9aebb928fd8d4ce1eff4f732ba3eadf4bb148eb0a585db6ab9fb9d69adcdf6f3f040fff63f5236c2ab45cebd13cabd7a78b016dfff5c644d41ee749d9f2b5c6d3a12eb6cc1241bceb883c382bbf5bd2bc1f6a910e4e8a513644e9889d037dcf9463ca704e400374efb146d8ab7a6ddb542bf8d228e58ac2ac3a25a9a29d7e3c464b1c12c7421a363f7d4a076da219d2a14e3692eb1a285d6a05780e7c5292b3df3e9549bceb436a0c2b32c8888b171ce3ca5beb5d0e025cd7bc6f947f6a990ca49c68fa179cf765d378b52c03363068b57a9b75d77428375a78a57b1e5037273df1ec9a48b2f6c8e5825fd08acffdf416db441dfb6e1e03a57b727aa2091b03bbfb1c428c1b7c40e90601489695f686094689208984f4505bfbc8d6b7848518c02467793d2d280c11df9f2c2c7710f1a5a08b6901bb313b8d1002033d31d2e3c60c6de6f60182707821c957693885ac2cac8448a723c3fd67881b62181558617b343f87fb33620a71f7b3c61670893cbd9f025bad383da451323bb5f6dd400de763ca981980b7057c6aeca626c5771042cdc86ebd74c9a788cabf9350a3b880f1b60f51f96b479624a3b7822a18577180f43697d10cd215cb5dcf0caee7d7142efa717006e0d01636c406cbd7a3c27a19c7f9d06a91befd169408c34b0d394eb28cb705036dc8a461cfc2b8e3c0367935784273907f8f33837b1dd9975d86f56ea50ef76e061091807efc1bfc6e8b65b961752a42f76b6062ec80dcb323727766110ed10373ba2f6e0c23d9840514bffa96ef810eb2ebe06faa040b7b80c770b1aca26bd1d21c66de359845946ac24a3c0a3acd4b381999256ead36aa4bf2f4427fd8d500ae3f892d25f6bcdcd7eedc66c27ea9f1fc7d8b49b43d8ec68a983cd59046299322187b74da25bae9198da090c9701bae697396cca0bc811a0278336205d53c021c0424517990c00f8a9fcd7b218d2f60532e9cb2c67f1ae766e3720fc41b1ef008ffc1785cd0f2c673ec6d718b188656d453dc3f158114352383a35365a311a58c829738becb971d58b7acce2c3c6e94863c397c23493f6072b3d6c65623b247f28bf0befd9e7ac7146c0b073cc3b4e3bd7cc13ea45f48a18dbf5f910f1a52051e7ac147f2c0ae19af33d0254a231aa0d2ad2e0cc3db951bea6fc5b561fd34ae2aa54aca5fcddf20a6dd72d97c386afac7962bf17e43ab96ffa574483021aab8f9ef31f557c05ebfd09bc849d84cf547f2887f013577e92b61e1caada8d916ff5f6bc6efc9f2aa6393f2727141225973cb509c99e0321e2f513103d25e3c7be157c32b8839ce588218047ca618eff7f71560d4606fbe85c69a5f4b19c68500b91359aeb8cfe5ab775c133c228cb8a2fd81eaab15d6d8be575e10657536265666d166f307ffd9ab086324ba190a1edbc44a1d8a4c0cb9c81137ddc77278e239968ad1f7726ee5eb2beaf243cf44c7887d4cc94b773c3c636ca48b72bbf4c246f1c3851da6e5fe57b5c70cba5f4b87cee52f3d4a362a68b2b0e824921e243c52b52919522a1b3d779eba4753662287157a4625b4ad00ae2ce89cd87ebadf51e84643e826b3927cdff2c8d0d12305a40116cedf045509f66f4ac3fc57f01840ed934f3d103d4415d5e21bf909d7fe037fba86275b5e0719b388f28d12cfeacbd24f132781decf367c826d65b450a25a5cf6e549c4db233cc56d751d10859b4bbbe7e92b38c85cd74a2bbcd1e5e2971445aacec99b9d6103abd25fe827c693c8beba9e7c8f3cd3c2b725430775d96b556b23e110f2183d6834dc527b5a29ba91aeb2c754951c649b6bc6a5dfe59ddd494f3a4c1415c61bac0f152d4036039e8e25e17cf8a559089663bdbbc6228648216723ded77fe07a188ee35d2ba0ca95687e12b8deb899f0af0ee559fe34a19453b9f65fd2cc74742788a9ba932e1bb2de21763e3b8138f25b890d18762872c7ac227ddb9b0398b3a6dfa80da00b8816c4d8657e57c757f8760934f8e7e56d3abaa28b1dd2bfc6d8ff560f98e8532d755cd161e1b1d84e8b5e0b2e18dfefd58dcdaf4f97982db62cb5eb8b13d812e6b3732c669cecd55f2335884eeecacb8f8a116e18dba1ed688e574028f00c69a6abc186e65cab0ac6ea299580745afc0317cf61cdeaddef46f4c542e9ab5b69325773ed33dc6ba76c1417de44a20053b92d091fab4a83c30ec0e77d68df0ae830957dbcd64ba571cade29b6f51b230abdb625925de654f4faf84945011ba394c76e6896418966a6e42cede589b2a58376b0c2356dcf7223b5234450b6beb8f43c3e06fba9214b708f70a97bf32fb6752906f6b165e8644854883b9ac899302f45d100b4170ad6ec72ad44be0d978a047ab9738c7d44648a7889144d812b560c2cb8e7d265d4d8536a47248ccefc44126857f055e2f79562f4eb49469683b1bbf619cc578d19607e6d682bd353746a7072bb3553f25160cb99738f27127851ed8aa0258b8f953f825916086b85e9f06dff14ba7e2df49cf4838f380d69ec42e9bc183eeeb3a61b1265e43497ce98ebbf55acc14b6bfefcbe4483ad7a6bc21d86e80cf5e24ff4f7853b1aa6f24280c4701c64d75ba910d1cc6c177effb980e997f69ba351625b0bc2100cbca7cdaddcf372f85f0178eddb990ddbdbd86c78af083c0ef76f86230b0c89ee414c0d4914e8aaa5bdd70b605b093e0947747cd8a5dcc16ce2f290857848449c8bc99b7d114edda8b57ff6ae45c1c2e9510d22aded62fa8f3e99fda59d2ea29486cf425dd8f8b24e2c1472d6abbc0de3c67c7bfab2a6f16444abc5219f869cc3edab2aec08999ab4621039a6f2306c3bacae64603a35ff37e242e729b42a4d0a0cab384d08b2e525342f725a5ed76074437aabe0061f664e70676848a056d495717cecf240f673c49431ce71f4ab643267cdd49bcd680309cdd7df1685933aa7d462b750b5323397eb45a3f432ca26464ed4a9ae4d7d80155e283abab4020399aa870181a019c09119d05e956d0a6d82659afcbdd6c2c5522b78698f398535ea8f4c0c605fff473bbe1b00ebf8e1fb8844ad9769992cddcaf376451891bac004454ad3c78704efe7974c42f70eee0e2d2426ae70209d963e4e4ca91ce02d4077216e50cb74315b198f88ca9d90a09428d79dc2d50681487bac1781334626b0adc5ebddb6fa4b91ea060b7d87b3966d41a742d73993f3569b817b51c7f02f84ab865b69f069c357825ea342bd1e5a68bd9ce180802853f5fa2a1b719729902d5ea89281b5568f8ef3bfe2126bc4047aa745f3407263707fe9fb266d22ad1c3909f0b0fa4dece0fe7d95728705d64e0118dc31fc0cfa4285c540d96aff743b74e32756c13c7d8b5ddb6a7b313c87dfdac92b3650ebdf42035a770316021a8be97c1fb66eadcb1a9fc91042ed42b960a2545eda68a8a6334e989893dd693f01015078982eea8dceaab15c4f0b82fcea8e742f16646293df8ea8fe73286b5f765023f5c234020a35f13fdea7094400dfb454c877aa443ef41aad0400d59e39a72026d37df2482aae82d3466b695adc3656e7d2d4724213af025c1e4b497d3d389f6de3947e3ba6c8f5b67e86448142fb96cf6b114a6b81eff0d98d96a4a5fd8b5d981c0913a4a13b5103602e4fc278cb1429e686749f5907b7107c85b85fee90cc41b643fe5c1f5a6bb507c5f10aea24a4629212444b5eeddaafbe3a24e658a198fc186f692dcf38f1577bcbf01a84b8f03210ea2d58edc25d0bc2e052b03ef8335afc72f76244b068b60f6a248ac07215582bbd0e4e92622ef970ef8413e3c62f107a498d7ecc667563ba0ebbca2e6be609db2e80eaa37dbb8ec637dfedc36840a54f566c3a432ee53a965fac550ade685e6ca7db91c0b26594067aa07960047c9d8c5b179e3b80333a1e2f011077520f1dc1ca828e976ac001296f7d324cb4ab0fdd80d1b43e4e302c3ccd0e8d427bb3d8315d06069e7636342d5b925b3787cae634355a84aa516db12dbb639fce40a4dc1b3bf974ec83f236f5f64c4b751401850872c416c4d62315bc2e7a0d1a9aa25e90a7f4f9a077eea46fe4adae6859af126e36ee789de5de5df6de310a92612c01cea4c998ffcb32ac385cc8f8fd3c87814dd79715756e1295c45a1fedef32de4e3d20c39f2412299d9dc973f196ebe81d56d1d19f4a24389a8606ba146df707e3737bd8ff1cbf462d440e2181381b3ddf43a9563ec1682d41efa6655a7fdc1ef9358d55f17c8856ab1ba4fb7810729fd317be9e0f0a7c5b588a3dc53c8722ea3bfdc421a3a57d9ad18c25f3f6208d39e325a67233cb6264e35996d358456a1e244f525b8e2f85b61f74fdd69c0d8d372f4bbcc09c806fe074ae7783b34b345f01b17a09bca91e0ea3ca6ba4759a66de8f96be2dd250cdbd98cc3848b818ae4b9b5f031130c5870d590b17110a312e52a053572a02a09b3466d30d98d86fbddf8c8d78fbec0d576709c0c462cc51a3674cd98a3a5378f1392d84b207c2ce62ec6f081d26e945f50b1821771a9e75","isRememberEnabled":true,"rememberDurationInDays":120,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
