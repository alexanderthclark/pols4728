<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"00fd07ed5c78b5b293d2cd52e0852bc4c5ceeb26004d7953df843073eb9e1fc2756364303257f0a126904b9a34475e06f1c2cfdb15daba7430d73fde26a4e990a950a672fded64cbdbf8c2828977737e346c000d49e78a457283e5299a4a07b6c7c3bf5498b2f6c1b5438e33166820ff68a38a664b3a4c57f50097bf609eece4c7a2bb2abee8c9ef58ab347552111c5fb403cf64746698d433dae2502201008487ceb74ae7cea34611f77306b8635c7d68679cd8d20854c077bbc832c78ada75fc9b71927cc1a45d6584ef48a560e553188fa7bd025a6b46aa066f20c1d245091534b8d5fed4f2d85732aa37aa2a007b07df7062a16dc1535838c96480ebf4cc81b01feca956a1fd047c91a6b4adf9a5d1bc7e81ba7c4fb5aaa51981536ff71dbb05d17e1a60082845cc603bda3bd8007fa03fe4b6f4e022444612868c3cb34dc81d90a91aa8f1b7e36fbe92d0bd63b0d709c59e8a4427d1204fac03e42bf46edbd4d9ba17fb7deda2db408510edc370f9364e54278318e3b549a6c9aa688b20b57c8151edb1855ddd82e5d91dba30ac4c16e438a83ea6311db3724d6c5acd1e151a2fb848d8f903664eb4855573a913e66a66ec291dc6a14bd95e66bfde6639c38bbbbf6b62f3ce47e2d17e69a28bf37e471a16fb257c62da1613e68c20229bd5763eda0ac5b7bcc941775204aad3bd25452487830144692f0ce7566961b9ba9a4ff990858c0697e71e9859d8abfd2979d315b5b545acea4d411e4f847f160504e1c60429b28632a85002f090fe4617e0521494484b4ff0a660fcf7507adae73c58f87f69b0ac31a7ca86b95497d8981e772f7c0860297fa174313bf1cbf5e0787dc619b18ae7e625573655b9398a189f30920b618a50be5e7791901834540d2fca152dbb05cf9e0a2e0b8ba5e2a7705dd4cfde713a61f47b811a58b9cc583d8c12e22914c2c4869225a54c78356b70f68a444ef4bf02db806a3e5fefe5a8dc10c0576d2a914567b09a253d9631ed99b364823369bb1aa094005f03be1fe6fe53d9debbe6c95bf5c8e0cc6fe31329bf90a0289e39984201719abe5cacb4920ce7b622386aa68898aecbb5d1943c5ebd6acad059ec9e24f3690857a1a1171660d2462336017e8bc2e86ed6c154fb75541c92326222230b0fe5022bfda590b5f4a4bd4d2ee72ab02adf5f626e1cb5863c86ee351fa24cf4827baa6f4c5664da3ae39b5b92cd9f5be4c77c1fa01137f3cc08bd6fbaa56d3ca86639b71f7657058e306868553a16f772503f5bc778f044d03c1ff45f5eefc5977bb9019568782f39c87f8f32274e1bb115f9cf82a5e23bd75222b514c13849d3f21bc83dd15a4bcf19a16164396b4863e9644ac44ae51e745341eb3a701c0969cdae1097ca2c93fb05ad4214f153582be61fe956a055790b4c1c3a09708aed9b16f664d8b80405828a07a283429a9aea17db2fd9bfadf9415f8727575884a31dcb6b9efcaf8455499892242d50cdc0d3ed19d1f4eb4843a167a0c69433f1f08124b93c873d4fc0278e4aebe19f6baefc898daad369b67716fde29774683e8d4a441aee4275be8f88a6bf3840e99d0843334a71b662f1f45447df6035ceef4bb31459fa9c8e5f698a86b5bd1b5020ca366810e73f0dd8cfa433157942f254aa60c3f5e9503699479f1420a75e92336c2bc63ac1507189770e73d59a0fb5a81ed6ae5efef0b5a3f8621b04ff90f3549cf9d39b34fb5c79ca7679a0f8759b5ade9627a29650699aeb00ceaa73a5fa87a7bb268c309b45ee361ec127316c3186227a92d28ed717837de30a089641f7aedd02fa61fdc12e69f64efeed9642f2a408c3737d82158cacbde182ae582a13a0750f68e44cb61f90774218172662dffb1ca127852cb8c715294698d149c064852fadb6b2bd43bbf45127ff1c91ce39f43dc541a5b7dde0d95c099319278e4a8d6bfb2476b542d1328a512eb4eb098522a489f4db5f385b8d94e578e13ed2593407ad1e64cb87bf2f0d90fa67fc055a9dc097144db61c363a69ea45ea827005eb33fb11713935b022ddd7478fb49f5f05d390336d49e68439eb280b29a69c93ba2caacaf9147293c0d7226874cfd85497fa509842ece24e968987198735a3ee48ac8f09e269471c700284f17778e0a75187cb91a0341ee9fade03efa98e8adef4cecc292346e675ca9c4fa26ef9daf5f91e5251a067cb9169b9ac5dc5a5fa605ef12d4b86411f0fee6997aa833fcff7acab98565aa89f4a7ffb2b507cbddb76fbf7806b251d8ac6223ca8d598ba76a0d5b839cdc9317c4e9b46f508e69272ac0b2932b262e6be7ce196c41f93b6a404d54334992dbd4d9abe40255b4b6e5b40b05c09fe9e965a210a42a2e35859072a6c6e64392a9888f54d8753f82aa38f08f9bb7a1e27867e179e1e7cbfad7385e5c1a31b277732576307e22beeadbd0c1843a9d99930505ce18d02c8beeaca9e83dc791d9317b69c02ec1e65081b63e6455974044e73548d357ee05212ccb4e3b64cc25629c0cdc8f4a0079df5a4047000bc66546f6ce19678a43e0cc506fb7b4a582e524b3e0a0d7a7b1322e7225f4575be82c036e2efe23b3dbe9eec200bbf39bd9ddaca53d460c8f2bcb172f351519a9dd21a7906bf7b2a2f5f29b4118526f9430bbb3529b8d35401cfbed92c2adb96db6f788efa1599f744de5d3e061c6df4e335ec6c4a053a6daa621cde3c69c978f5c65fbde8fc4eedbeea53d6dd06a8c9377c2cc9024d30051734a0f7b3964f8ac1294ee9eefeb606965012fa2961fd532ec8a7a3344b501097fc4257effd3a35687590e46d0f7a142e9821ded160ad30439d48e43ca9f7f54b1b7183217c54c6a1a8b590552c3fdb60ff1f54ae697fac6478447592462ae13574c83a3f446880886c2257b684b07d0f4aa282b0791e282a42328ad48d55e8fb753d687e1d6e54af7cbd180cbc3320607a483ae83fb5095083f3911833b3d85f1b87ff0b7ad79481ce09b6d9af18dc7fd437270c90cdfc60fb27a5504f78871d14f62e539bc4078ca2abe9480f78bb6dae3ab85aabb42c09c7b870d7f94c11e1c9dceb034a6ebb56d434ecb98777925450c753b53b6d2bb56fd7747acdefe442a3833099884632347b6a1bf1aabe37e737bbfdb29187b65e841e3a8bf8be5b02f0a916d8ac4f654fdd81402a5e1247366c8a8e59d763856f235f64d9926085fdc428193eb7e79b79ec67bc70a9c55ba64c617e4b592f2a9be9910953a1b8158df16a7909f171fcb5458e962faf05c7ccb44f624252728391abb0475cf692c160202bdc21036703bd7f98d35c78ee063dc9a22827d0341d2854cfac33eecb59184551b6912f7a972c72bc07394447eaaf0cf16cb71559d8f277c60563928a64fd78255998512be41e1746eefde9ce724454eb9059d94fc32ad5bb89c059e43b84bba30d589954d435147ce2e1039e476609a9d5397d5fe7895591c0681cfdbccb05826437eb354f744c07a8e640acb8f28b5ee8dafba3d21dade6bdbab662304b8b8a8bbb3516c6a6710fbcde436dd51f867a86676def428a315b54d4742f5ebfedd74422fb4beef267fca087ea27c6cc1597dd1a1426b3a2ae1b1a52b65e5d6bf41ed811eb050004f508c8ab202edf3d28f73db6d7871c5d84486a5a2635ddaa42538cca39141ba4c1747413344b426a7aaf2b6f7727f283b8f713c8e9a2b97c8d04834005fba9e4f14eda64e82a1f0693c7a0a0d05a9d59459703273ccedb1edadf3253d1695e305d9b26a2c75f534e32c2176c741fb4b032891c66556c8853bff19b220ba21bc5dc74334b74da7c0b85216e28ab8e75e349be529985916137f1ee62881103c2540aadd22c274838706b49df1cd84f85d36bb9ca83e386dca1af1d37ff85b090636bcd5429960f1113c48a14a66648a11591fa64033a6079b6cec706b2d8e92aa7cd640322596beb390658e4c8ace99d33db200be577ce6d3a9f194c41cd6c17626c8bb9399c1c01d65d474b5580542aad6cd28d8ae31ab469fdfd59801c5741103208f95d554377e6ee5c8c4aed0578fafeff2d8b2aca9f47f30d5659cd4e42733608d692138e775f3851054fbd93e23197bae55f7b571b590d3d70be739ab5708be2f2354884d5054aad240607714acdcb9759bde737dc40308977308724f8a61271c1f9a475ef7dbf471ba97f3a611e914463c7e429080e97985639ea2b755023556b6a43c46c1613cd744149e43b6e6db4cab5f322762f03039d6cb67f6a3924e7d4564b083fce7a6807c8931dd75d4f8e158368acb175bff19fc7b631ab8f846cbebcb4dfb3a1531133c10b5122cc26270f5b13def3c5605ca2901e9bd789b465cf12a0f48dd9d343f9889f84192ba01cd9eeca93cb54c2e5487b2b1d57adbcdad22d5abdeadb4f8c5e370abb1d35d1aa52d2f3e1d08c483984af78f22a8dad6fcc8a89b003ca2870e1b6692d17e21c929aa3e22d7d01bc06e58a623e6d551215bfb2d6e2d21a656822ae2dff6d78b4c6cc370e9737f0f2502030456ef8e192627300f22d30dfec1c778be4bfb49d9e71961835a19c6c5e183d6759c185f37f220477415d620e3a487c04160c36d8b18d7f8aba28f429cbc1846ffe4d90a4eecb87493fc5571ba0e95197fd0c58737186c62b262ae8b419b4af82c12e8393ab45ca5da75dd7ef683ca2912c2b9caafef10be6992c0e5123c37a5c1de392bf13a3b27b136a41bcd6f02bfd7cd1e54034760a892d3702ed54be7a23e5cffadc857eb42fb56ec397a8c9ca9f79cf9a81809f3b40fab001dee29518f5ee53409f1252f400ff88c369fdc040d73c8615bddbe8b762930d1e19e963b8e34d1fb14ec3e83e7c4105604cd164f75327b49f1307e3b384f43d587b4b9c0d4614806c9169645d688fdf1780037b7bbcf4aa2e2546a97b9c950f791837aae189da7db8ec71fca5c9b4a02caa85e79c0ee21869994008ad9387c3281c88025ee1d16119c016f32f160cec89df4ccf875148bc5b39cdee28717c1a00da0a09ef65400ed7de8339b0fd27cc5b0855ba95f41158fb17256801c4748078574f0d2b903b33782e8a8f0f8be1fc36c06e492e544c84c28aacaf00e4cdba8baada3727943060892a69ef955a51c31a616481093eade79334ac30b7b666004db5236ef5e35074a409786f6e4ad2e2473cca525e7ac738ff7bada289f4947e77bd1787ca0d0a47cd604eb984c930cbd1aa9ee73346e8fd9512ac464315f1f5dbf4a2a6e2741366702aa4340d16ca1382d6c43daac32dd372b392108ac19ef9c5205ba0be241e48f2b4b60cfe739fe0611e82f2d41bf78db37bf06d1462d5d5446633d616017289d6b4e1923500ccdc0d207aa387e4d0ae0063510de8a766050adedf40beffdf9efd6a615b35e916ed2b566563dc98209888025f92262508f8e9b000f6767df398142a1049d80d15899b45e1c4f4118aa63758fa9f038c09cbdf5fac9dc2bed0e14cf370eedd0ca7a8c3b8208bb3054ed93a543cd053fab9c5e6a78c75ba38a79906f7517c8259344605297ad2544ddfdd60c400a4185eaaa83ccb7af6006bd54eea1b2527c27bca6d472f2a3e49ef8f47f44c22bd31235236230f5286a8c0aa544199c5ce5477e47c16d0183d2797836c0a138948a5937ce764fc81e6abc1062b4807db2dc54226a0ec5fed1804c769a911f3e50ad2ec9fefef9461999973240bb932dd54c8fc3c62acbf967fdb13d307c6cd5b3a0e90babba7af5d5699b74e474c0aeefe46d23a1f4c1355390167dd5fadd5d67059337bee882b7620a69e54b7a1a402fd456dd7a3991858c2a09be1e5661f9bb56cb9c4d90650fca760b9a644e413d34b2849cf2dbde442d3703393e420dba89ef26f4dd2a02ed511e3ac14d09975a3c397fead4c6ab5d7f2fc82b54adcf8f6757f390857e2b9266b20468aa9cecf776fce4ca89cfc5d9f466db51cd96af7ca1d2f2b56218dce0ee5bdd1bb10806bc328d4e81c771bbe0553d34464d005076734e03e4b9a312b16432157d41bbad9f9bf0d2854500e16742eade39e9ca9bdcdd38e595ed70509ecf811bc0dfd0b63c4954e2db297bf3d4abf72664ec29c6d6e6f5a2b8d42f338e8240656b2057a8f5faa24c8115f8fea78ce5202857a3da6701ff0009776238969665479a4ad77f85e30b23071a91118c3d2c3965dded458747c288e17cccd77ec34a3a750fab4bfb0f1082f43e756590b86a715d7858c0ced1e5f5b5c752989f39cc9e8f393c3a1ce49f4430daa56754125f902d4d736c0859f31612232e3d8c084d4cef4aafa358c0e5dff3247270573e6dbea0569b84e45da66d7267fd3d2cb829c90e325f3fc7e322c3294497ed7da48f1672b4277e1f06902a37f81926f1abff343806e5f5a88798450e9d1de20602a5a01a0afb2b6170ddeea7a3bd5e06cede9f782e7b753aa08e8a3107bd87e5a55a37898ffb3626eab81bf86e79d27fe89fe625df5af5a52fe2542f60c4cc29fc82d1227bbc39ca51098e8ea67d10269663cd36cddc211ea70cae16a8b36e8ee38d1782c72bf35106f3c5620628c68f8c68f7085bc8c818075cd5904bc1e957a65d03b19e9d59f1eebef803f453f343503593767a49fbcb26ab1bd83720612698704b0e30e0344faecc4f22b48fa6658a4f979e37313bb5052ec3122fa36065088ee622c2531545ecedd94ef6854a25788d7efde782100aee7c7695e8604adcec68d08e4078989324b4c4969e82761618fbaa20f7e593c0c6724dc82c94c34e6a02b65b6be42f75361ff4c186c82e5cf6deb29ee67cfa83bbf059637fabc11de23d285709cbf228ed3b391033365c5cd9355ace21d50642b683b3df0d7ef1a5b55d3ce5651144c7b5f599820161355fc7e96c81c003e5c61eee53a0746483dc7733d85c6d819f896b4f94744aa045cd10404aab2050458311de645a2ed689bbd8851ddfac92a8e0c35427d3bf64bd24aee687c08b9db5eab0f5ff9ba6b583db8ee2afabea689db1925cb59d9b48eb43c5d6c75db745c37e9f40e34c3c4e39cedf77231172f8184630059637695bdd333129384be42380534a79aa1dba3bd60dd0a3b30a76720615d6645624a511d284a450d9d2e31881a4d9a1751847f1c39edd51bed0fcb23b0ca12aa99add6de2e440e7aad37d975ee485803f840851c043586ba8adf507d470a386dfa429c1f3f808fa2b9de583a923a8e008b04e43cb62e99309a9bec262bef382f4b54b7d93e28533daba3def11e8f8d094e996ee1e2e8370d4327eaf650d2df8bcea23143f44f14681f715a43c5596f318379bbe566ca918057aa03ca841e85c218e9d3fc72740d6c3cdd281f33f563af37d84ea6177e7ec959fa76406eaa24997ec79c609e81510d2330cb66bff6ab7912d8252832ca1871c7a1aaa53aa8a5e17428b115cf1b2c3b2f756f6eb1d0250b63269bc518e3bfc4d2f688e795caf2bf986368a38567b27d66f864494ae807132e8eddc32e6905fcdcc6cfdddfc3c0405a1c710f0d9a170c5db4121b9181138d3ab5a92eb3900d6a71a453111caead55787dc065a34585292977d175576e74029c3ce526dd77373bd797598ecd26b40274bcafafa0508da6cf7be04db987a495b258e38dbc1f8024ef00ecdf3ead93d08ef91bb488d48e0d92dfe6aff25d4ce60d8b6c944aaeebfe29085c027661c6a2fd4fb743b0a5ddd62b7405889dafdda4ff06bba8493eae991dae0b90ebe519bded32d58588b1f9c49aaa552210659e5b63f5b494c410762f0e9312cf619697fcef3061a70947119f232190b69fea5674b1c5d0cb5dd50da17aee26e79f29818b7ef414cf552ee81b11da81eec8c715a3029243ca8f9d8fe784679e6dfe54af181cede6ab54ff87802008201b4ffed1ee37f9744b4043ca6a2b535a256a6c78aa97be5081d1843a0968804aadb39f49ef27bf9a2cf8134e87d8ac6e3a315c1b69b78051b959c4070ba85fba4b828ce09ac05add9ae9b8ab9cf0d5c8f8e844caa8891e86779dd3c16bc3428345efd5986bbf5c31dfaf2f456e93419ef638db39265602110c9d0bcdbb61a762dc98f67496714b3617077186421bdaac4bc01391f8c08e8bbe5177e6f22533334ee6b8a9d93a8dd3c28dcef9c8acdab2f96c338b6486bdbf686edf47d6991ee0d3570f414f9c49edd63b351a8c0fbc19fb01d1aa62054c40b8971a06028f8659cb1b9f97027c269bf411f212725982d676a0d872821701800f58a788ebbb3932500fc5f8dcbef1b87336c668980ea1f616ac98796c78d3e28f064411179f806cfb190cdb536ea241a8b0859612a73938e663a5368ce6312d39f9aa6dd2975b7041728db06b767e718637b3c18c7361de10782e7f3ff17e6edd7082a222abe9d6722df28110ead4034717cc34a858f5524392a3c7372c28eccfa1919e0ecc7acbbaf194545ec350d800d5a97fdf84ba00311f6f7612457f48ee52eab8f6ce811bf63fc700f91b61a5212dcc8396e2a4b8933ea54f267b4eb34a257cbee78c8e67a33cc650c7cd95e8948c2c697c5ea26aee7862f3cd3deca70a8bd9c763fb6f54ea64d0af0c0f37bf87a78902e0362b60ce322c66dac555e47d4eccda1c3c38fdf9c201d94ffb6dfaf5022dc15693809d57fb749e3a6993f107a521c3096c41599652c9d39e5c2431b1efb130a6a37d39d1a229f68d4c67445a62e2651be0208f97166afed9c11c4eb990f3e100bbdeb068c50b1f7fd91841722c2d556317a8fcb9a36f177b860a3732958461f92bb213f1f64ab232623afa22b4dedc657fbfbc5df951164291a7c332dd7611a13998b5b877eabf2ab05b413b708334bc28fbebfa37ab5d1b36559a2f01f955bdda0e8c972bfea00f4bacd0e2784f0a19d08780b52d4c72d2742c127e07fd69c033e8a35842e772425ab6efa54fdaf195364e22c61ea07348a6dc8c724b47fc002333dd09aa405aa4a88c6416e7e1982896b56ec1c2304a3d7887ef63b55a0437186da46cbf1368ea4196460b8f48848cea72b95e571dc6f029f9fbb1b5bc5bbdbdccc223618d0c024d7fbc073a7b86384655f5b95f4efd7add0adfdc35de3a186385d000a918c6ffe2f0b0a744810e0c819ea90d239cb1dd2c0eaf482f5d4251d3a1773c772d09051fa247663beefcdb4110342d8d3a688651825f73ba7298b978020e07676dcdaee885967868430317928771e7c60cb46a89a56da68835b8285a1fc6f7671338fb654b17d0ef2a1aacba8b3427bc3e0f3bf11ff9eebed1f41bd85e470f7422e5bd55f013d0462b59566869cf320bf48436c9b3957cc7193b77aecaf8d1fe4c32e27df33b9b1ae9563d70b3dcb408eb0976fa3f80510a2a76e84861b6076d684a51ba3cb9daebdd6ad30cefd0f0cd550a387ed5611c4d343ba35190ddf80fb1e77a967a9a3bcfb2d86a9dc6a2dba668f9fa7732106bddd66f5f8e1245841f72799e064a466fe02776e6a22151d0a584aa438a5bf1928038f182a06b7121d6393cc1c085fbc62a8c7b8b3c36ae2603074f5989a984721e9f20dd0305bad8b126703956ee4812202f11a1972b38cdfe42af83eca9a2213c2d72d701c2250753fe5338a10c90c4670ac2ac80c0a2d8134c6ae639fc83dd04f37e54e1abe7c2bcd88e07d18db657d8f1851e99bc6dd275b71820d4245327ed6d1e9f8b6853b140b787417671029ea2472c05f00ee8eabdb18d173eecd3d3815cbef179fe697fd7503bcda77ea537f6f2a02ebeb4606c5399f2d955564689312c699d20b7a647760562689ffd2f99855cbf1fd2620b41a7b88d25e5f0f93ff79e19887601b53fd7669f52758325eafe179349a62a1bdf40f18cf5a941ef1d6568835c87ee08d732949532c72c7dd1e3b264d12a8df3cda3624075581c7eb4801f1477cadb8f0b8f0de9b3bfe4e5ac6ad0300e006a65b7ac62aaec8a9f5ddc1ef7b0f2d718372d0344a26e244450ecc1ace64a6dc70fc65382d27b94cb8f3bf929d13c3984dd9c0fd82ac79717db638d3e5ba422539df17a89911d25efb53bce9c6187ed52acc213ff1f146f17fcd6c971f60874b4a16f86affdb11e2268026ee69fb525bda775414c33f76e2a204994202599b28cd27601b410a43f0dc3a2547e7d3ebf8b6a74210287698e43213c3725f26a1a3dab8e59b99b266bb811d27b9d48f17e922b3f47df1f42019a3a2d2bcb3331fb2951f2b1850adecfc23f2bc1384761fa4ba099f03e7ed4520bc1328dde943b050ada7194ec7ef8083fc757e99463a2903b4ac44a677013ac870cd535f0f7d6c1f88f0f92e7d5c5f89bf00a1880b84200d129610dd18ecf6f201a1b21cf3b4930a9a79767182512f74b95cc142872c9b790a5c631f5ff60824d9f5f7c998d77cd4ee9ac51040ae85a05ed8c942bdd8a6bcc101ce70f80fbf56615728a271b61a16abb4957680cf1670f574917502646cccb01685a2db9bd5e50c972ebc6796732f1ded5664eff3e23547689e916252ee1b4f35268bf99f4e77bc41472ab828970874dc2b50835f2b93faf46631f7e064871e310c838cdf5d76457918b38735e91af2a14ac3469d61d9076f0db786706bf7f783e520025eddf5576fa7bf38d5f26944024c6e7d44ad60bdbba00312b6da1dac3e8c548005c147ca40def26f1698dc0f330e50c0f5ccb436acc5c2bc7158f51e0a12b31461a2bfc6f299aebb592b54b57bf6aab45613518466ab8229d393ef3567a9f89a2e3fe419abf065ced8573801ed0a28a38ff54183730f0602500fff93e24fb465345e81ae234f79eaf472618b0b4499cbba19c8764defccb7ec6f2ea30041d048b56ab3214798347b5ec731bdf887d8ad4eca164d4d2d228363fe455444d1b69668ec011a81baf6c4443240ca10d8dd0556bb998328c067a5859a0efb1b0eea7cf7ad0b425c21aa0c9b1d84aaf5708db071ef55e4413e395fd516e1496f2af8114887a83572e0ba896b3fefd62b7f1cef7e89a411576577c95a868dd01460eeeb9acd6a26538bef9b7c0d0fb12312fb2269b034a3221640f6b82f9d77dafdd20ec8351a2b8213135452a9dde3cd27ad0cb19b3036f6073e70daf6070f9812398ba1ca51886a8758cf90e0b2fe4bec393e4c63cd808d9b440232af84709133dd3cae1dd5f78947a187693ddf2fa1b1f6a2e93203bee47fa3c5567bf078c72c17e6ae1983b071759aa316f87a6316f0ad7e6a536a3fdca07b766c46e4ded4e00b7b5dd893ce6ef31df6b5b9c7c9f70bf12fa4682917be4ba52195ab4bb49de0480fef3894a5cf8045d99df958ed38492c9949af8bea16055a32046f9efb14a90b1da8dd6fb5a6ad40a065709437097e17a250022ddbe5d95871cce104be81fc7304c66b3babb22991b7355e44234fa7b84839d60724f83c6f850fa1d633c4b49a1b3429027243ca3a2688a5f58299d34e9a721accb4bb5f968b9661ff6da9540e877e12f5d0c378d9fe91642436fb151ee6362be44a310f1dd8c7910e8b3f5e655025fd844c22b971d3fdd458176ced85ca1685679061d94f1695a2a2833d770c8391a4c5823f32972d1cb338f89c093e0acf742e0e183800228f644d07c08288d204418599dcd344ed6056d795ee085fac880ca0998247a4bdf2a5ebd986e13fbd87cec252aa2bffbe284ba656613a5fd86dc139146853c54c0f3e869965035b30648d300be14a7c2eb5c9e5081d76bf841719f7f05184477cc4b3c3bbc73d01ed73ba62cc37ad502c286a29c861d9a3cfef55fe98b17b263076eb576a2467683379f495ba14a7f52e42a4d77ea4ec0e87773aa5950700e08ed1bed6d7a9e909cac586e7c8061af365107416a3c4a6f6471896a3b864f5d99e8c937872ebfe4e99163de06fe9add655344a4e9ef35f34f16b0d40395dd54c688911afe3d5a91be4f1d19e6e318b8e525945e2152d798092e7991b0082b80b1f60a9dbe6d9afb72789641f93359680390e1c95ce09d5b1737201776a7626f9693dda85ba95f4bc35804b37e48edc00f3595f79e4ef89fc4b8a01f6052ff6f684fc061d11999f697fdb7e55f8aa4a40a5e9e8fe4728619e00fc0d265c9764b61500ed23dbad99e73bda087965f0f44c179b563ec4bde6ae7e955c03a9d899bf999442b2fd05d519240977e080089ec2ad312c71f759060a749abb4ecbe05d19eff640b25ee296368c9c4d9995daad1a709f16f823413901ee49f4b28be13c712a205550bc3d7388fc9fc798539a36a405e19f3e349d3e7581adcadcc1e29ac88324061d3849c6ef2d652a982d2462836d4b6aad63f0131636fe39f9115facb9949aff56d209a4cac70edd4d507676f7424ab3f4d6c68adf4dc070336842177fe0712f998026733f37fc0791fb799521c3cddba56deac486463ee57a4dab5ee26a420cf617a83558e6e94661d9def5bc1b430fa45bf12a275ab5ac8c714df470bdb0cf0a6f43e8d69d46911b897bb5cad9aaf49f6a2b469326f6ebb128207846b8621092aa5b25726bb2ee38f60307d569c30ef707398f202b0164ea7bc7787bdc489278889142ee4a7538e97df51baaa2ecf0ecc8ee247732a9a028edee5a2b49fb08edeb57d94c9ae38e0e03fd9a666a0e51dd1cb91caabd6ef3d05651b25817bfb3149e0b6ec95364051e1a20f102b41d5137a16c23773975bbb935eeedb8cdbce13b77b441874e0e4b1a8b3959812f9d2ad9be16889fe643b57d57e4e624b0cb982d7e48a134b9ae66fdaed9226692c7c482b0c90c8b1044a696f2cbfb30ae124d5524239233de5e787b4665095a32974932168ca09d2aaedff622475249fbc54acd50c5bbe7ae41e7920ef1a103a8a7804f96959c6ca035c8e2d29f61015a0ec97278827eb4fea7d6fa030e6a3141f9dd353eb0a97d4d20ea7014428f4dfc09ed4a71620abe4c782ee73dfadda7006350a06d81fb9e8ec134e1274089d1a42a9f55000f08d78bb162a0cfa088731e25648e1ddac912dcb67359ae321316bcb5d4b57b662a9bd2cb1437b8c909f94b236518d7a49e02ab6737ca18785f6ed98d01ea5644c549f9848d15040badb5f7748f51f2ce18272d0e23f26854191897534f80a18efb3d760f6d245b1d16eed6fbca06689226dde1c94852d0cafbb0214fe4a2e35380cc6811cf79d1ea8c5286212aa336fde2a463e0ba496657475b44111f443f8ede3144ed72c32efc4a55bc74a0011df075138bfb7cdd6559a53fd5d529dc8f87a3abdaae5d6af2df4010fd26599017e7d2dbdd2785a3185600eb7d8fa21f1cb15bfa95dfdad503856637a991b48cdd1f814b40f4b289d19799727fe9613c3e76ed00e9a027453f5384edff75872d58d63684a0da1af7f75f9d36853407dd994f62ac553c3948c62cc212ec0b66637d98b7db58a3e28e4ce2f502d80512e4b8889ae24ae86abbbd27541a6212ffbef982d468a7e2d875c1a39833cadae5acb83e1ebf2f419b027d2a93aad4479a0c6034204eb501c852a2a9bac5c4ee72a8c9eed3650f704c4d59f97e756e45b1f7f4ef5d93acebbcb92c70ee67d1b2c4437a50b3bd05bdd1663ce11f86152743903f781d5f72cd22eecbb9426fca94b9c83713df56ecb5ea6421ded51bee536c77741a2ac7cfba6c9bb33ffb0f2f14d587f2901bd1f6104c26ca56130f71b91b2637733a544f2f7ef73234403171da11b1a975c8b9107df3948066c4a95b32769ae23b57baabfc7092f65c9f4e890000574887c022c68c3ee59fedda0fbe49f4389ba323ffe21d0a377e8a3e3f3e93ceb05a684d5fe9cb1a88a9e6f17ef397d09377d80ffde642f8d9b25aff334f3013ca27c20b6f3e05722031271c1493310b3255eba841bc8cafa385f4b055f991064f8e45bba7fa371fa37aedfeaf40a4d23fe94335490377eba13de7f5230272ef0a6940ff2e26fae67ff140df044865e218135937e4ff855cde16d3b90949b72fb415f8e0f3a6e87cdbe4d7b92e6e76978dbda6b4a5c3db9eac16ed9fdba122ee4d4dedb604433fae713f6219c10bc2051383babacb32fd8f569fb284ac2631dcae27aa1819a0ffb169e1ffa1a25a61b42c8e405f595cdb38982daeb7e2ded42859e09a66d20673421f56c36bc93d6c32646cc0139583e6c9a79b5eb0d3bb03a68d92855bca00997cbc8122027ec621f74a58791c0322a98efe3bd43416333c9ea3899a5cb51b6e24cac0e0d9083b49713f6fe64a0bb2bfdc4ca4d5535f2be66d60538115999a292c8ee6e9293574a70d88ebe872337872f89a2847b8a6e717aa923b7aae1214f1d5d7ae1523955925499a6d8b69b27c5058dc973d3cd4e5cde177ea4b05d537d663bfabcb385de403daa4573c295eda69769cc7a91557e8baf0f36bcc57d2438b1414074d69e085c76bb469b59f83d9a8177fdfdead3de9563d795917047d1e44e6d81022f42fadbcef85e90b481b8019d0692a79c149302c69a7196d5fd9cd1d001f6a2be83b3e7a9283b8cb8297a865e953749c2f0c71b078d96af96f6a2e74283ac858950deab3ee04bebbcd2896bfa143b9afb339c582c39fd9883ad03fc36cfbf77fac128313b95b79c595ecedbb15dd3597189f673cd979532c76a47e8cee3b4d73f7f5b4cd2c127ed7c8797b38657ed0c9195e8453a4a39da502dd5dd6acd6c24346e72fe93b3431dc737bdac57cd5f31bb309824377194d9c0db57708e4baf8377cd5bcba7d1c97e4789efa6ab2959aa920e56cfd5c19b2486603e4ff38a435c7e5f5c0a8f23597eacbb93372c7f5fbd29ee9625722e9e25be4442fd0a2a4aa2b99feabc23cf343c0bfb1108a3a4d2ebf0162f7fff8adf6c223382ab3a007e24aa5434f12f0634da3fa193c8a8c802892d169365f7bfb2ca967d643fb9a4c7c069b1ccfe84bc2632811749c7c961745b32f28df3247264a8ff192a229c7edc5bdc93348f251c61416385b9706ef56d9ef9f3299b6933d10d7e7f95bc6520b695586e5d22049250fe313e3c5dd84bd5d48a2e6c77881bac44f8eaf4a8564f9b201c941d52c87a69f9ff9081f48ca2c1a2aad5978918b2cc3ecacab60db82d6268e021307da8b5109dee0fc35c71621bceda9042a51d0f3c30561ce7935536fc9bb41cea50cd95a5b8e03342e66d3c1b135685ff587e19f98db82b8d8154e8f5fca3f3d11a3b788f84868f5a8325204053a0face61fea6d002d2724c2c8aa707c8cab96f76274cb423520e2f6b1a108fcf04c6d698447caa9e34a841b55c984c864fa7ec25de2803c68b7c5acc8d664ace1e220f1be31213dabbd14ee2cc1f2f38eea4707705154e409c69299138a698976ae92f9110a655aa8d3c95327286d031a17b6eaf94eabccf88addc3e389cea85afa6f437a34b1948145e001ac4de9aa2d4be467031f5948aae267833acacbdc03d79a293ffd9d7e279244d47e894af499ff4f276e5382fc0175bce2100fa931331d054797fae754d209c4165423467807b15b8cebeba63daced4c4047f19d7f8820c5be0ee383da2ae3bf311015d9f634ed4fa2ec0a5861a370dc8d1781cca3ee2eeb573af959f226e4b5a216524747ff723087518f93c6188fdf7562d0daa9c32f437cb07ce7a0ea0c4ee139a96e01ecc1c806cbb67825b3dc81abf0ba26446ca31a6c4b25a97e5a41ff026d121984bb540328ff5b3ccaab3c0fb3d8805210ce388bdbbd7af78f297125721ec38d1a26f051aece7a1b60215e104282754e6d52a38261082662510452755d71d6a2c2dc90a9e577ecf5f74fa7c6fb6d4fcaf6c92d3696c4af3237ff1ff43c74223def695c9bc0f46fb4901f7b77d89b74db2fd372f7d0782c5f9865f7c625d4d5413a00fbf4d0a544eaa25bc366c0ab69f58e270ce684ff5242be721c52595b6ec6dfd01c0be68e524189a607ca3a8b124569bef346718fbcaa8353a5c07bc48e551979f11e9fc2a71007776bfb7a1b7572a06af7ad44238b6b0a5145d367c827387daea946804b92adf134284932f348b11c93c571b38eff588f0560e75534e9b42752a5521d44b9e96c1af98e08eef45574dcf7f2501473d65d870b14a8dc9df42b0fc9e1e803fe630b8f1aadf0fb467ea8e70e9015b5adb4f3e2c7c819048a7036af553e346b3cba84f6ab57b47722134918466769926f2eedfe28bd1a0b084158bd27981dc8eeebb25c4d331fda0caf7ca4be499d1c7707ea0b9a838c9f85d1bcf11f4499026dd87dbe3c96a3491387ac4c99e68ab866547465845bcccfbd456401c936abad79349a6325467a01d880e5c32f088446a294c16e29eb8da8af2baceeaebea6f07afba8e13110b0065cfae008896b48fdd4271d508124dd334710134e21e0a0159ebb2d692d704cff6b5a924efdf73e73a6d875c8224677d76203dd3723a12a496573fcc75326aa1b85e850240b604b6cf47e4be6bd5276650d8091e3ae31bd36db05e4699df5a3202ed178ec061fcfbb061ba5746e19e4db3cc2914dc468213794cbb52e977813115c6798657d1e4c5626bd9314204126c3f73bcdd45026a25b654ee2a544391f24962299bd1f3b8cba5f594aad1678c77db7ee2ddc4c03b30be6ca0c4c43a95e00cafc05937e0689e54b30ba77889e4f107b86f89d3aaddcdb999a5c671aeccd6e28d81c3c6d5b944ae4df4f8c3e0f73af065487a84f1b58c999d7cc3e659d1a648215a7a5d2f7f260035af8603fd211e93b9053f85570a0b9d82eca8ca9a952564ee458c5703937a707683f513aa403f5b7953d673e5611a885dec58945175a78a88885fbacf8d5262d824967e53635ca7b6a27af9fc3afbe0a47ee4e1a2b86a2ca037fa315fda6cb120592906bd7782fb452003f1909be4587441198be970d037349c9e64c84f4785b63e6ad44327fd5112adfb935dbe03e31271198dd3fc4ec5afc5876f04e74963663f21d87381b07eac2b47bebda38c3e7de268d2838ac140886a322cfa712feb059a77be193457515e6eb3016ee9a13ecdcdaf457875df4612f761d2537483b7573f7b878d28f33c7b9db87af54a4dba562ac01f42e0e5d8007aae31bbba74381de5d8ec59bcde0dc1a1c8bbaaa5d304447399ef3811034e36f1172244553ed8bfe78c67b4f669cbd78c834d6da02db74c5c1c631809e0607340c0fd06c2f4e8aecf6067714aa86da2e02e2629d025a71eb3d57b870277c4da21d1271131116070943d5f3195a291e76ab9e9c93a90f340d659964ef3720ff797b2751150b7301393fe430a4edf5127ca31c35eb4cb7db578d685132a45591d6753512e5f7d206f41ba3001671f3f0e85816208d99309d5149e5cecfa73ca1c3084e87f76a79836deeff76004670a71d9378fd8445aafe25b2c665567d47fdc0fe28646af89b65eb13e9e555f7918a0c6bc46daf52dd46fd81e80870795f4db8c3d8b55a6ca2e2555463ecbed10e14f015c9c79593f795636c04ce6fa7bd622abc67f67b2a46d1e3b75e1fc282af777144df2c215a6a48e438d8ed28b5b2f38f2bbb654aa088758e29646b9debb3b4b1e263db65b219186868e58bde97c369e168f43c05a93068a2991d0ee2a75e164b7c3c504b62687ec582f4e581901ead3b713bf819665df49660a83ddf9d26481f7e45f5176dca597798af6e29790fa51dc9db0e56e54cb38348061e21f43ef7b6d0ef0d79def9f8f56cf6e7243fc4dc20e08ec775378e96bfdbb513471bc8499d54be151e1232d16f95d0275d86cdd58e68f07e9bea1b0b621ba793646e4b48ac613ac9a3fd4ea206bfcf6e3829763a63ebbc1e31bf7aa5b2c8d90ccf52e15942c4d7b5e81da3ceca1b3ff5877f5e69adc00d92b4b9db196186a2da9bcda3ac6aa6af78ebfd53727a38892b620c0dfc16ce07f2c40b9a913b81f09154797c23322587bf827f871430272ff7f3a45c6f28dbfbb21b287ff6389feac366d54caa2d9ed76f2d6df03dd3b291088a637613dc1acc40df8ab6610817735fb9fb28ebe6d84c41bc4d9bc55785a9f80f854870c0604666e008ffe5f9273d7cd7d81aa351ebb142a5000788fe631232392d9b1c7863770c487a1442da8021cc828e3be1f5e6d9839b859bb6f69cca857a8e7023fdd403680d911cd236e14bf68c6053c8d2d3b3e6236253c1810dfa2f786b17761681b89f946a207c6d698cadbd99803b13e8dfbeab4ba90cd13d46b1cc0099089ec5d625d216e91b93b27c4ac6c75d959c564de13da2c3e945bdfbd3a4f8753f42219aa30dda29888b48082163aa7d0f3ea4c0d291ea84405e0dedd1e4bab1b6d55fc9f7ac5625fa4f94a15b5ec52b208a2468b026b9a5dda8c0c850a017d4b3db9bec3a7773aa6e83c6f89019e488879934bb37ad18bd8614816d897f68ae9e0887d81aec06668fc54fdef9daa3b7ea2867a3afec09e1a3c2dfda2000fbb5aaf966017a3327b9216a8359c7dd42019a00cf5400a7c74c9eb3f2fde7395da38ea7858056684ea1222672b245f8201789f9b0900880c9e1ff4776d5409bc9028b0fc4fbe959ab3489b0659c5667b5f6fc89594a932e4a2eb5effa937f3e15a3d588182d87054b3b8ac63ff15c9348aeead3753f3545d79d5be1e44bfb29a82f7964d1c509658c4cff9e2d0a74d5b3825315bbfc17c2e9b718f8be8a835b703592f73bf4f8ed89c014fad59bf56d28502f1fff984aa62f55269037ed4489733126ba470f6d83b9cf4ef28e6f2d1d9d05544172602113ac7a334155552bff166583a84322992f07015d887af792d8257c2fae747f7ac711daff2496e07cf4d1e0c4bab05be7c943e28de30613b22e4078d300e322e8e57bde5a7faf2ac53373faaf501270014e5a183456c1a4ccebb1ec91e138b84adace4020644c0a8b1a40712eebfde586164f148f91bc3599a1242d50342db32b39911a5138e4933d2443d2a31ecfc0c1b0cf0e593e2f562c635f598306599b0ac230f0d89e9c2784437b8476f72e4655f722435241d8f485191ee8638ab2616cd9acd2913383bad0a2e381bece9da8c8d6c8080818626cd71237c2403806d2524072177493074dc81717afcceaaf6350f168fea17fe05530de640193dfd9c27858a01e0cc965612da07c7e0e57ca26f462fd33f57acc48c06e73cbeb08b3e57bd9c77209ae5afd7f60b7389390ff1928cd238bb862772f8167e3c25859a43e05c1f1f448bf29dbf3b78aa5839290bc7954c4a84bc3ed822f85c78c7fd62f3d4de107a3abf2eaa690e8cde0547eddc92ba8362ceeccabb33a3d5498a0ccbd238b8324c1c43e5f5d1d221a02d3ca70207f72930ac8834490755e5cee922811cc5541b20123bb04438f36e720b71f9b81c7310cfdae50aaeea1407d0a470896b0a6cf7a60a83fa49874cfce60a921a19475f3947ccd79093c00e57c23de60bf65e6f5e356ea2d2b1d4c96f1986f594bf0cd05400910815284209a673decb21d8cc14da1c5d0371b89add301fda6d97c2aadd26b6f85334d19ca0e61c49153e14909260e8f3cd7e9e92ccf945a62599c5a6c3c0ee87b82b3cb45dcc95bf90f8c60014d7b2a77f8011b01108c0b38bea3993c1f2cf4f336f74be4be0c7abab2a59416cf64f85413331ab746d618ae304e81211dbb54e82aa6ec02363589fec8e3d5780e2269bcd998142c2dd550f5955bdf53d37aa921227be8a414f930a3f87ec0e19eae7ab90ae040600cb02cc4955c981fd46f2dd4afe511abca110f5d2fa6a565f6d15a41816e15408dcbe44b2851872086c1857056ab0cc164ea428d0b9310bd2a80f696ff60c6e4ca3f4cc8e7e81a75954d3","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
