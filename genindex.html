<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"210c72154ee2ab86214f2bd5089c073c16a3bd79433060d88ef90fdf5a8994a901ff6b9aa2a1bb66997c936cce5024e42399235def5afec7fb6631f675f14ac11df72eda47899d490e5b0802414a066c7d19ca1ae6e895cd19aba65f78755652def58a389a6e01199786e9af08e96a80998ddbe181b1fcd2eefd0cabf69ca2e7319a63079e0d7d7897b51dc63c94d9393b697c70ae70f96c016c32393ff226c317ed9730d78525fbb2dd377cd3539be5cda3dfac4377e7a40a7a5eb21e183dde40580d0027980f63975ee83abc96a423821c760352840e6475b73401790fb3ffbef2dca2c229c2ee632b54b3beb658213a122cf655c56bf617ed02cefabc34c3a6e3997c9125648bad7f4b914436fb9a2de7ffdce90d9733cc24391079cbf8139f235b551c6df6139e3951d4487ef45aa1edd5de5a58fc1bd35cd513f63df676f115dce9a2e74da1bd8cfe46c236563dac6344f53a2e1c4b6e10fe39818238e63ac40ed9140844faf19ce70bada5f071dbfd61529a5b0190e3980a9e1e7cb1ef558029e6e337e65e660d22dac73f6902162ae118935d697359500343570c70560eb47f3ba10cda53b9f7f027059951925efc32b1a3472eefcd9861c696727552fcb76399729a15ca54390d23ed108962434e98fe27bba23aa732c6e45c509e01dde6a53b95bcac4aed4f70e8b3cc5413836c2987faece2ed298f34eac51d70f5ff95c269f950054d117bb45d28811e20f57d7d634e5bc47dbaf8fb1d691f07796d0413981e6a2809c18c7d4eb6c31a9d2ea700e28524e6f9641b62feb0d1d40bc6a3308fcddeeb2dbdbb76ada9baa8a54be533d2fa03bb4348df7a55538cdd5df81a2c5b090588140e9e69fb3beb327c2781a9b226f9d615b4e09f23cd78c4aa9d9d28e7ff904a6e578142bcb38cf00e21c5434013df20c83036469af5aeec5af9406f7c00777a9cb9c775da5e1d60211ca6e36d9f75b4133ecd5c5f1e2ead78a90a462a64365f3698f22aae714a665d78425336038005ec558b9e0908732b683b2569e608d486e91577cf75ae270c990f1f96803b2e7abcd63efdbf48f3800f32035dec5f903f57186e82a55cbf669c602c66ef5f83981b13a348ba34b290593d03e9aa5eea7ee7e2b3ca6024582d663e39a36a901a36c8dcda7ea55a0ce07a74ab904cbd41c07ad5a14c0cc4794f3a3ca37223852b6ba44c4dd843ea4764a3d162eb0786be4d9fc45c535ee9ea793954e5449cf223d4b80618550c51053dfcfa5f4ecba8d13f6f53bcde861bcadb5ee8a24839fc4e92314993e24d2b20fb0d04ab566b60e0ad2b3538918c61f7221df5e4426add626b849e1172d2266d97905db86133bb56a733cfc6a4b01988c4d09a1c15e85bfb0c29252876b38702c025d09e0a97a1c7fe1037e6781a3a4e080d3c32389c10a775503968c43d529bcd9fc6be79e98edc893593352afc317eaf17a95db040029f6bcf1a470e9cd0b96d731e985342c8bab19affc00a71e624f244128ee65b678d2448df129f4af447c1df2d6b2136ab9d09ed06310cd7a06d35fdea9c12956d47d1049347046cb83fe424e94002c12d48c9d180a5fb6abaa811ba0f4dee84f958bf3a20c05629333182f93beaeae08d051ce3280c64b3bdc0c7601c96e621d5818a262d6b783e8f7171207b25f1a22b12d42edcce5d0584534a4b55dc8a219d91d8f49a5f8df5676560471bb3359d16ecad74c64fac37f078755e8091b8d2fc98651bfe95cd7553ce975209b4837ee603d0139724e4406a7081ba0dc4b6a0a0ec3978afbbf7495bbb7d7ce6fea17e8d6c4a103cf913a0ec2dd2a0c55525b5a8cdc8650022222027937d09b7edce49175580b165cef06dcbdcb968be8580650517a5b830acba6f435f5b14085957f2f787cf5c1ff1a33397101c5e0f86bba799e83e4aea91382d921aa664a7a4f60efcd1e7e4db00117f3b2997c37c595101fc8eb112937e279b3e048520dd024e34c72bc5b743cb1fddca85a3767d2027351fd28a2407dcd9cb454023ba22d677a763b4745f782573e7851cd6a99571ab8db434a005c22727abc9850dd6ad3e11de9663e5d614784a899688ab8361d439cff93a6a12f1781e878a1ecaa06daf12a9eb0b2b4c1851bd2eebda6742eb3865d3e558e29dd4ea24cc6da95ca20a9ce9fbfdfbd503b26c1a6de7ea49e23834de97892b6ece257d89a4aeb06a70fca53af46b0359dd349666aa83a8424a47339b823c307fb16739217de2f90bfb1e01d21cce328c44ab038e92a33a060b8aaddfee06dc55a57b3c6694dbb7d909cb44682b98e364e346bc38a834136826357feb11d07118a2d265c4d8c1bb537a135b54f6ce990286516a0c1a0f12026eacbe691b926546bb9a44dbe47530487a0ea5674e884f0007f7228c7d4cfaf638a891c51964768842b8026209ba53e1ded6b60c3c78be6fa1adddb0c441a44116647a3e5f8c1b93543c0533444691a9cce7caffa8a9349d807203d4ac333ebdd7fcf01c3f9de11cc68229865aade4b7a06a371ae3ed5f091ab7ac1bcfd3e16d2f241da4b5b28f487b798afadc9288b5d934d386df45f5c4881ef38828a2343d1e80a25929e3ee556d5c390011575fc401bcd8ed8f44d6bb50c09fbd3a2c1f7423abae2303225affa712ed278a04733ff118ba162723bfb523d8f6f98e19ce8bec391d9caa16500bb6ba794af15c01cb4ce70c846ec3c9ca5979e593ba5d9220bb428fd881e7d8ba2a69ce69bb4fd5bb9ce019a20dfbad5d50e29e20edb74069346ca8a0da9b5f2863fd569519466a04050dfccaaedf283922b84630021fdccf25d2470ca43d7623ced3033f2f929a7e3b1ac696b77577180f3d856939dde126910ebddb4101ab6dc69fad2d37877e79ba2da22d8f7362f2ff399d4ba777e8fe96e64d28f5cdc06f23cf24358bd618c51b6222382b3acc6ceed6fcf0849d39674698cda4654bcfa04c71196e3cca401274ccb39e49d4d99a579d439cc9dd6071e31508f75fcba250624805ce8b795f65ec9960e65f34cf353a0fa92288ef2b96bfe953408cea24e4991c3d4e76c9b1aae06fc2ad8b30c6f47ef3be8e25cd45217d079af8d534bf9051d98852e495f677fd7105653acfdc5ba0048f2c2337f915714cf8c6f438d1a040b1ae4d6bf53468954a088da4844b861eabca2dfe50a3906149d120a59b78527aa35bac0192d91bb9a3333b9aa0433834870be7e2a876daa4ddd2f89c2d08b26a51ee0766316963be3c74b646d2324b6096c0d956a2c7d5ab10d430aaed4d6b14f87c731d4e8cc642de1fc3ddd5ee6efa31591a8585d74595d42bdc299fd6ec09208cff2acf9e4e82b12a466b620d194fc503143a52ff59291844398015437f4f8a990c1cb8e12390b58cbebe4a5fdbe1289195e307aac360e49c8e181b70638a789e2ace98ed8e6437a63a6662db6e0e620e1f141f1b981ddf7a0474c7ec0d64f909425eba567209cecf38cf5bee23b615bf60b6eb0f01edb8485ab74b6e8eaa515c476104bb77c5d17aa2ef6686db4068630a81dd4888e8a9de61f5a9670d2a6337a2a28954e9d94d68a1a10cc61663fc0ea4fd69b9b8ba13bf871a3220bf7c1be8d29d3c09b0e59c8379e00591e40f21485747a070546f99f2d23eef7b09e9807a91e8ebaf2b1e16e0fb370bd5110eac79db4b1cfc837ee57a0aebd56074f58a49cf255549f469721c70dd53dc19bf369480f31553ea2d7acf62d88d8d1469cf2e10880d178f2657df74e364b17add59998c11b2cad2a13df6c2db9cd85e79723889f349b79d12147b4e0d1378f61688c4ddbd5312b40df6a0648ce563fdd90763d7748b9bb5724f53cd0644051a2b7f9ae00c20b5be7c889e2244a32f77081f6560cbadfeb7ba388f1fa4949c3c5b32fcd1281c0d900f1e8dd66b0fe4b438676f4d7d86cbc2673c3bfffff5387ab10fd4996ab93d2bf37ac332cb463f585fd8a535c03111c54eb1a1fb22b75a816750d137a1641b1147ed6d625aa6e83f60d6346305c63775ae10e30e5148d855c3086ec23fbc42269eb9fffb16a458249c90617a427e1f1103ce7f825f238afa3de800076d5eba320545f0f432b0043cc3a551a5541f736cbb370603d9609671f4a6cd4d3069184eb57efbfb0290cb2549e360766c0f75a9c2485c28c77b657e7e30a357ecad41c9e31d8df80fa9a5adb7bc53ea218317515accc8ce7c0c0a8c4f658ba0fab7b9c56879972a0a7ca5170f6d2e362712845112a3a2955c45b9d5e07bef5531f4a3cbf146e3033c063df4bacb25ba472a7862ce9b34e27c434f560bb41d21faf402eca67a9c1915869dad3434224a1b4448f31cacbe608b0d9e221b81694755bf09f22c45b7b996356501854f2696a0f2bc19b31b8d445224032cdbcb9d0f5576ab353fcb423ddf1e338770433c8bf504e6ff09618de651fa9860ac499b37066f32e710bcc10d61338343354482f2c6f309116aefd4750c4ce1bfd1b03efcd6b5c6f819c5cec1a2f96371b93ffc456b6b174f7d518dbf7ea69d079ea1874685db0d8cf195a06ee8352d04c6fc138cb003f8789cc7c30b8e0e333b06ecfdf278f38a0ce508be108d725a322ac27644c043ff70110fabf8ac626a237369816da414845705c1111e621643098e773d96356c8681cd7b61e16b5654b228ec02d0b467c62ac09b096e21cbc137c343e93075e02163c5dd7b915de12fec669a278beb18f16eec0cb07a56947c03b6f0a23eee5a7e5b4023dd44ff0157cc088e843a576c6b425416c95eccbf7226fa9b57399cd0f2e60f06041e0afe49618b52224b374fe567eb1e311ee23f8f8bca5ebd7ba58d05c716ce807865c852420c17128d97c5866564e52127aba1d694d92d396d52ba82eb2f7698e4748c394e5cdac7d0d57d8c22d84c854384cbf8ac0ad002ced2ca61c4ae12ec679733a3d6cde5188ce6d2d5e780d9e5453e0d0db6b41a57e4b787dee9307464f67652b3d0d0ed19551d9437dc6f4cc08f0048bf0344e1e04bdbd3d801f3e0372e3309d1607a0cda700ee02cc68c0caa818f4d4e3200eebcf8b0e04d12c9fbb164c75da578400e2cbe3b56142abd2f02755be6891393bb20089e4b0161d9e77bc0187331f883cbfd5a60237378ed6fbe3e4cb9c79e6f7e431e66e1e353b57537e28cdca4184b199fd1d806867d179b180bb155bf9600cc4ed11c1aedb64dc300b97c7453a65a5a2dfb274d05b21445b52b84f3486fffdea0284d0e40e002230a94679da0944868ac04369c38dc4599e07aff8f7d97ab4da5f8a99112e529e360e51ae05a747e3ceb197b129f5c854f470e644644c679eaaf1d9cf1d15fe3bfacd9eeb24cf6acfd322f73f5cb9669548757261a4c56b8bc0ca884f507fbec304937096b7101f9bab9676b2c8e60ff8e5f3e151ae266ef0650e42296c68ca7f3d7a4c641bce81b19b1149b3c938a5686babb9e378f3a9786c720e05fd64154fcf43cf996e148c5671d0fef3627c71bf5b0c5e60ba4d8cb4ccd59593b2c9c0186824db5a3837e37a98e6a8a57c8af0e286b8b364189347a8f21abd5bbb59af20c98fdd407f49057e8e0687557dbc91ce6daa0e44fdf683ed462f1fb27d79e55d025b55a4da50ee2d2d73697d7ae7a4bc818308a43343ef8eda53996a7316112bcfeebcde166ffc6aaec42d27bf1ad1df6e7d847682858eb89a907300c7e689a512b2c7c72df33d9c8bb3ac5f9cf9ca9464f12cf4e20168deec27551bb83a15d5c4869ac3b015bc2c1cc485765f90d54547529a1a678abf86c0636e9ab4bd787f7e7ec56a3daad480ab76a213130298af3ee0c729e8ebfc2bb3cc7b12326d5cf264975b31d165fe348d9d28acb780b34c2ba74c9c959320e8b4d9100661adc49e8af70599fdc469bcd790d67a8a3e2f1c995258456baa6905689915a00d53f3259f7b49e881f8bcaaf03fa440428ce08f530530bdd907af429afbc072d71d8cc5ad7caf4c3166317c420a083f18566ad9137f8c34adbe40e8a2a8ff60a0c6868aa881720de9203a04b8deb430756d6a544168dec30bb86e03171208621a2193b0adba83aa6883e0fbff16927662c271f223fa762b089515d3b2b295eb24b21508d7dd15e4fc85486f44640db4a43781fa162b2e9742bbd8e3d0999b5f47801d3c4dcff02bc1c8491464e18c878ed7de6573daa88588f2d70da46c6dbd8b5e8deac1387607c37889ba2ac6316f887e526e60bb5dd2e2f609c8633b5d431dd19346e9c15f5f636c7433b8f2ed6bc9f1a8b7f568719f6fce7642a86e36a22f3b549a9e775907fa00a8246bd5168a10ad6771217236030e0bd969cf57cefa4c76d822666c5355002e5d83589db11dfbdd23332716471982ba3d46980caa7a13f4d3220a2562643e893cd64bc46e80efec487508ba566138cd5bfda6eb284988b49c1018479ceb5849b4b5ec47c964f1ce8a11aac6f04f36e622191926350df206a3648c57f0a9e9a166136943e82b5f76f85bbb122a9e38cb0ac7964706c0a5d04b0fab3fb64b5f89a0a32a40a61c75bd48bf5eb5efc207e5608caf56f28fa4e2ace23bfc68654dec4b7d6fe9ff35c1ba9cf97007b3bc86085b84c6fec07db63fa6edc3c0325bc49e81b75bfc355368283123eb1978218bfde61cd21fb8d74c32755cd248a09fdf1738f281abb3e1e9077112656c59bec204479c4ec75481ad32d35452e37e9a91a6340ca896f179e45ddb1edbd9275f1e7899d8e3948c79182fec3489632b6ef6e8fafaff85a376a64a2f327aff9b8790d8a669c1dd7aec8dcbd52cba8a052052bed1181b46c979d41a7866436eadeb2ed73d1a31991147678a1189e6cc662eed3bdbb79acffe3a208f466555cc587e857754687c26f0e438f9199e87c7cbc2088608bac23764a07c4ba715502bfafe47a87f7d45e980bceefaac720e415ec4b6e25ea5931e88f7601f14dfd4b17f1a5dec0e59b534029c2fad073eb84b4458008d0704c0e6c8bb263451967152e0333836147ffe378c581c88cf23284fe9ed21ab0662cf0dd9fa5b7736f78a9cd4b2ffd980bcf91fdb38940389fcd76ee4ab815be5c168e62d766d1a62215b28d16f8cb8ea64f1c2b166541d4943fb0ebcabfec6a1614c141745b5fdc1307ccf6a40c69106d6674feb703ff7e9532376f4dd6bb858642108c7841453955a085f5a7fce10456d89e52981656075fc3c40d0bd9f526d44196f845a7198b1afafbb117ba8cc4f5dc0f00d8120c1864f1c3f3248d3a203474f9f4319758cd404c1f748d2ca2a29ccd9eaad7542a324b7a578175f5016223253a645917cfd833fb154936bcc7e8429f1230d2e5bc2ae598dd3a38876060919f2d560272194c0c25bedae4db636a7664516b47d70742549afdf4cb2c41112389e23bcc0e7dfff44d83ed9731937edf59359691f46ad7d02e043bd2921804ef3ba93e0849a112291f755021eedbf066596edcbc9f67f9f695acdee8fd7fe52207bb0b0e01aa934304c0296da869b17de9691f7ab0a7dc92dae52794c95071cb8da51d64bb360811d4076ff34bb9672bc2b4f4db1f9e00168f63b3bd900c5213b14df40142e6efcfb3bd351d1d5cc6d95cc77624ca8d9b84618e63272e543a96a014af8a783e88b246a7c8438d92c5e98e7079cbcdb583305c57d863b72c1c24db340935652e4fae6e54a15f14884bc95ad372ba7ee1556b337014e13e7b9abf33ba733bc88147462054cb92b1e4d85c1e609d57bab092f7be169b514fb1e1f0fdbacd83e77fa87fb1b2dae123d7b90c6ad9961453cac1c60b6ee2c5db348bbd0e842185a625d73b2e9101eb36927e82c17350586df83670966a15c3c20450c404c85c9e9665eefd32767695e83fec64e6c36a30419786ddb057500a3124fbdfeceba9a7e8b960be305b98a5cbe7fb0114d1a03e87702f9fa22313f39040fc0d171a4008657bcd3bc4fb53af8abb50b3a4f17875b32b521ea31338231d53bfab4bf63c5fde14bf1dac729a4fc592b41c03b3c7b9dad18f688a2812f0957197a911708492c164b49994a5bf4516b8201da27c6e31f6c103281d4d4dea52f3652ede27b68e911bc1abd3228957bb4e6ad8b4c107d0a6a4c2008e63f4d7706f487265dece0528e9de7061d5cf1f14b58da0d53d70a132fae35fbb1a45551a5dcfba8744318c7b754057622a6f6089e81e6997d714118ae48585ccaed9370666b986216f86616ef43720e939cb36581705b15fff1b2c7bcc8365174938f5df20fe3a2d2148c2eb70854441fa23c5b9e04af8c75b0534579213aaf2932026ec1e5d2a604557356c8ead414ebb5f4b64bb1884fec091d7d10ea314b6894c65fddafa07a2c4c3e1fa76fdb6d51489db181da1792cffc5edb2229740c0dd2c1076e0726f94b93e5ac450da7150b9332fba3a91158cbe21380c6f97823c103080a364df14dc685fa5f8823e08604681c8d6f0f9c6f2621533a0b533c835e108b4e2936f4947ec5e08596c36af95a02f4b3f80e0f4ffdcbfc3e1b64c152eebb901bb4f9326189f5c7efa643491e4ffe0dd94cd3e9fbaea2f596e8e78e2177afb4265b337d675cc18cc40873c1ca5be6858dbb4952ace868199c0af672b6c3783fcebffe88ea6164bf98f3f24b79dd5bef996a0481cf4acaabf50adb906076f4408dd71ea9210f4923bc360effdd9ddd8f74b557589b25d70e8fc26efb2bdb5fb6eb40dc28bf0c70a522fe0c67d23933c5ca6e56ec8868d8dcdafad9cfe09486a1d8939da40d7c56a103a8d09ff0b46d3e2a7a4bb67237bfb0605177b5c9ded053e9bf18ae4bad324c4fb06c18dcb2d672746f3f7d02e636c7d01595336bccd2072b7dff3877e51e3caa01aa2d5a93619c9d6fe5244dc9fb5a1e22a5a67ab08ace3501b1fb26a8efc4bbcfeae7fff53f92598ba4ea98485e4de000b386048826e41029b1b5bfbd45a53f99b651f5edd9794499b65d1d6b54f2ac87d3af793c9c46d038518287789ab83b8f1d0adf7a0dc198ee04fd8d0b767b797735b7f00198d8b0a54c3916746aa6ba9465cc9753f1512930386a89eaade281ad46c50e68a70e8acc37f0d9e7338959ac259227f23b43188f327ce55fe0903aea896d94ef46346e86e9c3ef3313afd7c83d2c1ffc42ddfb6c51811a6952114e57c279f0e1d584b405710dad4e29b0068adee3b919e027671ebcd5761619c4af25da2374ed18eb2ee91c03cba3c63829790064041e69415c3a5a71f397c0544b1775717f96fb9f7d7ab10d94756aa5d53491844f6aa48e31e343c4f3a55b7e18142b63e0d1a5dceb1fcbf7575f544f8f128bf8c1f4f01b16fbdfd63b3015b5ce64e99785e40893f08ca33ae1ce850ff694352be6567d4b76b5f43da82a0fd031fca36787bfd90ee810ad7c1213132ee5f462557dde35d782350bd6bda595d4ebadac6fb765920fac99c44413dd0786813cdb6a66cabeb5833c60bcf1e0731d4c481410fae7dd5985e22f81a93d9497881d2b8611c858533d93c15fc47049635a36374d620190b0dc9fb9217b2574738e365b78782f637f911117ef92ea257170124178cf2931a7d1f3f56cfd2e97eefca49e83bf265709c2310bf054087aa8b11cffd08e3a48e4a5069f16994e3bd981ec90b848e6c4cce39224fda5f4d365b7ad851310fd9f742faa8418f8cc45e9c421e01a8add81b75fbdec4fb51abc9f32a5d04205c1b42902a63f5c777b5cefb81149631d97d70e767cc2884127131914a5df54386f4921bb5a6e37d7b9442fd185b22a74431e6fad8592399704b8df868d05ceb9fe4d5896d37b3252724ea75d8918d2e01fe5b80f913825c95178cb364649e2663950059b1cef91d85121ef80916a310855ad152f5623ed7720fa7767586389dd8d7c9489b3938751343943b1137eea5074651f77c4df3074ba361313aba8e65e76e61aa40fe097de9f901225aaad98443f4f239abcc2f0b10197be2c579fc85eae7511704f80c66dc5e12a55fa82df9458c6598744f3ee6bcffebd24f68001de7ae0f51e4a6c0bc790794e6387517ed72d7483a675b91971db0efbceaa38a897b011fcf808238a84acc9663ce1c65a3a2c0be6f86a1d481a81ec52bfcc3311c6d3c3c541ce96d4bb8ec5cc054a36ce3db4d2a61ff81966afe6b8ad56884099321d90946cc5dab642e9c58a6e1f004326f710f7b483863793b0d03966725c9b59691c3241d43edba89b2c38c80523b7c1b4e4cb222d20033704234e66b9e4a7498f274c2b00505fdf8f144defec6667bcb66eaa56e1984acc53e60040d8772d84315c71f81bd83fcc1bfb747229bad748322f4b35315f855a870dcaa30a27eb3f144e98a8da516104bc40a68078ba1aa3cb4d6da7361d0988ff37bf2b9f372dd389791e0772cc09e7cbbd42f5d1d945a16e952b8fdee1eb5a155c7b4023c5ac607c7b8a209d65d2b94ef1fb059055f5561d2dc25708a52268f20a2fea32bdbf71510e6c76c64e177bf556564af5975b1a7a5429c58968b4ca2923be6533ab03c071e4ed609ac8b8694fddf0429eeb189bc70beb77f5b64ec908fe6ce1fd647196275f2eba825ba3750c71f88a7cb532867e0005bf9bd5fdf5fe00dcfd2e25a559c0aa0f545dc00c87b4a5e0ed1883131f6b4d0131203eae658ce28ed724eb233d36295fb23bb423641bf103a18a8c94fa7ce6e87084ba75e231830f64617826f8037cee669f54445b7dde6160a4740164e5458a81fa8a2cae7993f63e51664c83bc24454ad6830da3b783498f542e8be1eceac40706e9c22464c1a4e1ae2a33d2f466250cd698550e6ab8384f66f42294bc14178dd0e4b8850557979998cc5fb390546c200e091de8d0fac6ad29eea7d566eceaaab87f56b47dad0eb0ded477e7aa7cc1d01b6bcd2deabd044ea903ab676dd5879c37bebd29dc08f5d117fd4b51862c37cbba4ff96e54257515c4ed7730484a49bd6cca95c23ef6793cd0555be337ee0e76063b4409dcc2e70ccdd7ef27e82852fca1fb98747d1facda6e02360200df9eb2489f7cbce97ff68728d963f4db7f8afb3406c94ed2b338edd972b881006b55bc487d721da8e6dc85c3fd061e99522dfaf0d9ad4ecfa26bdc342b8ea76050a9ffd6e2e144191f8043cfa81c0e9e7a56f112478571aada361d83536b2aed0067963ddad49b6304b2d69923978c49872841b50efc2d1ac4d6c64de628abbe27a559190e629788c9ebde53c822b30d175abbb0bb23f1807413a6bdd7307162c3c0a6dca5e905574643bf5ec9ee8c8a017568d4ae968a90684e62759bba7216e40eecb13c4717ad5da88e12e5e92cd311a9093c60b00f55f9ccd9b73c356b43c57378dc079a24c0e996446757054ba6513372c21533d60c4794b12006db1a99b5dd31f056b6d495ebfc607f23329d1ddc95a552a143e7e255f38c0748c45b4e49d734f45866703e085c211befe6d899ea5105f92fef72aacf5fffee53bb56dc003cb285b35c7cec172b0612a6551236732457a1cce4f9949058d1d36f3a4efca1bf1361538b66bfe427bb7a22d2cdc93fd295c98a4c64be79304b61957303c2d5dbce4eab88ef5d834acc5b40050201025247d52e51f2d26e16208448fdc9c9a877c3296c2933a116de40bb36f3566a8642363ea73f234626c87956fb609ba538c81719053a0c4ca4133f121d9f3ac138f70e54f910af4cc7dd6922dcde7e3445985e37df9332de348f7725ccf291815561ec5ff6fc7bb96a453be13b391d90a88b0d7539e94e6848eda1f76c574e037def010fa283e5e573e731c64f36783cdbbec5b3bb10ead03678970be51fbf40a789ddf9eb9298745160dbb26e8c6508bfd933744882619c8aebb934ca1cb9486d2874de7da90d1a9d4be34687f182a88e5339276693fee64863e80c7c2e2dd066f2f921f69cb4b894f4dc36465944597894c1d5331af6c9d403f56dbb84041c4a696f24918df2d19257e9035a768e55f3f8db0c4a4003cbdfaff5583d3c8e810a91924159c15105d60f0564bc0e42eeb559f747199e0e77fbfbf0e58aeafc8523740d0102fd25866c4d0711400fa0b741a1d0e298b9cd5962a96a069be6d240a3b8875d1fac4e17e21c7130f56b628b2613e00b1f54bf52a6cf595c4d186b1636e691dd07c7312abe068876ddd6a490cca4a45cc9627fd9740d7331f8e08bb1370c838fb2b222b582788effa1afb8ba2631c1cc4526d8c60c6750b4148be2e9a81a0ab6c1f4a2dc6c4ebd44a0daaa7b00f1faf811bafdaf0b7ba5b3fe8ae57167aba3f0a3b73952685566fea0d8f6f321aa2522af9f2c08a00ca405504b296a56885f0ebdfde2fafc69c94f1349584b581217f22a0fafe914ac7e127c85749654213ff77fd4cfa6d0b26b4c0728fcc8f43b86a403825f5c6ecd0656523323dd84cc9c290aad56198d708a7548f41af36c0ee75416ea50f555964f537606fecff2bb28c16924096a94bf264647fbad6dc44fa5e0dac422d02a3e81a6f4bf9578752a65f899543ce64d8fe9f1e93bd93acf4d44e69835f8bb5234b0970099617c5987a78f09eeb1bd276619dedcfc9bd593452801b38df7d08ecbe2066570278e4fa0331d638b32047f50d516ef4066eff76ba668168ea799caa75f82d7d52fb99eac41876c402014e3b9810aed3e57e978cf746ba3155eab10f75b39f72a85288750b1677ce1fe5e027b103caae85980009fcc768a31771738a9cf147c5a0cd852b6af75d6b354d1a9c22ab991a03dc336ed57fbda78b7d148e5679f5948ce380f70fc960d9ca6864799ea044dfbd4554cd285bc01516f193b11b8c1ea79da61c483dcd73933ef5225a39882c37a9eae1023cbf164b0cee5b1a3002db74d2e3858df2745e42134a7fbc0e9de34bb1f1f15818de4cbd9e1d8bf44b0b912741b95fb4e4d33c7c386eb28c5a918a5fc5e678deb916f62f2c2b5b6562d7f19ac243102d70fb128c1612c27e73b60143f0a4b69b069e22cfb8372c874f0d58df9632d040d3f1545144ed20ed7e6b3473fba85be04d866b3356ceef98c65f12d93380ba9dd0b6769b73b73b8136786fe6a0cdd678babf2788de5465960ce55626a87ae33fe3072524adada30cdfc92f650979cbeff7fe8de48ec96d7c2c5162bf17389a3aaff842c7cd981f7ffb0c45bfb97b15b47170d78336f752555d9fe8796c3eb4fb3fc245c74215b9443157bff89834fc348c8e40d4f3d9c9584575596a1dba8f9aee0b44eb56fecc4e75b986a2433f143a2d3dad288912b6fa74a0bd9d23145cfe03b444252abd8f50ac0cdc9be5344038b70ea25a8756df4ade5105ec1e3ba92f6ca1afba8320dda52a6d4594c48ced8c27b422fae8693367f84316df3b6de73f4392fb62abe9af81936d6dccfb57d22a4042fe7e6f8cdd2736eab91be3611d9b0ee9c8e8f3c7a0cd261ec241689f2369688a9f8e3413c4b9e4616364ffd92d47933eb09efdc2e7b7537a55f1c1325d038b739b9455c83ef5b2465afd58a72a2ad1ce5f7f803802fa92485395bddc1569aca4fa57948aef7609e6f6c86a09f0eceff45b1ce2e56c19f35dfc15e80e21e72cd5a18db81fb0d12894d37cc906f7c13916a25fb483ec57debf011f00413de4e7ac0e20efb5f70d87014057bc65ef802bc7f8ca4db6c4c80e1d239e8133a694d88dde76d41ff5e7082d595add7ce5e670eb6dce3e1e528c1c8604fd0ab4f73cc00b75d5339cfef80dbce6c3ea257c3854d6a633d5f01ef890ab53826c13712c4263d5dfaa1c02fd3d62f1e38518e9ac2718f92e7afc6fbe3fbf1f9016a8b831ace7bde09174be054e2f9113ec207d97bee2c7b3002aed95564bc095a0786dfc460bcc9837152a5f371e2c2d48833085c9da84e20e0bd16aba70e926b6b68279946b3bbe41d6a98300c1b314675db54b213ec36ec4c5965225aceafee4ed0e2b051a10309d969ee95585e797f727dfdd6887795cca16472b247ccf3ab2362df058f3915014f9f9005cc0c6ec733aafaeb60ac40851e450cfb4f063fc6c5e68a91fcc82414352e340c6122c03801b6d1b7b4d96f0594f1d255f7f1ee03d572ef92954301178dc0aa939483d961fb2e4feb0a36c1ae5eff72dc2608f8ad7a868196f1eee2c6a4d737dc692040d97a47ba3c481a524fdfcc41fe65f47caa4f61c5f45a490e014154f4db01726699d425e2e2df39215c0b41cdc72e125f0b2356a390fef7b802bf34e22ffc5b45cab5e14534e546501c4eaee65f53e3216a5f5962a8215d6d4686def31d0d7017be8ea59431403e4a17fba92e1840a98aef547ab6903315009989e8b64202c5b03f2c847b625f4e2b999f592baf588a21583e2a8d414e332555451047ff8856bf10e6a83c2b4427c90887e89014ac7fc8de8a9a5a2c73e6cd15ecb75680bd6217ac375bf9d59762813f53b0a8ed06da26c6988bbd9697a413929e9a48ef1548b81e304c64108ad022c0eee528190d2148b003c87646afcee2f80829560ae2acd19f378321c57ed906d700dfce7810f21f2810c99e9fb74922516cb05d73d503d5261630a081cfc6c578f10ff282c4b36f45333a1223fcc78948a24ffeaa15b142b4b0678a3ba4ba466b6e8be5158dc4c75c357b711840a5bda687149c5922c5c7b0d2509014572cad02daf080dded038fa53d0f36b0dcdefd178ed83a0294c4ce593f580aba34b5e90fef3cfd0d152ebb5fcf1ee349acaedb9125fe960341a689edebcd8a10b9a561aab58d9b23044e98cce0d6325b0f4c236d6785a0045f8f733fab101aa624ee5afc18e35889f5ddbc6477c961716da3a944b502a12ee1ebcf170544ab0804a51c456624155486ddef398d0aadda8de505d11c94fc6609f0592cb9c4aacf4cf616a6737ab028339d711177747771e23f83db1e2170988f057e53755b3a9be22d9a5a26c96837d0daa394a473e410714fc2834d4f4e80a10830b6b919b934b88a286c22a3ed70bc46931aebbc1b093bb0bb7402884589f4519be3a0c9284ac53b9a422da376a541848eb03e27938a743723c8a042711c7cb6e0a8d30f6c338220c2f865c9f3d0ef866bc60bfa8a1d886efd709d26fb4f27abfaa53e7bcfaeb4df91274f58b7f065d75dfeacc9d2cca552f8e7c9ae5e8e1412318b0c8328e9abc053f91e94543f5dcd16470b753acc64d8ff948003305faee6837d5536121a895d707c539650222b4e675e3b7a6c3fed483ad2ffc0a6ad56b5a6e80ff963518be042a39406a3f8ad704bba7e28acdf78361d7681cfb0e89e455d2a6ac25e23181a806d27091a4aaf11904bc2f0125c49eb93ea32052cb100a848325065f82aabe8682d1fa427ffa8289293cf30e3609059e6a6d429a2434b098d1e3107cc82af532b1dc259c80dbfe14841e9229e2e16b7e9d6565e93481db00a8276fcb6ae0e09fed9078e41f07fa76eab90dfd16a1ab32ece21d3ad9fa6283874ea5b4c5aed59fb1a7ec026d4e11cb2491818a53ea87e44cd6be8a7f490d64b649020edc8ca9324e210a7d6b77bd7fcaea8fdb6baf2f72c6cf9698fed063f9e2376fdcab3bb8f23975bacf66323c99f2e97fa08f4d8e5dc33e45ec7c4808a7af8a3def5575f08a7947d3f167a56c2da621d0dfd22524094690dea7699ad4c3fc053ce5723b74b9c5a1a906065f0fe29354fcb8f8fad394bfdcd9fa2ab08a8c96a0400425c6fb6b128ded9de19515561bb90b4b3774d6a3ff0e42ffffa92427a0e8f4e3bec1a6553909c2f6e2ded0714a463be2293768eb34b3da6adaedfb11aea6459bf04e55436600816cdabd067ead512988e858e5981d18e22664b1c100cbcebc9b695672c7e10177beb678da009083280a4be6d2d4f63ae1823cfddbde4d27b3036ab0aa07745d4b68dd8662697730f8a34608315042ce0ff7cf090a2a7ebe834c556ad7706973fc83b9f9afbacbf680024d7fadbf28ccba6590e074a110dedccd68cebaceb233a65d48c8426174b3a8bd4f743c5966bfe990165f706a93c842730d8a73d535704a6eb30b3f9c4a5fcf672b8b560ecdc65534ea7e3d4316d9a7c24ffcafa604db0991bf81ed923c781ee9ba5844be16404fad648f40a371f177d765e0c4168f1f9e47d302fb6866136bd370a76132ea228342fc81b3633e8d5d292c93d0ad81ba90e61ffe7a3c8421c527e6b78a5610d9b490db2a112db6f1dbfe00c650279ddcc39403a45f88d0407d17dc7f26301c6d652d1d673af5f2fdc7e4b98280aa1a5f9bfeb8be439a81e6caa09837a36b031098291f55b9a617a87fdc77135a7e4f31b485be7e957be82fd0b102da09e616462b8c4f516f806398bde71c41c65546c18cbec284f922020833083d48366a6ba2c5705756d51d3b62e737a78b1875d0166faead61cbcd461ca37390f626d1319882d73f06d1ca5e1ffdba44617d0a78647dc7334a363a01d605f68874928fda8bb9fdad963395ce9c7c6ed40252e93b0b99a61131bde2c7182ced807dd91acbabf8d1e5ffed8be770d388148f5f0e7cf4923d7b39aebe32f1cb21c828df61ef1fdb79fe2b7632c930b9a3aa0044c24df23dd93372978db1639d91325d9fb6f64b3670bc05d02a59ce4fef02f46e7a8cac40012dec204f5925198708a34fd72a3eae8982a82aac4fe716003b41fcb89bd122d1f1c9ce76943518fd418e3d0eda4db08c82ed49095e2ec55d588cce1de60426d32ff64a9ee971f94f3aed0fc1bb0bec9651dba754896c3c1ef79959b636ae4a4f6537e595e0fe434805be90674194306cda677e4c0189ff0e30d726627dce64eb5c848c95a714c0bb7ff0be10cda6a7602170d125acfea479f9f4585a3c4712434aea8eb60082df55ae368cb41d934671dc1d15cfc462c44ae86f360e619f1bd6830dc00439694ea8d3289f457705b25a49cedab9efed814b7b23651fecaab099f4dcef2d187ecdfe032659df0e074d5631a79879fd75aaedebbdfd7e4591155227bec9db7a472c1f6fcfc21df77a03bc18e3e1dad6b1c767befc8b1e44b765254a7765878c7f86559250ff4a34b523ea96c46fbc316354e16d4059354054af6bf311a806680e3868055cbe308533b491b95493227608d5c00d14e26813bc72df2fabfdeade8e0298e27d077427847da259806356287ce756210a95a5a162de9ec88c9faa0775ecd0e92a011b69407cb58934309e1e4658469d6af8c71b537c7e6c20ea1a07c3d750a764c525a078a43797220ff753c0587b8e9a2f97e7aab81e749450fbeee82895f277e5b379ca90543ae23b577843fe5a8753cdea74b5ddb5560079085ee2b2b42e4cf981456b0c7082574e53ccabebb70022ea3b944df824efc150440ad59749c6ea4ba2bcb0faad0430925dce77af41e831f2553011c137f843e419a18e489951e9106a6c1edb8b10c07d94e5416ffb66e37d02a0d89eda86c0d5a74e108674e399c9698552ef4b1a1aa937a67b87216bcf67283c70a30dc62649551c8e5b0264a365935e9b4d732e160cc8ece982b9c3b13d968ee0d9949a8c14e8f18190bc40298307101077c3b2ea10f2f93ddfaf0af48ebbaa9c4f52d383454aa960d7a5623e93b103f5b5fdc2053bb32320d16422e691443575bca85d22046feb7c2f0486b5e8491efeb9fe78841bb9d58db91f5d8b02740cc6acfe5bee71f9e389e1cbdfadae40dea7a5af62a19a2fafd59989d5a9217ea9bcf5648542c434c0c39ef11c4d27cd23d1450fc80085b9b99808f5289a8af9bda53795cce7515d78799c2f09a148b3f8a9ed85749224162c32765c046b4b2692248765e4d8dd55d3b5d89152196cd027570c7fee388d274c4f096a7bc9e72734049fc5fa399ad2386d61a35f1a6eef09a0c54b3a6d2f24794ba4c2bea2c55605fb78939f6d8e1dac6a9aaf7d21a91764a3afbb95fc4bb7931ebe53f08de2534af561ec7678dffe82e8c12d1a8ea8f09b373dfc68b6fcd2ef958e2abdb8866eec475d570104b19e44b8190803030a1030440cb0dd8b211359009cbdcf8c5d4c898590688b9741043fb6bed1eeccb1242fcf7e75fe9fa3319686b4313f75162d1884b16f8912627814c7797461dfc5ded8254982c8fb0b70d535b393f9f314aa688a1e30b7e3762571f7f570439599c2798b9b669f4a1a95c0f300336677f0b5128cba2fb2bd641006f45c379d3c4e12a45090947a5a2a337cea4ae0f30ac8ceee5a1cec25aa79cbe28c42c3fd06cf0f3b57d9d0b8c4df35d2f97f3d28c7a79a3496d9ff331cfe7bcecb4556f8b817e202160918230a38c5e75b4ea82ed3de7f26a33b07ad637cac40653a23ca0ed7a75dc4891e4b74b5bcbf08ba19f434fa2e0223f00b60936cb5988d188a395b8bd0a3c50f9bda9a6656ca45e19a4b34dc75fed1999e6f74cc9b11cbc12201b3756de9711a6638d626daa5d7ac06e2a766bd32e34adcadadfdf9724e6106079f61e2eeed973b0e09668cec40e1a1a3751775d2f681308bb4f0957ba91f656b4a2ab9e73bbed6795b055b1c5da48945a332b615aa62d40c25afbbb7708577e63e3527861d7eb06e8759df571b8ae3d2708b3cc4448d77e0eaac2f94fb48090f800a98b6679726c9b7f8f08dcaadb641479d4a54b492925ab7e4614be37cc207114e415c75d7606f377fd91c980e8dcb447e4f5867ba5df690fad72c8001618ac46a1eb901e984cb54af26f936bc69e45316250b9768377a3b19d016bdd4ca3da84274e4f804630a0a658e038aedc2d210aaa320a30eb0d7c2b1b6b80c8e8bd54064fe3190df9f5dc8952d0817c6ea6ad11c3a8abede0ffecd78b4248369b1f80d0f619537c5b2473d6732463740848faf4523e897c4659608eeaa3d36ffe88fa2223ad589571261df66dcdc24ff3f3a3ab1f45f77e0e6833b99ed2f1feb8c1e30c31a91ae6debfefce409cf3704080e2a2fd011a63fdb8f0bb879551f3134a7669b4f3e166cae2017ed0e7a6dd67cb1d9cbf7c6a4bc39fc407fe18654424bb3a999548200c2a7d78868be7825705455cc10b39efb9f9d62b74310e444590d457aadb418ff7a1147e0b7ec67ff0985c5c56fd371d8dc0894704d587a2df9a84c42cd807d2ebc6659a11088749faa7d8ba6e442f032300d969cce73be91d16c42f352e99e9ed5a42a0b04a32982d1507feb1501f53aac105aad32a7b158eab00d04e21f0f1cea9d3d5a39a1ffea19d6c3ded7adf1578c5be970c126f9c54a0b168b705f52f348c0836f6bd69000d789bd603daf30df4d29068ecd4fbd1c348509e2470949537fb52cb5e472b07f","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
