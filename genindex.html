<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"4376c025bcff8a35e690f22ae510b9783471c9577ca8f7bb45bcc9f8290e8572969a9bbc9cae291eb77d1a38635db43532eaef42604ef6a912eadd64dfc42c0582eb9bad1f31ce6a736cff52bc452a8ca1bebcfc59952d8e2fa701e12db16d78e4c94bd62c579a413ec532a1da8bb923eb55aa4d0ea18f471767301fe16597bdea39f3d5f3207b7a838dcb791d656b8c60c71f3276b5347fc2d391ea20d78281a40bb04fd84cdfba6be480df082368de40f85956972378c3c4df1989a3b2ed46c3bd92958dd937b97c2af78b9c51716cd4b54a548b9d792bde2a33343732e75dcff98efb39275f25c6ba492acdcdb8466be0b5ab29a3021b8f5e1bc91fdb5f0b38e74cc789daac339cc7b6e445cfcdb3882caf3eaeda0e7adb559d730ba801392af3a2b41e697ada7e51d7f0d0a631bdd1a399bd0f8a09ce8a85e70d47ab8dec6c20b31f509690aada7cd417e9436490e0fb6547c6399fb514b1f2cc7a80d1fd94f24f30e28833196099d8502556ac46edb3eb7a446187c094cb2e38f59cf974de77a0e358d660b4dc5aacbd618cc5c45faf65ff5b98d4f5be625e124bf19b4625a95a4474003ff70165bdde7acb7cdc1135b7131a4e3b78d06c26e0627e324a758dd3adba42a42fca3c1af469a92dca91455192d0c8f827154cc63aa9dd3ec24c64f499a5f194d1bea261c441ae556501bf9977a0b9e32c6af71988b34acbbe03cde7c09c837ea2d568b56080d2f073646c305ad543eeaac4e55c40917d3e32e4bc9b5734f10a1e03c5315356e61778964f20da2faae0fe92c30e1d2f4f4322283f81163b36d843618c58ac0f9a3229cef943d66bb008979bf47cfcb412f8290f5e242b2056e8a5cbc9fc80134eb9083d367489f1717632e270d0b4356d8f66d5be4a531717f7c0d52e163dc162b34540e5df39d8b422da0b6adf7bd58f8ee69dee4344aec7f527d0985a34d3ff9972817fe507e037a3b66795601f91148f322ba73cd414ba9bdf95c021def0ce9ae9e3aa1af856a82d2a499b483789fb12f3cbf08b7b1ad90b128165c572d009749dda8aee34bdd893a3b4eee241d1552ee983f2227a087ce8abd96673758f17572b542db980f6db133ce3667ceb776366db0c7dcd7cb1c583831fd728f946fb71dba3603db7aea6833465000a586580dab0426a369edb070a1f158500e80aa8718eb26c20c24ace069bb63a2eb4b49d7a1f66bffc1a472c96f8d6568f67777543802ba56d16d8be67a1247ccf78f3af840e41acdba5defa7ab8e3fed678d65a86418f625d4b23bb204bb7305765ea71e6a2b263e4230b2d6a32327092b5b1a29c3a9be7719946a074c95d58c61ca27d05812f4496fa17706fd74e731fd1d323a40dde65d6186de4cd7dbdcb8861821bc5474c0e0bff986351baa14100cc856a1ae8b51b666776aedbca456ba360d228432911b123b0c09050468dcc5550d44666277124475e7fe45c77c4113eb616e9d00e378d40a753c5f0829926f0c8e96b13ef1deae84c443847a75d960927a57732d3d2b312ed4e051a40222a039e0a30163746ebae9bf8fa125225e559c7bcda7a66ef3e4661e3dd3ce412b068be55a098cb0db7c2ffc4e79e77f7385a3b20f6697fee40cb3a9e4364f145a959254e6a5d09ad2b774a3a60a553ee8de7aec286e6b47b85b8a6437058d97a176aedebc09b203376be27a7e36659ca9c0aedf1fa35d362e0314a29ea4601f76167d827c123e4f4cea18f599c3f2e8021fa76fa707d0e550ec87f59cdcb7f1578ab85cb999ee6b62d77911d227813b8526da0d6321d92fa5a040935203564138584a7ec03cf92f368084b4d4e476f0a414603cee9dd63a98e15dd1ec6d31a271dd43a373acb0308318cb729348123389f0d23e5036ae7dd1bb1827b637747f94b5e357087ec66d242af4d388e504ce8649089fa70724eec96544b4974c7b7296924eca6989273a8e15fa595d532d6d1a7761ca11e471ca6abcbf8d1b51614dba8b6ccbd139fe5ff84d667695adc381de56b417485b47e1e21bee5629fdbbc7af780f9f7acf176b5be41d094d9773044a392f4fac72a7ebfd0bffecaabe8edaf173a75fd6630608c1c28a93f8b43b25273618e401ba6f25eafa89e48219e39d98379a1311de1d0fd94de5b3723c6f8d9321867a0ab92c49a95c250dc277c42c49924d62b4d71205387a110b16a528399ec0698f97a2e4bcf85e8680ae789900c92e39b7f4f8357c4e1e654f05a6452afc05be0eb8e969c7e28e78c7ee9077ba5a860cd75fb9584b189b004382c7f864ee98d57a26cd0e0846a6e28cfca62f243762869f12e0b2c55b9301b6d79ef2af696e8061c492944e4b37aa490f639d6bc81b37ab1c53ec5257e3fcdf7b8df4e6a3ebe3e570754ad42830cba6cd736ce5e0735f4fe9a44aac2c898575f9d1a73dd2fce9ba8c176245fc867a4c369d65961fcdc7e116a2829b3a944dbf9682999cdd6235a7c1ada6f3e7b2b6a627d7b5656e17b36ad05d91b8baa700054015ada14e706d16612ef159c92b514fa6c8d6f0277da5c5b2ec81d757bafd72f711cc56e367091b59aba8ec19311b597c934b8e75aeb049025277d6a5a75e12cb06af53205f523bae64c233bae31e795b88dad5920885ff2b3889a8f849839ae73338f033f03ffca6a0bcef86ebb1486f7a6050e2b8cb3bb0939a8e0bf8fe4ba2800c048bee79e2c62f43c31c48aea8a883edea0db88547f086cc5e9473e26e33049ea950379c0e9deb90dffd53188ee92ea98f49860111cd968355b179c039cbde87d3b361aa19b656f927effd9bd983a9f4b210725184c67d4beb4e510824bc2cd77d87664503b0eee906514edd607c0fce54ef371eeebab00b5dfa12862b6ed3244b4a5b2a53996a5367e84339eb71283b55b5c3b2cdd6be1f8583c16abb02480899f783c4958010bfce19c2878586086403b5e0150e3e588ed5aad1c0cffd67499f23bc0b63f92b618fb1f19efc60301e6b53b19c09c326ce93e6e240aa9cd2f5774dc8f0dd69ee53712a3b5fda0dbf84d2a8f161b942c2395843c51551a95aaeb31b0be299fc6c1e70f4b707b84287426be66010a093839b4eb31aad35e272a752e51141800f120afb0439bc665c4a2ab7db063c6f7660f8ff9c019fd57cde6a225fbb48bd5d32144694d3c0991032c235b7f6ffa77caf8a0c5feb10c7a807de95a3b7997e1d59601bae5d2edc2c1edd8f44471e0bf5f7c1a3214bdee6f75b77f836fb2babc93f67c024f0314742cf812143f375ac3f2e479fc09dbd5d9919de06e06cd08965818ca8a68db048af5a8b7b456d015bfb81ab5754b05fba7a17eaa674d874dfcbabf16d4235a72c33ceb158165944305aa7cbb40aac72f8c1f119d8a84102b0e5e79e6ca4cf766463bafd82749e5093b34f4fdb9ab8133d02e7c5b3f93be3f68447ea2c13e658216ae390c51ee897cb342f41848486a0806a4d44da16efaf12d78279021a575489c5425c30124039052d4632bdd4459a7eee82423017bc6c93229916097574412c37cb90acb170ef5307bb3f67fa2b5a638ac7ec78efac24d58c7beb65c2baa0056b339b2f0c9af5660b70648aa277693a8cf68f550b7d2ea3d3a0413d2499a3b80a61adfde3c4b841a961b23baf3735aae9db978b5a684319abc989d76b0c094ce5e0856de8575aa841a43cbd1fbe64517663aabf4c5e691f10c043ba54cb244333e840940c80583b6ec14973352d86a11f2e15cbac686cac37362faf3271fe680365fc4e86ca9756c3c77ed687c2e15a93d9072690f30e404a250314000c1e4d36355234c205bb3319ffb85dc524a6e4e5c283ad4168bb2491a380e92f5ee616110455e74bc0b0222574fd3e9f0018aa2048d57d8b1124577709d58a1ce92dc1608ee0a30a5b8a908118f14ac0b4d632e367d0c02a70681ecd8ab55e3258a2188f99cf3435ff6f9831a96e6445438b3735680344b1d02f3c94b7f84f8c637d4146a362c3cfd8ee1354d72df48d8d59e616c76aca71b787061cfd2df603d1c78138bb854a88efbf5d17b6671bff2edc9c1e5e891263b873f6d3ae6cbf53b62c883097a6e88ff23a0530c350875798470f41e35e6305121ed2fa826109a4c19ec093c71b5d4be22474e8176e35ff849f0cef4fa5bf8bad5549d2cf8da46e8e700c9e0cc6d49047a5148cb67cb92692b7f9da32512e1e8402f3962112d645cd3c19d123aa34562887a1ee3b6baef1844e4931dd7bc4cecec7164971d1a9e3cc302821eeecd61f7c06a2b97d8f9e6b9cd3d8d60ef9002f7b43dc198f650ab01e2167a225cef68a0b60bb59f07bbdd5f7ad85f8358823e5b3ae69ceb535d126bbd3131d5748be0f00d07126f98af05a87305d515bfaa1a2336bb4e204445849b9df578014db6492c0ed9ed428d57867194d3c036b8a01d9266c310a0a55e2e201ea5ef2d31f9c862b93f9f011bb17493ff035f79178383b9971b89b179e8e5520a4cb13821fcb7e0179a43d5b518a7512e9d44d90ac7732dc5b142f0462234267d4d977cf05f66326f9470d82693748e549bfccb530b7b66d7df1aa0db5dea9f7b4ebdbf0fe2b6c2fe8f2470ed34439c8fb505ca05ab4d6e437edfe89efe3b415d9e7f10ef717a64406275446231501e9c848b16b9ff115783f6fcfbe3264690c1994cca4ea4eab89fa0952103a058dc72577f4431249cc0ee6a8f34639c0fcfcf9076c85a7d798acbce8930eb15142a94dcf2d828df3fac4eeb254b4c336968d3453cb07e7714bbf0f76d93a799fa6e66ac80692952c545e63b3147ae0f178e83d1defc39816ffcdc63e89135d9ada4d34231a40be4791db68d1cf3420a1d65f93b37638699883ebab33765137ef847bf7765355e9f49436a4f472bd05de05a817b8f07a288a2f0db7d3e2fd751ae675f84435c3a35e87ad323694b63bf49076e8aa5566116a09b3e8e675dc0de5d7fc6a173736fa37cdff607696fc7f91e6a09ecb5428eac4aa2d45c418ba2aca7140734763cbf3e0714a3aefa1645cc357f2ed43fb6485f02de53816b94d2b33f9834c878e47a6aefdca61c8f660a3e073750d7bd0985c4d81cba857a9b91ead76f823628a78ef58e8b7f4bad02216c2a5057c369bb789f021339984d64ccc02e96c07135f6e0d2b2e011b1305484aa83773407bcfdbc7ffa0c6d021da33a3acc228e553333de2720f244487fb84641a58cda9fdf8ddd0ed9a54f9ac13ee7a2ceffdd33a31c0ca7a1b28de9c041e011fdef26cd70295a6f7236b5ba2424b684e58a3930e644c722f7bfee3cd1f82977faac8771c9f4e6c938b1c7a1ce156a707dea2cbfca001ceb9ebb316ddf9c9ca060e5e1401dcb8bd64a1e9462d27e9971d5e8900d6fee1ce15a024147453d7a973af7b6f6aff0762b0ea0e0bc76b0c179591c3bc2a716b243787075d7f6ab0a24db9a185bc9bdbde878e89e32ceb4e4ec58e10ecf9bd2d43ec8e8257f740505cc0daa0936ea082e7d73abdd87e6cbc69d46b27c0f4643813237551b41bade15b84091573e5224846322a091f1dee4c8624bf49a6261a8a14daa3882d6d795202fe3d7223f8e3fd03fff63b1427e6a47c20c025ef6c50ac9832f51a92aa3edc999a1b0d933248a89e9f19515bd0a4dc11a87fb56571a09f84b6a91e70741fac076afe1d402b4c8340a86f3a95f86a5f135736126c2e2b56e84f5fe6ab521448a9356a2af57f55f1242e6163b39f80869cebe363ecaed131e820fcbacae020c1f0539ee0b35e37927026d88abca1ee32b8b3daed1118355d58eb2eb80c9ab98f3e2a8484947d8acbae14567c2785f34e72343174d72b5b38da7c055847b35011f09bc76790af542e45aa6ce89609416b56b16b2031e593e29790e98995c5cc9bc86d7e8308f7dca309cd1c3e46d11305c00f176c602919aeedeb14b1f17bcd0fde65bb020decbd883308b5e72cfb6e663c3bb14fb746b0c1c1b0e865b3e4dc96dcf24239cb92f6be1ed1b71b89359cd37f96d641f179930eca8d5859727581ee1b47093ac874af088e1a8b69f9dbaef0b9c1b3e66c6215bbef96b345639cd6fd4be426b2f73cd82bd213389ee16aac6f59b5d8ca483f51a142dc7349fdab5f4e5690978bded28b96536f06e2d16aa3058258f86296a86d56126601121acfee4e9e51bd400a5c3ac78967caac945dd1ecb27ca78ba2a34133acd1613385f2c39824e9bbc1feeaaa6775af386a5bf6b2dc2c87686ef2682ec7893602f5d3e1f8b2a191d6d14d2bd118a66c6f2a1368424725760b74753025b7d712463c22117aedf04692c3082eacb59b5a3933716163f49d41a2e1aa4fc268f56afdb98164ab4814a75436ebabcea739eb52c820635606857e2f27e0745a446dbfe2a67125b2fc7afbdbe680883ac45f93b2b9ccae19c20d8d8119d76636583f11a4f303098e9bcb34c8f01f7d182c58acaa3e29d1f1bb052e2d4e164247d753e3d80a704fb28e64c9f9a1380725fe18cf496cecaa08547d054b966c82ba66a363e344feb81a661729fccca32900456d32a9eefe2a324cfed4593b07a0b0183f4c43a91a5be34fc46888688b33a0677f46940079d02e17e60421ed86fff8632a0d2a18581875075c371e276c6e24785c9f836ecdc6de03d3c1041822ea4a07f7267dd1ff45cb2183f3081247d41f4b933bec1d23b70f7112d5b0b4ccb7f6f07be751dcfb6ad510f8089fad13d2606f8bcd4a6996267a073ebe0d1d849370454b08c244381feeeeb29ea133f7bf94b8337646c2f10544424cd569fbf080af15e40f4f12bee7b70840f356c944d7f63e337c559b6b3ddd6e0c51952b00de75c12ac8433b049cd5b4fd0e7a916b17fb32e23cf315173794ee4315151a1656c70812f0e1ce675be6ace9362f716d42f4e1080fb4d166e8ba885d869e98d956a6ef8029407f1108d40add14798e766c5737fbff8e8914aac32fc9e999d5a460307e7385d3431737f53a32739c6b3606b245abb4bea493712c5d15a8e37ecca9b5f93e371b7384996eb15927c2b7e93e47dedf4cc2bbdb3ee7bef7c64fae5ab3309b55d63f5bbb83be7b0b88234cd6033101fd35c48961ae81d559ff52c757f456a2fea813c4484c59cec945944cbca0ca550ae8c2d740e03c64e9932eecc5d5ca8e10be39c7832b92a68d768bede8e4337b646ef50b1b395ff559b485d69ab378fda896b192573c8afd5d2aa9b47dc175011dcce4973bdaedef38b4e9631c7471b356f72257344642632fc295d65c3c9b37367e3212848587e4cf96de13b2aba9de26cd1647167b54cf5103196365cb815c52a05d84cbeb86771d97889179f95fe57fa449cbf85b37409d361aba08cc92f3accdec44ce91280b99fa4051dd5a6a49cfb9b2c203177d0916d42d323300597b9afb519c293667864e53f7eb7fa37a7ffa3edfd15cabc1b0a5a431a63a141208fae249e79bd4f9f4ce4c1f4eea2ddea93049c83df5732e00c0eb185b87dedd63528907d2b5233c7c5edf4de150e69fe97ca01d37babd07997bf74cd33349e3e37bd5c3df8e2b213e0f5deb304fcd391fefc31a8cdd87c5353d601713df97bbf0fd8f55a8b56f9bf28ebab8d2b97263760ffc72157b443748afaf1dd8c5b7f2297e3262a923b7d64370d035a2651f965e5a670080fccdc36448347bfe27c4b5e1ada826bb7140f400bd706d522cd96ac35d6aff7f2636870488df411a0c2c5ddc790ad030eedb91d85951fe0685c738a98358d79192380fb73c6096b618c315e2100f598c69801324d8130b631bb1394ddb8130033d0d5f8dfaffb23d0c72dc4fd259d80b78517e8e8ba3eced9d79b4c354dc3df5d1912c476f1a74425abc7391efed5bb85811f446b21427ebb90058acb6615424ad2d64e69a1c54f4e4a7b38b059904fa3a8a3993f344e67296660fe39cb2eab3a4978550e31aa8e0c4f98184327ecd6349094209761a85214fb7d9f94b561a38f17dbb2b4820322355e5aafa2bde9210d47da7e01752d63053f0d4dbe00321212f66dfadcb6f102c9f4cd6995af9cf03052daa49ff735d63014e4719fe80034ab97f4b346a403e19190b01bb743eba3a6a9c252c5166c9c0a964ea067ccb016de4a7cbe5685d6736f4a8018a96adc73ca37aa8e3fc98296df64838209e74714de6550416db9726c7aaeb0349c3aaba4594246246aa5370e3eaa596a85c54d23c39b5b74adda74e0c349d19b948f964d49999c0845018bfa15d383a43175d1ceb3a040a9d54b37f20abfb18dea743744958a6097c5365c78e1b4f0ab68b450aafb2df90fde34cb8c08102fac23a9275a08f544037c8e58f428122645e6155c0e937e02241f5a42bff968a8deb2029dd5a1657785526dff6821c828c0d7a10e3dcc8872689ef23b31e8a02dffc9d99525be10c1abdbfb2a5f4cc71eaaafb26ec2c5e372f28ba1a13ed79a7af42776596499f5fad2c276a2027cd8512bee3d3344ad83b4b2a14515980bd02b16d0ab55bf97031dce2994495554de83f35fe9dd7a2f4465193b94dd748b5f05e28b90b980d950b19c46fb8af411193968e8b86d5ed2a8b120cf7beb7b3f125af733a78a48541a2581fc286dfad24267286b12994812bd132c75fd17b1cbc8f8e8dfd11b4000392a6860da5bec2849cf7178a1ae17a15f3eb3fa75ce5126185a5f9fa9b5db8c5def45f48d346fa1e692ef23e323fef9a4f09d5728458e48a95a74ab060add7ce8b13b5b30442eae3a79d40ef557fb32cbf64a40e97c4c9c55d7bffc84ba24dc6b50e4bbd834edf7f259e4d2dbf35e2ade322c26faffca0538afc14fe19e46834c0e0314f6ac9f3bc97d84ace31c8a6d8d2eff1694ac029060263b7c206484421eb181e8ffd018146dbf668a9eaf2debef130d50b2e2218cb7b6eafd38de3f45c6ab3123e1e1682b7da96c21ec04fbe485ecc2beaba36f79071deed6a5f0274972cdee2db8a7507672d4304a04d51807cbd39121f592bbdea2f4bb3ba96edc7b5859b2c74b8c87921558847b7381f2ebe1639f6a12b85945992608b33075f1c1ea0d9cb7bfbac7071f446b302d5d76220b62e010f7d20b65d552cc7d7023d7db3303e5aa2b512fa945215fcf2a36fdda3c7f115c0fb867585445ee423ea548ad5afc3e73c80e3d3ab18970c7f553c537208cc0b15b07540d9dec7fafdaadbff2d2a11ab4be63ca0c122b94e06cfb3a6b3405ce8d568131cc940e02d170f4614c8b2cbc1301cc65746a44196a7eedc0cde8d0d29b4a5776a5f0cd70369718ac14d85d4e9b6a11f383a9549efad49a64bf27cf77decfc4be1765951b92ba026016c855d8a4318827214150ffbf04756f336f7e276f26399bea779919c7858b979d9aa0bd4809c33cb2abf4bf0e2b432e0e8ece55b2febc86f5d599eaa777b2955e76dbaaf55232ce78c2aa780200f18eb10ff1455b9ac4231e843e3944b2e2c7144f930f27a4dd8bbad3fbc99997a2a49e174e5fc650919c817a6bc7dc44eab9305c0531c8617bcc5bca892fe1bf0def6536f14b7b8d7fd9a5320dbaf85694fe9019819db6dffb0c522c8fe796d5633b2d67ce88ac72d5913450871eaa24ff52d63ec1f813b7e9b730d5a5016f0b381c04e1c0df0e642dc302a7c049f89617588057d8f1bcb8988a798eafb4c6b40c7e4fa5cbd7a59837c1ec9ef763151f931ca27b15c76c808c02eecf2f1348dfa785caf31f6b205ed4d3dc64b97431ae79b8998ae30143a68985fa45f5e5ca75c957fea6dcfab49f4078b92c259433412e48465eb1bb04f09849ff9c81a9350f612eb9dd55baba437b248f945ee50e1a56a8049de1ac5818ae0c25538af96ab0d1214db2be21970ec6de42ae920a653aac81f027111ae0f2bdff1e30f0ffafdf5b26a20dbe068f8821ed80d2c14914c6e8fb2def013f8b140ccb2353273c153eec0799a6ac6ee9c238b4e8fdfaec9f34752315fa10d210882f159cdfd4cfa550c5d047cc97b29b140ab27de497ade6484ebf0cfa2fc797a8e00bdcd59c9baa02ed3e4189eb25e706df335576aace5219ae5d18fb9702ecf28e54e3f1cb176866b99555bdcc685ebc78723216dd5f96dcf1272d1713a5f2ec4596ba761e44343598acc57ddb06192e432196ee64483b48cd8e39a6cd4d53a0898f4e74a8bbbc51436ef49c2b3d654e907ab0f4e41eb619c170eb4dcd0ac3576bd014393471d2d8446f6f1498bcda9f4ed8956d65959185d32e2a266bb205949e85c5c42c4ad5e79fe56c4a068d3d4fd29974de9aa6d6a28fd4b926e374daa6ecd1b517ed2ff1561036f58bf1267f2f10209de452f1eb851be2cf84f867c90d0f344fc3939302d0ef6868efb2318608f18ec042b66e810b68d45677c39e4ba1275174151d5a2e9d589cad6d233bffec06631c0d2a652ae6f08f7ced475364d1b241288b70e068983ebd80b15529e80b9b7f15f190662aa186b3a368461c86037ee5b4dab4b3bbfdc5a5fa43860c301ac1685c1d5a4c85739e550527cb5b36c1b826c064ef78cfb44e5f25fdbc55ddba07d9eb5eeeb78e6d852dab27ecee5da558901d80d9e9bd8e741cbc4e12f8d6c84b44b0046e589a518f7748f3950b05f8c9eb58c0e000d11e09e6fab3bcc854d6ee7159743a983a7ea1d010ce46bd7e7b4001dffdc307d1255c5797044cffaa800bdbac5a2c32b094557b8ff1250fac6079b02baf5ae900bf6311fae28eca729682ba5ab1f798df984494dd46eae2e4ea503f4891ddf837ebebed1532f49614ba61ef7d8b5043fef4a1f667c5103e1b9d9ea9a4a250aa39d7d77531e7466af11cf55e6eb0381fe255b7ea4a8efb040902190257bccb21ba10a61e631da59389be34891574d001ede327a2c8e1972c464ca6ba1ee897cd0bcdfb3593dfb40e48c30e10637c9861be924a036394f36e96844b0257b98e8ff1f64843a02369b76893bcbf8e6c5324305dfc876a5141447772c3391cd92f30c21fcd2ad69a37c090479663bd9b509e0ef3f54119fcf3dada478f383a0e4ce55122dc729887310f225c40ed5ce77741c97f167669674438a1a76334ece180bc1f6d5d9913c9ae7e5243c4817055258244115bd5d59f32b6e723ac2b4df9359362607db2bff15dbe1b9fa61d79eabaab517e8f3b135f2d0d8b19e662f77537a29b9cbb3d3c27e72e53816891029a183a9afbb41f476bf7c53e0e117c8d8c0cd7a14075ea0cdefbed59c4b5ca196747d1bfaef38ac0c404421d62763daa8b0ed92d7f2a30782ad289e1f21bff7fc6ab41e9c5d0775b61cbb52dfaee0e52f602038a4b0decef6cf522779063f34d9631663a9a823f698b29b04a099d4ff3f367c5e48127bfc287998d539c9c7e91701a21d754f191226713d57f0c1e72494e27111b4efc2ab8d1416bb82df7468e3066a6682c30db287ef05b65c6a459cb59fe4b2f3fedebc72a4ff01c62fa0fd93e038eb7f12986c9b05c6f791eec65e47a3bc0c0ba3418d26f6708ba09c04336bf2dff98015a63d2abd3175b3b36ec8e42e4e5399698cbd4bce95d89e928826ea241dabf4c46da16781a9eeb06ab49003de631804644fd7d1194d9630ade0e51fb0c9b03a179f69a428e5d0b57870456d15ac44e4cf404161d507bbab3ef4c359d864500bc0ae41061c15abfdee870e5e2fdf22fbfa58826a2fbf4ede9b79ac98d39e8ace6db5d1a24998a801b2f86855cf0dea19ac7c2665feb6074a4cf632d42569b08aa7ad861eb9c97121ea517748b3851825d69520b922fed0ab936f658c0f881b96ab66030aaf7ae512a4902391d932010281c9e81f870c15d881d23c491e32a13e4bcc7758dd031d726457ee6de300f50a69cfd6b21f7e6c8affc1417c248f36234ab19f11ea01a17aa9dcfd85aab8ed888494388116cf14687c2b0ec10af3c7c4142de9de6b153258b7467d075f054691a72cc45be3e1503cb887ea501b64d28768ccb981207e64de2c03b30638b76ef9723cbfaf18271dc67a03a01be4f85adf2791e489245cea0dc18fa928d6bef2401c6de9af822c82177156a7e468ce180115ca02459f136dcad4355e2b511914c89c9e2962384010f90fd0839ed3b3cfb41eeae7798b8ed5ee2c369dfb727afe739f15dad2152dfd49d937c53c037543a05b422e0f5eadae05bf11c680a72a1e202413c2015311b0f488ef0fecca4c85646290d11e5d8cf51b1c6db361a2571e7f281d6f134c69daf1c05a9afeedd5d3864b9f3aaf7629b004f26e8d7f9eb5bff29447317c9ad25c29211c0f05204cc218430cf5fc6319954afdd9153000502c3980864d77a7d57c3a7c46e6519de8c6e8dbf80a339a009b7ff3f33b500a803b1cd3d7739eff03d77bfaba8c79276cc6c693b15e55a376d879b06ecee514ec4b66c1fc96937c108fb66e429a9a56dd9e995ac32f77d07535fc4e5ad9133440ee4fd7f5c02323ca4b886a6f388d26093939381cee15840b0a487422cee0fdb4d6c62ac15e1fb9c55584e26a3920e8f03dd70d35a620c81555cbcc134ba6c6b565b558dc63478aaa5e221cce51b5602b559a4d005c7af33011eb73f1ca13b5ea8301f05c11444201bf36c8814ac07dd94f1616f8944f23656e7eb7c1716387130f23e2b2f95bc22836727e80ac7af6ed62b0f19b6989a6584ea59217cf5942d0cd887f3b729ca9fb5210749bc5eefeb4849c147a9971f59e7e3c8a1c18acdf549c50ac643671fabb23e1f27122250d241d972ce563c1fcab94fce8e0da09a88de7d1c123efe3428732e41dc2ea486fcf453976e495406c3675172e425bc2565cc3e0fcb9a8618c032363055aac537cbe4ac1297d35a4cfc64d1719d84779b319d00337baf11a71277e4c3d51d7a12471f0a9ee5f013014ea0bace97416e434594580596f66df61d5819be4377b92b9649221cdd05a4619ecbe9af8689e638b469dd564a6f700854258b0d3903f8e6cfc0a0cd942ba68302f8c3afe3394d38f70b96ed639516a15ec897482613d627b3ef5505bef67d46856e1d22da5352f4071987657997e34482eb520e05f77b008156fd1e49969068de52d0d7cc88e40ff0cf8112bb3e77dc0f0481c17ce3a58cb27a4a1a30db3529ae7c4a032a7b21c0ac515b2dffc1bdd2cea52db4be84094aaaedd2b8373e7b005a9e8bf623e3ba34ce4a666983709fcfe70e222319aeddacf2ffb559ea249ef509a0e3d8c1fe0c3c6d21330fb35dfcf0eabde8a9d5138744f25c0a90ac6a29fc0120cdb2a321cc76cff5fdbc33c060ece16a1f149938df3d75fb4f29d3e4f685a2f0ebf0eed37c237e4072d2f97f141a33bce814f241fadc0601f2badacaacf34d301213a13f28a54b7ae4823990891f1ed6d2f01b85723b6af98414aa5085c6fa4df5a1ef9c7f94b48ab81309c99ea978f4bc4285042081794daf7d62e04ca01d40aedb8fac994ca84e495dfc1c7bebb5c470852147a2ceb01405e3b48e96ff0a6da85d375c94fa4572f1dd6d04cd859de8b2a3626dba68619fda5f859ae0f5612dc47e6006b1fcd0fc2de8d4ccdc719354c0452cee1b13b792583ae51c3f7d5a03a3445b0f0bd6fca96c734a238a8b00c71f0c7aa6832a930f311c3417cef8b8377ebe3e7c0d3a44d2ea803bb4446eb0512fdacc8094aca2aa75323e840ebd2761fe18a75d767da2354297973fca9206dfa5ac5d345d4ba98678119b33083133ea82816af2d3da865f03a4ca6e6e873f53cd12caaa156ce248f6f9678f20b759b9ffeb222401d8130e77a2f740d0b392afc8fc626f6bc3f124b1e054e64b226a86c1ef2e0246e80d7adc0409e27636d2bfb6e540f409d3badb9ecd3b6d3f0d209a4ac1b60717cad3d4391b5e7debe02a1488f75741fd7dc43db0830e84f5ce38bdc0a64362e3d8bc8a97e556ca72b280618bb328225b1435e1279232c65bb51fd5e2645db846474548bd0a9ab7f478ad4c0a11bc77ae7a0621e11ef4bc6618cdd4856e07402d7af006560497c9613424fb7d1dd688b3e5bee7c25e9c9f58812b5c485507f1d9a0fc37aab440321faf3bc1e7c2bb95fca1f4ed6faa362f88f9040136e733fcea51c1e070e4c928b1b1f6e39732fc8fcc0c66a1a9421b9c3d9a1098caab44dcb9020fe14858b471866405ecf04a1317885bc251023ef6f701263f6dfb904e4f94e2deb6aab72e7b81c59ca4f1d7fc2a3b57fce2ed61009ffb533647eed9abc797c40391b04ac820594b5089250bf9dad17990c7bbdcef4a1d3ae73a96e40e3fea64c3b535820f760cead877bb7aa80d7ecd8c0024e082075830b762247ad1e84093c5795b399193282f71170b292d24cda25ec0356fcc8f4ee93c741de8bf38253914ebfc35c35a9f4b98357929f11aef716388dabcf48b24a5753048c3cb27435a787367ae6c48afc3e1b561aceaf03db80a03757a691cd708ac958df2158de75396c8f6de8b2d072bbcb6acdc2d804211a574e0593cd3204abeb7a1d5cdbf738e6f667e571bfb45844e3afdb40728cff23783e097ebbcf17cf7665d596c0d5014fada8b15a5d13948d3654b6bb726a95320608edd8a39de310ee01342681b13547904d6b7745e745f46de44128465a053da63d7edf4e044b03915b518254b68ef173302dab4037dbb8ac7d4414c0f9986f41dc549c939820520e250d9817aed267d12b51d5dc4907f30527789353159175bf89e7767f6cd1b7aae52b519084e27de2cc8bb58f5f568e684d8593e51637f49ca096e3c2987fdd3c0db17cdd481bc5d73b507bc1e981f20f0a7a7f2b93ebde9f881b142d35b29a5a5fdeaf91b8177490e696564b1e2ef8e553bf25c3077e8c4b471ecc1d0c028a21a692d5c1405c30b6a88fcddf410ad6cfe30d7ca0cf2c74ae3cd02dd92ad1923f3585909a944c638b178bb69f2e93c806a592bb9418cdf6a1bc79e450b4bbd8307eea5f452df738870fc538a2d7bd92964f9906751b89645db7ab0e90ce5c9f6a879173657763afde7a09e2a62b2d0be1dbbdc69f2a323da01099fb379e997ae851a5725caa9fc0ece92b78546659661464b04c23b59fc0b382777f52e37b5ff58753fc4c17344dc0d2d9533c61bbef1e34e7e1750431809b969924ef4784a3cce075b11cc958283da15288be6b7a63d687aa7d9468db1ce80d3eec82d404f04f97bd5ce4f3702c06300b369e46f82c3e8575b5fda2ea9bce6fec4f2ab502980122ff51b2028022439fa6ae3f6377f85995c76bae7bb0002cfd5ad02adf9f65938f93a381d45adc4f6ed948b9b243b60bb99848fd513bbcb3165ec8585e1a731114a1d4de91f8eb70f15d0991e4276204733ddc232e393a43d8c34ee3dbc10433fdecdf2e2dea5fe795130485e02d734ec7d6b83860a11ab3406fb2569c061b27e15e296b95319e44091a06fb7164cead279751a8d27197faf5c48cb724328014837eff5d50ea1195f55fa013985b23be7e71803b97c7e994b027baa630a3837858fc4ff0acddb93c266dc131397d1cc3b20b05e0d3d307b2fa2fa79c054ece0eae9bad32b61fae39716b6fdf1d858394b31f56a9bed6f35d943adb612993321f96c3e5fc66be1cffb87d452a46a0f1f58c25bb3321c3ea8abfcb25f243116fb9874d7a526bba151f25c6353cafce069e4a15750ca391aa9b49b75213aac349677f4b08429626c843cbdafddde4639879251fb7fb16edf75405e0c96cad97e41e77af78818b55d800d0c3bc334486482a2cb9f23a91285c08d4d4cb67d079827abb1dd8357b4f90236b4097da9051f3fdd83a0be3bc5c2a3136deb1b874376236dbabb3957377c42b66f53aeae5abe4a9f083c2b2ef7c3e68ca746cd45722c4af4e8326cb2d8b888487f41c7cf7fc8c10e5ca67f9c260a89202d8f5b50e9e2f9909044955fb7be5b9f8fd31ec851121bcd4ad48146caafcc7fd16298f7f9de92af46005a45a05af1183562c5028097550e9b1bf08b8692808e0adce71454fd7d47fbf45c1e4b59b85cdd2e17c3837236a63af7b8992707ad91d83dfaac397b94d176ed8c958951adb3ff307e20012534bc24a83afc122348573c6a8162aa85d71e26ff129d5cd79a734c2b0d6d401d24e4dca9b8f58e43a7655158d8aa69cb8acc52c4d53bd7ace51f74a7453376387195923b8b9ce29fcb4b4312c173084d3c8f9318e147cfd33f30a9c8ca59a5eec4d06931c46b1e87b7eb7a2768fc08c4e4a1113a602c7d71d19cead7756e5b5e30db3e7baecff05b345dc0c7c3d979485d7b93a6bab42f123d47af7d168e60c45cdeab4d1be403b67039bba109edc38022bda7529b9012945e71cc44cb1c126ce0c8305b026fcdf7922f41aeb79cf336834df7ead8228da34e8af60cb51aa4d8ab0463762eb2c7dfa21764bafc318e372de84e67039a1affae4f75230e136f99564eac53f19039c6b8fa3289d160855751ec79e007230f2a88792057e438daee9881aa68b1089693a25580e821d9a8bb702a7a3aa41990a0c0d5ca5bd5edf41d33079b04f8ca968ddff8c4705bf1705954313ad246b086893330985b4ca249811f042651f10173dcf9926045b876a82c130bc2bce434a7ce93a871b6b450166a93edcab5b533c1a2c948ec7a12b763273ef2c6fd82164ccfccf3cee5eeae48a1e38f0a157e8b2fcc9884d18c064e9eaf616f259a00182144bd18e03f7081395153097cb7eb0a0b8cb90ccd6f326ba4f3886cfea040e0128fe88fef3f2024aaa95dcb5a74fd61332206dad1f668800c4d1d6645a8f64c1658bb6f5e07bcbff92a930029d48de26a6679c8875d4ce23a68367b9821bd907853be27bcfb248a31e3862888de466833197bf0e6b1ae19f4b1f612e22d541bae71521c825ea8b894bc1fcf2cff8f9a5f7c14c62b787aadf3d7fe8929197018952cb6d26c9f13dc03acc57454cc7edcde514c9ec4ec9a2076b259ddecb76830fd39a1d8ae5a033bc864e5a8ab2f447cc6d8932c8e452193de6c6944f3d8197393d01dca666e6327a6317c3b22870ae3825adaf19180d289f6a434d8346f4b4a21f81519d543fa7c5c363fc6f744d6eb0d31be3de8a9a2ae1c74bd856b52ecae1c35af6951988e3197688096b272473cd285220a2624a39b6bad656d7fe4ee9b48f1d9c1c93c21a06dfba95299134a0fabf1a51d1b4d32078f73cc123a722f40f0698e5b51750f2f180b78ff00c40b3387628cc64027da2c3168e1000ad9aa99035d782c375349051bb7953c8fd880bb3a4ca0bdcf21ec4a5f4e17be84f2c8ec4636c1b9c2d03b3c9911f706c02c21655a6545cdbb784a360d4e2045a6042c8d1c0d6f81771377d148d86ffbfad93d27cd35f83febf0b5de2f066da751ab59f643f8fc999d4df54f295fdcd8f1208f36dca78d0e2f7bb07ce21a357236bb8dfd3ba7ff0b160564ead341e1d08579e487d22046da44bd9649f66b91cad57a9316b12a7766cdce78efcc2f58147554b5a7df3b4f2ee3ecd4f1f1f0da211ab5f695c5eb0c4cbb8d097f3b760b639231866f7e68369e72d1f5b8879fd5e3472efe2e582f7c20394958283b62723dcc6633244dd8510439b99c8b2ec37d70817249ec06063467966dcde0eb110e2a66d29027a42c56b2e56c9211ee96425b525aa966e619bfb52ddc4c6e19d4ca349f58b1ad9a2e47022fbb020554040ea84705bfdd89a2628ce3c62902fb8ea1b5773ca637bc2e7dda61a6a43fd7785489726d43dba20c96207a2bea30a4496b0e3fab9970b060b1cd82c6fcd34bcedfd574f2b547bf530f70144d2b25ef85015a0bb509ad17b0c05b8af25052c996a32f1c49a33852d4259c6a405a8ee6ac9d2021d98e33f87d7641f43ae84d0b36dfb00dd9af645980b53bb9df0fe7e47114e64ba23e9dc7de180ef7dbbaaac12276d1a2ee7267e84fb1322cf772b8c98d0962b6ecb9cfb4e85877f12e37504a76396a5703c086438559a3a63c897568180e429141c9cd15a1b46cc7d91bc782d224b561dd2efb4ec47f381ff31b4846bf18886de920bf2224d06fe7468f32f7f7643dbd1b5c4b74f8beb9c3d37ff9ea68f954932d2b81a03b3cab8dd36264c71a977008e6f860de10b6c8d5560288b4ea9339f8d5774a17798a0dd610c4533f7323ac9474c1ea76a49811e01a1c529bb5f3db57a83450e1fa7fe7bedf516a196f33b98654476a58a0d94768e53b298c7b03f67b58f1910f3d9bc1ced8af01202c6c1f9735dea051753c99e7d2868bc8bb40bae02baf478ba9eb3869571bea919780c4780090cb8a5100ba7703df0318a4ae2d85fdcec5cdbf3688ea73ef218fce382d6449cc1bad7766a64bf3254408152c3d6bec561c0333d8bd0fadeeb14d96d619b44fbec68a60abbde98f5cc8dcdee384b492baf916702b18a2a3bb5f81d51cf9b4b486a97cd8261a6549d88b75db78144102f5b52e6d31222a4ae4cb2be9184e4b5d1fc6498f3c1dee051420470dbc5e90d12135d0bac0fdb359dd5a510e168cea00a1436235f93c03de78bcfe118a6ddca7867e8186d66d9d4d1c5f66411812b681e2cec5a4f3a04c7c31bffa10988a104b9e11f4f24b8c8bb130df4072da1a1edf0cfcbf8643e7a80fa86cfa87749b4f719b98c448f6f6dac7213268f5df221af516cf66df3bea60318c8c5b1e08e504e2ee3d1f10063a79629a214bf773f4baae73e2239ee53e53e7c59969c12079136a2bfc8c2cd1fdaa8fbc19a30ec24c268c508908b0d9cfa5a26fe532e18a6f5f08b310b817458ffea32b8d9b3ef69ae73e9b78664496f6af165443574ff8f3873159009a0c6f244a91da950df140b88f1d30d5c479b6690dbdc4089ad4ebf31f449acb8fdb9ead61f56b1f6e49e0eba7486197a43d3dc9cbb8a0ddd9b18c9eb5605b303a1340443ac3b9c1598ea61135797d4da61cc7c9193f31b4ca86d827aa78d3d4ca64b4f3d9c738ef42fcbbc37460923664031342b9cceb1bc52f98376a0e28a845141f379b1c49299cffbeeba7f1b409664fca3b2f4247f9a74325bdb9dde4e86e90779938183ee8d6b7303f6a3f62561f58d5865541cffe64fb842cbc86670528371402900f2c81a4fac99694d9e72628cda95b338b9684cc7a6bfe29619d7e5484f4efe6d9be0cd7c91399513bbd66b834f088048a5d30c710ddaa98236748714f0dde385fdb13abec4f01117ba81c7928ae36fdd395cd27222bc0442f5fa0ff92af4aa3922cf2775a89c0de8bd610d699d784505260692df816a1498edd9c2b4065348f7449fc8825f59b5e78b1db5d5be5972ca5319db032ab6c3d66644daa9ee96733b7bab5fc3cf21e20769c05ce420ea6f58536e86a841409798642a24354ee1190119981418c54c8dd7a47e07cecdea094f3089b200199e62f39ca5a01549026a5a8dde92de19c587f1a4694cc809c5f5e1fd55813fb9fb0879eab806b091437914be47cfa8857d52069fb081b695f3a9d5a1451b5926a99694b7ef67da6ce8c3da0f889e485b5fa6cd9c9dee6f2ac25049b0608eceddf77bd1f74dfff260ac65f4a14fbe87dfdd3ffc3f957e362c99a0a0e57fc221af792aadf7f809c856788e8b9e712de6327f30a9e99513d9588293c1e25ffb25f82728b07d98ed7ffd2a7fe9dfcfe54c88465f951","isRememberEnabled":true,"rememberDurationInDays":120,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
