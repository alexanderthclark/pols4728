<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"b50e45cff96e82e2ad08eb325273dfa04f89bc4f1339d77dcfc87e5e7d7cda66d5b643e02b9b254df7b5735e8e94dd194fe493dde1acd7700f18f81f1fd9ad4625249344488a7779652231c9fc01cd54d1b2ea29cc8b8f0c3acad7265b7238a8fffa9e50c4ad002ab4767fc7966aea2f19394e7b563321af84c97ded8fd333965086f27ba070aff9d652a1e8bb6e4317f7cc232f990d478c10a657d82a0990c91ce9dcf5b66ac5c7c0f3ffb1b57ac1d2c97772fa835c72815bd187e369cc7b7191106b631964e4d18bd6066442e1a50edeb4e92497e91da29458fa21e6613f3190488a4d4533795ac10125e96dfefef12e624f2afa4712966e519b1a71bfec6549cc33a97f8f7a5fb12dcfe8fb18579ec1a4aa29398d4b51a5d7caef4359533c934256007d7aeec2f0ecf8dc55b2bfe6b4ef37c9288e0ff8de99a3e2b9b96aab9592a6b2b9d747d4c044c8ae7b5dbbcf1a3ac4163e05d060dfc8e1f90567fa168a61b4d18e103032bf4c1e4e4dd16615372af29e392d00c790b896d5fbed3d4b401d6ece55cedc0417a935a79ecc1e502cefcb6f0ca5e846dfd807f895e7b56353c93584b56740aa6062efe1b3af21b2e4c9bc818b219e3acdceef427d7f4f78e4cb7b2bd760109fc121b2ff9d7a451c0783a270392612fd6e2265d3a9da885953cd4005f947c0fe6630a29273488f69c4e2e3018e53e9a08e87e056e9262deddf185de75d20ad5a7f255bdd9c56e049d8ed29519182c498ba62146069ec994cf20bf4f80f212a9abaa6cdee72cf4d4d5241e19b770a5b3c9ca000870ab773f2e1ad674fdead1e7176df19d070f6aa5b5b8e88e47ac6b6f06768d3480ac75be1b961b95f63808cc932fa7db163f3386b577cf1047ef91a6eeda3c86f8126916f44a83c958ec45e5d408dca5ec4ca8e28cb9600bb45322dab094c629cc698218c4937be018d7002c7ba4c242ed6cdb77d1334eaed38c37aa380c29b7e2d884c512f10399b99d5a5fabf01b0de8b6ea7391b3d159497a6e47f1d685deee080d095c4c187f22b3cfa657414f89a9a26f09f947cfaf6d7e6c1d5dc0b68b2e79ce05e6ace0cdeb8be309a27dc586d5ebef7b9603281d9effae253c7da1834f5e8518267d951c114a28d91da8e6fa8ac68ff927faf4f8de689d0f5060300ceb75920e29edc4324df9dee9898893ea7e4c21150facad33333e6d835cc6e4e5e0f3cad52700b8bdc0fdd1b3af11ccc8081c6501565d9f6c988ab0da4ad79403ceda6cc9d7d33e34adfd517072e98b8f4cd4bfc194938be430c0a7ffd28cf980c1d7a0784a4b0e01bc9e5fd9367bb4def4cbc6a0939afa253661a00148095abe3ede3e2cfadbbcdf8e90c1c8f28f349207512c360ff6e9df05c32adde9f48626189592e4287c80edb1206ffd54289d81ac422dbd048c1a25c6289de25eae2d6c7800a2a668450f9c9cfbb44953d26fc638da7b38012084ce7838c17c32fa90ad07f0966e8c484086e31f3c275699a8184ba71b5720b588890d0ef7f9ae470072d820223d3126fe75a3f70d0e604da938402c475e916e530fdc34508722cc37419e3a2727bdaead58d7209c8d2d0d5d7e6b4731f2dfee4a9a4b5cc878dbcfb73fcb056ca8c26b577810cb190f6f6ce6cf5f0d7b89e55a899359580ac8e2a8dadf94a72d53dfe5810bcf98c3faf968eff9b38d279d44ea11b9ee493a83762cf2a07f87503af339b0f5738c17dd694581a358e24195b447dc803a9986fdf61245bdc84ea6524b34f4f73481bbb32f00ccbcd1b03bb7dd8caf538d014fbc1b55a0d18a9bcef4f051ab696c967deeae12f61ca088d827c497dd7ecd305cc3582d5227b686a69f6739ea43630bdf8409d1c83e502325c19eae2d058fb5c8a7911b792e08ee4083bf0f0c37004501ab63bbda8670523ed1995c4d5a158595e1357f6bae95fc37a973bc9dfd3afb0082f35cf1769c0e44a8550a9a751626b42bc7fae0d946cb057017756a7e5e162f195c2d195fdcae294185f97ca12da483298e0a62f06bafff253576ea4095e5e21aa85969148a85beb95c7f146dd91e98291fa158358184b40c7a71c64eaf199d026dc426a1c1306a4b591084f2b4cd1e6f64dd482bb0c5bef3950981e51dc949f3c1ae30a20f2ed0cef44a0c4b89f423979eb63578b209a509955d09c091ce6242bd809f9a699e08f17b17b4efdd018d54281ffa968e31911830a1ed6b7bf96b80604af15179b1ab15a3a25ce179b79b11125b3151f0e4649a5e81cbc2fce245244cb75ea545633a4d93017113e3b5d474d8ec5aa685683e9019291f05cd1ed69043fb4df69224bd2c5dc199efc998c93ad62ceab74076fc8b73d44ad37ae934f6b393f726252226e6c23063f95cae1df420f764fbfc7956253493b0964ab5ab89d1484fb46a90ea05ec0b02b36cee937c858035269497249e20ac55a7845097e5d70fbfe965f33ec8f6713dc7fc6cd59390262f1f6361388f8dc79161266df740ea3bcd1fda7069ee6aea633c9041bfc78674d8ef4de58f2321087bfbb0466e718d9164ee74b0fd901caef42278be4db7ab625468156e2dcd34dbc86e763149673282cf7d183a804d5b2cbf1d0fe9e58ff627491a5512aeee7db50f35220ceba2c604966c994ca2aa7b4a7c57cc21a18c26549bdd0b02a606186b11ba2853a8298cc3ac11b67c5679dde15d5fb8fcb16e03e87e3b6f708bcbc01a27e4d88b45eba5d5716fbaa6a98abcb0e1b4e15c604df62aee640006885f269e41d7ee52c14763fde5cf3d80d09272e5277849d66e47847856eda1a0b4f602c7f29f3bb6a5bca6355c77c42e155b1c3cbba4942d3232830c00f2db76889c6e875ec29791527624435e6a6a579c0908e66e9626d3f57f0487666177769b44819f45d9f5829040951e853a80db6fc97af3a48ed5add0708cc9faf9368b00c47047cdc6222c7dd3e659360672482207c8220cf5ef4af4f2086567ed997beb6768ae82b83bf30d13cc46b4a3e5e06a79460055b4286cbbcf9d8bb6800329461e34ac0453ebaafdd824f212771f0d186969aa11da734bfe029eecf3490d9942e3cc8f6c0bbf56438fed41f4c430209ecb2e0e0583ed7ad0f93659799fe9523024f9a6e5e9dff279eb3d36cd24c945d093b45ed1e5d951c5907999e43f4888e8394986cddcf99f5bcd6a7e3e902f1b32359acceb7a1e9b5cb7e90e7feb929322d45dc5bfc1cfc4a3c437d3295d393502a2f092529aa9022d2ae258a16e44f176bcdd0336f2fca5a4ba549b3413e6e9054597b48d2a80e18d268e3b7c8cdc32773708b02f62f1fb6b6c598422cc065fc2c4804018b4147d74b52ed05b06d7c4f31d0f67293b0402261aa70726eb2cb0724d4a45055f6629840296d736e1511a1ed1542732edd20420154fcaa39754d34f2daccec42b9c75c64c3c56414b7fb57a996bd6798975560e0aceca8e113982c4572c6908a709be33291d19c6193c38127428234f65cf424ab4f7e95b0e4b51b8121f43d23f77f819ec0f29208258026c17d7b8ab820b6a73377ad07a98dedfa8d65481a67173859adce7d41bf8578215e88ab78ee19b327351895249ec50b3c3f123fd0ea8e113404730b01b45052aef9ef43f426ab303ecbe72557d1e759a63c9bd5886348c58d6e36607e7f953b11964cddcbf0ef7b31e071a5435acaaee76155bfbada777e98c50f86071bcde0c8588bdf824140d04c02828237cad15df0b4bd9a6bddadf40374cd518a2f302208146d126f34e62e6553d5c6994f96bc80c5b0d46f0365226d65f15c610cc5e0218a52ee24108423b57d3ea5344907fc79d797a7fb02ef8250a639caeeba600fb23be2276a3ec6aa10932fa254aa5a25c74ddd4db65d3636037a4fea2e439beb43217e68de3ccd07da1ba6687a1c5ca088c677135d69c783e1d95301111aa637aa6ded35f63318db9c99969979bd6417182eb90b88b4508e6a47562fba344364ab70fb308f015d0bad52bca8b50d8a8482904531a544a690ca53386c40f74a0175c0f293a89ac1de5689a59c4a4a573e1f756cf1d924323fa91596b62f9f28b61ced8f69f17bed3a39a5e3794ead326e499ee9670f4d785625cb6b2a5bbe16177f024e88bca7da1443a66a706b34fad866c44a6b005fe2047620d771f41efb8a87b9612fd67237de15fbc697e4e7f4579df4b5c72b3f5ccc946041e353df692105fe4f9b262e7d624463e08d91e2748fcb991e250ba411c9888cfc7de019b58ef8cdf2bd7a105c20f748fb8b1f52ba18cf5031451541d25211b633ca95c28304a18e066fefb7075757b8475d5250765d7b286923d23bd88b1d0175c0e6b624536a2534606bdfd027cddcccb3a1959bf5a123735e7f16bccda1d74236202f9f90ac67294bbdc399b2b374b687f252c7feab729fc6dfbf4dbdc17763e44dff29a839e251faf28eebcfb444f6f8165c842c8a0ef39d6c935f5041c761c8c6b345be4ff7c21ce6ec0ed68575ea19193a1e75224cbe3bd532a57d8741f5ac50701281cfdf51ab5e2c858d55dcc058c676f1fd4379e2bcca7786727bf89c16a0db943c117d3d77c81322a0560cb5f015552b4694a261ae63f37aa9acf542684276a8248dde95b4b3bb73e50a7240573903e1735b520f420a0f094881271e706da7bf5f46093ad764a93d8cabc5f28ae0c05148455769941c87e46dce2e0f1935100027632a00399c69eb162e0cf202b6b367ce7253e4ba3dc221e4932273f5424afcb1d71ac153230d14293d237ca9bb992b140b4cb1e15a5cd397b6a7d9b6f9a8e53d98e619e33484c0417695f312b91b254dff415e775d6499f0186cdd348be0a051f27c4f7e6fe1acabec48d8e5f8cd03b83d93995190d25556bb03b8f6d75017537fe6e26cd16911f6fa10ae3f1ff7243c61134ee692ca0ad8d4bf245ebfba726050e88d7a137319326f4ded363f2fcf19436ac1ff8464bceccbbfa6c02f59755c906598e96a4c349330e6b79bf5b8d072ee103fb5bc7a5edbe6447cde53cb87493c907131da04a5f35558f00b0c4914ee6b0eedf1a2981df5eb2eeeb555164cac2e8398fb6202435c6f86ddc34fa1b5c2d787f1c8047d414db5415511fdeb92958eb2d4ff99b8fb5ebe935b34daebd5d7f284d2b2b1b446c8c918909bf9a4403014d60a8df785494bfdee7564fbff3ca9f380479dafce667c4488ba030a91ba016bb5077e0b4a32e294bb6dd7ef632fddd1edee1d91a2a631c368c9c0ccbaa9731fb76cf216c00b8881195b3f743c7c775d962fa412d2f8a32dc75228292a972b86c10bf87944a6dfaae0c021e29a4aec38299fafecebaa0c0314da71b4e662db9dbd7801b79bdb24ba32c4d0db889700055a9afdd17f09cb378befed5e6e8f0807782b3bf98de6e3e7e493c43f04ba959c115e517ee1b4f895b824b2aa80e5bce92cd7cdc6f679e31b5f1378edb76c228d30ba3dfcb4b45b51fbc4ffb5af38709947848c97df8a76beed99e4631104935febe42910ae01d931b04448b19ba30fe18cc6a8b54bb2b8c7d01761fcd1c0de563d10db6bee5ee576c9596e1bbdef7acc0da4c2ace0fa3d54a493f65c185a5dfea7f7fb7b1d766643b8f9a6dc6a15d962db853b221188192fc507b6c762f880be6a1c18bb43ee4bf09c6ddd15382290f8e7c59f4bc1c1397f5aee8f57d090a44afca6622969cabb535d884b26a3eb2b75f08bcc3a8ffff6b5c4d53468afe52475c7c180ab451713b890e396eaae96eec99a0bd8baa3f28eb24af21c8e03ceb57d38ceec8a42aae3cdb60735f999e469a0bf3501d6f1c964003a5f15b02636d23f98861a2293ed09eb8d65b86d845bcad58fbced39053b92ce1ba6f2d682dbcc58b595e4b125050c97d94766c60cc7aa4d3cd24d6d65f66b61879e8e3fbd39c72c6a264a373964a4cfb6f1605350185784f431a788bc257545996508d7c4a610e69c8aa385c50f811b0c36e15f962512bd867fe13800b9eaa4d3caebed3c8eaa95b0add989c29457936d7454bbe2669eb8c8b494a48e9df945ef57115c8478294dbf46e6487de2aaa08fb5fa4ff8656e7bba41c9499b6b0cc18376957a80ff96b1a74cfc40051ccebcd869977fca84e411ffebf2e2194eb59ebe276e1e5040f0675af0f40808ab10f764c8aa61d3dc6910a7c837deb2c13a71d9252570498518c25df0614f2719b81ea939d66f83f399012fcd48ec0107c60c32a6161fcb6789cfb08beb39413b13390b92fd03fb87c93446777b9dedee54d2266a0b9fff417f75ad22fa2ffb343eda8de83f1ddb9cac254188e38953b03c8c7eb85cab4e54792c4cd4d1f045e6b8540550cf435bfa1710dfe9c3e25e48eea9ea613e42a2d7d231400fab733e83e55404c96fd63b846e5b1d446089a12083512433c2e8d0ff42a74253b98ad611de1f2bc06f59ec4c5c215f32fe8b421b4cebb8d566111c7c556bc09d182bb1fe8006f6c27f5cfddf339119573b4cc4b0ae22f1a4d96af97356538efadcd16d2f9bb4f27371a193e0b22b716830238743d6b756c06f9b0b448f4ec22331fe16c253ff4f78c64c19b0211b1eda4956e12eb3ba5115e682cbd0e7d8f2396be1a49ae5ad16bec270a217fc499f0552b70d63dbede23b536d1b088d984825ee3a6b958c9842e78fcc479f1ae3f7b66f8f6169fc5ab765ee1a67d8930d16ab1445fe1daba6d04acea8e1453242baa45ac49579f8c412522554d693d33098c0766dbc9dee067137a5a13999918166541374fba61f6785b4e997c5c2ad47b0fb2c5a03decc19a696a2654f1bbd99a936fa73c10fcc816825dd94a225b59f259a99faa1eb8008358804be21a679f46cf970a26326ebffeda6990f8004cf5be379f7baf59e046eb167f2dc5cb10019eb005194f78e713dab8d5e4dcc738840b80ae5f246bf5413e44eb8931e94d4a6c2ccc631a265b933a687d228ddc317dd76787e4cff95de863da3a9b4feaedf7954352c8d4280bd9ca4f0fa1a17191ea3f475813b113a274f2673a9f6742c968bc45ca893530541e1a2b8b065f161ec35ecc04294ac1f760a7de2d46d883f47e47af9a9c1667e5b1ca3bd7f804be3927577c9d597904535a903702924d80dadc6b5db0dbcb3bbce98d60735fb2eaaa4a438c6f6b7834d2d476197ec9bd3798f93f38111332ede6995370683570a8449b996a7b38eafbe1ea0825c6677ef5686cd37833a9321de40f8950deebbcb8539861bcfd0fa0cc0394099c7bb53023c9d7cad47a73e9a2d3a2bc93a0335f04dc00ececd2d1b7c9f19d3d7842d299c0606a96363628aee1a3f5ff7648a152472627cf50b5f5c1dfdc6ee42a350be95424f7a800144c5ae6e6db0fc7d2cf5eddce16091acb8551af645bfd2e6e97aadabd7837fa8f76e334b9077a18474c1ff1a4097cbaa0b254587ffda927bf3fc3b874bd53ca29cf8f409137d99cfab0427eeb860efd3350e98b799be18816cb804dfd05319037653be767f2547ed64dcef982d246a1d55833e4073bdb9a73531087e54ac681e9e92f46ba0f02c9824f363c6b77d00cb4ff15a44ad80d5fbc599f5962b68587f5070be026a5e691653af1764f2a852b232300c64812e8d0a2ed74a50c331ca7522468f69dd7960051bea407b78bafb1d8a926140431f33023c7d8f4538a795e18710905ea077047c5792dbc76e625e5a73801de42858815e4f57fadae222bec399119896438c5886b5333155132e7bdb2b8c40e40293a5e892b0474878b00ccf93951a2183dd9d9ac490b1391cb37eb2f0cc675d3a38e25fa59909581763f25845f2b9513823384bad7d7fb0ef73fcf63ee9cde0c01fa8b59a94325c5d42ce20563554b88a5f19bb86b91bbd1fffc267e0707c7936dea1c1511b95c02e7989ecd697ec881f62b8eb8926855d8c55e38e503511175512405ff6cda3a16ea8bc978027c6efdd4185a4e0b4406e249f9e0333eafbef7d3f3cffad18dc97a087f0ca7a42b77279bb468fb0eddb84b2e757649cda38fa40b62b00c1bf65bc0bcd1c3d7373278aa6fa2743de4421daabc1742db8a7fdbbd4cf1cd7e4b2a4687f8e88afca340cd12a4a13d7c2330035aed06fc760cb3d04fcfea78b805986a7bed9c83253ddae10198e54a83455d27a4b84c73ec1e0e72cb604a55760d65efc2bba6e26623ec1308ee71b94443a585d3337c23c45686d25224956065c274066eca7ac043c39b48d8bb0875a56ad99aeb778ea4e733ca1438343465f63c64147c2597065d92798e597a718d3b3099e56d61060bd282341b4f03dbe6d2f90d4dfc7d785a1cfa4475b9d97bf3efc4e9d12291e8fcf4525b80404f67e28311a9affe892b58a69427277a702b2a5bd89dfb321480a24fb285f0c84255bc7dfd4ac47d007e38300a7d2674d9ed9412e3b170fba86b253b7757d1c385ebbc1a584ff63a11c7c2cc59c18db3f072adcfe7d2bd5de0cbc5124fd9efbe61fabd64a0e5ecfe2334331217a152057da8bce971ed4880d5a4897717708fecfb5a6592680cc929ea2871036adc3a3162665aa12af149f9f4c44d81c4968c2b8b0dee408e1afbc0b2d32a022ed4ccb015c5b7d886966b5d3f7df7619b520abb4233ea44f0c2d4c6575ffa3dead1d4837d8c948eb5b159df33ff9a99d453f18b805e5d5e102d94e6d8ea87f13d42ddec92b11ec0da0875012874576952a876299e387f5f4edb9b70dd0c2b0662933e58b5a0999977e04542f14a71f72a529af529b60578b039776b99b7b50b03bf0f9ee41e392cefecbbb449abc0d8fecccdb74e054dd25e243d22f52c4ba12ddd771509ac5d69011ae7acbc57eea1811b53d9b0eaed73dc8d5a45ef0c978c79fa302acd191fa9ec0ede3e9b5fcc6e90b158f8373c57f556ba7a56448d43a7a914c3d81a9ab6ad4e1875808286068929751fcee79cdc80e3aea2a7eb248d5fcd188cc50b67186464fa749cc0d3ba1936a6f7a841e2f65cede8218422a1af60a4e2b3752b7068d53c438797824f715e2dfe914e4351b667fc94508a7bce407e87008fe430773ee750f8c3e90438d6a25c7dddd78259dba89f9df9253b7e4e2c807806da692777fe3fa3329e493cbae4265b063d4973ed774c34e7307c90ddd326821f71bfbed663552c6a074938c3d5fd3cf634dafac91f489942f6e4a91da60464f975d535ef47d9cdc71cdc0bfcde7fc6bc27aaf3e2f6922d7ecc6211ea7d73fe56c03d105c888986d03760e7d8487aeac69a67b7703d73d1652a58501615a89b881fb91ea988d5674bf828c05ab638347ad1ca2993a9b2f8e2bae8567851a7701ebadbd1c144f28333313d6296603e9799033f31e2a1a81bdfe55a5f411789010e122bc2b778a6a58e15fd702f9d8f155518461bbfc448057b5a29005873c0c3e6b174f36f12fb04663023dd146908a1640fd7fffd3dcdd4c000186cba0d9b4bf0712e015c6cf8e24c1e8543bd41fe3e0873a633e172cb795431a153f8d33a3d7e532fe7a4c667f55915f6bdc510bc2cdc1e5f99ba3d590b723998c4e9046b0c65a505502be52209f454693fdee2382b50214a270ce37b43f07f6515d338062276774a6525d7f1e6d35a8992937d5d7972716b14eaf3b61f1f8112ec81f1d5a19c73460b0d4cb14404d621f973cf3343278772b275102c2197951779cbc4a5a518f85ddb88eded664c20efba3f80678a66fb11009f840d70f0e86d551a7908fb21a7a1a02f10060822fc643db2619f4c47c2448d02b8cb0325688ffd86b6ff25d7116cfa6e6d3ab456c16b9491d08944fbe859422bbc3d95cecd6c50cfe9b3b2b0d9c4732a74ffd58b0683b4e262ee5ac2c879ec2b52108930ad49a12d56ec215b41fc12920fab03563343fdb4e29b65b4eef834ad51f84aba8cc6e6618d027cd251b74f94bcf59885433cc3527211eac2cafd311176b5050673b0ce67928f9981642967aa20f632dcdfc01f05fa2d57d2d048361372e3783de8efef506ae62fa8c0ef64a9f44e420693399ef0b6ce5de66ec79a8cd22242ed8b8132009d22650b0e1f2aeda1a4f4ec638064652d96ad161b2db308eaecd3af5536d96ad934181488633bc297dc64b503654076698569f8a0acf096c7f2956e1bb4ceb1e95e18439abcad4df071b52550ad8d0701f77050e2fcbc29149a20a9d8daca464ce6e7b0539f17d8738c932e3db73b3d81c9e37c082cb0daf2e908e0ef0b7b8519c4fa72a9f7d891e184d5016d1f86dbe43fbcb209d50e8984170d1d897cf7e731debc4a3fece527493cb8d237ce04afd5596fd4653d5fc2326008542b1ef2d0b72fec3e7abdb1e0574e1a06c87f30a18930702750fba8d09396c83e79b62e3b673b19178b82625491bac86393cff358a4fc859cac24cd2a5caed8c47d121219b6eb83d40ea6d0e57baa75bbfe02a570a24e0e733bf3ba82077e2aa400de84e245a80c0a295ba00c3be927fe6e79c70c0407e576aff793ecee5f01bc9ebf4d84d3198cd3cf9414a2d65b181a4545b6b3403ed380c57bf0081b66aeee9e748707fac7e5f81d91abd4fddfff9485a305bca32f2bd59a8fa9f397bf5994a2c8fd8d45fb1c078e74f3fc84692824497a54df5fb9437955ac7be8f5ec689dc632a5bc8256ac30890ffcfb2a2524eb0afe5d2f60f77044d046291beb3235b752331184340a4b524336109869ece36a5fff44bf292f10bfff877fd0eaef58ed179d969304db5efe0665fdc04db80261651cad34b161d643cffbf7716f4f6f6903ac88714124af1a236d6f4fc075c241749991818dd50ecb168ca7e14d2de10cf165c00eb76870b421332dac71454170b6c86d577d60b337c70aa78fc1eb6e9c9594b406d17fa03c6e2852cffecf5231262c4ec039e5669843aceeee77a63c14435467007c80df1f264d37e357c3f641ec8ef8222b84c81fd47004fc1fed69d676ab4bd38516c0ea3539fea14dc198af9d4bc371f738b1dd4eaface7d2d5b95c6c7065475f2f257af89af8683e3549d781c58d4702565c6a93cd6f9410fdc9736dbd86c86d3ef81b77a3d87bad3f23704d39cbe26915ecf3163d077d9451fa16f96a22eb0c6c5352e4dbd66e8600474fff5541fbda09d7ce775fd89bd1796ce72bd3e77f34e5ad6e0ec1932ffd85285f2081250fa55f358c089b8abe01ec1e86d5053cd08150159dc05d606de60ff2a50d7a300c53628072b32a06d039e363e19260eb121ec3e00b12fcbf0995b37e404d71bd1a92408be1658b11e6b25b880d00a76b74fdeb20900b004082ba7c22de9beff195262d385c27e632cee10bab77d65551c4e280777abf03472f91499e12a695ac58ab86f5d8540f8532fd0d3f4b7152477ded6b3a38f289895f02a2dfe8129c66e388c2821e5883db4b5700e574d424a434770eeb5ae6e7a24612a5d190d8de63e5ec2d3b601ada7f6dfd5265ec8f2387b7c6907d45346bc213b6fa9dc4f139871b14fc9ae9a3ecae73e23705df5be01cc33289199a2686bd16fc9eeae2a2e77a075ab8cb427491a7b90a113e10300b577283f7e7f541c2df356f79dd5fe6bb77897d4aef295d12289bebd07aab8656cb453188385a38362ee63af91f7d5ca4ac0d4f5f4dfb5a67f7096017876b268a3b48964ae756e455cde8e1aa6aea5fc2402ad5c0809e329d23e8d4ae7f2cedd07df3b55a28292f4994c4e20c3c26c08b5477087dda2128e24716ca635cf294f9dbb24683101271001d699c541d1799f8aafe5c7815edc6d353894d21fab2d29fb6ac92c49418fb232800b7a4920240cb97c2ac7336baeb64fe45c80b1873ff8c63166dfd5d3cce3fdbeb686500c7e892701dac76ac0658a210118590b10873660159304191ed82d670f3d352b52f60bb8dac27561510e9a654fe131f0bbaa372c9490d6772031e06d799628612eb15acff5a32cdf386a4d1473a9a3e724ce651bd9314bd7c3ed7700caf5b4d5e0b689e56b17ebca23a19ee2f41055d622a9e42ba0332757c8d1c537f412911461d8f187322e6088d0dbadec359a3880ff024fcf3f5b5b37ce237fd6fa9698ad8c52b637c44d1b5e19018d846cf7527fb0417a30067ab4178d870cb0c113a919ab334fd68fa5e16ccade2074d0d85dd3f9f3dd987cbe62aabccbf3b3b47c99ce1852a23212c4626dddb78cba1a6baddcf581dda052718242cac13b5c8c6499f090c2b8c164cf5615abe3e30ab3e4f90958a289e1de1c7fee97e27a0dec29f6a646b6b2f2c64ea4bfd24ce1fcbdb208e1eb2ad3f29d6279bd4dddc11c56e7a98025f8ca462a8869ab9d0f07034f31efbdfab56e82a93fc0ce1ef4b9f843238015e278e0a241603c3cd4b7d9601361f2a5353f9510f64b5ca29d5d235ead114b4cd96c146ae0c340513f81b83756c872a2299287f92ff0a0ca74e38de11c40b0f9aededbbb1d4f8cc1ff860f0603993e599368f24c3d2beb5d0ee8945962e649362bdbffdb21d8daca2b75790d0659f1a39021c8c687c1aec5236c8bcb574797376c66dad90dc31af6a6f04a3147831c3717473de365d42bd5412a1cdab53995234a778e15c5de276fb17c85cacf5aa667e11982cb4fafab7cff04c9d26788c8fc7e82877a510bae5cb4ad4694f6e9f381168a59b3aeb66112df55558b9671ab6e51c2909439e8e2aa2e82bc4bbba3a8beed7b6a9edd63933cb4a600cef1dbddf198035890dad3d82cd005f01697ec53f1b49552cbe859b96920b67916538cfeb403dea7bbc5fda3c5eb5e2cfd86a735d4ca14e1937c851aeb2943563ccdfca59e5c4fea023f7d3808ced0fc475a3ed44c9617824a306ebedeaa8a29f2e23af66e79b029d4388e4a457b20dcbb9489ecad9cc056588710dbd8b0dde43dc274a2002bb5c34bae99e4efe8faa714ff2b072331afaecae6921841b0451577c4cd78c8885051741974b1a3b717efa33a42a0445d345a45c4433096a4110479dad65065dcdca3b02622d85b268e623799d48e5773ce803c24dec613407d60a79dcf92a1c8a2751fdc01833d118f46a5350b4fe3a7f0243975b8c77741b281153f437afca738550f46c6688780a1469137d2c9ee013e15ab9b61699a1d0675f6e015f243b491ee09f1a5a3031176ff8247367e0296d858ad1af8d36acaf5c111f2424f582ab7496863dbc354883bb99ed0f010f6dbe99c39e6abbc494481afa815624822f42c8ae2c3fe2f936d8d5f806702119feb2f80d998846ebf0f6bac0ca49e3a81b23514e0471f908b20904f79161d2b06f08f00b6ceb633ac703f3fa5785145a342c24af4c028d89bff98b73de09f23a0b32b22186a8438ddb237c4f78e6d42bf9446f1c59897e666d4add585b1f1807ede6503d80126b977edb4143e90eb5dd7d16481702d2dbbab3f39b65d053931031244878cc24654b59cddc79c8eb36eab7e4cf5c0e34a5be8ea9a0ba84c5cc7647760a227324279e31f1bc703a9577bf94c867a050e1dc20bdad729315b75a0a069c204e7339b798f6204157f2798c40a0fe8c217b1b1ea718f8b7d5823a6193d217c18b9baeb624970978091ac53ffc7016dd994a797947d3af6b5f798ab07217ae0381c7d92e254ccf003a786d971a1ab7183a46e2f3f7aca70ae645b735d3e0f05ad4704fd18b8c52cec1c4f873bfe5df169ef946483ad80580f26d49cb8f1dc2d583e9059865369e285cf80736401ab75dea4269a58e362c073890e6a63b0643ad774e91b54072c3896d21eadf1435632416c204693e7e79fad4e6bf8f60c123c9e5e422fc3da174f448e0ad094f820515109ee9f547731d1d112f8975902cb47bc951d311d269b6171811c21c01479038a44fb8d2c6d53aaa057a3292dfc58288c11532c9714df3f56bc5910217103598edb356b5255455d437221a59e34448f7921dbd46646e1b779494a58f63031b418c5b4f6278f231a8ddd406731496b872a3ce18529f740ddbf6f70c3c9ec31c4ccfdd15c59edbff03352d9190c162f209b97b09561b5becb9b91d5a6fab6680672ddbb835147168bf609a0766321d2d102b3d2c7effb4cdc5ec339d055d6beafda9750551f2e45766b95d161517792d3fb2fbfefb036845de9011e76a1c0bf065319d459a11ada0b7e88845901dbc65294f78c3c00a98faa9c054f73b68c95450600fabec4f23a325219a0c50d4294c87ac71cf20eee449d68669b16a604cfe38819c317858ba232a83af1373de70a918eee35b17b2c6e92c886bb663437e29f00f90385e9e3c8f34ecdb4f36425c6e9b32b5e46fea448255fa5595465d9eb823d3a1440e2f5a8589c24a10c757aca7a2877fa5605f1ce083c14f33a20bef96ba8ccc299edee2716c3853764826a9c7ebef1c9da6fc1860cf534d32532cf941733c923dfa704aa323ff991ec7a141cf94dea8e9267adc37062dc6df4eedfb7ffd2408d4cb46edd47e2a1eaa2b7eebc3c0348e3fe2fd21bfc87ed89f5ca1e8149fb29b66e0783dbe22a87a75a1058acbb2cffefcbde60729342bd11c5767cde7c7f575173251c40a4502fbdca08beca3a5099507600d2c81dbbc3ce38d61499da7e8712770ebb11e0c9bd82972d95676110b48b2274209fee92e5e39cea62a74e3b7e6ebcd9cb8a8b66b31932693921c2a399abb96843fea921c66bc6f8c7239adf03909f424081277a0816da8037dd03244119ae361e45330bad31cc6beaf2d6ee469b12a3b41312ad6a82e0b42bcdf3ed2084e512fa9a4fca8dd9047c639542fab57c23a66ff77c5f1c046b137ec793c23ca806e2fb29aff4f990f303f930c23ca52981031fffde917cd26f59fa3f7dd92ce947abbfc6fe4763ca14fb1055bd1dead17d35a92898ce12857982ac4777517783d5f0cdc4b9cc470c7a24a11864e27da64db98fd6a8e4dbc8d276acc2d2fd25f3b1fdf6ac8c6a4242b4bcf3ea1b5b6ae6b1dea0fcf333dabb4009b47e7a7b304fde60773c5804063ec430fc9d8e3c2df4c02e94e088da2c8409ea6f8f0dc0bf1cfe29e297a6028accb5ec257151a818ce57d107db94de5f7b1b3a1bad5dd86e8f06bb771cb84454444e5a3f315504aaad60e8c96bcdf3b2f51257585d4d4ec26f3881e3a4799a0c462a46f8758dd05713dfd367f016b922e4be658409f7c27fd8207fd0c2dfd5dd671af208b3def4a311a09fddaa0070445ef7543b0f7538d76a8b2aaf58b657e7b9c05171dc66fd9f43d59f90f82f3130d92aaae549366e695f8a63e47a3bffab731107ec33ffc9e6f324518399c989b3d8e922fdd9ae81c9aad982636a7d52c30acde917688f8012cfffec538eb09740d275e58cc15535f32254c7a22b94091ce979bfe20e6b6cae3221c27e24a8f478fe681d8c36341e3269e3798aac6ea677535a12a9e63520e457d89dbb8f29768e92b938587f2e710b0c4c0f9b247a9d90b259ca40d25ba4b3ea009752a326aedc3eb91911052888b481afa31926ec93b531d32481a6f95646d5cc3ecc300c443356533988cb52c69c001f139c8e9975fffe713e5f6bb5268670fe753e411840cc50b1c58975bfd89c812e8ea3eb401109a52c504d221623395b3f7be2a426d3ddf3d008f1d7c300fb2a66a2f04a5c51eac3183ad8b175c0cebef973894b306dcf75a81c6bb8d16f96cbda778dfad452b72363cbc222366809cc49147a686a5e5a8456edf02f241145a9aebc557782662fe386749276724b463bcbb48f0fb34863291d76d061908a59aa4049c7cbe56ab45748bd366537af7aa4d7348c08cc57dee5c300ae2661531ccdeaa41ee85d3747da2c206f9ccdb6c01e905618b356f243dad1d4c651cc7b84e00e272928cf9a9efa1ab9de68ab399bb967707911477a1ee22ca2c16966d8bdb061ec7c16ee37ca1c4981180ff496d3dc7c8c096ed0d5fd2f47e497c908226370f60521acb63c5480e6b80a93c7ff1c64f625ca4702469a342be2e3ac9158a14706a31f2a703a9fec308b6d5f59e9d8fb2ea7b7c73121ca216836f8e369e1a73d206f5900d2664d5ea4a21a946325b74ed8f8c010985a9de2be0e558d36524904f1040c40137b54b67e0724b08792d3560c68efcb79226551a851d8470e0cfb8200186e04321c3b672764a9fc3b16e5c6a31b773d3e64c77d30369aadfbbe116de7693c6b6150f7588a1a16f56381920b63d9c1f4b96e23d64ef4afd5e490a4e4d5f3f499ab489246ad6d3a12d2254495e278b4d982e073ff73a91dccf9507a89c86c00b611a2c050f2fc1f6e8e26ce4359eae661edbe936367a497a98176f91622459a69b2494af63220b5409675c25086f7a760016210004334479e5ab0cb2868729bd1db6283683fb4bc0bc76ec26b13a8db70fbc9eb8c1db907fda447a1411812712b13f2b04a919d5ca78f40d1d95b9fec8bc4096fabebfa8622ff069d6381455c0070c8b441a89a0865137856f6d8335dd9aaa08dce0c68c1686e78df9b95839add6d63e2616916e8b13cd113563132965b728b7ee027bd20b5be2bf1d0e02896716342bbe4e73e7809cf6f0f939480401e44b20e99a1717039a5dff00ae76c8d0e16bd3fe1c7c41d13c651d915326b73e64dcccacfc30a9c45e1b8dd71e32afaf7748cec9da6f36632266e48d08b561bee4f2199d962ecd78d98bafc23d1167006a078e074d1c9a73ffee48518c66a9f4452303e7f3ae25d6c1ecfde16ef36a072e9c4802844d9271885c301b599a173c3e1ceb8734faa0aa0397e79c132e92268c4449ef92da244dcc9127445423aa2a34c92053e9fbe3101f7b6ce2000dc3c653c29df7e837d0a4ffd017d668f3db4466575738de61aabbf4a8da90e973b9196a9db230778a6aa56edf208e2692a87d57a1a73d10eebdd2361bbad1e73c11bbe5dd50c974cf7492bb4746e646aaee5f5456630efcabb0d2357333e37e0c81682aaf80fa6dbd17d24e296d63ed18414b6ce71bdd857baada4b99634a56135c651fc08c49c31a19093417883c7505249f02c9256e823e8a8aaae5cb164d106c1b6b53417157f761a5fc2dd062720e55f1a5222e0934d4b09469d17d455a6d9473f058dd988b0e89fcc28f4f2ebe092c2bf997eb549fc78a54f053baabb781f4969bc926e4fa4942a8c0125d2a976420058d5aba3bcd663d21a2bd0d38a82d6a748f08e4c97575425a53d7cbb42682eac61d70a9ed3e7e629b760f121f36fcbf347a38e5ac6d9790d69492c93e078839783c8ee728b145541c868ff1f8a34af1343af05224e58766d3841d674c27f12f3b340410204abe35b423e6ea45d673d3e022e4b7861f3e0e5ffa40727a28209b26bc83f67965d4a27ce431c5da96834b20c3f055951c1d35ec92050f8eec30fade6a65f409fb94f4f4795e34ceafb397dc8d16ada4330076dc32adb8741b154f9b252130d5452153c1c641f5bd4608974f4c65cdd08424d846dae4c32ed84d7946a6a2e0df28e43f97970501861f90c93eb74dbcb8ab3aecd1f3323826390498b50eb6e4515f926ed4d2285d7b765a9b570c44f0bf4534676004435f74cf04ef50f0f3fe1abbb71f974a9894d2f0c63251d303c3ac3ce3e8c58fc51d08643f52a03d3926230ebf337fa3c5f06656910182e96c5a4b2e842ccbe0478f8a6dd67d4215d72ffb77798a2d0c25ccf1ece088b080e3ac1f95b5f53705a5a267df63a9190a6cbe3c952cef4cd67473c776cf36c7003f1373b946427bf275027f5140209739f9751ca7ab39959e1063f6c90f6ce7ef1ba1c0dd2b0adc03fd933ff222ca5ce301c812bf21b1bd31dbf9b267e3344003fda0e575bfa38171ad8ee1b3c83868a14fd297bb5c5df0b435cac62326a3dbb54bbbd9b98cdb5a3190e22d60a820e9135d0bc5cdc1012794413e885dbc33fe3178e3ea7bdb080ee267c2e43ab83a5aaf47fa886af386428cc62aa65a584f35338ead341d9c3dcf0ea8858ee9f67b549553cbff78afae5176616dbfbfdc3753c28199f0c819980cbfcb25e466d1144a3eb1e0b06898c35e98193ec0c1b0322f1b4f49375fae82db9bfe96bdcde25f87fa9b4c96466c929117c3f62aa811da93508cdc30e35be79912f9b1e50bebb9482933151763062b9c219c9f438a11d35c76ef642c49dfaf676e2dd70275c752cbdf35e0fca4d9609d2f6d77da09d5aeaee3bacc5a340cedfe9af9bb33b3628229f6441c3ca8073a5898844dfb74ed05c58b5a2192270f7536acafec3479b1aaa2c93b50b458efa47af80d217f1b17ca83ad7017ed2c9cec01bc435fb9aba5777f00a5d01bc01d5e60d28970d03b41c4e4bfff490b4fb0459a301c1ec940894165eec4a0c7f9ccf8f939e0e5320030dc83b3fb0a3f7fefb974a28e1c91d53f446ea46f32b432bd11b7ddf2434d6944b2dc0b55a1ad3808432368cdafd63ff3a74ecc118187a6bd704481f2ba7e8c2b4a9ed14b5ee51d5ddfd4578690bcd7998019c2ed33381f470ce83909b07bdcbdf1cbc7eb9e59115a771cd3272e4ab9b56ecc799a8f50452742c707d18d549f3a629baf48496beaa2c78bd085d9dcc1e02f4ae8fc5ef909499abac74041c13a99e2f8581daf1db4b9ce9eec68585604ef8c712da0760fdde88cede6e8e4198cd8cb9a908b595635ec7dac2fccea1a2119d444155536b62b836aed1c79ad7c9950a9ed930ddfd1815cbad9d257910a016cd3f1d63c7b86a1d07282e71f6256593851172cf460075f6386ee8576d7829622fd31a23f237b82e3b4888966221f06b50aebdc73a5f3b2adbe3bfb17839bf1b1d0a268ae3a1be9bca78898ab6202048a17641660e783cf10f6a59a81ebd216f8c780b1f82bc62df4666c1e63ff67611c39b9dfd8ad9b7e929116f3ced2195da291cbf23e04e48e553b15cd2db1cacbb56742e02f16b50550072ca7a8bf0d01d7748929f01d0d65ae73f3ab6d70af5e866a4a2b26cba1a561543fb09cb80204a49d380e99aa4a4b42ece7446f6bb6e6671c7bd2aad658e7955330b2a155e271a416c0fc1992beb416b210a89246b6aa05cbdb8ea7721974a9147f146893567a67de66d5e152ed4f8168dfaa3947f7c12c6c7ca40da5ac629253ad05a5e74e406e2befda308ba78b443078fd86043d146d65ef727e9e468d389dd6af9239f7f31fae45b7c25abbf92d11fae4e71fb081d285c054dd6ae88b068ce2d2a20f195c71a0028256d428f23472af18c0fbf53a0b31e5d8375eaee2af1dbe628c2a119dba3795693cb5291c17c201b899d2f935da961a091bcc080f651b34cde15ed44ee5af07c1e7ec0dff5f91b6b09d8d5a2cb5c8b3ee219974f7d72a56db10ab73f7e979ac5ba2ef4a1d0bbd30e4b34cff8f5e997a32b231ac9d4d8e2b8e157024becf16ef412307849630fa933a65f53a91d0d166580468a88be3e1bd3cd895e5692ed85e23f086115bda9f9687f956db18c2aadfe7ebe3f202d90dfd3eac83c375d23bc72801ad90dde9da852391ab9e8ac1f7fa8c01ca5e5a6f350a922b5e643a3ac988c3cfef0f8a7da74aed2979a70285ff4b046f802161b7eaa4ce0682b1f82af5017dcbcad116a7fbc9d4e03cc30064cacba11d15fdb695330b18c19a93c29d940163b77b919aa4eceafedc22e03d4e9baf8a072fb3982ed34238570dd92a4","isRememberEnabled":true,"rememberDurationInDays":120,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
