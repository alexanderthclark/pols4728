<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"961e3b1b456158d32ef48a477a1c2178347954c961734045d8e18018233bdf2262f8926e2d81d5008528f6e6753e87731b5850a5210c913c4a88ebbc4206c0dfaa85e3603ec53aaba60e764d705ae14b3d3d112824addaa65893a7e8b6b228d32276e1d16a3e3542235a890d3e61a77b2f81e528520bba60cf1f532f12189fe59f00aa75551cc1ab01beb295473cd028a059923a2313ee1958184e0affb7becedb7fb1109ae84bda5b53729f92a4740eae073c763b331ee37fa7e67b0c64834029a2a5ab4f41970471075cd972425c8368205372a99f38dbf93c089b3a7e82b03cabb64a57352815aa4a1cabf54a0fbf19ce9ee7a2b119a8023cc36352b03d2678b0148d53f6aff629a0794139276c01a8e2392583b90019d6624a7f378997f7248028f1888ef9d0f079a514a161617701ea307e8a470f770ff50e2aa80c5141f46ad20506ef6ed979409052b9bdb55306c4123599734eade9253793834f21f8924a9a7b0b33e8256ae12647618c4a6e8fadb83f108bba1772a9db78d0cd397300c09354677e8bcee9968a63e8c7f18300ee73bb328ed00746c7a5814d00b398c28035b381502c38d0b7337d04fd932407c508905d502db4ad6dfece24191644b5ca4aae5d22141f7f2634d8548b5e1b4ace0965d8f4d40e1794213be10c2bc19195f4570198b98abdb5b428cc0fc95eac409dc93a30981a2f87d89ca81b9d1bb159960ea5dbad73f6c02f10c0f30caa04d0fbf1bc7ef7365a74d83358e752f84a6e52bd008ae599cc4ccbc9db447f45ac6f680248c70ade09995af49d14676f7701dc30483516d6db4a086ada5b08e8003eefcabe8a89a3a6ab037c36612685129fbbde20d7bde7eec50f9abfa2efb55450c669667445a958969864752880e6251d7b21a868a13f97c84291cfbd4a28a6c002b2a82295287fe758db26d46873c716ea3444a191195ae72f15ed3ee4db2a80a630a00cf8c7ff840afb724c38f6909aa56c374750820f2d6503e912c2dc2af9b90b7883ee4316562616f8ed76f8aff323f7ead97a2cd187416e6d5d839443ee8df26103d1f4303013b6ed0d334489fafb90ae7c108debe04e2c9afca1a63930dc86ca6de9ca1c95284d2f5fd9381275ed09713f0fbece41f6b823c86b406979b2ce0693313f8e2d025de00a883a56a8737293d6009b4e67ac0f2f5f2f58858c6ae4bb17cb2040c46a4d3800840f11032dafcb14d9c8916699d6439cc4c57ebc367248925aa77db86456523e17f11848eb80284ad50b84e4e70815c72ae74ba11af730aeffc63588876298111972d82eb6edf8e1a52973e3d3975c3970bcb0d16207caf8c34b7fe3f4f6f6104d9aa8b86d181804f120129238db801124a5d22b7e4a213d2190c5272b01a1fe091c8071cead7e34e8e920c498f19f9434e02aba8dae8cda1de236eeac8c3a028eb64a69fc5fd0ff58e1ba034edcf94af0b3ff905dc41d1feef73d94ce076972c6cdd808304f37cc9aa23f34bc5d373a4092ba27648cac88a5c8cad095d3e53ac7ee72b43efba7cf6c8d156799f514b77792b2f3d9174c383c74f333dc763d334ec4029a89f4b85bd403e984600e464aea256739012864e7010437f939f1e7027ab17a53eadc003c9f7ffdf5f4b77c475d03336ffd7bca00beb2eebfd5c5b40dd84cb6025be681121118f6466ca0d0824d8eb88e7bf01365fd74eb124b9405809ebbf79c78a0327353ef1dd005196ad518cd3508b2fdc85b0ebb4ef497173215575d30d911ff9c7e69b123e29918a98221094942c608ead2a1d916b3ae5e06ee41ebf308a98799164ce92d49d637febfe782a03b326c2eb875ab0e0cc9c059f06f28f05ba23697930c4e4bdf9b55333a891d90a176bbee390b2d3e2a31951752622dd931b41b002ef41a05d0d73cf94701a284d1885565b709915045bbaaad1e5611b5c623c48de8e0554208bd7a46c31dd4913e74ccdbb760d4f1cf6147beab5d20edd63bc34d41f31b1161146c862d0826f2a323a7174fb9dec60ff8c88c8c381b67f1ba6cb2c084b12f730be66511f3504e67b7a2cd13283e7fe46e6e675de759de851734623878cc130ad1dd2cd6990b12806c5fb01419a6b0d30f3e8c6a16984553e19ae19bd55b25a1eeefb46f891f3a1dd1e22973a4d75202c142b5e8219c9c596092fd152e0e10b40d3fdc298a186908cd02ef863b7f64b5a80a17cd49809652d3ef55a89a3a28289554df952cce5d3c320bee447705138bdefb73639d1ff0f38854b88e9f5f97ecd543f857cf0bb2a48754b45b2b6b77c6a26f43c160fe9eb3f462d545b577e2f294914b861671e6c85c3f9e3bd237da833c585350c341daad2721484ce710115022177159595a94f16a8490ca247c535c41918f699c5b1f37feba3d5a0eaa2e147017f6bdf51dad7ff883d6a2f3b311a512c65c41bba38874945c9c9d6c1ecc288bf470d8a1016d95400155756fcf6ffea663585874703e9375baa6a0888e07ac3f24013ca2a975688ebd2980b6081cce25c649b5d194fe1d5e00e45669a369d2c49517dd97592f74ca562943d7596d43743a67ee040ebe227f6328fd9efdd097552a85403ffe511511ed1a948957b94202a516258d57427836d0ddd3912b33b51c2aa27920f1c5295d45641289e2078a04f03a22eb6c0bdee00de9ff36f3abce7cfd5bc3b9a4d7d2b18ab2db4db3466bf4876e596702b85eec8045a86a98777938e6821d6a7d7474ec9e208ef22ce27709e45b5a2c60d53d43c3b668fdd445afc8568761b9374e2a4d8839cff9a1ccee35c5edd3033097d74d4ba1879f99a507bf34b768c6e17fd02709597354200e71d2b24acf13f76a1f40cd34dee7676fc6e4984dfed9e3ca25da20b1aa63c0d751f03f4dc8a1af6a0d99df967504b6a2826739250f571753a1c981e0f7d5b854f27695630909e6d1838ed691ec6a5dfdd004ba9ed5db38065f42cbf75537adaad0c5277a08aaf27069d660575d43d2d790484e45a454295ca436b00cc75af8954832225feaeccad2f4c00a5fc1d59f1c48949f61653d46c590e887eb36e7684d5f12b48b9ac756c2dfe9be1365b3b3e973452fa248b8e701d858570ac3c2a8bd015b24edd0183dce1dd9646007f7f0ab0a6b116efce61cef32d5440e3a83959ae8e4baf5ee058189e35032c7251b093029c264797a936a25b6dbed5c183034a3c09a255531c3082a8c847618610c3e35aa14a017b999128639caf33bf35530c3b786e1325a247fb48cf6398eccf91eb9bf15246f2f5f4f68cc3246e125eb0f269244ea0572d07a3590e50ebfa590acebd2c4f196f568623d686100e486d4bad918c55fc1a07dd3322efb41b3b1499a369cbe5e85222bb880ec58e5a17069030582357b8822af30e1e0f0fd3b987624536a1e818f0ca162a49a28026e2b298bd5793245af1bdfdcad8f42a985bc669a3cfa19a2ebd31a2484ee23ad1988bdfe515f00f01b54cdf41d84f154397eb954de1ad6660d9b480dafb3b03be5da917d14fc549e4a7ae07b6e659bdecc30761abfda7b816f3e2441e04c795ae4e9d63b62643cd3531a9a65691a00451197424a76369ee1c28e200064e54507d8950192141ec20b9979c95185cd799a4a5e74e55d3899381b050913b0d3a00ec7dd30d47deec33c194c851bae4190683f20798ec773175010ba4218cc81ca7c7d1c90fa0da0747cd69916165081e3be3d14b811380526000ed132ad9065c73e8579a8d3c79643d47c188e021ccaa9d48363e354a430296c3124ff7f3c95a24c6d4ab6578fc0a070159a0a8126978b0a4c3c4b25bd1343ba2818333f8ced32bb3f1a7eea354d754bf3f34cdb837b2384fca4e91b5d8037a4aac080a5b6d6d1216304b1e0148e8d9a451820c2c33df0cfe35aa98316acf07294b507be9398d6954276560cd15f02e15985ae7e3d7470f3f10e691e9a1551aefeb5b50fb892b52c7b3918cdd302541a8cb7d0e6e5faab21182b035820f9a6949e489478286724aa7fef33d0f0115b9baabca92ac97b9ae14f91ba99912a619729b427527c3601827b22b570dc27ea94d0b8b547ce5cf9feb2ff591499cce825ab85bea4335e43b17d23670f2bdae064ec0b5b860e5858dca2fc8aa33955f754679c4ab356e53b9fbd030b272911f89b9b93a9612c9432168fd567e98aa43a6e9b06cf96cd8043f72495362e243530c7ecf460f75747c424f3a5f8c8d85274e90b0b7beec74c3e288f0c5a2a38ba1e0c5455a1cb6ec86c5ae792b060f7ead6081fc20e8ba3d0952f3330394b7704060f5b2c7bb0de5d4e654e5819785b9eed6307dcb009c3faef9c4e26ae36e1fad883101b6ab0b4c8c429f6fb5f0482bf3d57061599ee4eb07ddc37363ba2648f85c8e8e3470a3cc54ae61f543e0d576bcbaa24e288cedebcc59cd8eea52dd6f489d65030f377ab1c640904dd34284d8c06a8e9c446dc763b2823b83b1cc6586349beef3384c36f72ccd24f502bd937c84165fed3143977952823577280473d5f876531a062c7c6a9e4270ab586ebbcb6271b5e9015d176c65b394ab594eb3c3dd9c0fdb232431ea4019c843de9a7dd2bde1cff405178968d137ff2371e7486159f414f3fcf03aa4b099c57619a78e3fe3ba4100044639f60e09cc5ac4f0c53dc4949203fdf0f3c9244ccfd11885a036258e6ab02d534f1f92d7483735c458fa65ebdd48565623294a8bef82a3114844c30688cf694362b553a51a3c62f30f7acc64ed38d77b2c10e9367f626b74c9a3d1ca01051814959e95c4ad2fda09ab8644eb6f37f8eb0afbd06471bea87c8ffaac818ffaab64ca168ce9a7e85c678169cff356a39f597b228e8b114c8d6b21a58c39a1880dab33e87f758904bc2000e0f5d95446b356b74dbc8ca4ea8a876c8edc5d247c9ad61872c2529e7c34e7a11c26dec2821abedc03b5596adbcaf40d352cab3e5e705633c3a30168603d806733fd174341f120bcd8c871aa050baf1aebf1aec842737c2798bc81a4eb1f517651b61114431c455c67d1121ce14cd6bef8d06e6eceb6ed3436bd9110385f2b4d0db4d5ed3b82b8bc814022046f7f28a05146df1caec79959d35597f82aff6c826848e3154d585c0c6ec9b1fe6f5eeb0f3b84fe37be1af13f6331a36aa64d1dcf36b71a56b246d7fb721a6f7987246a7d124c321ef12e55bdd0cae48c028b55b40a96db7241e46849775291b704d1987e1b430464264c2f1e62f2f651f4f8dd707a0716d6f364f0985ee46aaf18864df2f8821b481d6f463e6f4b087d735c7af0a7570cc7f5e0264ae7a1658f539d6b324ec8c53aef25c09a3f95218b76efe4be7406625d46c7b6c9aee82cbb2454710106f09989ef460ff88b6247d9910d815f551ceb8f03bc2b377977086069c1021b3e0a3cb4cc49848679fc84dd828f6221e658077bcda68754eb2febbb7729f132a9c37b8ffefb00b4194e5b20657d838c36af721ddd90d275b4612a122958337253e4b0e78b15bb0a240875cfd7a396ff46605558f3bf617d3e26ea21ab4ca4ea5cd16fa30544219f3a175f2d6beb1e2d7aef8159d3442d97b19145820438bad6bca15aa2d922d15b8baa73df39ddd14c93c0f31f94399dd2a0da2c173566441ba871ace34bf266ab34e3ecc75d72e858bf9ec96c49023fab95d6ac10677ed41ee62e815971882e5db995b1fbba99bdd5e777df312b9b2f330bb863fbf63845ca90d583dabb78499ff07d3fe7931d24e70d3f7e4b52a896a04312c173b18bbdde02a0cbb5e2fb68342a9ccf42ba0df5dac5eb070d8aa4b8b3823bac5c469ce6be783844f02c496a78eb7db8906078c53f8ad648c75adaa74e84f47b90459ff288934dac814d70084dc5463a0192ab8fc771b713fab4de367ba8cdcbad341ec8d9ead84a408e3fed0d16609a57e38ccb8cb433970353e67c3e399b63a7f930c55abd1acaee2e88e687877d863148a5d607aa51e6c8bcdcd6a0c564c8ed8249a556a220354591ad9e8a8d03e99e028f211968d9d3485702c0edd4179643bb6d8b7bf2df5c8fd113a4d9e9e44e6bab60d2047a286171cb1f7ddddf927295895f45ba57d665155dacefd51d18bf7a9c445d34588da91eca8e090d18a2bd51b4fe4f7d89df675ff00c5ad3cb9984a858a0c701befdff9d8d3c2dd9f827e8c0d7ed4c8cd09ff0f766529e64a61c35383bd552c8c75116c5e4ea770dd6ddf5e2fa83c4eca3015445175d2e01fdf0170a679d7ee2913520901a7200f8b95c5b6517a609cc5c7740029699c5ada381907ce739e22c67b5265756126ef25a4cf4e8187e42ddd3d432d770e40574299014b968ed6f32509cf5d93f66ee09ce3c1abb3b46f1858b4b1d246d638c8568f0ec2ba027d866c96ebf583b438c71d9b976785c3eb1c0fdf370bb3caba79dda758582a47298327c1a1e3ad08aa47a263ef13a56c852ddad92e2c582b0d1c859cff3132c34731d6e7354b67b3a4b84474baeb4da9f2aa2dba54bd7e5e8e9e6b81b39210a45c9b68ed89e238325a342156999cdc4a3f780b67d2e6113abc04eedd7d321aadf4a48e1995066cc7756b9e24baf14b64716af4b7c1203e50a3ce2978f0d370ba4a81091af40f06ddc12e5466935c180473bb5ea3052cf446a959b151049c6d332cc76f811ddf80db0a4087bb220327193b4d51c2350d576cafaecc54b44f287b5cef896d49f6a47f156cbf4e66b2a78910b0546a95a299de43df82d66729e4c25c9bfd563b6ed64a931a4a7b51ac2553ad30d040a3fcb00ffc1c7e7088a48b6a76d867da4f590f1b2328ac42f7f55f60d5b992874047196f11bf51490f6e0471586e838c25c8c4c700355a66e777a1bffee1faeddb7e1261f971febcc9fa47f3ce8ed80e478e7b680f837bfd6b67281ed24a9f10619885052d81e76b82a1e2df54ccceb577e4419b58b50585d06b221612605454b9fccf90202a853340282371c2018a94383c2a0c2c7142014da9fb1c33c4b9969082bb8a085bba6aa92161a9957083a1d2036243d6e21592814102087e26fd2ee84e080105d6fbd967570a7eee4225b0ad81910ffaf2c7c574d569012dff516b3d4178cabbcae69fc43920e56e7f3be1a067aede9d97fa744e39e7e474122b8156b455a7ecec18b4cbc7ccb10756c5875166197ea60bbb496fd481c5b4d0571fd9700ee9ab152e14ebb340fe75a99eef42ee9de01f3e56729a38bdf8f9606771935e486773d542ab0162f0dbb5d548b0f93e27055837d839902831325baec380804a75ab4cace679198bc5bf4fec9b236d10a30c66eeb7a921016b63d019f43a54381657ee29b281c59dee7c13189d81c571d168c4d14543693f87a5c41b45f83b10d9da10277416ce62ce7e27fbcb95473e4105e10a669719c849fe7ecf44f4ade7fe390204e6a99d9eb64c1dea5d920eca27ca3212c9a2a8aa44ec9a4de1f6e2f0ca8ea002ffacbbfba2500dbd9e54d8e960d03ea49b54c7f18670e6eb7133a9674cc0a6694fa1861098206ffbc7ba3741e4a178bc667bf2a0949a5224bc38d183fce32aca969979aa36c9502bfa75a0e88021dcb7632705f006fedc76d10dec50f943ccee51235c4c9d4874339f78cc649c57ea61d83fb9385a608f21fc859ed448e61b3a9acf9971d53ae2d9f7ace543f8f693a0f245939486acb99d3491586c3c1155cad8f9b99b126db4b5792c8523cd70ca6deeefb71cd3572bece1c568a7797a11fbf6081582060c39d512589a02a87a91b628c6802e0b92ec7fe3bcb45d1cfcfad846c9d849a113726929c2d1a30065c646ab4d3fd64d8388bb2ce7748990f627b7314815f29de1e1a1014167e5fad26d715b80515d76f43035e8578c64a3122550ac6697bf6275e05191a7a8bb0a77f9941fcc19f3ecf6052344880f4e12e35051aec0aff9c42cd3c82229d712168f64d117cf9eeb414b2deb912cf1adddc5b15dc2b8048d32da5af5dd5d9e40e0f3895ca2731d961418c61baf5a2fc78283914a48c17cf8e650843694a8fb2811a17b6fb353e36c6da14743e48677c1e4d028bb20bab39100a72af2c93a646aacdaa99f925c56b539a819f1fae2d51038bb9a87b2e8eed349c731747a34a80f5537c870a146c8f180cfffa7da08975a4194ffd8089665b37e8d7de603435914239514f8b0d358efa26ffa10a49a89933c76416207da3006d91c6bff23b2e40e4870c6c514b5efab959515f5491ca4b781111c937fca891ff7fc96692ec96bde5162a1a12df1f2ae6cfa74e333a5d5fff146160bc6acf7c6a13581448d2b1910c250bb57336c0f0abdb11825b6c117dcd5511e1edd26749e145fb512312ed5cb544647c7a927cd6a20eaee6dcfc36325aa2e81bf06842f8ef81f98ae38875e043dafc0f774d30750a8cedce6191c96e7b6fbd32f69f113a20ef749757e32b89d74c62c116e84b5341f9852fa12ac3a59349b98ecdc8d272c0266ee9be26feec37ffe7e22f7d8b89f8d630558ca5a411befe99fa26bee19ace45dc2518c4afbef2620540a0cd46839f26a33756d24632bab1ac9cb0dcedaaa4d5f64fd8889dcce83cdc15736bf57c99a056a9a6fa6c7507921323dd4bfd9e47bbf7053be43c5cd909d5fa15efa7890fa925fdca02c323663bb1ff8a59f4d2ed42c2bcee9ac2187ae569ad17b108a0c0f56147b09ce0b0f14d8f94ff8b81474d74ca86cd6fa112854cd8fcd29d1a0fa29f497888606d43d3a8d208de94852727fc1ad6530cac59ee748a85ed921f2df7d91dc79800ffa0465d99761a54a2d42c2f2a6cf632dd70e60ca749bb2d886bb7d89c40ab1a87c8ce365d0979917d2f394ac2e9835c1dc357603456dae5a6be120239320a5149fee4d27911520094f51b7985841ec960cf47cdee532c92c4b68849f632eedfbeb0006791c911c3231c2eb9ec8684f286f0bd5d1259e2d46b1cff7fd5815df5b11d87370abbf2f953e01020c8a2805893544cc5509da240fc486ac964d71a72027ff800c09370e29db362e77c02ce0d343a117a53007b20d684b34bda53d467e497dcaf2d56643400bf90db3ae1f76f826448cdab1b27b0cb0bb67338cff1a68d23c8f2864de66f3d82be3ec303256ee83c4d50733248e620d57f39bbb9a2e9770e03986b8498776012a04b8bb94bdbd3daeccae34d57fa6916b23967e3f9f7ad3a8a0f1b089714c1e7a330485e2524299c5647a93dc82665e7a3f953184968ae4dc1cf0dd53345375606a00356089744f01266e876bb785aa8612d77d915682691e6b66661f3b0587b25cf4efb7ec721e52d62185335cad071770dc3ec64cc40e8d24aad28ab08c0a2e50d4937443a57529183c8afddb326f207bac0ac4c5a9a08d5c3467c14c95de401defad8a6da7ee8f451ddb34b80868417bf6f31b8d8c25eaf71b3bb3699602c005c1ed2e3b957bc93f54e4f7ef4e8ce9be98c521f3f46b91526915d9e10f3cca31ff5463655492cac449d31182baea37e5212981836f3d1574eac820db0f5b79665f0468e719fecbe57b4d7b41da75b27609171f2035adfde596ab3135c09ac410e8c1ae7e18994310b92fd8100a771b1a1b3c8908c10cf5e542e310ed5bac2269b104c8ba1dd959a2de5ccdcd12a712afe44b5a7d2fab1367cd41d62657cb4ff0beaf2de2ab13c754ac38c9401d24b02782c1aff7bd6da2a1ec1e379d985755a2202a2982e5791d3ea75610d836c7593b351caa4f9c7445fb568a7f04ef2a259f74125042172e25985631f0e540fba383cbab730ad795bb404ef4177d1509234ab74e6e906fd3600c87cf412b29222e6d2a1bcea07c855e2eeada7e776ae750365771a415d578cf93d6bfec23ab7621256fa3218fdcaa0377bcdc337d14c8372c16bdb02989a498ccfa7044320b63fff61fb4a8b76f8284ac7b28650838d1d8b7b36db7dbec3df0ac7e55e249a8df6ab1a53b153f56aa7f9af4a0d677fc5aabaf7e00062185010726a93bae3b48f8c9e961494fb349045bdc023a60000882599da3b9db19ec6fb1d903d1be9fd0a0b016026cfb672f089a814790377c977afb7a5aebacae14063621f5b6b1d68b3107d1e7b58be61acaf61bf237f2486306ded3eee919a01f4412914dafe3e4361081edcc86d3003519b642ef1d11090e8a69d8c0a7ff4de5e4af5f19c36693c393bb0dd0bc4ea5ab2b8ff82d1394f47cfe86a86d288b5352bc9b0f44cd3dc60bfedc40eb25290d08483c40cbe0016c295472f7bdb4e997977ac24e4902b44340e9fe4fe10e2f66e26d20dedfc162fd0829cee43e2ca50957b67ee08078aef10ff2646cc6dc36f87d5654fce71aa8c7282c621cc948e8d3e49a41352bc05615a84e3a3ba8487d932d7f147b5ac9cc2142d6cdaeafca6c68aeda35d156d99ae38c171fcec2c784477a14b929f7a8b20e46869f2943312474c7a7b94e6215e8876bbcc6e2e6f7997d360abc4262dcb7f7fbb41f03b314e3d4c030673b8b2ed9637bcc0a7caec23b905ddd0726d6ac3e167df2a89484038d54fba4fc878bb9cb35757b47c5e454f9d0f04777b11001b666378fca6e52ca957aad51351492a060547eb4100e17f2d98d74dccdf2d241df3cb7e10a274471c6c1e64e12fbc66bb68651ee180a834be9518c4195c47fc111725177946db360a26e998e2aae6f1888dc0060963f620437fb9629062536856530c94cab87b8ea0c69bb80936cf215749db9ff0f42eb2fc1b767c42e4aeace8b741dff74636921efc85cd84f1f92629b91adc56346ce7ee03c056ce1dbf1e0e12c483a413f5d704c55a30e51c315254bc2248e89f0a891b22761760d4c181ba601ba2b94cdf6ca7f0232a6bad2491d5376f324bf65f32701c88e666ad535c965690bddfe4bf7cd1f8606610982c912bc94ae9f27ea210d5d4897d8e1cca56ea6e46207c483d9a0f9a68572d4c0d8e05cb3c1d9285b911a197ae58bc48a858556d3bdc110a42809320eaeddd497e1244adc9b598980a918478f1ae168a13aa9e2206534ded385cb4a11799c9285ce630ff516e720bd8e65c8e21f5e7d1238629240db3a68ffdcb5c623e8e8cf8524cc373ca6ffe0a834d9df55624b2da632a7112e610974973a6e78454062293513d37fc71add1b4d371f6e32b1f1507e2b40ffbc9a057f0c1e98f1ec5b801aaa9f04e57c1ff9004d6f8ef968aed26a6df99411d46c26c5be724595bdc2d2a1c1d20b14f2d19b3ebee22e52fd1c19bca593abedcb491891018337511eafbada61f3354b8d4f5e9de999748a09feb7a55e9eec0404258954499615f3bdbbe7dc1293fb03ded6fac3af1bdaec4c0d780ef2ff35dbcf38c1167c8a39537dbf94dd38385e7dc036de0404f169d543240bc064206944020ed6977f45c34a0bc6dc12ce99010729bad0659071f3f546222b344918760645b6bc0ce1e934a51458977b960fe0ba19a62e0796a300a2428e7fc57a3fa578270a3d963cb5c1879dda3cbd3d0f4382820931316e958012eee959ca96bc93b8d05ef7bb0ad2b53f4e39ca841f7d16098e0d54ce736a770cf309127a5f061db0987a58e9fc8a4b0b4985f46631ff4eebf48425d54ac1ec337f269e9630e58fca95a905ab52c008439d411e722cdcbfb289c348f6b4d0fb1d168fade145d8217f420fa35fb5b688cfe79cfa9bf987352630898371facf0f157ef3325232a64bcc10eb11919463a4358dd01ca0571d4a8e4c0bc967dbd2470c1c6cb4ed7da52c6ff9f6004c26d9c1de3be0b17111324d5a778297376068bca97889294db9f39047200a800d77ca921c0889c118247adfd4c2ddf23b911265c494168a4749a9b5b6a2b752fc84836420e184acaeddb5346bdbc78b87ef83c44f52e39e2125d375219953c59b2640fda404cffd8a1a70e619632dc17ee02a10f8e407ccff51d62f9f6f6a0ee60fc3c9cad133a9e409f1a9611958ae7a71f1e3e9ab25cf7f6ed3c6e282cebcbac0eb9f484b13c35bba12dd4aac5f6b10019ec44d1daeb237ac385ed354c2b92c7cb7b1086d8a0ae37f43e2cb29d126ba3da64749bcd3ae92429cedf4f03b0d9301e6b96322cdf6cc6a35856aa3d2715f02f92aa8686db638443835b71c85f20367b9538400b19d1c98f384284c42d4c9cc873e77b4a7635a0f10d107c69812a26168c9215881ff5932341e5c33e0e096c84d0db898c9dfbd7d014cc297006c0bc2c19e024476ea495bc870fd2b73e624390edb1772d9dc0bb7346147628c04453520ba2e994b1a981e670c9c90bdba5588cb3ad31f8b0021dae1d93b2768970ceee216e87e6f8335a14f1374eefa22101edaa367b25ba2e198d2385a02a5efe79e9da2ea3247c7d195d947e4fd87dc73ca85de675af48fc39c60b61360b25abb8caf07157e760d12f06d135a23e6c0d629c4ace6106c18f56868277d2220ed737ad2cb85a2ffcaf376d422e84768f4b46db6762e9c13c0af434e303513727cf1969a87a97e58d06dc7a75cb3787f5f100ab04d1972855b65a4d6f41f24dfac34ac1f276acba930a16096f9085e8170322a161462ff5b0b6915e991b15ab3a698c69be66ec6840097d9ee6541745a28a56abe2da95aa83822e9b5c3029458c40c0f98e269a5c78ede311cb23b58d951bf89c67ecc17a420c85bcbff9832ff2ab6434858731919d2d4c9da818c24c5b60865da29bc1c704fbaf9e3463320f99f2c77f5cd84774415613fe4c58e51296c4f1bcb7326d76b22b0389bc883bacdc9fee9354ded8dc4163e0c9a59ec236e7ee35283f5afce225f7ddbf2b55b59a6843440ffe3eef2d839fc519d8ccf660f2d0bcc6d12468353ab368c004b563bb590f84dcc4ea71031ddcc7c01f37595f8d991a2f78a1e8b6d28b0f515b8e69c02dafc2eae086c8bdf72ff4479b1ce871a56a361ec5b76d344394e5dfa793235a6a4df2fae53d96667eea34ca91ab63bc87fc01ddcbc698b85d1b78cefa20eda2bf0f6a7cd544665caa7624d4ecb1c71a5261c9afa076819be444a500ae5c97300ba41dd24316376051bbc1af08a78dba9f81af9778531212f3664fb5355cc9a8d4f91a737d161759b4d92a986ddbfd301dcd162fbbb5a961ae439cca36657f24e7d1f62d43c788b7a9f50cd04880349d0f188d2ee7b887a40f43d7f3fd2fba4620a40389c5305719fdc93eb00eb33fd9d40f8d69e0152201c8d5884c1ad76d0626898b55247f318ff6b3b4d0b2262dd8ed5a6128811093a212c61a88a29068294f00ef81c1734aa977d22ee8d92265d62e09968417f25c8f987287898b590354cd8b4301dc70fc67b5a670a499de641a34d21f7c214af83c8c6447147302d144f70894944ca8df29b27b12e71959d4b92819aca7c64ff6ce511f44f99ae7ef9b7f85831919b0ac1dd84a5000ee735dc8c280c2209a191052b0bc0d29d9944f259d7b04d3d4acf8dcc68fdaece7be81ac45039e07fa6c468a84f3e1292363e1be9ad99df6560394f46b0e807e0c3e12fbaa1d87184184eb3bced5745f23084e28321420523654b0f1bdbc51aa8c37abb1cc66b34aff5f5f4a7f7083aa1ef1520c36d16a6bfe5323eb67d7fe01103bcbf4196652057dfe03960907bf3d5646a9596856efcf132865fe775e9cf8a79144181e7c3e68b9fa7256254ef613555bc58377551809f9fea11705212f264cf8160e917889a53c1b5cb5075b194aaa47a0e2d96f69cbfd367e7e077b56366ed4183db3df176df71d63fa73f6293cdee6f57c44be5ac6888a720b8c2a266c71c4d8bd1afd070c2093ac0238c9ecba214a6b184fa55198074e751ba431eb2a059eb63cdfb8d100952d631ca60e0660aae0345da3da3f99476d558ab16f25c660f595aa5aee3b4bacb0f16db43dd5a278b794e4113f2e458ef55a779b1de5ecc6736671dab6f38f0694836430f03eb5dddc9f76eee44982d5496b3cb79230680ab051797b041a4836724640238b27cb117608f216e1471ba6d709f13302c1e5a667852164ece3a33c8a34f30683d3f90d66c67fa7953e811aa940af0a9e67cde6fd3d81f0d633dcbb9a91cc4d0c8976217231e59ad82701556d85bc84cdaf2e0d8823f8c4fec405f01de23674f71936c5d40d672c7109fa9f3702a3a6fc2ae682dc6c5531383d60daefb6ce86717ce79fb57a704f42857b1d440bb7961354bf62f19b815aef35449bdf51efada840967161e59dd4ce394015c2f2dfe5253879212fb81c28fcff4c9d1396ab351daa1ed8b903395b5be63f2a72b32abd4a3bfde4b336ecfb1190eb0d91f3829ee6aa02a68ba1798a16f96562d82c13e19713be338db32c48453963f7c0b8b8653afcd997fa585b803540eb2fa9c7490aa331d6ee7186353226db1d9dd2382a968fb50847a241a7a09b4f3fb9e0d30f80dbcd19f6de5c69bba179e364b0c11c7e75c17799a5f4ab34f8ae322de3d32c396a32cd3c1f967550803cb9f9535dd3f46315a7f960c71e83899ed4938730a0f6fc6c4c6544c071e14f0e5a86b1761a5a5d23d4a9fa5b78b912f452ce28fbbd3b87b297f0cdeb5a54aed4318fbb4c0fd550bf44c3992d73eefdadc7e7e749f822aa5e337362f2e90fcf2c95b3476394e5f9c499f6960a19b73f6539aad64296817b634fc8fa2453f5b8cd918281e6b53238ad3dda9f760bbe25ae00c8e118fb36d466383b7447272e2c4bed39f5bb1e111ce3136939021e060e74fcafa985a631ed70c562d0c3cb7b09ed97c9c603160b8f444bc468ba55b3910c1dad2ed1137fa9103341e14ac47ec2d6790a23a80e94257432cdc6a9abf4bee05e0891e25eb7cfec6f26f0b31a72ecffc5921b1cf180852e118e1f3d6fda4a110d58c5a16368ab25f944c057408745c6870cffccc6229460494b46bd5083e4bb4bb63d7aaa422a167c32b5ef905dfe2721fd4d1f237f7998d56994c0c3af3fbad3a7ef37b482a3597af3d8b298ab6807cfc0575f77a229da3b11fa8fc240c1912f0db643de224e1bfffcb0f0db598d9ff46e2a9e6361dc3bdbc2bc262eaa9adc427a5ee9af8759ee3f87c0064d9141b09b5a86f100809ecb0456d73d73d36b7c920d58c8a9c3847dff953fa0a7dc03fcffbbc3e73e195668373490768dc5ce7fab9a7cc55e22a4a5d6f381fef265a4305a29ccf9a670567cb8bf677ad84a24f161a81e2982e503305d9caa353c5643011f7153c33743aebb381411c243a37ee397f3f4c885afc04e03de88d5a921d4e9a3b6c5627c662ee1480a3004f6b9b7104a85b7f6117cf4730be5af62a4695edcb63a29a728d81b8a19cb438f619a60482e019c82a6eca9b5413d7b272c68d789ec0ca197a251191fdcd76d7f51f9c31aaad56303b1c6de992360200b6bd39f1e76fd27366730b8428a742534e379f1a808e2824fc518910b6e4bb3f5c89317d6bd3fbd22321ff13b059feaf3dd2a8b091cabafc386e61ba2af29bd981e902316200553450456a6a4ac1bce6a8a5f02050009183a1b48c0acb1dd2c1ff940b5a01d17422208ca558ee8ed9a5b4e4b3637b3fc15752c5532ec3b2508ba79c7816f7408e8a5f35b503fc86e58cc5b90cc65247860ed6255f3f2715fb05d1747fb79adcec37f94f1f3649f2e677fc536c0e74f4a6c7a6dac2b8a5e2b1d6c80c969ea7b1632a65eb48c754131d92f3d4de1e4a5ce8fdbda7acc3bdb73d8dcc774968fa8e043df5c810c487a28d41ae4dc6eefe239451c389070af8412d7a54f71d8ad9def539693fe64e88f15bb873d4f95a80c00a8c1464dc943bcabf118cc9610655dfe24741134e6d2c746bddf906716212513d092644da6c07182881cea181ffcc3d59c6d074dcf5231546c50682751b3fd2c144041ef9012e3529ee4ef97d3d27950c0911241f189cb607a22bc762bca64b9a5500e6e3e655cede147b1b774eee80d399d5411bf0c319eb53e918fb696a34ed282960e09f47b30b4ef6cff7ee54d8559d83a1579b7ab6846638e959c9974ba451877e7625c9e72fb82411ff127cdea97daef6c8f41e3e6f6ad92439877e381010763a89aa074d503af97fb68df8dd15550186391d2c198cd996a91ff43b6fc196b2172ce45f7e268f6fc819a5f5c812d22985c2848d5257f795bad7d56ffe574b95d868424e0b82aa148f7e742985e5787fe10866529ecc32da937b2d218d8c3a2a0b6833cb63694629b4a7098b663346b5a768968886b3e1e88af7caba6f410a6c95e5e553c39122df6da10e8f3fdbb2e05c5c170b2824b5d714b544a139f7ac8806744500814a8e1c85b45b5513f49d2c347e6858aad1e09b659b4d140d338dab53ca56306a15227793ac7f92176db85207e7bf75ae6c655094209b5b156b3b7d7968088be761c9fc63c3474e7383a0c868e1dd076e02dbc282691089bac32a0f2cab04afaa29768c332c3305dfd9de01e8c4754bf4dc17bc472ef5b450ea466c64160e599029d4b9ba2f5f55e70dbb99e47ffe9080916c77c521df5d0a4e1f3089d15d49d2748e6dee21aaa8bc1508e1ff28946eb431d8863f9af4a2185ca8f6de39e0a0998500f57363c70e21cda93193a4eb77757839d1ccacfa6a256ff939ab88cb2caa19205e3371eed514d23e24c88014c2ee1f7461cd2b9c1f13fe63ac5e39439e9991cbb8c8d9e9c46cbc52d2e9a90a938f1911c7017a465642c36ce1122b8068b205c1650f8d2a88cb21e476d6477df853b192b2350fc9fec56c40dc4a70c9002698642d26ab74bdecd0d57c86c026c9dd00b300e40cc5a61477bf9e0b42dd51b77df59beaa07a98aaf3397228c4c9ddb72462bcf6a6a25242c05e8bb647cea63e33b642d8f9c509b734657c7c7b8073855182e27cd423f91246119fec31cc605b5c5d33c7dc457b3651175509ec5dae25975ecdff645c99df59ed96e30bea70f78806a17f6ac6818258a4a48f54ca952c3e718ff6245c637046052abf8e35a17c143ab0ce67bc26d7ef218b2f5077fe331de04ac72e72f31230d4d961ecfa71310e7539e89a1bf8f09277245f071e496534f48bb05c12ed53c76d056e94c5b2f556027b78b457c12a5c11bc1360b2fb57cb4c8dab8022fcf095067b2d3b209a417ff717024db12c74ede2368527239a686bfa24e5269467e7f0aa015108d9dee8798628e13b7baa686cfc8ce825ddc4ab191ee27ba7e1a426f5db4158c4619f26b9e697ae2e1ea505994a8db63b16a38654eedcc85f6e1c084b22aab7dc2ec0bac8e55956cf6deb28e5b512f27cb247004498a3ae755a91b93b40055478a908fbca82daf0adf13b0a29f010dace70f4781ab1e6d4952419703203b93fb81db36aab75cad67e28ac1993a82fc8782270b35f10d3e457462440e696181ad2d2fd3978c31186b10080409a8841cb1cc559ff522bdd14d96759968cbcead8ead1ee2a4b5f133bf0829c9081b0781f9c602fd4cbc5bf1e679b68f139909f830b9fe31314fca1b917c36eaa78979381eaa61502ae8480fac2c6cbdaac8e325e997d4a2d48dccd8538dc2b4de1d9ee5ea690b523af44d28a33572fe41fee9ae014752272626b2afd53ecec0eb9fd9d794e0783e00f6b10515d756ccab982761d0fdc0ff7681dc1f50ea6e160590f706700041837a0f036e63631c3c1b4c9c78c37832f99280401f2b6dddb575f9a9b7d9ec9a647b2355606056316b87bc010bc7c9e6042a1a3f0f32d97a25f9aec9d07c2ee589f17b908cf461fa1709bd14a88e4ab40612437682b0d81fa8b90b8094cbe48ffac06174ee8f11cb0d8d25cb234ac99fd8a7de426305857d45a3a6ba8ede4d1bd3f4cf4e4dc3e5074303123bab094b539d72fa9041cb22ba31216d7ca1bf29cbbd150c694900ea029e5ff168e4287fa7515e9bef97876f4f52dcf20a44bbd94bd75b9e179bca5be92e35c30e20b2af1993133d8bf1c3d7d9ed68489e8f70ffaee9f6c9d7a08da50a90473682ccc3a18d60622ffc492df568be7d67c7598e81b5173f8fea183aa3c857ae29b8edde1ecb4a8b75a7d616df1e23369a87aa7eddd2ca1e2fe61693bb8fcf828326fc501562ee7cb695c8f4add4a4c9951e38a0c60784cca3e34ae4d3b0d30c198f7eeb83a9d6ae8a010ba62dfaa4e6d3f877e0016731c0019ab3794fe238f06b2cf756963226001eb3664674d0992a9ab49114a700df0a1202ef02ea44fd9e8d1a44db982af7a19572557998f0932d3674bf931416a4bdcaa8d34b2016d31ca09333f688470d2f6417bc84093f768662d687d70e4c5a2b8f2f847a37eb70dc8632011c0e48d64b8211dc0efd7550a955d6164ada2503dbbf922bc4ed8197e525fad49899d8947b29d740336b09e4125f0f4bc9b64df01be9d0529da06b11501640915655540101a58a4949c937d4ada6f8de6fc11b066bc61f04aeb9c53e447f94c857b3abe4ab89a7033249da445002ea9d55a67f494703cb9ed03cd3eaf6ff0cb00bd83567dac13cbaab7ad5e460a9fd1686dc2d4e775c3095cafabc707fb3235866cfa8208c0341b8e4b99cc3d52cacd0a1bf754fc2c62679499336a8bcb31617cdb3a7f7756518fb757cee9f28ab6a0a4e9f7a00557fca7490da1a719036edde4a045ae9098ef257ba3c5d2e8002536bbffb4145e6dfaa2a9356e0cc70bc7c04d5213e6545ce156dd06e9f58fbe96c29bd23b2eca4c782c021d3ee84132b6fdac9fb10ccb11abc7247b32aec4bfa7f65e3349bea4538487a1e20c06b8e5a68a1b3679d34b19f2367af876fe1867417c459d0677cad724c193b22d630977f6bfba40d69a578aed6123640e8e15b7da2965ee05d9381acea11dccef5750f09ab49e830610f95af5e1d4fa38a10ad927bb7608ba67cc1bdd63224dd8c1be2ae63ce82de028b7b5bfecad1c9ba6818900707ba44526328c0820f53e108e27efb29fd884c2070f99c30d4817c3d24d9ca608203055ab230ff901cd63816636ef4cb35e9b24d6db55f4d4eda815c29750ac56e502d8e567583f3dd7004be56e100034c10400f840f802f20cba8f1593763cbd34f05ce1503fb384ad165485a91355374083a3fb0b4d1488070f5f0e60ce8bf325dbde109b5691482813f22da2b87a5fc36cf711dfd69cb225c7862bca256f55b99bf8b902e5822e70cbca914d2ee502520a586f0349b28ac4ea571b3f59c7046d99763286e279c47f4f1578a78ce2fc7d95e6e0b97ba7ee073e85cfcdf822829fec040614fd36e7b33d7329df405701d90e703285a678601667384460c296f7821a3719b424634fe071b83d1bf88c15f4c9b93903a6ce8cd3ed8f910f73eb1a00068c38ae79c5699ccb1d798970e0610fba01d612622cc5f5c4e0db07e497a75d3b3b144b3330bc8c71754f6de81b238a722f1b18be2f100aafe1595131e1be0e2999e99beba695d9c078f8c9bd18417e38c1fea25550eb4b065a7ecf131128de5795a94bb31705598d3451edeee5472291f9d980042e98cb828dfaa9cb065063d99bd4b87e35569b6e65ca7f4291cec52a62dea86d263b21ed09bf8014d00d2212bd704de37d4c67c1bf8f460dee4e83d7ded70212c156bb554d49ea254f64a25791da64b1cf977cf157d3887e833bc35713232409d38be137c8a4da39e61a0a47ca9d719711","isRememberEnabled":true,"rememberDurationInDays":120,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
