<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"460ed0b069be03d91e0f910357299bddbb3ef58bd65fbd9b671c4a61432fb72fdb2c5a89833bf7121caafb7828d6d54e7c8ef9b1443de4de788d6c0fe5a0490681bd884dce19ceb955f296e2a9d64f7e598aa8fcda76a7243000cff93ad96b861c568ee71941ef0442d4afbc6c75bd3c2d32dad6547ae417ef259cb0b1e2a0fde88ef913dfbab261681459eef35e7893eaf4b79d3e3ba575fc73932eff5169eb8463a0c5d88d377a50f24bcd103e0634be195c09f7064d46d30802f0a9fe7bef9ce38f8bfccb62d3a5ee8fe897f5371dd119c65c60fa6a6dca1e949593a99060b51d28e0539e824b6c304de7331f5f9089b5ecdcccd912aea005dac90402e322ba7d4563955ac0e6d97505d854d383ee809602e564428ef7777a3937544f12e463cd391eb0a60994406758761ad1f38331bcda34b58ced480fcda88d6a491d2339ce040a5b45f1ee4d28adb8f561afd691c577027eeba04d8a685df728957877be4ee6e869dbb0750c2a720ff3ac982a1cac6da0ac68d13e5f8c5b4072e981aefdf4f6b8c98b924eec0d96cef3e21d11924b18b71a6196c666d3f15b2fade79bc07ab40d476aaf48a8304bf230a75ef622a98c24a78f1227803869b9945087ebff4917d59ba218bbe760d7a792cf884c089fe5e1f2ff4a294a8fc80e0c9361b30ee4558ccad42143fcf14b7b52933e151e81d77568f2524bdd16f553968c558f2cbe82e3027b48ece1c446aa9e17df7622806d4ab8cd89b12f130e5619734c3d990b9f526ac39fea61054917068fc24d8b17170f40c9ef7f3a7d05b249fa72d5c64d6c263a4ea4d4406603663ea07c023b74c88390ffeaf67ff83bf607a0aa3324d4c6eed9d85b5072d64bfff5386869b9e904df064be123eeb57c5166cbecb5209690654724bfc9dd1ce429052e561f394e286711fd4a84f40627417feb08a74a12ae35f5ca307a4200067eae5887506c7658a22bc5bbb43049be9c4ec0bfdb04e1eb8d823eaabfd5389c77c23c1278f206d43bf5926a3955c124a38e7ca9d9643b32ad114b3b8e1d63a8e2fb9d39ba5372fa06d7af18d387afaa59b21cec078d006e6b307cebf206771eae6592e281a00060c848ed4ff0eeaf3cd75ca53ce56c1624c0c878f2f4de26ab64fe056bf4b3ccc7da84a7ffd05f8b05dab6c7052595b32eee631949f01f4672628599afceb3ed77b647d3e99ff1194bd9591df9c5053466bf10cb6b7e7eeecf1590c1695a1f2dd47b3a3e5eb644dfa0b5ed9fa88840062bed696bd828dd07790bfc43bb7c05a9dcc10fa45a2043aa73e5ad1abc200c962bc05221a3ffb627febc0bc2f5cfb0798e19d90a21f5c6265f10fbbda02ab91b92aee29409168cd30c5ef09d738cb3a917a565628442220efc0fec5debd9d419f46b87aa28e44d7e42165bf5c30c86f0709e71d6fb3de39c1ecaa70271496ab2ed31311dacc5c3477e9255d9e9eafc9afc0a52f95c97b041fda25a20d6137688d7915bf45cd6b93f299ae2d26548283bde0377319e6380e92a37a743a83a5d176f91c765d301efc79c481897ff3f634bb9176d105439e16c194f56446accce45718228fb60fba52f59821bfb37fa6d1eb7b09520585328f350ba5cf2c867ce9239cfe836da5818bdfd67e5f4e4db5745e830ad350126212df10a818d9ae484cefe286ae39346e84cc8b55b1ce7bfaf25cf6775d23c769bfa27265d75af3cedaf7ce16cc627f5a93a03e03928a02194cb207381d84c2c50497b8a6e4b03e4da546f1dd89e00318a6b1642dba41904bdd32ed0a24564f23e51b49c2252eca5874e2a3cf4554f19b0ebf84d66159cb9391b7426130c2f28369b5a214c8b057d70be3a44b829b50f1c0b0b5c7d8daa80ce440268b275f07d7f389c14f8d5841e8fc8541e34ea81091a95838a7bb91e1cedaf8972433b27febc10640a7549f3bbf33cd62ec6ae5d25c23639fd040c4f3856a76d136ebf650c262c0a897f497db7b2eb83df59d120d2eb76514e4fd41fc00ebaf3000b16811d2037f9a9921ac5427a88ab3f00a9afb9a637b2ab2c00b79cba2ce63ef3108ca720f91b8e398c9f23bb00c79f187f39980a1bf9f7059e555e94f720a129f192e90e143ee3a1621df209f95296209c8f98acb4714cf069b4b9b0268234b8b20a8e7b90322a84c92ecfb0fcafc86d7639cdc95a889c6d5c11688008d3454c5cda2b0786f9eca7a3405c1fe3255f22f90d3135624c17712279ad6c7fc84d53932d88cd41bcd6b532e328c61aeb2a3bdf71c655ee35443fa0b0c340e0be394ad3c2431fcc83116b808c1fe6290df0526ad350452e688693256ec882799e584b88075e66b68132662524b1145e3cb789816d0912d6fddb92cab2774301713c3f23fbb4ed3ceea024b7535b157a659d95bfd0f95ff10c469cf0a38e29bd43fd7438ac50de8979e6365fd95e9f6a45b7ad2112972b165371d767ba2d4ad118625b95dd593c08aecbb0d653b0d4de3ddd2c61834a947a05a63b2caf12eb9d500b50c1324dc5c2f83e6b3c58adf0222a1e9f6ac0c9ad08d7d2315e7679235c812e04de5ebeb90f817192bed7bb7dc0b192c2785cd9cc3cafadd51c90838e243cfd8565f806542cc0c2514dbe1ff69b7933c2a10dc94da70991d0944acb3e0a80c7e43409afaeb4c35051823b1eee2d5a4edc45467198ec55194761dfd45f3fd19205c10d50649fa2ff7ab857ec43dd4dec8763895d7069f6f35fc45eb64cac8eb8f5464efcd41c0c130a3fb6e90b5de8a6b02281dc956136ef7d8222a8c6400ac3508657e59e02e66e45ad51e956eccb7d06e1f409d7427b95f04b7d3a97c420ebcda15f2d82c1890960237f6e881f8d64b50a094e05e5260d6078cff6b256ecc499fdd7b533aa5598ea3dee6704faa16c94bad6bc1c221532f01229e388a3713d99ceaac7edf480a6acf6562eb4aee8eaf59ee11c2beb64c51387b0da95607e9699a08c4e37ed58d6fb6e9a780de234dcb73fdfdf91633cf9cda6ad9af0331d0be3403771967c5d4c7a3079cbc894b7001d26ede63eaaf4485f026a06f81031564e3f7f345bc38b660294c2d44fc7ef6bcf58c22cd796249dceb5b5483af71f6c10e392b90182f50f5670e427287a78baeb7d1ea3befa99a5f2cbe7ae5c91d65384c726c85379c30811114fca8e284220d5374cf49ef1041043062efe01933825bc7f92a5d9ce4a33ffb56f3f0395147fcff99b0fd72aeeed01cded79c6ff3c8472b41aaf14be77382eca65a3169af02e6950ab8de9eb215b1c49297d92a134ec9f1759c3303d96b1b74026524502c0a1192334778a3fda3ad34263582f789ff4e1eeb62de00e8ddc7b024a6a7106255d5a83c56630b6ee5f4dda92258b46f3638f9be36bfa1aae6a1495acd0522c6d665f26356446d23b611c62b7380fa1acb05cfa15f860a78921eb851da30740abc5089a16fb8dc22f5fe1921aed72990b6c9c11ab38487c853fc8c2ffa366d1d4ca3606a582ab35eb136a06facd91cf4d82d49af0d072e0882b8b70f6000f09875abe46bc034279f05e0f6b3c9ed1eb3c3360afe4073b2dfca1a549d41aee84aee7aa1dac0df8ce98c2ebe2f2ffae8a3837e3a244d8af915eaaf1c6afb4156070a2bb80e96ee81026230ed142ea7848f86d42979699051f9bb3db72d4b063a91ef0fa7095fa669f3e9c63d9da89c2717c00c877292678d92ac714658d86cd3439be23bfc298dad7737da5e090c6d89b9a0c48b83df7d6437c2ba395bfad17edbb199fedf476a05d9eb4364bc009d529fd1083959e30c960d4055c0e6d88b3b14f382342fda1d22b928ce0d5825de47055a143003209fe269f58cf287531c9c026b0eb83e1e1319a9c0054554ae652027f3743f5c0eb575f920f1190778cfcde1032c91e71020f455871cefaba84afc323bfb534db8d39a9f58754f5990620ee3d71ff4821c3dccdd755783aa68f9633a6b9d5feed3e1d608bfd40bbd4661e19d3f3ea30feed7cb63b7bf4f15183366d9131ee14a60d9b4b86b370e0f53f1994328215c173f9085813bdc8fdcddc3a7ca28728eb3ebda83e6ebfa12120c263b7c30bcb54b226648aeaf3ee336516814009e5b31d126ffc641d4ac4725f81194a996bc35e30e15575228271ae759723676e5c69b3df06066127749af470443cd0e79f3dfed07224fafef12cb4b55620c8d081febdb557f34b525de69437ca39b984f8e458226cc406b3c706ae39b7af57c08a56700e7da248130ab7c85ae424b017fb5c99979ab194980a4c171e06d0d6d91656ac1411193c2ca82067b38db28959d5dfd0d1820a4028146b57bed0416406c8f56b231b10118218bbcc584110081962f59a3053b2f072fead76f29caec0eb4cb2ca2522ef7cb5ec3560321a7ff20e22cfad5dfc8d90c82ecc5b555ccd81a350de4d8f6e5df1cee02ad6898d24192c95d98a568f8d1dfdb2a7d0ea0da09b4c3abc896608a3bfebd82d361145b77e6a24cb08d7c17e91780752cb3c2716c6016609d68267292a9196f8ea7bff33987e53a7be1e85fbd060c15ad56602bf00aaccd1d213ab89211698c85b13979ff7a7671ea42c1c01bcd12feb664947c60751c816b6620e572845e67f269947f17514aff5c770a7dd115fbe7f7625ded2ea5341998ef64ab06510f04510d4a512490cd9a8bea7d115ff548c78d44d1ff32a35cc6903fbe3e9b927fbcdc60342930ad0642b40cac6d8a10afc34c5825b030351ac7055a2a1aed9b52a48fbe36b765713cbef51f9b172f4b413b52476319d14b6a3ff540e04df59c830e4335dfe67a064d619a6408fcf3c7ef59fded402bad9288485b1f3ba03b833cc5199bb33a9a6bc7564d7670bf844dfc514863b4843576d0344d38383dedb32190965c857880eba75399507eceef3fcb4e418ce5038134629269a69bbf7fa88b00316f07823057f86fda00fad82b517feaaf14c0be68c902621e82561a03b1c0ec2938975f021aa089f6e5f7fb5e23e4a343f97e393271a7d15a956ab3ce8146fbc95025db301c2b8ce34a3de0568d362149d0f499b65b509d59bd8ada8ea67e9ae14688e591f7c2298bcfa4a64ad2eaeac39d4194e8b97c9b4b446ec78644adffe77bdf30c21f493a9edba1097b1afc33e93e4c0dddbcfd4515b128a190c6ef0b94134e6fc24a4c31d8506ff21bc5532993d86ec12a59e19cad49c573ded23753308d0c9ab769f54687976f0e207ae48562e71e64b00c43b62e3f5c7e8895e46a0c03ec1c8d5ae8b1ea58265ea35b75efbc3effbc0fb710f65060dd6b1b2bb74e425a579863309a408d9df861ace88e30e51bc29fa12779ce7b59fbc4f19b9cf055515047b212e8a0558e5b7d37306de2c66224f8c4fd10fb7546e7b0126f50ea4711fd66b520e1046ddee4409a6026a1b94f48712bd95ce0ace2f01cefa0b696d3b3738d00b6c1180758684e00be62e86ae8020411986195ff4c6dda0fbbf3eba551093e43482865e98aebdcd88e17a1c52e2902d144d83ec0bcb11986b81db7e446255e6bce80cda14e793fe1479a06fd8ef44f38e56bb55988c5a96b992cbd59b1683f562a5e942bb78c290d151c92b3c753ab7509954a055d50d906e220a8ac6fc9745c14a70102aa7d941462bcb7ec4c7b60bf99d1e667c65a464acd32f5abe2162396f20bca3a0428395aa631d23728074608ab23fd3426481bb74a0805c304cbc89326ae0579f0e168e12f07403d1af6382ffd06855ac979b1799f1077c8a6a70767596732a748c4b6efcf2ffef7ce3f97a67246bb7521b7456d69936cefbff361b575c45272abd4fe7ce92427ce629dc64ea6d91e0b9e8071d02e6d358c02319addae9e402a61db0ecca32a96fcfd26ace66402e73b1b1467f6bcfbf341317a54e950874eaa131361c0fb448bf4a596999efd431fba9bb1bf74b5cb3a16cf7959ea20f31f501991058684dc399f5516bd5983d7b9ddba9944f55dba1d0229d56b525a6a0c2e51dd9e0af31999041cfe2c901c2ec61b96db15a3923c629f302ec949e158e448eb16087b6a57c98c87d4029f893d64151c97c8f3c5b2861960339cf3b2473a014212efeca9b80fedbd83a31fc95f86c9d439d64e91db492cd0c6a692a789d5914facde8c66de66cfbf215a519226c9b59c0cd13350d8ab83d337623e0813b860276c85ff6c13ac9755060d020f4703d85d94ac6eafe2d6e3e4bef398f0fe70a761c1e519514baa696e7ae48bcbaf8082ad0e989ab1b4eddd2081bd05fa14d3218441d4755c94e21c7c3ac8d020c4f2a746d05b6934416316423b14dc85730703cfcfce9765afe308bc1ce971c146d8464d3e09937151073f5bf86d672bf5f5914f327a160d6fee2b19eb7a0e486ed84adcc213ef4b85b1ff6d2a5061b4edede3e1b8e72a8799f5b0b8a604587ded22b2bbde9c4edf61e45f27b49af3329be8902aab0e6425226a6cd8500b18a834c83abc716c82fc55db4618621a3b535e0d5ccc3a4331b41e638dcc532cdb7cdc6991555a5dfa545be33695e3a775abbe33a751d298b06b42e58c8329bf4b0fd90a9e0f35e88ef0b4207177936b5ed9e7438fc219207e6635c74a06b7ef4b09040075f8682d0a0618c183cfda6ed161430bcdd1b64cc2184c1ac606365679ac10f3827d2f3a078b207046ba08a0a143450dd5b17de05c548dc5dc493e2f099b93297da4007670adc8f61c8f60547855b808c2404cc9ba106825ad5a6e08eb44f4cdbf000196857c3b4805fa08635a38e6b39709ae03859a0a51fcc1eb34f95a790119edbeb3b69f6492e8d55aa4b356148cfd0fcd87b810351ae54e4592ec5dd9707c2739af15175aa4315db50c21ab2a4c969f2e0ccce740f519a73fa344c8dedb3c82132737c4e9a79396e1ba94a4e1ee6efc1acc291f9bd41b5109fa4bf247f7f643703a31665316b232950fda48fbf39586242907b20ebba3fcecc63d8f6507ff909406e3650e5e73c063102c9f36cfd37183eb4e3a8f08b4a7ab4e99d72d1c78ad6f507de718908d670faa73cf6c098283b6c0e16533da2b89cc055384f30641d56d6f55340b14486b586c2aa4c39b1bc88e40dcc933ecf4133937261ab19595cfbe285a6757ae031f1149e84c93c0a93f8ba97db21cd00d1251101edf1278461dd9e88464c6ccec8d4136a9adfea65256baee4a8b916b6fc0bc469e4d1bc5baca06f3eb3ed83dc3faa96d5374a052986a63fb89dfc343a63f8a6410ff1ad5749aa25ecdbf4159ae68d897e8da6667f002faa6513efb26fa3f4c2378a7d826ff1cc78caa45add990259853791c92d5c4fe979903b172689613f228c30854ad385c22374222ec7c041f8f93cc9c055c0abc9c54bac238a49a0016887f887c9f79ae9904acf9afe43442a11c108a93b720e48eed67e253ecaffaee40607232da07a3a7b929b7ecb24dcc16b6a6c7ecb83b6e87f9b8de10a78abdf15a4f1f6f6ea1fabf6f99698edd888a03fc4bdc8d071b02981066923a20acf35c254722269f7cd9ae4c9c6b3bcf47c3298bef5b7e54edb105c97f13f316774b24540b4b29bba09ec1328ad57a02c685cbcced801027980a278c860fd447397cb81e2a0c74298b8896c665910629f8a9d496f9397411227ba317ec55af69e044aebddb401b1d4347ba278bc59d172d5608b1f4f78c1c59be40ccd1f75affc350a6dd617ddc5ef272eafdb80c9577978527d800a9a3ca31b2b5854d4210f4e8f5d8065db1522ee4a7119078670c8cee266bcd6ba1543177fa4a48d86abbef30935181620fe479299eee9f7956730bd932316600cbc83f37f59f58d3d2003a3a3a453c99c2a5cbc0cf70d42b3e852c7f309f7cf636d755daa01e630ffd2668d5c6a7f5df01076dd40a259a968ee43bef485d21899e714d2af5f3d89b173f4893359dbaed4fc5a4aef96b76770b1aa97aba4d3c03241d68adfcb9e64230c6fe01187e099d08cadd0c0ef730351529d50de55c6ec6538e764ae8a4df0d6ad44597aecaeb5816f1816131a150e89396978d978690f4a6629c7cfab1578568147f38acb2764dbb335cc7fd06cd5c14a006e91edf343072623e3d43fec7d3a16c459afa2ee43553c18462d68138a125c7b280cc66b2565c6332873f94dc7bfb8a15d78e5a67fece95022cbc93ed1fa2373ea7ff542fac21fd582b48dfbf89d0adffeb2f3a0eff23fb2681181e29d9e2385681e2117b7387f97b33b4dbeeb16cca429104b594bbd50759123ffacafe3238a254c0877a0e9beb2116e8a8546deb78f46fa14a6c3f4098ffb78a1c5048e1dcde9f631810ea1fc6ef8b6b65336e9b76eeb67f3417f7f34b8148e7809d3126640568d7b8cad4ff346eb00d75d8324dc2831e8c405f7352e03c22da9c2e11d69486d22b80a9e0e1428235b7aa161df08f1e0fe0913fbaeafc0298875e241483bce01b515668665243faf711d18195b3e7f42b10ca69592d7a884c2d74f18c58d3f23cd7bf6f4292f035c1c73e0f0f16e2f64869bf3742a753b9cb073bda453c57ae26d17f654ea979b713658a98cc1b9eea38f60637f6f5211e8b9e4c6f15309c7fe58ba0f4ca0645d0de5b04ac81556a01326d64f300b2f7854173c84eaebb91bfdff7b77910c8c6014eba7812a94d15a5a1a8eafd42b85de53de2eb6fd888f6a7a303bbaa69b8cf076b9b899eca81388c9208bc14714635b929a404ab37942b078416f0960cdc18150921993ff0f0dc7351966dbe61383ed862ad74560280b86a7f6fd1aeb401b2c405b43d9fca7ad034ccf199968a1c2768a4e0e8b65eff56a138aeec3000fb21c83838ac1807b9de08eb3264e9b9a38dac0871d5f602f7ed97bc655e1f9fee0577e3d89ebf7acbafbf7e63ee8f7e01b0a2426453f6f2d93d627acefe091a263e1f58e6883e9d2e2892720282a7003b958c956496eeb88260a36d1142d7704534e567316082d01912e27bd83374bdca33714c4c22060f184d56b1ef71d5c4da71c982f8be768cb49fd276b42b19c04130bb2395c4a7e83803623a06f925b8f4004d19030f27789161c498531aeb9a173712c90a7b1330531ce1ba2bd16bd6041edf21a31de42174f6bc94440bd996b6332da7efc21b2a4aecd7609a302036cd3bc0861b82c05b65d997bc777b5e466245cd73d4369c1e55c0e4cf5867ddeac047be5fc10ecfae840e11ea3bf7d8be37453663ac406a20b41ea09855887c6bd285d4381cce005ec0ee597e27d15eeac7c51df693840c9edde5e707c34c848ea389a420dddc970a02919aebdab146f91f5698fb1af816c8e4d64cc60b0589d9f7b4e188f357aea9dee6b841e8695d3abd13efbc164b275d17507738f0cfb4ff4bdd87c397c8d867cea0e29a42932ba76c9fbe86cb95d84e7fc09403968b79e470cfa2feac40d424d79d6a65d70b562225ec443d89246f566338a60e0b002fe8505606690a0516ec52987d4b4cf8c18bdfdc7781a84afbe97650335c493655d350b995f52f44aa7d114a61e42c91b09f825e9fe6d42880726630747ea6f632409f027b2558641de9ff42afcb247a2482d4eaa5982aa95f479a638fb72fbf0db57e9b0e22e860f86b7d9ed47170271b480aace459b839f76c1f68a3a8006bc845458ce5c777a42c05aedfcfd2faf286ab7216b412ce55ecc8671b9a30e535fc5fe980905c84be936faa128efcb4ab7cc5ce1d87fc1e39a14b90e96303ae660587d38b9103b48f516b4dc97d4d310c25c73ff36282e89e32828bc93cd13f6970fde96862fdf305aa2ea9dd24b4b98de1443cbf8ed5f23d96dd39c1fc7d2ab73651c36ecb697398cf8ab62dbdbc83cbf2042bfa9ea7c15cab1312210b56e3d83f6d19b80ceaa95f145fabb95679c8603aa87c5aa71c09e315fb8f46ecb383b63a717e8b3739bb9eb56eedb48d0a2944ed1af962a59c434a208e127530368012f6face00db14c0507396d072708c7b5dd73acc447ed0426999c5289d7c60d7e98627549742f2c0900dd6362c6c48d63292d415e8b0b95ec3aa91230fb58b19f7c224eb9ccc5e5fdee4405b6eff8a7e7e41b33295a429b637c6611e11c18c1a50eb60bbed65782052ad77601d08fedbd5559b675978d51523e3e85fb20c9c2b989ec80780fa805b8e9f86e20a57ac1175c5f9fe3defdb8dfe4bb1a4f679272dc126b1f3e5919bad120693b71e22219acd81e20b842b40336f684c9736fdba9afec755b02621717d2027a7316638b8505ce2619abf162508d70022a7a1a5731c564235d5bb9e8d24e2923034e0dff1108e1c3b22beb59ca63b803d624e53880a0c0a40d99f0aca7606b5f4cd26848bc060668c850ad17edde43f5db014e4c6134fb1142ab8c63d9dd8f4c16ab99f6388ba0b231e31a10818496758881a6283679a8901201a37f73131f91252e6d71802f9f1e0c51e35f5b5e3094cc915f3f65ee7c8c5b900ef77ccdbb383f811078148bc9e3c1903f1752bb03439c4ec164825eb605980beac74a2a46dd4b1d49aca9927b0bde54862810ef86849ae2d221b05a1a67b2f4b46b62e3adf14ecb66dd88a6bee8e1c2eb1c0a66f360eea287bfe1c07e7268a15114ece9420ef8b4a09d280e86457e1b1f482de6b0791e3385326308bdc6a8710d2b1d8a0882a568ecac80c357a48257165489854b091367ff45b23a6de0de8ffcd30c6cc4d07ce89c7489d389727ca1f30f4ed295570f96a19d172b3c031c99299d1a6b4dba774340e4bab8850f5f52444dd13668a0b3ea725345cd1c4608918f224f6dd0c1e76a42093edb63741afe4594b50d24caa3e13ed8131570f5f417529448b63705bd94e2b6f9ec554c8341fdbdfa026ecbb2e0846dbfc1be413fd97f9e7e989419f239f0bde58df9aaec51018f6b92cbd0ab61aabac79453435a7983f3409542252411fb43b8eb2ddea23c8af8fd1fa755e66be5f1c7b448117cbf7ad0c7d7201498c97500bcc240dd6fb1cacf9dca58818cbda64074e801c336ef4f82f97190e927a86e014df8d404406af36e9c48ae9e095296ec6c15a761d18e0d3ffdb4261cac22b25666c0e03793b00a643081990c8a389b5e433e7375147b227728d4f0dd32faee9c64c6c85be40a1a1df11cdbc3f544785e55617d9a00d1beed1f31de402cd6597531229de46b9f3b9aa0e178d2eaec9e9269335b46560c167f6153ae526ff3f3da1db62908eac44674b95c87e440717f25523c3d44bd9af5f7cf21ca066987581f8777461344d2b77ac48fe1869af794f5cd429d5af43d373e6752d719140f61f99d24cb9b361b64bcad31e33e1c9a6adc74a2797e2c86c50a657a2de0b045b17ebad89d98edfbf9e469de34bd6fa74c3aed06f67234a8a4b7782958af2a9467c4505ef3803c3c3cb45112b214b15968868e00ace13c2351928dc01fa956ae8d9aaeceb8db463d4650c3bd27b9a211fe39b6553b7f99d434e5d4a691f9f5101ada603f2b597fb81ca50ae7bdf53bf0bfe08a3f80968524400dbb4aedc6ee5eef4bb28f389a187c8b2edb05383c58ecd3f22aed56bbcbf3570af63496b4635f714cef05df77f565db1ff27a09229824db6f7e0a3cdf759f23981666fbe72883fed49866fb53792c7c14271e88a09c7bf3d0ad371e69e547644b230f9d8820d51a35ab3660587ff2e492bee799bea31bbc6045c48311687dbdc9ced2327228f98afeeea73bcc03d2e4755b99b00689e75ff284767a8d9f9ff423ade82ce2428ebca061c11fb65b55e1ffbe151872f392c697c7b7de0a019704e63f4cc0595ab189e3324123a51d89bd6ef788c7732283f9d66742478cb945cc94d775d5903d0f6b0cbdd19efe2a06e535470c8e422faf44809015fa5a4d05e539b57cc0e4c5d792366ce40819a1216de5ffabd2633af56bfba4de17f155a3469e1eb513bc4a78d4c4e34e8f066e825586146624993e5ac725f00c02f484a3e723b0ca696195a9a1c42a86a54127929881f060a15be0d86995aca47ad184296574d8ce8775b7bd9d621c826c7570a421aa9b2f732d7cc382465c623c8050b068086ce053c39ba3035fac2ca821483d4155ae97ea5f84e0483fd7b3927b789f988b491ea40db8891668359c2569390a9b0aba548a81d8227645607a483aa8c8f1bc12e61d6db920893e1324b0c30bc586ebf476d79c33c9c8090c4af211cec512eaf2a587ca1c9d2bdae60ad3ca8772eaeaa8e4683ee4ac86f916892e4970fc520d19fa275335c94bfd5a97f720316dc323aeb64c7a67d8ed19b5a021cd579826215f6fc062985e6aace6244139826a10fa9861d7a447238f20aeab46e0a6fdfed49609c9dc387a0fd1bcf0367336db3787b6611e4ee487aceb4bfc3f5092d8f5c2158d63f47fbcd16b7e803499354a02ec43115df082ad2c44eebcdfbf153ce51297c5bd2a80477f7b8f924e001c1bfa75a845c3cd6b3ef050083bd7e40d1afa099af1afe609f4ce345a4e8d2771b47a487b51403e5d9024d9dd5266e873aa53f8abe1cbf9b270cac8fd59f7cde08641fa39f07cd973cdbbaeacc3feba11e75a7e7545ab8544a261414e26a4a1ba2b7cd43bd5fbd3a977343e012a8cdc689dd84f0acd4f3cd45ccb4a6d1b6bd5f91ff7784a34597bdd0cfc20665bca7eacce413af74d4c0a888ecd5811d2abc58064edb903bf9fa6f73ed02c8fd841748f88b93b4c68036b6eefe541de0963f249e41bf24ba6b53d4114f329c3854297d7dcd4b8a74349f45b7a9241a6322afc64175133132cfc5436688a96194b91ae96ed20dcfeb56cf0f2313c3bae3bc730565325aa0cf13b4d2a61715f76a06404cb96529b61b7418a99e1aa99ba0a55fdd80e9104dd752c7ff29eabab41934f0da4772afeb04e939df689febdfcca6d1f67c1b0aba3023b7bbbecf8aac03497e2aaec7653526b692812042a8988a805200a5f566468eb00898b9c5d6d30a0ddedfe2c13561b40eace8fe17c5f9f866ee12c9213b33194f450c3f927a0ceadbbea226c6d9cfb79ce95fc0ac2fefedba4571611f9d046c05a639b84834942fd4a67f389a31cae9a7eb0cce29859e14c81e6ca01fc01332f192db0fbdc6695c8eac65b069c6e68247c4bc41a28d70460fcecac3c78f52386146ee96a63c1829d4998502e13ea914f1472710eba214caf86cb10303d01c83d7366f030aeebb21f3e21ff7542e4e08cea67685e2331ca4404eb85e24346161f4414d5d676845764165d95200b7c9114b8945b6177c9a7254e3c761b3e886ea93f00ce6cc90bb39691df56a666c99a652469a596f1c3bc9e39d86ce480e36735a90181f1c359b0bdde1345ccc16763c9a89df890c78a76d0420a7166fb7ce175128d424543e05e00509b7d15ad60aa2d406baa8f03bad38810b8a3364ca4347c0d37474a354620fc16d348b35802b25576d97509bc39e5b13dc5a73afaa0f8fcedf38a5f8a1f82c19e0149be0496de49f2a38706964a7da98c6703f84dd904f719d9dfcd31cf5cb2b1613a350b4c16887ffa666d7d9e90aef9fef4ec15047b25b86ee969b793ead5cb2509b6cc937f59678e8cc8e18b8345e1d6ad4119f52579e4b1c5665a8099a6f3d0bfa22d5e006573931ec8bac4c7240575f8433b92114fab56991ed70495b6069f065676629755c6cc91b46ad7738a2fe3c7958f8fadbff48f35388759b1edbfd9ea92db530a045f92a7e6dbe0b2938fe252d6ac1778921ef2508b5c4ef06675cbc7c42e21b2e56d1d9f24fb4003f86e9648b07d57e320e66ae293a2da0a366f46b100867fc7234f0a95731f0d0657fe1c2da23c74d010053e9f036ba8117004f8a24c135a85c7baa5a405fb399909d021e9401ca0cb98653c8a8a30f927b5f5956a1b93396b851a27b7a139fcab03ea1f85a7ec5b686d8528f1a46e58dfb79fbef2037b6916722c3c2e59a96f6a5322d6afdd339e927e271cc1dc208e62b3ea4cf451d3c7cb086aad190c54183e32c9b128c0431e6e442b591413eabfea6e6776b00ceb8917bd05a94c9600f72237ac40af86ece555229a86352b8ba76d1d0057b0e4d833d1c20028152fec95a0bca5f317a1ac819acdb7298cc47f1cecdf17e62999e4e1d2d47ca6d492959dd9cab0be4962991810405db3b3dd5e43fc2c8afa111101ec62a07a2a5e90421a1fe968b5a9e7a9a326edac8dc8cffbb307d3e1e51013ac5a88d492fa6077acb75f4a314288b2d4511341df6a93d18594123d6be34386660010a0cd72a84da338f2792a2210f470286cf567f8c8bc9187aa5e8c39e9cbdf6576a76294ff247158217e3ab3a77daa5964c789a59e8402c573541fa7721e619e26408390420d506768a1cfed4927f8f55657e58ea2d401c3b5c26d5b05ff23df87eb789c3f1a1a4b7bb956491f1452d63443c331b115dcf0031652285ea0d4c7000019371de2e6539ce0acb618d1eeeb9a750b003a81d2b533245fe157d7e053d99a1743ee3baf43b71059d88543de1ad9161c1fcfe25d0110dd62e98f546428f9a80ec1c9e8f9d752bc34a1bf71f4046fe25da299ec537bce58daaa464d9012a5a07e79addd89414f4c5283f1d9f74f634aa0e549c2de0350bcdf613592a5e4f5fbae4e894a9fbee76072f9772155a40ee7db986c5c3f70cf7ceafbd5e1981182f3ef1c2a26457c9a7de7feb50cf05f47e9415668a7578a7cb3e93a43b99a504bc43dccfe634b58358bf2153718d7067aa852007759eb25ebc4cfb8fa1861ee048c5af2721ec2741bdbc48af7405ee82f4d411131f0177109042a3c501d7cc67ce2940679a0bc7b8803e5d432b99b294ff09bb433e2f44580d4f6e15ba410e825bf744617284abd7a93714b3e71968f572180bd1f542f8d24250f91e585fd778bb03b5149e8adf28e800861037fb7edb48a921275d353c64242e95b559b5a5a62fec3ccc5a3d8ff7700abeb1b07c45ee0f8047051b62fc399f9616c9be42be8acff5c9e6d48a490cea0783291a03b3cc53b58859ea347a054e2c8685650128f5d8e6387a6226dba60bc4f7d1bd002d1f6bdc40cb7ecb33aedfe6c68974e7daa0b07b67e4831cea3f28ce406a2f43085274c52dd52da057007a77d235c584cb6e71a0013eac5e587bc1a2865c2629e765f4c7345d597692ddd35d17d0a641ae93d7ae4e994926da4505ead1e431abcaae0c10d1043a448dc3d2d5b74203e47c35f8a141cb534ffd81f3acdc291c91c3314a0bd6ca592adb5d50a420419377a86655aa131cb3c9c5623eca516af0c2adc5e42d9d8ea9367c05f7a1b0530459597e1388fbcb04c952bdcf98a9bf7d055dd617abcffeef5748bfc5bf2dabf88e2f4a07536804f019114ad0e9bbf0346adc320dc552d62321f919db3be2e2318a12269a2afb78b4e58eb1bb4f3ce1c5e7c37dd8caca41405c7c715054f03dbf1e40968172ed5fb19b5627255c127ea73b12d632b5cdf296fff8b744d50b15bb4e6933cc7b3a1658d67f66f9ce95b1b700c336e188e4d7bba1b5b763654c27ac075082f9e9d6e820800588db386a40c8b937f29dd31d67c654d3022b837b6b50630f8a3c4a3e128feda102c5ac231e0730e4e5b4130b2d760945d4eb821893f401088ebb8b734030555e4d1690d370259242db62c0188ecd25fbae20bf5c819e5aa010760886fe212c20ec970e1ac951dda51bdeda42150660b277c47417fd91d9d4fbf82e3f6a6f04e0c488ee9c13785a7f0e2ae051bbb0ef9489d60496bae8e047a5e70ff99c5acaf45ff7dab37664b2866fcf12b2367682eddc94e15ae5eeb9ae162339b5d3e570f952205c3bab9c770aa6125533ed31eb1bb8e2e424901484bd109f2d14919fa08959c5ae3e35df4dae58383f23d9f515d3179ae02840a84f8d791056d364adb63ad034100187ccb6043a547da7a0deb53a669b79c9e4e0fea71b6e3ad4d13a4821ec0c94287d05fc992ba7d46f3bd5e70a979e47a12f12cc45a785d8528c233a0df973d7b10f957de21324cbdd589d38d3a28b62b1d971a375a91f77930b6adc55476181f47d45b54dca0ed36fa397a346078e1cdb0eea47507156659b7629b17c7320fdbeca4cbf195532329daa1eee118055fa86f36a4cae9d5d748c2e08a106f8c1c58c07052b9625e70c19df2afe357835963229eded25cd34e5a7b1e2fd5beec19c23dd8c9dffd5468f01717753cf59dedfcb8380f3a750b548bc98eabf68eafb3675e0ee2bcd6337c68c48d91ad671834f54eb1a978e358aba637156ebf792cf10f10e61ca4328b4b55dec8d30839f3fd0819a64e808caba35cdc26d02b9114dcb13186c73ef0a72ddb6c8f4251f2af127007e2f3f471dfe7c5097b89460eb53b1b9e88f5f887e4265639785ac3983d5e18b1cc506dcb298800234fef9f3e27e281d3d59ef2157f98fe33b3708b62fdb14833fd33cf2a0d29fc1ba7cb0c43adf2e246eb5fa8902e21507ed6cac14c2322199a6c6c48bbd503091d75fa0ed4c6d35423ed4ee4fb6f6c8a1063f015c3fb6e5351df0ce9e0b2b4d90728b1b5a8ee952edf62f00e4ac787cf98bcf3e499f86e4db32b4a772b3b7e2df0113394f9909c919382bc0c10430b650b3bb5a7fd1935bef8f1a03d8b436a5f60fc9922cfb78c8558c286765d73b46fd884553f99457eee34dad21549797a0f7dbe1e6764fd3c4ddc86539b5ae412a1f5e6cf2013fe36cb60b24cd24dfdb2ed5da7aa938dc1168838d9ba5c3e6ed3036b5c62cc278659580b4767de769b553085518ae84a346f2cdfd6b7db511ae7023b9f6d64e5efdc4ebd43500b6282dcb22c3b5a95203616c7c7b8583688ec72c2d9ac565ae5e2440f57ea4f6235a304f0641fc2f1cd266ac3d1c9d65143c3efaa480ca4449663757693a5acf0248edf1c9b00382266a35932e7c889e50b1f60be18b7a1df20160ea94e7026e76dbb76034e2bad4367a7e11e29d912f3da9773c3da66952b0fd93753909846284b6681d45d41c4dd118a7ba9957a3f3f9d23a66dfda425873f44fa7c1c1b990af8ee09aa6807d905d33fa12dcc77914bc62f3aa1f995ef6ff6875e6b7b3a09a857a5861cb302e8029e95c7e978411d882db183ea0ae2aaca0516add5351dadf395c79ae4bc811a2298f152247499ab7cecacd9bb0009ec9c458cb9bf44ef3883782fbc28b117baa7ac112cefb3143fef443f1751e6711f4ca1a480cbbb615c6ba23cc414dca1e4f81233fa3c3609432476fe41a8602f015d9414475a250c6644da8f9d0ab51b52e5875b87714d22db3fcc0b81ba5ccca34e6d7b8ad3f748cf994a069c2b813a3617a191da4f4dad4d812d07b52dad8dcbd66335c07bbd3a29ad824817a399c468e65b63c2a1687ce6b88940d7643fa84a2b9b1ca53c11bc0961bc6ef49b667f0ad99fd58d8b81ddfaa439b8b716adb3f436af9ebd64f6ea39c9a88acda947867835ef522f300dfa45871206440d61f72ac4f0a5c07b09de11daebb9dd68ca18fb77e46970aff16ffa21581289b055ff33575153f95c05741a88d677a2cafdfbeab547bb3097bb06903e62fef595dde2eebf04c8b8b471b990ccec7b73ddab7da3c91b68962234933de037c3825c91788b9d838dc90772bb23d3f29b2c74b63edf00461536e2e9a37679689a243431f40421d1e967ff61be8ac003b9ee9c962765bd853cf7a2cf88ada2e7efc81d3655beb07b6e2a9211741bf649808f99fe72c78b74da2d5f3ef4e569a8c91265840f34eb8bc9e696f1cdbde550598f38a9306519e94043e0873442c07c56310e27747e25be414148d290e0a9ba5d6304d5662d945342db75700b86adef52b5a14be5044d5b81c2f1279ec72a0726e4ad39aef79df24349a3ac2d47a56055578183568c4776510c9a5b4b40193037c0601fda72fe75b9e6521624ff882582304b8a9de6954cbf373cd1f7ae1061369009d9ece38897779657af1479e97234b9fa694d3a264e056136f4c5af6cd65f8d9fca5a57a7c09bfd4af5553f255974828ed66e801b6bab93dc1c82dd2de5185af97bb9755c64a85305b3397e79a08bc879ad71fe8fde437238b1214abc677830dc8fe9a772bd64dbded4174374680b74821f27bc23208a60c8338b108552f794938af2880f5e4ed105bfc374fc7766c595a466352ef8262756401984b1e190bdf1b7ba4b88a8782057f27d3eeac6bbabfd96e8f45d0d2c02753c57d3c6a6d0d598e3b3c96574ecdf9117163a7e87d81b79efbf4e90395a6d95a3b24c9312bcd8f5c47a46b4dbb5b794ce1c07c428640ff1581fb73b44cb237e689150f9ccd5a740033f0aa84a613b50f1c56dc3cb6b1e88ae45a268314405d86b723cc4cbed985de521b21a7ab16605986b9cd60e332a93829bcfb8f048424035dbb04473c44c0d6a067c48e89d3793a26ce55a8a1971bb18be7729c17bebe4cae1170a2b5e1264899f295b773aed50ac0e5203a912f17d6e666c525cbfa8b44c7ac8ef52e8d240cf4899e30e7356d6973cb22607950f4521ab7fb9914e1915da8e7a2986ee103486db8b46124ebab961fd177bba9a6707c01ca9b009dad6885cfde33346d5885a5af3f42c82424eed54d1aa0e26133255e2d13b0ce69968f05e1d5b8b235a1cd96804917f15b682e1a2bed34de240e4c59a5eb4ed8e8fb91a769ac7ff0801d5968990d28de04f098a746719839f72991aba315c08eb3a279dfa0d17a7a8d43ddd3981e7b08883c04ee50fab5f35db22a02e43b3642ca61deea997b3e97a0ec80dfa5f7c3f788d8ad1d31b7061fac7dcb9aa27c9802374122419f343f2c034c4d85712471afa8ede9638e2e2114dcae60f3eb0925bd66c4d17ff14ff35a6b30f52ad27e6160f4cea027d4b49ac93ec26c9ea787f8cbce957611af7d90e91324fd65799f61358592f4f26b7bb2e17d241fc2c6a97cb94d3129eb797a3977d4c482082b2c6812ab396e74964214c212f0d9fdd7c74c965359659e4443bc1521fb49cb365469a6a4375600bc70ddaff80b13207d95f8f6bf50ab388d03b00f6e56008987df31827eed793a85af8fab75c0d9625ff60e9372549a1693279e09c8c821f0cf4fad357dd6a7ecf4eab10ece564f8aff4510a16e7a55d404d350d3e601c6228513e62a88898c03d107d1ddb82c0877ba307e920fb5fec4ddc1dd50a3f5eb3c00277e7759fbb46d0cf8b078799cfda95d277a743757631f201bdfbfa85d74c3895b2e7d9f58ed23149b5df02c91dd8a2ea375081f23d79a0e3d11a549b7db87d215fee29187db4530ea602dfa1c28e5d5d9796c8724934976ef97b5018e8f2cdcdd21ba5889f717e6a253f9d9f64a7e1412053d3e46caed2fa8fa88b6aa8c89f4612f60fadee92f043af4a33bd28c04ec3b1da305a67f52eefc52f5bae45cc3afecc3332a3a142370784ea145e19e1933d872ce808cac87f95b620931281604b1d11da4cb2734e82e34b874a1cb77c1c23a6d7f40f2c3d78bc8ea7394756c993044250d778f713015ba62f5d003b29652f40078da45f744a2435fc595b6cb5a9a6d722b1e5ec28d78ee876ceb6ee201cc91ad10c35414204b737b4b04022c661561f1a944f43ab17ea2f1010129e062c4238a365afebfa1f69052d9ede70b330d376acd4d105e9","isRememberEnabled":true,"rememberDurationInDays":120,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
