<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"230575ccc1987deb0de9cccc21adf77d70a011851cea3397bb5ca35cbe3285dc24c801d38c64ade494349adda6a2a0fefb9d0d463090e9d324f7957dc234e0bf8aeb8edfb652fc2e0f8fc2cd9277f29b86fefe82ac8d04eae0fa21cd6e1a6f68eeec114c5d2f713314a77c05691054e146cfba0c1c3d4fcc75d125670c6e1ed9e818addeb63e509bdb604253047c419147a77686031ebb33f0de156c2c4b2d21ae22a0177c6b2c1696f6d710db9c42e0d301a349a4f8b717979dfe7d5a200f5174ad6c571910acd2147d41ab62da3072da1d64de933092b2315813af06ac78a88609a7cf8fe8d4e9e57435c2efef3bd9e1c52b8e1f4da7774456f7508ada7f3be58578f1bfa8126fafd34af718a472a2747281944fc7f82ecfaf27aeeca2c5d90cf81e08fa040493cf080919c097b524593e3024de3a926819bfb20068403e1bbbc8a4d3a7ba09e12daf1f57278672d1741d048078926b239057490cbbf8164a4f97c3c0b631f90cb21654456d287fb83eecb9f849053388f08ed74b8fc71c950a5745c863cc8b13453db35b5a337200cd02c558b4ad20356dd16bb98ac0b852477fc9860fed1545b168bf2727a2ebcf32a2c63b8c75d72c79c080fefa7e1a05a262e1303bbb799029322536e6f07f84c8a81557bb51b97c01fe4cd4a4d10a82144b67a746f835906565b9490197db1d8c6d923d500037b7c8976e5c53592284ee736b9ad404e0dd56fb9bb4109ebebc3b98b7498f3b2462f9b83188fd1ad62846a25578dedd29ca945cfe8635af98e3987b0f5a7b7ce1a343107c31e88bad76810abae5ac9fbe87ca4c7410edb947516354c33617ca65cfa89750f4eeb7d984d1c382f2b7d009fbb7bc01646598c28013568f87a2540fb6c5de6b700a37837b0a0d4bc7c69a6fe89d8188286b93f317930a5f2884f46a59a085798c7549716768385c52479260bacf798b44e7269ba8944b405de234869125468dbc614de1562e1cd47b39f46a850f8decbe3955343856c8385d7a31c13af16b343fb67c2a466fd2ccfab5e1093b6f4b6ae8c8d61659e70a67f5f7ac38e4009e50e335bad1fa3cef0e9621d9c70fa3e3cf095a2b48e1a7db87c24b842f386a57bfb0a871d14be354b07246980db39eff726818aadfd62258e578b51b05c0de4bc0582ea890592f0b53302dea8e23d365bb6147ab2c68bebd79377ec86a7e4f3ea1e992bd8aa673aeca6a2acb2d59a4edea40cb0d8fa9d20f71c0f166d92562518f6158e872d45ffb018270755794df4636b19b4315ceba00dc2d3a9402afea8683c53f8e58306a693df7d6d187e3eef3d1b8d1a9673e2f2412f5bbb60bcf66104280c88f6f089d833cb9f758d59ba2748dfcb68c83d3ab9cf2ac37aa7fae3b48f559f26e6deb779d729c6cc5295ef033c5ddfddbe76911e21b3e75d8ca05239d6ac03a45de5a3592d0e2a6246ba0181db6246ab5b7c56e262c79315a57a77d81fd5dbf4c1cd91b261a755f3da95548a79532b7fbae44d214c29c197b61ee7c5d3596e1f8664bebc91556939c641ce8e1beccc96e41f79bd837bec27aee18f8533ba261ba37563701d82eb41f036a0c6d1d85bb5feff7c02af4c5a2b20c5717fd8320968f838b25c5ac47728f262bd5270c4323cca077f370e5c5f70a4bc57c4735467136939c23088283bbce1b07e68fd912797269d009aba54a0eba7297482dcb0d7c0c83099f10f04858bfe2f4160e896d5afb89c3b77936264a639c96c502fa4c6f947ec5bb65b243137c6adaf7224a891de7ba2cad2895a34ec8b27e12288a3ebf39242f91b6150c173053e72e8e7a64f914483a749578820e90e530a7fea2fc67e3a7c76fd781a49c97c36e663257cdfe75a7db9207ca72c49fb2c0f986bf97b59e6e5ffa00906c74fc8a76c85a4ba0829e68bc3ba967f01d794647dcbd976c812ba0840f8a4de3aa1b7fce6b87955bec2d56569865b9ba96ca2d42e9aa546f6962634aa68e77734cf426888833ea9e273d5503f4f4ebb855c290b71b8fee1aea42b392677a0c58820de5dd56e67695cfaa763736c394add1cea3bfb66dd9e5ed0816dec891e213f8fe6644dad243e8a68ae204e9b05aa0822f6d352efd7a96cbfdf88843dfef2cf9894a5d61b9bf440793b9803684d0097d1ea59b73a8b91c6ffb9d4874a7774898f1978f9032eaf538ab5c6677b4a25cef230a73f850d478012f9621c6d06c6818c16546ee17c00913e602d8ac7229b4ad10b286394e508a9ea42159134e3830092b28d907db7f9ff8ba97c23f1712e170182b93600243ec642b3a33aaa780d828d25ad8ce5b2329696b711f7103008c6dc2a55c125c573340f0c25f2f0a3fce87039cb32aa70eb3c5f1aa1d2a048995cb8ac3a848e85ccbc5d8a09c60a3b1ca3ff94f2e35f96018a306fc89a015297cd83af3d7a0f80436fca8881d4c883c7ee151c0fc9ffa9727c63627a10e08d7be966fe341092e207f232338d3d44971d4ba535f23f3fd83f4b70285c3c26906cd28cdf76c66c3eef7d7e1a056d50544f86cd84a51cb3b5480c83436295d48c81e979220872dd737978bcf1514c57021da3a91a1a447329661612af784bec55aa3cda07b22119c1e7706f684d6fd35f55a38ea0bdfb3f889b08f972b4410f03af5d2179d3d86f27f36f94fa51785f8586b17402d543c23cc201dcd59e5b526c6341a6e573a56635d77f2822cd4c29dc4b926f038a86bdd01f5aec8e7cec36bd7d8d9b93c6ee14b19549b5478fe5af591d84542772e2c4d21b5c612b2ae434c306d8c57da2448b2f5fd84e038f94b152cf054ed427aa04d5c6fe7f91defee5f1bcceb4801162aafe5ff7c35858c4cfff6768b6173fb333bd707773c03acd513605ec9eaefa5852a6b09667967cf99cc0ff4bf36a4a154acf0baa1fd9fc56f3e762a1a5de71723c457e16d04c6d55f9f4a70ffc19a30d6a365a8c650b2a124c52228de92a241def023b34bef4b0396501b59cbae2a60990091a09fe13148599cce0c942cbbecc2691412f1f6f3d3e6d0c437cfa67490e56f5c13a71bb84a05ed66ccdc314bf992659541e93a450fc0ffda431253a6977d52adade45a308661c2112006ec5d8e49967e4e84c1d7f24ba3152f686060df0d9efd585ef6ae7c2ce913c96968528d8f1354551d1333c608ffc5b2357ffb06094a4f33291fe05baf9345b3d3d07b3ad81d1f9501d933cfa14a0cb5f36d3d641339bfaa371716f787e87de4fce66778eaf3d4a535d387a420c773f292a2fd1e5ad4c82160c83ded3ecbd9079b8ec5d30f8e5d39f816a274977d0b8343d69553ac0a1f7ca8c669c84e636016720d9ad4804877b6e75e5eb1b2850de07005fd515cc6d82c1a5ba8a393603205716db1be823805d6d9501c1c3ce6ccaad4c10b3c01c1d011b1c874105d0822efad1989a261a1748c77a8db80f9ffd4c9c0bd7b43b8fdcb0cebff231641c45f64533f88ff23d3b41069e6b3a34792e563df3ad243654b8a23186844c5bf5df4890a7caf33d406698ec5866f3db1c9c89bfe83cdf2400c17dc664435fd49352cb64f17322fa9a6376f7b660cb7936c22e454f0765a2ff7494ce12f381a2c244a0e30c436720ddc272801b144ad692b01c7c8f6f3eec8f1883b9c9f8db41dd8ee6fa3ffb6af5a2d8f562be5622d49f9a433cb53307d980cadb96ebd0980e88f67abff75b1e9c7ecb69513a32485fa853d25e974547ebabf7f52a3d1aed0697d69bffd5ac4baa8dfe00d6d87267eaedc0e5bf6eefd4b9f6df1c223e8076f9bc3f1a393a554eb45758b1622170101b2015760ab504fba3419afd68876f6222f9bb7eaad9c372cab3c8ffc0b4b765264a08700e5e8504f23fce00e8851340df6ea440299b1515f21293f638976c0024cdbc38353823faf2828ba185fbbd1fce30d80612e08c2a8960b95e31f1bb773f069212fbb47dd73ec84c47be3a83211dbc0196a084b30423030628e85d746ca9f7cd0313270add8701c66802393f765ef34c950cf705865cc4d36eba0f66dc4e1f7b65877f66a3f3109380ab562fbecb088b27b4e9434a379eaba67279eb956de735c2b0186f8f07dc1c09ce836764b7def0407058f14fc8a489a9ab0b0e73513dd813909f84f21eb4eb469fb083b8d1e55cf6150ee765edb325513319d8bf0dc345889551f2f6a9699df15d3c23a039c55588a7110cc5f60dfba984f876e7c017b5ac1f6b572ba72d2afcd7765b675a0c9fadc08e2a4080fcb0bd57a8d944139a30908b8fddafb816a88928a7d974db35f55dbe49da29c6d59156cb9831f36e4d587d4a1b0f162d76652c157e7c4f378b00da4a9be10677f65f369b4332c4ff2175aec86c67052b5b63589e0899bd474d16fd43914bde9d2d0e59aaedcf922e74e800a485c88f4e0e34844ce4df3c54eec11903a65c388ba168f59d95bdb9f49618f483258e87735d8d2bc852a4223432e7f67b38bc2f0ab4cae4e6f4ce02b1dd4f675840c0b74b39f4a6e4f4ffe88dbd6a870d8f598edb4be22351e5df35ff52236effc9401ad53540654f12265b382edb7c309b249cee4f531c2b0687d36fc6701298691729c4d190a65b2e6e42006cc94837f09f2df5c41db4a747df19c223cfd17da258120db991c772fc7f0542de8ba03ce9716dd65fd88fda5e2f07efc604720e87e0bc6cfe806d1df445f14544e10b8281e7db665b0505c33e270d308fa176b7295a22e7a930bc311e73abb8d4b6bbb21e93be60ca89ef0d6a3426a05c0ea06c1c4cb6c79144753d676af6f29c62290a40e62916f809f84c6bbdb5a2e833064ff53745a8b2bf45b6cd0ba0c7f63e76ad21fadc00dd12f295f49c666bd6fe5917ea70ae5288531835361fb772af155c8829af82b17c20e0944048173bf3b5af0cdf7a1a214595d2e3f73527b686d76e7958562a0c807bb85507fc61ee5e8cba9eb110640df422f0c9afeb7086f06fb93e96a50eba08829ac30a5bafe572fd234d5449b4bc4487dfecdae0c3cfb2e5855f87d39dbadb52dcaf35a918c93e967dadde61db933ac62627da472472a59cfdf5ac20255f0d57192958eb76077cf94c8479997e5f646fb26ece44a432d78b45277fd66ba878d92290fd73a1b3069625f9dd67a096cace6a59f5836e96508f4fa2ee1c8d34ae872dfe610a5d24e7565bae7e7c4b85000f4dec0337aba6eba8a7e7e51a46e62278db42e70d11604dc5e6c0341f20b1f8b6a7799b7c9c4f2c4232d35e5b45dc177e6c3953425ea335dfd04a45450ca580e317be0b04b714d297c9b232748908a29da6c8325225671dd6aec5227a98972682170d3c0c9044c58d4f4870e212e90970b5b285fa6e9e366c2a5fea9e08025df0deb1a4eb30ec86129be161f903ae2b7b7161c5ec861629749b28b4076e20508cd067d66cf6a891a5d9c6dd275375a6d18a548c2cafd0e3b2dc6190256ea232605f3d539750d6b26028e50b5eb9e217cfef2a05334615897d86d76f0e3fd7b437ede5571db3d267d127883703371e6427c20fa590d1a46ef0b6920f6644492bfefeabcc618d1a7e36d8cd217e03ce358525e0e8b6b0cacf5309402dbd5e9259acac94e374db0b5ccc8b7dd8e45a997c0343c559c0d63abb5abbfae933b8bb6d4608c2208374036be526ba1d21d6b10d0d5e7812270056fa38b8464defd1195b397416e0f19d4cdb500d3cea9f5d0ace7c7e2385081ec3fc915978db8950c21e7fcf58aacbe48e25b34e24089d60c47a20a94c4d49bb81ebe406964ecbd5597e8b79307f4cca84477c9252196173138a39b5dd28827cef1b93f1faf5b2c95f09113968ae0c89cefd2899b5174cd94fe1e49706a6b69d8a6748c2556898327079f604d3cb2204ee14ba4e0957bf4c0bf8d996c1cef705fbf6a5609b4d228021cb8ccaf3897d204d496afac23cb1dbc4151f1a44a863a47dbce5cb904e0a2f806d72be116f289088b06703788e98a26a9e3700221866c26a00e636f80d75be62c6c4a454bc59bc11f414652b7c91224038b9bfda536334b3ea91c3ff28b39975e5aabaa6bd299efecdb09c2ba53cf163a258bfe35c4bf0cb233139f0b57ec59a0b42759b67aebbfaa8df2eb88062ec7a2f6e251cd791e381a7b1cf172c267e44b7a4cb51a21f5cbee628b140caa1265613867b714ca30e9057cebc66d0693705b02d92916fa486119eb3f43700f998c0cf9672c1b6975f4b52723ef8ccb6fc614fe28df6e563d351103d1165053f8bda5ca555246d900115f1af4194327e85c23fc005e75a4f51c013c7a26d8264b89633888e5e1e0bd4b0e77d35d6199a2a96851f6f7de62a190e3011ae20758166a662998daa50da8112dcaacdd032fb2e64f11073dd5d4cbc017c8142806d8d7904a9f96331d1c601f5a0e2d3ed7000ccf37841dfe466ccacba63c2b9fbc5e19949b8f790814a22dd987de1b071dc00aa2424320c3abe5d35bd984f06776700846e21e6b0c1363ffe2655a3097ab0a6351356c8938e527f4271d8beb7711a10cda6db8df9dac2c37f99f2adcb8ef3a4c5207aeaa3fcd4518f6f0ad2c67ef8ec168596184a9f39296f52e98dc8140adf37183ce22c2d1a2a8f7db977ad4a375f333ae56b94c9c71f042112227c880ba01cef69afab9940f1de474e726df7198a124798134bf9551165350ae7001609eb8ddd7c7b48f6d6e0539e101cb151e1be772cf093d4195d62c38c8d16ca5d559b755cd395d99b44b097909d3023c1d8e55eccc97083cb226c1ce1507faf8cbab9d0e8ea2d61fb40cc05c58d1e72f5b6ee63c3c2bfe7ff800dea799a022ce1a4fadfabecf8be3e83e596bb93aa3b2885bbd1dce0c8372c1f3f440384d8394f0657253f095ce7e8415192fc7e8238558988d3651e825e29b91c186305d642c421bd9999175ce3bbf83d4b0e03f501db7dce45339fdc6c4395eedbb110f03e79cb2ce4b2ae5f9e171b5ba57091b9c501592edcfb7d611a95c381e5cb39d2027cf5aa8abe1e2cba29bffe0a47b9e0f57149179825b63ebcf741c2c9e3a70a5d81fa65dad85b64df82b0bd5e4ce4b4890b6f10fd0826a852489dd60fbe29d40efff068b731174642d9687d2f54757ed1a55934de7574d9a64b103f9ccdfb64add52bf4be1bae01c04fae8708f180f83e0717da488fce1127228319ef70c4af87dd4bc90db3b7dda05bd423f320202aa04c3099e75f978ee6c13cbfd7c2c3172a61c4d1c26b4adb67cd5958390dfccd8f6267c304c65f9dccceb3be625a8fe0e2864163c9a3bb656abf6e2a4c51bb5bb132b1be634bf9e6da4700ed6b15cf1ad4f76c14d68bfe546a098785b539fc557ce6f9ebc6d0eb2bf93f2e70f07dbe7e1bacfe1752547ee40a8ac816a7b48927b2435c3a86ac1398fc44b00047abd0d1e022ee1154b1f4f5c0acdc3f872b5149b3be15ce785165f9d2c0d85fc11d93b60261a015c00e1758a215c2c1cea3490b76c9f9a277c1822d2e4a6a3d9ee7f1669436756a76d44025cb04147aedd20622302e75fbebaa7364f0971238881676d8bbb3d6d187c95a552085d64c09dfee0a8fa5bb6fd3fd22c50f62d647ebab4478069b880feacf9d055fe01181e3a61c020fefe5198b88ddcc577b86788297fbe977338458aa1df31ce17587f2ee422c805712bb544d911f809f84ac566bb48907d709e9570d1176496abf86442aef67645029363f11f51ab8689f882fd6b2ace38d9afe98aa012750cdd76fa68fe5a18670ff1893d9004bd2a4c2b9490b10503019a2b58424871aa1ddb72bd4f33378aa105da51a4b171bfdf2b2ef7455bce0c2183180a968f788cd23d5648648a2402919471ab3ce37154ee33bdf3f23a32f949f5cd24bcd9c944d263afafeb6f7f502dbd455ebc8572eb1ae4f8d7d7e69f2e17977c25e1c0a2662865d2b68b84440ce842eaa3f703638ff0908ce75dbf9da2a1cc10014221a99b4d396aed4cb0f7395ff417ccacf1803bfc00f7d1fa70637fa439bd54fa2765ee6996c9347d0165d478e48766fbe18fd4a711c54a38d3b136dd6e127d5820319c6d0df66235ea25ee5582de9cb869e85a3410d83f466f661a38acef8dd0d6e7408550dfe834603d3a3048656760fbbd8fecf069b87d2b8b8f5f9924c74649f1b9dc4dba45ad55b13c729b652550516847bcf39a57ff6846449ce5b077da8d39396c31aed2e5894e60a56cb2d0ff2875f44c6e805ce55096bcc9318bf6302bd1c8136cbc22e0c2cccd49a3c98f558d77731b493cc3e13c042c4fd0774119ce6f552ab9908ef10e8a0f6ceff61b860bd3dbfc1b0000fc44a457c89157ab99dd5f1fdd1254ee25e03b375eba1f114520684da6d8596952415fabc43ecd5fbfdfa441f8bf2d7a968a3f5f22a89054b395132c08f116de4c16c5634f6054c95ac57b9393f8f71f12e3c4c603c13b4f9e9e30b5b19d6a80950334a4e8ad86232faa06fd811f2c4a78a80b94841a88380a90a3b0a039132f2970fab481dfdda39d1f0f22932ef54dcb04cf99d968d7460659e4b86f372aedb383f4f99c7a64f49072ca08ea690c5422ed276aeb714ed4f9ee36cd907f22144a9180b2b4cd4d70b786b2510d56a23258e8a8c80e7e0112fbc9d746cbb7d5d32306e83229233f768a618a1f8737c4a0a652b61b01e6a197e77c1a8ce8baa45b0c4b259df8c952735f3196911ea2a050f4dca809152a2f7671f59491e18d62bb45a2154ad63b17e11607105f42c683d31c8ff46ea9dbf1cf8b1842c7ad5934b93cb993b12ba5c7d4910d1b77a3992ce4303a49890f146905cc28c56b8ce369995d0d8c0d587bc6119e8ad95925dae0252219fc233899034b7de883a7c05e9397da134bf64a66198e8ab756634268ab933f93c4219921fff2ae3c0238fec75efc42dbaaa97ec5bb81ea00817365e1a1e6a3ae932ecf73a71290fd327611404a0da22e10e19fd60244a01fa41815e77c74676a631dd8a1c3ca8631a1514d2bbaeb2bdae8e912fb39d95455c777fc44db8b13216ebd47ab65ac34bab442827bb335a71f70aa1bd34011ab84431d1c9756fd4aa853846c87372a3fc63c637a97b13011049b2324624fe7b437e5ef35af1fd4b71a8154424a1f0c2a8992af6f3106e082e169d64322be518bfce1e42465b2de05bb3d67d5a63b58528099b36ab76b0b5375e5a4ee455b9e4853969fc2e3410e6f8bb51620e0d6c65129e165bd049f019c8006c2aea24ac65da45bfd2d006118f77015d6dcf356fdedf43689b5ce686e13b6a5f299cac70cd34ce7f1014ac23fe160b0e9227c08d4dbe356ed7e9e45f75e730be34c672030cfc7ac6f4659aeb5cde962ebd80444b58bae76c15935a861044c4935160642d7db44d451b29e2682d903f06309c06eded1a4b881aec51cd2935356dbdb5bbe371b974040e96883b563712ebcc67fb1afcb483a305748ef35de96305e081625e13e26034a6be900000afde66d877aa6195da2e794b323769826f203102f8e8ddefb6c7e2388a568e026ff6bd58abbfeb79adb68909314974659ce792a4abba7feb18dd384fdd9e5f5b2089f43da85ec873e663937c337c927fd98d36134741c3e9a66feb73891649536874eaf23923478d2c9e65e99c76fc8080f9e58c94bd9c22581a14ed8a42984f85aadf18be953d4121a96c4af05722d3525c97fb9b69e3f7ec86c0e43d16f5571737f364f72cd698d06d007a69ff4385f70b32a6362835764d0291038ffa8187a726d6daeba18cfd143371c8f436a78b81025866369cd675e8d7ea33803a9fe0a16d0715afc927da21a010a6d3a49549d94e92e9b0cbae59d4636ef6c2b25268b3d2b2036ab4cffcd728224de1a4c7d53d0d7a96f77167757d895292403a7b8541b7bf7a7eeefe616503ca926f0f5f2729085e829fe39f4fdb83bbdbb28db12f36f55caf10fc7e03daf99b31ffd7ab935c602aa8bf47ef714db4ce428e459f91ce5ad70ee411c5b4fc457c434914de9d4c7168fa8b0c929aedc0962cf3b870f80ce329a97e4a7160ade663e50aa662e9dd824e2cdf4329c72ff73a5d95ea74f8c3fba631d5e3d0972ba4b691f7130041989f3754be451f2c5e56e491343bb2d1e6b8eb601e94cfc9a07169936c5a433c8acd50515d65ee3f2762db68c2198798a7fcfeae301e63a323ec328d605904613fd28599e86241dafbba2d5625e08da47813ae1ad7ad90f575bf01b6d0eb44d20cab6198d742c23bd53053c586d04c82ef9e1bd732aa0074cbefcf1371cf67dde167d78a8cc7eed018f83aef09d7a5425ed3c8b6db11fff9a802ce9732fdbfe95f45d628b7b44eb5a2cbb2f0043e7c577eea50b8b9c33a6972892d6a84a99f643b03c87388579452f485781918104f4d909f34a57ca59b7781053a3c1477b56e3b2965e434c68a4cc39d621c8ea0cefb5cd9564773f046a032ccf1722b573dc1cc3a14167d4281b68dc22c3257c49c6d033b278eaedc642addd4acd16a5232ba9afa9c73be235e5082002ff0301a166755566cd67dbf57c1182f69f6333b8f968a51cee264090dae8d193206df9efeb56fb3ae32a71fb55622f8da491efc0daa534a72f8c6644065f8059b165fe0255cbd8c60011489b3614f56a89b302d9e00f49c780d9c9098288911fbca52e27ffb997a39bb8023ff9cd76aab9400237dd113f90fc0ab88be042356ac644fd6cc8bb5ba6f18e310eca6a04c5eabc90b4c7c804f45e9936a823dea3326d31599fdef9794ac9b6598d6a1b3906813eef7e45ce07faaf8785a790fa96a7679dc59433cb5d4c799280c7bf439a72a7d214bbf90f7bf40f0fc870e842023ac34fde14e71f6f59c74ee8fbd0a2609e44eb23a1c3221dd80f7b443782bcf9ccbbebc21d840182bfc049b7fa06f423f625b1858335dfd80c7f55b2920915aa952177ac5a2feefa9cf6df95d996114382d4ea8f44db1679ea5f61645c2dc6c6647e9dea608360c602c467ab8e51130ae139024582c662cda81758634cd95889b0e7a32a4b5fb18be6df56e416af7f06e65cda1d61d8245c0a69b93aad0f87c228a396ac5bc36d51b0353c382c859874bce0e83087731456570013228b4f769f64d0476cb5ef47166f79a6c5223ed765f398a14036fb3621ad85724bb39c0e3806e59796817a7d130cb0938f3d735f70cdbe2f33fecbd9c03ef27c1676f4b0364f054b0347a6eb1badaeec4b7c59067a842f5997b8e51ab9829b749c5836c8ef64f698cacab7dcdb9535a4f7c9200b4651293aa36bd5fbf64cf7a41df2a9dfd9cbe65e17dd37af0f189f80a97aa346519fc1a806786e5045d57a278a9687e31ada4cb8125c5cf4bdf17bc05f23b3059f58bec9e565e075d63b05e417a0967edb9a7bdf98750cc63b40058117bf27504d5b1959ece37e128abccd6e46bfb2a02706007a7d5f1148e115b8963676baef974b5f3fe1a4f6b84b6ce363655888361439fe27678478e707f75c0b4931e48a8302ac6eae9a6718a87fd04dd5a44b13c9e7c5597ab8d9b33eec3861f2d76815441280398d9d94ded64cd861bd85eb5704c917921c793e009ae32690365321c682157b27bbabf1c6410f9ba28b9a61720e8b20d89636cea50de15b3a18b98867d0451041204733bc56be1ad8e7e86f011ad9afbc7ee03be4ff347d3725ef6e747b62612629b0c790e56079b8fd3a65859da40e0b835513172fea991695f75a7166cba1d1d9735fab60658868fe47272237a74f1700bb140a0d2f3f1106a095a2af0298b2319abda708130d40675ceb02bd830f2bfa3821bb108d16652e8dab8b68227b3ef35dce793055d7944fd00ac9a72f97f856cb76536711b1f9e42da85d57d5d5c924f05c4055a4b63da94c369b22e2d762045805a15c50bd55d0ed600ce538f9161c80160c4b5342173950e6375377aef20c0eac093443fb825ed125370fff19d17c9e30877b57d114d4eac9507c1a81065240b921eeea77d87ffc5aeed3c814f2659090ed3073069b40b9b86173225e075906c8dccb4e7d2cc6967cc8951cfe3e2db2d8b310756359cf4a34a8610ce36d7cabb4b310a974aeec4abc30ee012039d3eb2edf1e1ea35a4c812409f7cfa393c1ecbb6b8d25c1d743ea3e492786052e5ae8d84c7398e39106e2da358038c521052aecef38adca11a1377f16e69e6222d157eb639eb76ad6364b3862a457f151cf4019ca98dea2270640f1427401adb66474a4567ad2552835bd4f68f51e02c6572ca0c6625236781ad0e4829614c730f48e4f2a1b38636747edd675834f955606a6a2be40a2e1d86e5d087c8b7068e0b29c52ede96adfcf28732d1ced28584bb150579bf87832b1a162d9cee3f702491329a647b2d49debe4adc9caaa7009246fb5d366a888ade459e5c97a799546b9f925dc025828a861f67711717bead34c72f8cedf535ccdc0522389b4ffda14fdd3494e6bb2724f96509ce71370f4741f840096f18d8d5bab2674b860954b38d9c8ec419bba6dc0ce8d403c63fb658d8d8b6cfeecf50e2a4b7a4948ce6619e38246e89f8c9fd62522048c21a646674e985c78d7c22d901f021e5e431cb02e5c40e2b623440bb149f04a456639c88bcdbe6a7e3c57f35e8871a3f1615a83fa003ae9c050fabb8752455ab9ec468c748c50410831586174af3dbb5eac4a071af7cc7017a1bc738b1279009a9c7818d89069dac904709ced107bd6e9c8533ac328ded7140d869ab465e880dea7181688e966c9db8b3142164dc0d39e992b95ae2b5549a2b9b0a7b999f93ac7e0776aeb88e0af749f9cfa3485e0af7df7125ccc0b278cb835dfe9fd03f330e7941a09e04d8b50828c9a128f6368a3837f1829d4949e01c4028feb455b3e867eb0fdab7bcd19d52efa5f143fe2539d50378db349c98a215740429b6cded3fc8eeb97b323cc7c5daeac934c3f276a1496c3219a272c703a716ac5e8d388965ed71b4d4fe74bca17c4b158c60e34d77014b8f4b5f028539e185a8e97e3c2dbe17f11fada6df708d8c48ca9796c9b717867ed07d71bc37ef1d00839e4134adb2ae6a356530660b3441eab5acaaacf4c0f60f1954cf8145bf6bd2ca9a3578d07d6994b93771f2e92e4c15a98342dff02494c66df1cb878a869e974fe807b15eca5c89db6fd7c422e5585e4ee4d649fb4f63bf241be108c0abd845006ca289b3f7dfa784f2ef116bf9f2d92f29a50d3cea41ea5e04568ee247702b5478ffa065f3ccd0f7b8719e50f8059d220fee4c40ea58fb4b6c4de0c7415d7ef6c5623a19b1a14d1b1748a39e4a7bd63aba81f88a3c0df07d2ada91d35cc2c96ec8b96e1140ffd6a9d215755fba8a61860bbe14dcf257ff31025d69c522364643b96bfc5fb51575b6ce192d427e46d4803242d1fb8d58c2429c297af295d2f6ead15fcb04e9691687e70673bfa66216693c6b2bb39ac0776dc33a9bbfd11b5d2425383441c7f3de5e70587be7d355e1928ea0bb2fc1371e3fe6eaa329b9bfd53f2b91da2085baa6b6c2ed47ec626c46e08fe65d67a2e03aadc21263983334557b8804f5a5b07df8f77e54d2c03b01672371c4393b6b9a3dd1cbd49e6e79622e095fc0c0c2f9c636175d3ef43d3e47ec495612907d370375d161e0777456125acd2785d0827ac986c541d624ef895114c0f0451b63e9e59ac70e15d20711c9939632fa55b126d3eefd62c81878a0644efb50a309e13e0f68b8038ecd6fb1e975deba319e98bca46b7c23f4a475c7b405e4f021c583e369f5126d47497cf74e75e1ccaeb9d1b228f9fc78177c3a363c4dec044396f2565f08ffa32e9b03d96571325459c733397e556c1fb72842d1fafe556a485f25ec7dd6d3fb16f6bfed88a8b6132c84d583189a28c0772d64d19cf32eeec17b9c5bc6647b014c984e49831280ecf5f19e59b7bf3a849b315f69cafb05768c20efe5502ce2063fbe5982caa7c5a1c90ffd41123fd745fc6952be95904a5e5f8a9747248ce633d346c027552fd18638431f1c81df0fa516ccb3693dc42e518ca40ee1658f16df21d73eacb990ba5dd9178a1ffc49adf59eec53716db4b3f0d0c1b9a2542a455903651a2cbf3773fc737799edafc4b3cad34d74419a6a1b2897ecdee1e24f4c444635d2cf1c805b5487c33f7a7a2ffa44060371191deb05a87f7bff791fe446d1e9853d5efb6030cb53ff9bbfe9503317d5e66e71a3a63cc99ee432d79f773542fffd54bd9c8bd71781efbb1a6b3518572c35e534812d5eb68d746d4395ef47f9789c9bc3ee0cfe2362f6cf30b522845b86500c7a7b50fd664e6de7fc766b24522c5026e6a4be4f88a29f993827ddfad2dd96c4d17125595a8d409d51724a47cc10d7e07f8a6c42dbc4df302ff802362ba7c11e0965855625843eddffafa1056a3895e358ef14907846629254fbc6d57a06152df1880263e225aecda2198d27b8da7d5587e5cda418496f761c320af9a79b0d665d3f20883716857d10e56d09512ee228e72a7f30ca1e4e7f2cd32e5b69037be3191c4dc13ac8616b48635264266f5a73cb2a3aecdf424e44fc7dbc95fd01ba8a8582d66c03062ea75f8edd9d68387f43b49d113d4924267e6045fa6df520e2b1b7644f5d3f67a0ddeab7a0c1cf08eb9e90f649714da6de8d6976d5be80c39ceea3d20e2b5aef14d0775bf2dd892b191b06cd30da9081ad413eb12f5505d47fad991bb9d4729ea42f23b001e71191b647efe19a1b6379678e348bc3756af3de4004e3b620deaa9e627539571c0e8bb18b18407d555e57d4cf17a2b269e88949eb1a85900b871d259b661fc680ab0817f702cdb322bb0eadfdaa3167900abf7964c3b3827799129d7af177536317b763e5de6b452646b326215ba693308ccda374c3bf45d77ca94d152c6a91f16d15ac997f6dfec190572c07f9e73e56daa1b8f6bca7f5344cd2339937616408824c4f8a124c4d011df97c2261bc0b65c517ab92b131ae8cbe0d105789139c6b12570f3548c9697be006310f4b1e9b9c7f901c6732662c0c3b69a95ab7742bac90935fdce147c73d3830cc3ad12d8589af23e74b269c276765be0db2b464cad1861ad7d475493fab74c804e09e194f67219401b54c0260aabb6db1f8ecfd938611f9c3e329ffd7456256d6bbb6eb54cb89496aa44cb6cf7a3bd0e062e6071a9faf5ee0cd39d58816bf0eb2d1bc67a995e9185b6f60a3e59ca570164b32f21d36021c86c5574ced948ac57f34dfaca47128ee9d14f43c28e3f36b822a462197488a31e35ffd72bde19f9261279485b74e7adb2ab4cd99ffe65793674c8a9e3ab65f362ae3124f74f15e0d5fba63b0e68b8ac971e0eaffdc709658eb17b9cf42e203c23035fc4a8011f75784d3874da99b4be92dc6c25983de82a9de1ede883c4cd395f838471a24c4a6196a9813273b5ca3c4c6dc4d6baae6fabb03004679be3f2f7953ed251ad146c4d386d1db0ce54b739189eb0b981bdf0c4a7d5a08a7095170b1caba75a2a14d62d88b8337226f7fc8fdbfec4cea70f08c829e8a2ae267818daa4cf3c312011b9ffc2011e57338348e81a51444b4d6d61cb7427d756bae1bda61ea42c2ee4befb234dbda9d6956f7f09e14c510251841144367d9eab1f10f35b5c79cdaebe8e64e8d8c46aa8ca7582649807981a50a5816c3d531a300a18f18c3007d82df95c5615fba3a29d4d0590a250e97bc2be26b59741d500be20f673c6d821b421c048f1a2a7aff3e4ec4690e09aea149a28ae831a60bb894bc67731f64925cd72ffd71ed267f3ff0eaabb1b1ea786a7f961685094cefb77dc8ee3a0cc3e7261cc930ff950817018a1c1896ba0bd196f71317d5d4f5895d1fd5ebf75425382e5186dfae180ef77d465a1a943c3e0415db43013a67ad9327ac6d717bdec14ab47180337c07044d17836d790f43f92e8b0b4da31562203f53f7514f903c1bea4a727f553c195f9add219565e52329e68e8a1c7d7c2df4cc99e95b0c79d78e48bb2e54fb25cb9272daac5d2bbcf6fdb2918e1a0cbeeacb000b921defed3225e3c7facee62aa2a656b91598cb3d33531d096628f79eb295dce23a92488fcfbebbaec0df99dbfa656dee3c3e7e25daa4c3fa0185dd0720733d2b094b497a7703259667cd32167d3c8293640688d41cdcac8448876e811ae1665850b90c2e04d3b3c97dd263593ed169bce885603bb8f90655311a7c5327be6c2465802142057aa3e9a634d6fd2dd87c0731ee19e1c7a4621e1ed70ac9c1061e9043af421595fc52980927a421b7222976968e686d11c625d8d56ff404c8515fbfe9e139c6404b8fbd0fcfadafedc0a70f6909c2d9f9f8a091bf31d79e1e89a4d7454bc63cb42158bb2db5125093e88f5a48b57951bce10f710a052033e066957fc665cc42b233922fd9035a1b601d80e0e87232c9cd6f60e088455240b641ad27c6bcc33dc7f60b2e4359cc8b8b715003cb0215aeccf5ad995fc5fb76050c09f70cf58e0d6c2db9463b70c66ba432b1ae0edfe9e1bfef282418d972f27735520ac061be63598cfcb9b664fad76555ac515fd709c9414199b6a5fd248deff15012e5808f86c5ddcb622506a02d01390b06381b7aebf2f8308cb7cce432da17de1b33eb15f9a85bd7dc02617805c2ae9a0425ae95c311782be0370c3f0abc94f655ebf87750b90d645e075549286a65e7e2882496bb481eb08a588ac1bb77bc0e9504272111a1a65e5a5d7d6021d6f6506e28d745638466607e7d2ac2850ebfe59d11f49881774504579a33245e6d862f435924334ca6a0c5532cd5a7d8f888052b4a81a36afd6f8d872af1c96a3449d67318574287e87faa7cfd2b8536739135c6f260126b44c0cd35e53c9bdc85b39fe6fccaf93c97b82623f61096fef287323894a0ea7d0e5f7f23008dcf49fcc34489a9753bb2073c094fe5318fc46efe1d2bd7b04494be4776226deabe0978e8a57ba739a6f32b15f38946e4391da8db190877478952dc1eb20a48371df92cc9f9463106eee6386873d6c1cbb7eee5effa5caf34dd8b4371da6b3adf8ecf74cae59882a2935c655e365aab28cf9fc0de5c5811904405ec7d0c08fa81a0282b87874abe972647788074334d5a601d5d8ae6ebaf3a9a3fd06b2aca64247d37c762ef228d03a8051c45cff7e1fe294a8103736e294f08ebb553391c65b0e288eb694edc86eb728e5bf3362838fabad126ba26a5177c562dadea2895a336bfc07a985ab4b6fbeca54b5ee1d31f3911c7febf2326479ddace3c9f8862426f42d37a4ddf411bdab21de41300ae6e6a9612e60fc8c196682dc711bf5a1751ebb45536ad49b4c46b879e3baa7573d016964b1f0f17ab4e17bdbce7814fed1c0ed48a4dd4393a4f10ff85eae4d9e0ec1c3aa58d84589b88e682d0283516946894fd73bea76539c501675d5d3546bc242238e81911ca8ec4d34c87a3a53baeb15491c97c1e19be439d1e3081e08a145816ca62680011a7e5868b792ab8135e60c33fe5bb38b82d0a386668c63addc198f3f340548c72221f285091150268f38258fa67e6960f8d6b22d84927841cc83786da9cd3a5ec8ab6ef041c3da9eed392049597b950be5ca71c1d81c21b9861210c7c08270148c7757c94286b6dffce0d48b72caf76c7fb97cf69ec3a5270e19cff2f3ed77070775fc04077b4d23e9794646d33c010454b3ba71a65c91c1fa92805c84c74c11844337d81bbaae44bf4c60a05b6ffd848dc059e453ad19d07a4947aac1321a4f93edbfc8e6482511b00961c0d53feac934a54c9d779a3c0aab283cd4bf858099510aea2adf04c57ed25ae389c2a37e1c8e0a3c66879161d2c80f4373d5c1f10f6a4eba03c8429a568366442283b13766f65a0b5942282522bc153383ece577e0a50317e3d926001a9a276142146a839a13d82f4ddf321bcb6036dbdb2984d15b1cfad4526733e7c029cd97eee152200e1155eb17cde8b0d0baae5aa5aab5f6b5f841641c2b1fe7c7f4d8243d8ce504eceff30cc589305789ee52837a3452a32dff44fe7e539e469cc64749c73514c057621a7b69dca99c30e51d3b4b95c4229c13298586041e1c5303a84f28a294d9e992daa754fd2d510eff21510a0b09a6d31b550f0c1020de2aebf6b9c183fbddfc185137326457dee1f847d39ac97decb72bf6a8ac99cb550b013d4526f00df61a7dfe0e67a28efa6bd8b10af0eeabd0a718ced96f278d22ce5152935fbdcf81c25b2ffca8a6ca434a197d53ffa35e4aecf7a5dba9d7e5a844c754099fccd7e175425c8f22874cb6bcd2d348271dfc7a0f9b16aa591c83a335c39772ac6ae7bc3e7b881e3575bb8e44cbca947e59d3a458cedc640f6826288b66415cc24d1a22a83ae7283881763d339cbdbcbe8b0caa170c8153673fa35d097535a3e251bacb3587fc6db415ff1c4727a65e073cece88d35c5e87465a31d371520efdb70283a42bf743507b45750329a25b2f5ca6c1c45ceeccc1cd6441d112c31e59daa2b60bd6b0068196b801ac02d7ab85894ee5f66e08c2e055711eb0b2810ae690643aab174ba8edd25aef5cf1419cb29f1514f5396f0de172b52f3d67bb116f85b2c042646e5380c9761dae90a1ad385f6930a3bae9ddfde466477a1c01efd8817571725ae20c73647ae8e94940bfdc6da11d1680d30016d7580c16925f1642f8ede49d5213aa003fb53f093a411c2af8cecd4f9b6aee16907bfd783125af18446d0f9ccd6a3192ec6b5f740073f6304e60283834fe14f02768b68dbe1495316add2d8c19bd7c4695674f8bd01eb625bca666d0ca1537470a1a9fca686227aa7e4a1d2dd02aff69a4b4cb6a1c15008b4886f865ca5f9e759015fc519f25386276aa2a2caad38b3d67367d8e0f5f5972701f9d58e682eae84a5a9ba5d9319b5012b60c0adcb457f91e44a82e4079a85b1167bbb2e659c921268ef4f5d445dbf622f704429d8009c129d81037a101ea9542faa7d2fe52f35aed062753058549ead07fd69f9fb9d6c0c2f4561186d76906803f73bb8c7ccacba17fa144b8dce0065a1ff25616abfed64a761e04c68ff16ff19044122f1aaec82f16c84f9744a69c2a82d8007a07a3824acf58e476eb56db02a3add7d71b068f5b67c70ae493dce89b636dfd3aa9d6e8f61b82ab93dab752ae6116a452f88dbd2bcb29bbc99049d2bd75ebfaef498d24e01f1cc112cf9f45552d02f133d0f15dd7e77d11f303b0ca842bc894af05092c97c6a532d78759ac142d21b7269a8deb80d0ec4185526777fc408e60cce869f96f39e9d2c73b7194a7b4cd450ffbcd2cafe2ff61a287a258d7b276434a5cfbd1dc8fe1022c60505aaf382958e86c01cb668e9b100232ba5aea0a33b944e1fb8fb2a82e0064b7cfe7b6f0bcd8ccd566eeafe9076accc03e53dd874cf531699f11fa9d41727153c10e43d1e7dcf7b1293d6e7b04462564919c0f304311dcbf88fdd9d181ed993279854a40b896eae793f6d85046074e5758d9a0166d6cb1b6c5fcdec54acbecdf119ca826cdc2bcda7cf34cae58757ef8c4c044ef134d634f7569e871a2a580c4a4d9809204b10b4807dc48efd35530f2b3bb8af057872e6ffbe9ef044f75414f2ada5c9df20","isRememberEnabled":true,"rememberDurationInDays":120,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
