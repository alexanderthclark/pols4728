<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"873835a987cd759ed801134cca550a7dcd584667fbe99a868693e9411f21ef09172888549126edbd7ba829c07220723989ef9be6a7fef1a0aea7bbba9e742f5e92b346f17418498bf671af1e9d637c7bd36f14b9be3fddf3e46950a86a208f438415ef193f5ba052f0a3b636b5f8aff2b8348484feb4a29d7fff8dfccbab855d076737d2fd2b0eddacf328d0c297ba6936b951ee5c72dcafda9f805612af1e2bc9342090126a8cbc1ae344304169f9e6bd96d824ef0cf3d561d0498022f2e66ba472b3df9d336c8686069dc7b013e329278cd88549bc101c86b70a4e697cfcd2fe1a5349417e83614e89fc6cd9f79a75e0375e54e29ea54fcbac3b1e9eb0706076e41a1598e2e8132f62c7f6cdfcebd1ed09d7aa4e56eaf2b3604c7386b013d5fb0d44d662c92bb8bc85a75f407184ae104ace021b1b9e199e917eeb2f2ea30cb1f0f66b72680b380918e4885337157cdf2acf777150f2aff30bd4f693b3608f632b6c93982e4024dd147547249be1667f4a831e32add050af000de3e6ff064fd81814c24b7d4a68fd07282b920fa3dfd85029884ae1e349775a4f80d6b3a9764901c0f1abca130cb74157546d8955f9896d38473eefc01dc6239157eabadac3362b3bde42df7901d41d95541b2143fe8e14614a261acc2480a8aa3edcdb2e7f43250c2e07d3339cc593fa7204a3bf1a59cd28f31af1684c7d98b1eccdd58494e7959de40d21be26dc46b8049fa1fa177d145cf45feaaaee40073f76bbecc6899db79be9a6910e5c249d3db9316e833faaed9b3de34d5916763c388f20b747dd6559e121f2339f8e9e20160370c185ac3913d6598c2e16e84e63bb05d14f5751ef4d74bb7dfa61528567b34af340483fb3dc13527d115f87c02d0ecf92011bc9b69bbbf9e7ee9884feed18b065c6fee8cafd8f19c5e002c005bf4fb26e826ba9964e340b66402569fa2ca545e18e7ccef386eb60c584df8a99aefffc42d39565599786c4b922d0ab28ce91c45be9679937510fe97d454e0359a1aa42ce8296a5444f65d8898172ac990282abcacd6b6c336c1ffd64e59b720447738e98b2058b3c49259d86233e4e8f1a94f2e8e4d68436aa0f6c115caf8d70d9bd411e2dc6f31699b6f319f301dc1b9e63fcf8d253d5ca33551f2aacb67aebf57aaca724f6035ed888e50d5754f81549ad680994ed7dc907f14f8b601155575c6279880f1de503a932d86b9050b60b35e252749f57e8a54c45b8b7f2986942762bc48758ef6caeceb0c54ec3d6cef921eed5c2e96f349f32b16831fbf677348211657a70ad9ace1345e5d79c89f4cd416800f285ac5dea8a31a097f3fe767549d4ba61b667acee050b00c25cbb067c7b1856db2ab149f9a792142557835be5275c32b5b1862d41fc76c9f247b0d9e164d668d38360c1c70fba2fe31cbf33a4452fed8acc17a2efb2eb1e114aa6a785ec317245511ce167340a4635e4ed6da7a9a3db6c5b0be55bd3adb6c22f0030022f578e7a8a69c9843a586ff7bc6bde3efc86558de71e7568d7a01b202109ba6b2863082ffdadab3fb7c5fa324d7f924177a273727efb0c7f5d4a7bc177bab5962cbdc8ecc9e68d122803b08fc342cd1c44032913bba307058840e9ef0b4e3bf96d95d42b34ea9a32bce2a717c8b3d4cd1be8af54bf22e97a10c5b57cf870d007e7f59ed8ebe006ef09951d77300c7fdb44ff18d144c531ae3cc78ddb8479771fba46590aea82cdb8c1e74d924fb11d203539618254dc0ba561a2ac8025c70a1d956a37db57eaa94cf58d90955fb299684bc6f982b8f64aba06dd37c757f5921dbd73fd1fa101a3a03b7d12a9c08857341af09db0678cc0aef48b30e1076654b1f4c832cd6d34368e8c0e3bec69bd2f23807f2679a1423c445cb1c6faf28e14c3548e0dcfc0dcddcf7badef2160269fbccc9900f33637d467f5ee50977753ba3ac7f048c372885c65f8cef38486d7d9f697d7a252e760f74132ce56eaacd830a5c56b257807725fdc4d48441dbaa64c405bba3011ae2d79bc5abd7d1d1cdbe963e39b06473325965f4b32e495481432fe1d436e67c406617428cb3cdea833e16de2fc9104208cf031e86098a18527c1d2bda8f1e66efabd9aff88fc34f1e34ce90aea77d67b3479ebf5e6fe30426a3ba3fed4c1cc9dcf2f0a725213eb41a37f850c9b6061d2c47f7bba2dc44f15dfa76c5f658cc0e3d15a94d3ae03d6ff41fd6b14f937f830f86431d14a969402d5b80b4823eafe9421f3dead73598bd3fd30b201498b6902345227cc8739aa95eb4b4c15828c1f48405694efe50b2bbdf37b8d60fa336fa34fdce9c6021be3db1a1738359845615df095e9726489c2280b5cc796737d097b7382335fb39b31c6a82b8844ce78f8ddf4c0b45240c732013a60ea9c9245abfa82f235aee7674b838369218e6f36d88ab1d43c4ba5425dd4575089075e65e02df6c6f1f1f88d648556e19bddb43efe24e6893406a5b678830bc365b042a13b5fb69fec6327fb6af3f4e80e727dbd0475124aacb809260aaf43f1fe7c3ff9ce22685d9fb88f141e8c58f1707c99ea436cd218da27f9f442c1ba7f64012b3e7affcab36a8fed011c6533f861de6bb40d48b0239945db1fc16b1b8622bfab37d751f9ad38818eaf551208f2cd0899276fcdc1850c655a75d7c2b0ed32ca8df2611615ebc0fce5cb29a8803f57b349d4c1d81462ed81c7492d4823d9104c955af45771584e4bc252c780a5aae727977a3906ba08b62549ec93824de4d6e58e90240cf0ae27bfbbed56c790cc2879b6da1e0790662bb7c3aecbffc31c159a5a2f434206025c7bfc130f64bf8e55186d867cb0a7fe035c4ebb032afac6a81ae3f9a7f78d733de3d1539dedbd9d3eb69b1bbeb5c428f1ca2bddeca6b5b2b64dc4b5ad3d765b3a05c9b22b481c77ab072fb2c0c593fab2f7cac4a5bb64643a54a530b7be4ef4f5af00518494e69921ed5aa6c4d8925b1a7a9fed7f77c6b026206cefab747b3b89783d5afaa8fec8fbaf4d2bc369d8519372534a8cac577727883da9d0a6164f511ae43ccffb2d726d5ed12f1a9214f90835ca9a11b674ca535190fbfe6c7769bffa123c2b29abdb42a60c947f6bb0dbfc1da71df29cb201606290413a0bdbcd543d56c700e39d47df56aa23f1622d64c1cf56d80536fde42441fcdc8bf80d1e1fbc8c65a3ba80b47797585468030d8d5d1aebfafd30c04dbb4e418bdf029e4efc0e52ec05358fd71eb92d33b75d4ffaef2846d28cc2cabc06ea1688234807aa60d37f28bdd167d14852d0eedebef67f3e955f8bcc455cacb22cafb467f67893ae5c99fa2044a082b3b98916b76ecdb04b74f182205bd8a5296d7cae8d29e529b2e317b62e145d8112a60e1dfacc57a2895a705435373c75f1c86b9c1615875bf1fc9b0167cc5684ec00ddefd150f78685ada7d1e70afb4e56082a7922d9048e8d05d99725b8f78acb3864e4335a6ceb314fdccf4077464f7255c5c6b0c790c8fc546fc662eaffe1b32b6263badebf9cb74fcd1aaa80f5e1929a7f23c735809362a02c9ac23abb21816a83050db7e4f17b460a96ab28777f84748dd62d7a8aec6dffe2b7da4bed9ae30be57885b6bd4de1a7114997dd461cc0aa78754982fea223265b322e4954fe7c2c485362a25e2901d0a9360012518cd10b5e314d6ecc849407517c1cb4ac80f0e3d39c531bbae75bb219271c8471341bbb0cb0531fb3f70f8885829868728ec3baae4c48cd56d6aceff9cfd3d95829cd6c22ce216bbb3fc02e4fcbf9c4a79d8b777a6668fd8da19b02ac73dc46607afc93f33b696ab576530ea7ebb638f0ff51083de93621d756d08790a36a880560959159163de23da14757024747799a04a1a6c0d57cda3843aae17280b26defddbf07301eb6d42b9232fc8e5ba5ae81809b39cfc05b33c17cac9d6ff60ceece2c1b3f3e2d4cfee331bfdfee754a6d22a6cb59bf6d9f5f30284f395fa692e4011a6dfbae37e7ee371474bf89f9aae89eb74af94290b1a08bbeeebf04d60d47807ed215759022f0640f4d0e7f0877995ca2988bc4c15dad959c37a6ca9afe0c6d0306d19f0f49eb6260306039a19816981fb337ebcad9abd1a78caf45438edeb0d9d491a076954a3415b236fb7b7d50352d59c39d35a2e1ac5814eea21f3d777adc5d2c26281de886beff3083191ab7f6182cdef679eb34e6753e040a410c65d6bf875e9676a8b605937f432a8b8f9cc565ad8cdb91678dd563b94f9267ded0888c7b219c7e5c5893e35475aa658521b80db4b01f744b674016c771ff9d61a5515e52b2670188dbabc2d54f3589657793d0ff4b15b66bb6d82a6696c1fd2bb81c96febbbf26c8eb91403a699487235b14f9a6c4bb9a1cf5a4f5ed15936fae878b4ff55224d1fb238d5f3c04b3a0c77fd164d0230052033dfc42260b2df57384bf213a8a215b959a8df920e21f7f5101245931238aa0f55cd1833b0da3a6f46b41520da94e80da2872a753a30a5987aadbb79cdf8f18d75c171c7541155655b7839060c8f6cc2e1bd0fefe220a3a34c50fa3b15d75bde7b9cbf4fea552bb01887cced66879876151b1b259699acab4e7dce2d90dec35de92b12ba49e6c929427e0265be4e704d2101c1411ce3885c5a80a0d1e73bfb7f3889ec9d872c3be5d1a5b533ead803731ab975049437d34b83bfc7048732744edd1a68c595504136f82175d8fd447a6f2dfb3de0421ccf89e8afa2108258169002785646ff3f25b7e9be8b33cf599a04355a834002252af70704aef97b1c905aac9138051cd45c6e62918e79d0ff02d5428abb30b85efd103e0abab1d3cc6c0a0456305865d605c86966d5bb36796577b5bf8d3e6f57b6132573254a818f79501109dc986c2a119ec32ffed411a40809f9cf8b98b7564c49c11bbd77b592dfde61286cdc390bb3701aa719aa26234e33fcabcdd970ba12c9d499c616d884276a901a9e61aad165ad36811c18f20473471261a8c2f1600c36d26fd650be13320ca08039c6b16394f5d245141c16bdd732ac73f2b9a79230dcb199dd4d82ed68aa5b552a45fec421ce34b392d5c9fe6c86d2f1446888348710c97b3a1af58ae934d122757da0228f293e47a5ab831243c3ff3c15846216649201f80a466515786c57bbd8e0c8ba15235d717b2fb6aa5e1e8285e5fcdb91ec879dfafc4f14a265e3aa8c3aa8f437d024fc9259b3d017755c0b8b4905fc3fcb6d995dd94ea863fdc8358e611532e8dab8b35bd3b1c2d0b7e599b065d914614ad6ddd87880f2ba94105991998596a46ffd4f076c3794eedc01a92751517ae750ac1e27fc17ac43b27746fc56435478acc35c251cc9bef2ac69cfee8e10e4208bc2c145656e2fbc0043c749786a23aa1dc6cff6202a82f6b9920212b789b706a0e2ab3cb48b9ad59f63a798e9f0ada3105f115521a83785967c6205eeeff691b6d86bc21e87fea9401ee689d3d2f3ac240340bd78136abbc6f5c873b5e8722d4c9990af9c9299865bc5c61f4bc9dc90e21ff7b6cad1b79366446711b0a08b7353d0652f772cfd669fb801591c2bb7d3f4656ed1ffcc21ce56f8b057395d1e6298037c8558bfda154ce5ed343ecd4ca738869c2d8242ccc6ffaeb8cce69b197f7ebd1fea2c84f975847de2da38a0ca0283d37667e656247bf12cc6948de3c52f9912aa9abeef6b93f4e4f0dd9a80fcbdad5bab2a4e44d77d3d464c15d51cc601e19e3d08d870485ba058fe8b545c36b6727227282afbb0fd59101cebdc761e616f5bdecd7beca09a69f96fdfb9238b87d870045343e7b511bc59605e1efb9ae0e9d15d5967c2a170d9aa289c1a69215f26ccc1a25013444aab60951e10a92c413585ec1afc15296cda7ab3415c7f1acc957f7c7bea269fff70caf51a53ee67daa664202c4380e0081c1f229098bbb0870b961abc09a042bd30b288ae4fa40cac2498fb9f88977bfb4016b9ae685f2e5c5645e4d275df875697e773b91824d79fe4a0cc889cb7a46c7757569bf6ac83f96a307a8a764085ff32fa1fdd2bbc6e41ae0c2aa3b674d59c4671c7e3a9f84c10ebd8d9f8425de0d37772a1f380cfa224efd23767eaf17ab827afcbe586a32e77952e97c6e1f7b17f61573f870cb4a60f81198ed75310035429b3d14bdcb805935e21393e1d15e382361ce41e307b496b701f879b3a722a51819f4e830bed36947d8407a337903e4bbed0ac564ee7e558125fc83f20c28878e136b8019a4976c7cf79538f5869eef221d8dc1bf709a11f48dbc6e5480d962c6e236d47a071d8e127ae9bf7b42e4a9ba0ea276b0d7f62d82437a6ebb8d0e2b855c1b73b068c7c728b295edbe552d961482dbf6996a0b88c94fb71a4791924716815120d196c17585e4f5ddac336f026f6a0f0537dcc6ab5a81541bdf76d0905934921d2e25df4a5226cd71ebb9562822d11a1c5083932f04181958ac428182524c896f0e7ecebc643978061a42db69649231771877a09321ec8f8f357f12db8c3bba4a40f112441c7a3c1df22e6789d24fa86ec862e4ca6b9accb60ea581aa3b9fd318f6456b40524846cca3c14919efed0a513fe652f075286166d50fa1644f77670a9f165bb008e5b18e5b5e11d43d84be784e773b6598421985094ef573c8fbf8c9a8a97ed6a2b781000e55e6c6d4f20393b55bfb928362790c73b4dbcd0050acaad14f02d5e11cc81227a84708ce8023943fcabc290fa7968fa7b96cef711616e9dfa0cdb4420de4e1b4bcff30d54baafa20bc08aeb273e0448f36c30a9a91d17da083cbe72c22293a7e13ffce1af3c8e07364d6ce9ca79d9377f44e73fd8274aced38a63d71933726c769a770691ff7379e289bdbe124dea1c2270fd35957383cb258df3dccafc06720cef09b4f93da9973d14361be7eddba8c7e02471b7e8fbb6ef87cf776d11824f9047c41c17e9ac004ac941ccc45e74762491793fd2d162464b936291098e397f45817fc13e1b87c8e96ec44ecb73c450c369bb3ac2bf4388aae881021f89c9a762b7b872efb91bfafe17aaa09253297a019d21c6399bb28dc02930c4dd85795d5f708d10bfdd6167d36ea75f156e80dd69aefccc8ee17dcf0d95c8b6385cadddf70171430ab5d899a47be505b43e2614fd6b097a17cfe94744859c56d4a2c04545e7e0e6a83bfb3a9fc63ebb0bdd9f42f84b41cbfdcc851e952b2f8b52f31ede0661958b04c4c6c1bc134021055ae309c9168ae2ee3ce1bbbaff8bebd044dbebd801768c6a7ed86bf21318b8ea6e9f751b938d28e683cbd2511b5c0f56fb119e9a14dd5e68044585260fbf323748bc62f3a63012d7e3da9ae8941ab6f11580bb662b7eb21202dc1e80188e7886add84c1a875ff4a619fd9b0790228f7be3e1c25922cb81c1cadfc8621ede24e31925afeccfa7eb0eaceb099772e9badb2068adae087ee8373398e3d559f920e01ee0fab471d0027c6a4ef375428b87063b9ce449f7c7e4e0f63a2c802395c688c5c6e8e73f3ea674908059ccc230c46712ebd1eab650af5db3872190b393cb9de6798875820fc7657af211ce16b60235d841e074998e835f693eb7d9d31354871e6acedd9732a4a2c7a108f119435f1272ed95be99cdac7d45e81b977211a0c42ef06bc6dfb85ed7cdde816bfecfa224c84219dc481336bcf1c78ab2ff6db7d8db5fcd331674a5153b54989bd2cc5cbb0c91397dbeadcbca7a0097bab24fdba5b917a10b0e0bf7efef5c8ecba2ccaa12bf629e7918fbea45d1dbaacc9ac65640ae8a8e751962a845a0ca7698f0ea898fccb08180fb87a2a50e5d5f52e83ecf0db00ae0be2f5eb64cf93186392308d091566146a014aee5aae2165465fb17cad72ffe3a18de3f0ad2633be681c93c24d843c6d5c1577954faa9d5539cd3e6c6322a5062e58d602446cee533566bee085c6100bb63741f0934fe2453fcf91229482dfedda756a5a8fb24eed0338832a7dc35d9897317184a4e3477a5438cb0b7af8d53ecba7be9e6660b4049fff442a2536aa33e25abfb56c90064b322baffbc23382d873f0201fc8e3dec1ca70a3a0a4d595c07a824b13fcc84307c49bf5b65d6ef28c0b412798824677978b321b876da7083fd052975bd2cd0bda4dbe63e5c938a0aff33699f2d48aa9df26efdd29aede816a1fcabbbc0fcd05bec80b210bbe6c76c146580806b911a5bec23f065bd866a69c48107b56ea5d8dce207e4b515b9614bb42ef9983e6dc4c9f81083c86a084cba2226a3542312c1e4a955eb37368c2955a94448f247f6359e707c9f57c71ce1426b24bd3cfb49d7683691acad1972848a413d730f61aab38fb36cc214e0ed69c3b975301fd68a6df00a00de285f2ca246423d294188d73e0c60f35cbaff7cd75b634898234364c754e6dc8deec85bd62973dddb2dd9929706ca3a3127b8b1169c78a6267af0b6b9bfa624c0662b04247f4e42d6d920438cdadf5e8dee1c8350ba9cc2c3adc414cb9559086fa897550a6e9f23ed80d15ca24919c00536fadb4c9e71bc0757663f9ad458e3c758adb10da72f7c1d2bb58f3deb3e6af05eb8c580799e7ca6cd38150350916503a5d972541e63c01a8ad7a955512b5b0d81ca939538ff52ef188afc52e09abb83d5af3dda4ea13fa2b70cc8abfdb61954ff3950a4e5354617b623b3249bf8fb4dcb56966400eadf7b9cf0960a051e6774f780d52667159febbf2d8a52682ed2dd9e009b33d7756d32192f522f8a0b5f6fed3ae8aeb9c45d7c66fe9bef2a5fdccc1d16a8966754328b4cad6d28a61dccc11fc5669241b03ddb7726f331056177d630e6c6750070d9c5a208b301669935b11a8de9ce0e580be22f7e8ec8ea4a09679c508a747a8c7e18a883ee8dde46cb67d30474a43e454a929cb19e72c04be4458eb7679f9199c7086e92f43c819c00683299bddd0b4a83d2f03189a2b13cb4913480e2608620cb9228c4a24b3cdde941e797ec4ecf9ce8d9d1b146d6cb5fea48da0bc377bda5599abb72012b80013882adc749d7c16b05c9a6710c1c9388e2b963a5c45f3b9264bef688ac83998dad2f6723a5549aeb81e3af19282ff33bc07366b1f064e85328045d0bef6d29744dee794db621aab65193eae9c913398d4f138341e62e627cceab32baaf9e4c3b3811a59cdfc92bc2c04e5c0b9e627e295870cc519ad0982bc3cf0dba78c3f7361428de306f683035719d807f99902d391ed4a8356f7da78949545ff35f25366671b1e1f452c394b477b6bb33a4e9a794cb5a973e4bf67bc0eb7e8d7581f87668e0ddca04755006f7ef7f76bd17cf313b409f7611820b6c6900a4cdb419b0bbd361d7825559cca22634b3e1de2867203bc654a87f0da6891b441e18bc4697e63f45d8fc5e8c921ba3c5dbfa09b6439ceda933f1f6dd968c13035b917c89505cfb06ef6273c2ce8fff3735ff758348682bce8f774c98ed11e490acd6e2d453cfb06a322179ff396669734babce327c6b187e647aa4ca83ec20755bd3ff77e2550ebfc36621fcfe26267638c4afc387672ce50870da0afb73aac792453731c7a53fadc3fd5aa80538ab58b2bddbafc2590eb36e32a4ae58ae2cf7109da3a62e3262674f250f1ab70848f4d671671d3902de63a9a66d34ffde9423cf4dd5446da18637c4be0ac15ca97956abbe8263ac2f9d0dadc144b555e705e676e6baa04af69814b476fd35f57db4a64b96fd114519e4f12a86533c2eae04b785e94b65c0bdd30a202b8aba109458d21e7a13e0a252ba7c28a95100d53e3ddc5f277aaffbcf9e65407292e374e9a649b1ba9ffe30382ed628ddb5a31b5baa4c05047381388f48592a66ad79e6e9ce6bc3a3a6b585786aee10fd6922059823d64b1b9ac78331f2657c159782be95efca2c4157024cb53675f000b3acc92511693e46298c17455c4297c7787fc8c32d0d01b81cafdc4f419aa41ef600517d2a1fe67c6d05d602112f284fa2844f475d30d6ea83ac442ad674015e582689c392b661ffc313fd21536eae5c335c97e7c87a59fa9288cdd265ff80084d6ac68c5b0a3444ebf60bf8f2b3e198b741192c921792e14b3f2fcf443175a702617bd6be51b7fb6134bbdb97e871e8244cfc356fd9eff2f61287e24deffc42adcce868471538f32bb40ad226394682b4b45bda988ccd20ede000131fac840000ebb4be9ec60fcd0dacaaa33e21f6d18296632fa085f56c6e876aa14a0b4d6436241a9f23298385f27563c89cc5cdacca87a84e62f2f8b50a20be4ced24ee9f08eb7e76b8b0a581a1ed2c5336120a9f2124498181f67aabf6f7bdf885c9ae9770591b5213ab96949f87fc635e9a63f8aaf8607061aaafa38dfb122f679b96a8e9aa446c246465c4a818caf32740b599e5bebdec98feb712552c02a57f59e9a419089dd25373fd2794fbe58abf043f0b0d9223e8fff78310f42adc8adaa4d0737193e013b464f8693ac1ef709d8e4d8dd07b2fa7ea30aec26bc972c98cac951edd8176c858ba2f998197426545bebf69498234a5305c7a4d125a518a1b2d2eee721b778446283d47c355fde8f6dedf4447013c0b94508965c04339c8aa472d12657ae25c020f72ccc374da11585109caec3f81cd5a94ec46c6db093f08b28a74b73562ae5409041947285890d3133cc0747fd7ee708ceb05d7af88bcd937a8ebf3ba7929a910337126ed2af302a0a4c482f2d03bcea866ad9fd77c2917f929fe25b5a00605305b674f31efc6597cf7fd5355b0db93093f73a4ecf6681921a851c94c6390d5785b046056bee79c71b3edadd78d720d24346c38fad50018d6c130e8977da678ae9bb387395fabd6904f794629823eba287c81d96d310a5437bad435d6213dcf11d8eea31a7b357a76985296fdd91ed0bf80fff9bae95d890e32575dc57005e332c171a5f35467220205955c475a712c0a196b87b541161086695934770741757158f5508d6b1ccaa4a56f5b2333a1e07dcc57b76e767fa3c6a00912d97ed07c1ab067ff749ff5a06c2108d856d001f0b00f10c99d5aef5d95301f65f8f76332748ff2f789ff1be915ca19e235bd88337ebb51bed387352d77d64f6259287d1a5329b9193983b1cbcec88bd9b46cc2184ad8e3446a514af9ff869ad45f2429530726cdfe2160a7ec71656a6e1cf1563c102b525c2fb3fcecbf7d1940776a79d484833228384a5424ffdb68089f76dcceac8997f143a0795fde0a7214f7073657058fba735d039b9869ef724677fa27b0047abb18403c4bf4e200f8e8a66da9a9a57d1ddde671963264361ed0bbc778c3963ccefce22e9933ae67143449efc6cc5621fe1ccc099d98f24a7aa6a99725be5f0c78d10e8f0a4dcce8c761bc03d2619ab885c137ff7adca75c2da7286cea502b8433bd64444c1bbe0ce8834ce2c6f3d25e5be832514b746406611f018b56550ab0999a110e069495a66ad6e443dba079a95a20ef685739abb18ca40784de25d2bf6e5e5c522e59d4449780ab98e63e45d96c58d05d768908917a3c403c4f98ef3e9ea483f8965382ab2ea3704112b1827b0e0dc4093839ee89a776160702c3d7c9f9bbbcbe5b7bc4f37bac6ea3e6b00e7807d9cb66685b2cdadd5ebe4992fa64d180d3877de7ac18ad6bf654dc548bec2a6d4e83b772ee86552b9549f7759850390c485db636f4065a5577dc3220ca4f37b675ece4afbd37a514efdd10e966d8cb05a9b446664679ca2fab9e8c64775911e86fa3368cc98cd8ac61762aa6148ea6051a56793014784911ede4e412911263ca15f8e8422d87b5a063c82952fdba564a7a8a658c21c0d0e934e226bfb6bbca2eb67309c047b56fc238ab4b25ffe32f14942103f8e49d64474decdf2068b3b2ee803910149f627f0dc5f55fdc8d5891aef86a509cffb6800b1c5c7f0cbe643584c5d3c523808aa0b769fb108bfe580564c083f77e5035e7ddbaac770fbbdbfed280645f3243bfc9d47326d844bd2578c0edad2db3731d402b89853b302f320ec8338b1a203a9ff6d07ee15212a363d53d681af9056c369f270923242374da0ccfaaff85814759deafa846de81af0c2b9da200446dc926e08f0922fe576a4ccdf1b69eeb2e74160148de122d6f77e79cf31d54b43ab13e0fc8be9632a5219401640bc83ab0b77129452aaddd4ec92a2bd2f8368de170301d7f168dec53434e7afbc19b579e6b6109a7a53008e3de2256d337943e229fbb93b3fa91341f898ed68e329ac82af4794a09fc47f66617129a58c7f12362e277f10325a9115d18d9bde709f29ef6d89a88b5a313ddd744e1c4fffee32e73a25415fa33491db4d7068e85bbbce7ec84a6fbfa134cac9719f9e3f859ae23ac1151d6184c0f046bf57378d564c15e16ddc1b02bdae4e9ed0a89dcf3ed8be99c763358567df4d69aeed7363b0a1d6237d341cae8ce16e5eb7b4d48300af55d4196b920a70558f0df451a60253273ee371fbb755cf7f54e8944e474f43313152406d3843f827fb8d14f038267b9677bd9ce0b6a7c6fb5f3f103eff16167fc42785d1570c1dff1024d50d8339db7cb3ee6c83d458f1b138206670b6e5b32cc2be4f8099a3a5209ff3535fa8fb1a44ca34670207442004f40af8402d18d1d9c5458c744cea782bf0a5acb005345282d2f613b2f7ce68a966b4d748f375cfbc4a7f494daeab8709d4aa8bf7ee36c9247f18dfd8406b3c784d2ace785ed6b3576b930127fe75e710ed058d995862ed686c018945461986663786e247cd001bad09b2ab0e2b5f456c74945fb12e9c1cb9748b85f8cd956803b050f6ac8a6bfe49f939d812eb329bc5b3cde7d7e04d7b78e87dc9ce169287d15a454fd0aefd5a3d8a897e93a07fa7b1b466699c27f10bc2a4041141a7c25c3313216b0f95bce985de92dad6189cc57569e76c209c4d5ca6008c1a4bd3641f553a59870540604baec270fed36163d5ca1624dca772022cecbfea943b6827467bb6ad54690f72d883e4a054e5e7e0fa364ff1316df8a3f859d2a4cf4b7be056df8e689da2f9e961ff8f7cf45135ae06ab1fa2b045d8f86859be8d106c00866b666d383ec8da803e75a3cc3659954c2953d8db9c316d09a0ecec18ccb0ddd1fe769e93b07a6cc98401a6ad9806bdd16378eff5a8028be2ea965738c33dd60abc56dc1f198e6d139bfc5d554e68257e9283f6d30fd609fc7f23e373a5a70b51937212af34315aa103d14587fafa054bc3ed11e61aa0b03ed151b1076be6ba3b48c64d8afb1a8d816fe846ed55886e6ca193c2e2edaffb72a98fb6f933491cdbf1165a5cccf4ad94279b791eb5932a7bbd2d7590ae63bb4591d565f02f218410ca248bd8c98a61af1dd851f94bd59811bfeff11acb6c5b5410ae406639d6a1c5baa11a01513d03ede4725cef50a03da50fa3679583639a4b36adc67441c0414e3e6f4fd6032545c6e492dbfad164a414246c9b76ac9e9a8073262330d806362f46fd06e3195733b180b1bda2a241f256244b4403a55b43d5420c994a111f44918387e8c7fc671912ff9132f1b097cdc88bc61f6b18a0201edf7be8d2899518e323f9cf06c05348ddedfa325a504a0c197fd80273ef4a5b7c2d29244fbd93634aa52162cfd4e5a86c42ff0fcc2bac6829d2490af382edd7f648c459a80f97c8653d8eac431e3d3409892212b818eb3dc2066cf6470e67de1ac8cb97bea5f29faac8083e60f98fdbb8c8ed94c5c1d7548f3ec50f747417bfaa08e23dbb8bb3a186ea41cd1fdd3609c93c6296352db1541edc714b191aafb267860e3c83ec209ecd592d8301247245f26cb16a76a0eb47420ea24cb67ed151e7c900cc725df519de6757d8bb10d12fd13c5ce06db2d08225ea9fc818b6936bc31a708cb444e817b3941f540d16b84bb2db610eb1f98a910db3596140b3d057973b0758ebd97da38101aeb994b310d4377c600759018ae440dfa738762c5e3c19285be656c6f781fcad4b9c42dd37457ca62c202c6c99afbca6d11dda5afc3181f291372539f0a5183728ce5c0f38af46d8d8158f483690570f7706bd4d37140d9d30c5ebcb734448607c362bf539804699c78ce7b881bc9506d456db2d38a75a02816776350068d9c533213e719ef1156d66e51dca738f7a30cda5a98cdf1f649837df5b0ebea9aba4b29c1c5eba7c5498260cbab77e2a64e8c403073da95ac8ddee8abea27c85bbddce047aba0cb7e84fd6bc51c5ad858181e842eaf48f75a6c8815571a63cb39352491e62b2302067c57c9f459def47a33ee5389c2f4cbde80e79772191781d03fd776014cec4fa0ca9739c078739e7e307e79e48387a994e078c2af19ad45a09620accc84ce7ab337fa797212cba1042dc3f9ae688139b80f16c23921f8883d2b3f843091854c91510023d2d4e5ce76b3bd9f0eb981fcbcfe66316da9ab0a1c5818df3620c888e37d7eabebe8cc6397b7ae92af4191353cd914ca4ece523d6877b40f0eb55b655006eb1c10557d103922359cec1b404c340f931982cbaf49ed8d4fadf0a42c7ce2fc4a2fbee08ca0a159e76822469b09b2fa8faab06ef14c3fddefd17745445e5ba68266eb9fc9352db96c02b03b087474045efbbf950a1d3368d168cb0549e4094ecfde5fea1ed1cd753c4be67d198af8c004c01e7c1b6c56fd585b567715fc085c109bbd201a1551858c8bb67e512ade633696a58d3b05589bdfc24933b0a919bde00d7c55977a03c40a7a75928cecd67e1a730fa089986a85c4e472a322562d3e24402794fdaf146eb6441af687eeedcce7b7403006b27cd5af2e07b99d349f1f00fca1b5fc3a8af9f530922c2a504e4d37991ca2a8c57e6dce38e6daa68b74d1d15e031e55af6d11f96a6c011e8c61d728b96f267bbbe8cfe1f8962713f0e84fe2e88cd0365507dab23c68e147a7ed88d8ee94e547782e8103c76cb27e658e844c8c30767d1f56bf075d6d8bf94d9c205ef2040d8822380531e39fe9bc70ed034c9ea7b3bfa76ab62d3ce472be27cd872c8437432bc07dd4a194c3260a786ef47bc49869b32c74d58874d761ca2a2149d13256885a2bedb46d7abe6e3015b1131db380784077e652dbb44415a2398a770303f2afea8e419899606e940ebd9fd0650d377f7a1e24c2b530f91a6963428f7932dc8cd3ee907fc1a10571b1d8f1e52533d19d0284699064692fdf41657cc283bcbb469773e190e3facab9d25394d5594bf4cf1a88818142f407ec1ee3599f30b0dc7767d2da38e532c848332a3c7e757fa78ad52bc65b55a5fc1d7e4c19149b50b81f3b8730afa79f991961752f0b10c8758aca6dc188f49c315123f1ecb1c88b527f7f0a3d9df83faaed3bed1ac3ab0bb7ffe13c457e646b0273b47bad5c33bab316d22f1d4cff4562cb2c277aab1b3f9f78c42b9028a398be816a3be90c819f1a9a1143d0409a425f20397504690f08f7402eeaa3a57dfc853faf53fdef960b145b7856d5023dbaefed0bdb6812bdc28b79f4385d4b7490b7b48284e72b21bc79cfb3a94ad12fa50790bea11dab5ff2a05dd74b634385cfd1a07ab51555eb3d91a13d212bda2cde0607d8435db210d84da9aaaf0028b8e52d3cf6f773cb32596c835deac38e7c50c9ccfc1f9eab61dc422ffd7840d895bf2b2187e306745707f78dc3eb08b3b3d3e6bffd661cd02cc33d69253cc5a1e4055e9761a60c451f4d52411129b38e4645590f90a8f6002b82d37a254ae298b1a362b173cd5cefce9f35c5ddf72881f0e89384c3afd274e197ba5ced834c43ca97fad90593e5c7edbcf31aaf7f69c48165b91b53686e81d378d2ca46740385476cd9568bf5054534262655f720d0a6bc5906aced4904333ef3586d5e5520b8dbc3023bf881551455458c41af830eeee1600440e20ae54db7f99db60a41e00c43bba771b3657643ba51b5a78e811b00ef72391434f353f9b969d97e9790143e33a3c0dd720360c7ef0dc5e83ad96df35cab3e101858e19413c68cd7c79a877dbdbf6219af7c76190e4adacff9a4a91ec28d0ca76c24cd0b9e2c28c40d1d68f91d5c522692ebae760aa2fd30564b50422eba2e3b702f83a3934a30143f0d8b6c7dee70a3f4ddb1581ad6936cd442a9a034cd0c4e36364c3d58a3d0d70a46d5af6922846170a3561b707e204f6f564dae2f0c72394ace1f7e40c829a39beb2aacf284a5ae0845c75cfe4eced2053e47c381071ce357d1d0ae65b01101c57b1d283d38e9f6247b5aa919c7977af669486bd2ba31e9edc6d728007505d44087b7c30250ea59b63fe399478d4e42fa4292ec0f93c1c6940e52a5b27ae33495818bbe8ed2e5d1f30106b2777c1e8c008f688ea8a9b91eb922abd5045ace6fa9651722bbad93dc2a03afc8d732e8e8483c5ee6b115fd9b57b34e6191dd3c4ee26ef0c803a02f8666928cae0c8ee8bb2e89ba2c5a4446a1762df3d89070b6d8e671544fa688027100087c209ced28d220615e01f6bd7e8512e749d1b31fb80bd567616458487880710debff83d4d8da4f6f1d3d1f173d54e65e8a6047b45fb4cc043ca2facb13af39119fe5439a940ef7b847615cdff6b65d5c2959b1e97d41db6bf406f13a6677769e3ba2df09f810b924b04d67e1cf0ea1d3091606422a25b0480086f735ab95d85178f759025b2f2db85efa1782ede49d79c4388aba63ca8d5c8035e7520a752df0c3289451922aaf49d9377f078adf83ee5e5b3616cadcc375da7f2b8f2dc2d268a28676f1362a6b29dfd97355d1f3965f3a389a2cea4b1efc09c6cb2ff3d4eb27fb154bab72dab3d376f18d80a08124fe98651bc211e018420a755a395678b010344954c5761070b23e87819ebf16c0b6a97f1479b25b3a8fd7974d46f7bd5e96c9beba5e5336b9afc35a324c701bd567153a29afa375cad14f0409c192734204516a80fd5d8b4740a27ba57f09ce5aa96f832550cd763716cf4e2035adf53c88adaefd08ad7e193b5c54308725b0c6fa54e526a8a55be6718fde83b80d47a01c4fffc1e39dfd00809a95ec6d06aa3ff8e9e0dabe9a7b653163e5f7865ac2045fa15da4e95e09e6c43d93e6390cf192b0e49f71e43ddaa3eb098183e04bb93a5237499c066f9eeba0a9e7b8b4af6304f54d47afaa3d137f4d4517122c82ceee8b0b9e58fda4543056690ae0c62af7cfde93fb3e7397525fd34e755833322ed0da8f9c224eed0dad69cb7db7ec1a849324d2b19e0ae5c958bf46ab9411f8924282d1b4d2200ef74a423b8cbd6aea5eaa8d42f9bcdef0eb913de7fa498ba6e46e5bb0f807dae135c0e761748c7a9d664086c2d10e4c42dcc6fd4e58005b8d5db32c92b5e6821ce4a6fe7bc1ecb33fe132a2998569d2268b75f86671a24a3b26683751c351baa653631cf12971c5979aba115f0edad09895e2d5dfc16156de304c0b6dec79c636b370e5cc8ec08cd72d23f18a9d08c317678a27c22136282957133516edc683ea82230208f067c97011bcfd8a16e76aa28fcc6f164e144174a2a12f610e4cdc2a40bdd49bd6043f1c3f93916d78e8103667eeaa5175caf83b2bc90767cee708e2ccc98086fa130eaace8a3cb8a00e2bf9eac612cfbe4acb17a9b232849ec3cee5edb343410750a3e9974152e18773e07fb5c5a240975b5b6839c0058391f82f693b579358639bc7c33adfb469d1e3b7afbd430ca47afba27fbcd3b6861a3c5529bef86297f153bfa3c7047d0227b0ad475daf25d926cf3ab8a2d02b7227954f76996c6ca6306dc542a5869eaacb535bda627947c2068747eb10c4d8fa0fa54ac5f22c89176aa933e0249964f259017b731b90dcdfaa7c2298a33c520bf47f6121ce5c71f43af06c1ac5afeeb8a5f0f56dd3b16e671387f29d5a3f7f043596ad1c3971a4bbf78fb6db26a45cc5668e0991d84db7cae99a00aaaae36bb73b4b5f0c88d0359a062bce3c11fdb063d7f4093105e3ee535f7929cc81a8ab8319490171a174bf2cbe7fc34b91fec0a9b0b9b38d731be44f5ee1e7651d04e4f0f7186850b8643a8b8f3e08570e1cc0352298dccf03fa9c7bb3d71cf5d25af766de6dba24cd3843ce50e258e333daad017adf4fe817dabf5e0cbde73d6e132d04bdaabd8098ecfe9e5e7b1e89c702402e67d7100cce9d21eecbfb282b670970c5940c867234bd733e65c946714a0d8b64f2a03a08590907252d91e53448f976a958777f3a7866da17a9136c97af1d3ea9abe0aa7db9be3dbf0a6fac4e0e37bfb80ca58760d115ae69bf381c63ca76e4f19d47d56598afbfc9e8a8ad89f94daec8b5474dca6122eada55f291388b280786e267cceaf55adc2995100988b532ceb045122080dd484fe22c2f5238613e3aeda5df1fd980dda3f4cc9398440146e374146334c7d69201bb4b0ccd23a159a7b8f7dacbfc186699402c861ad2fe87b9d6dcbe32268883399a694c63c93a6c6712217e11e0d7c8975f3c570cfb650789f5b02b5c6cf47db7f34ca492750bf1550e8772baf3afb3d50aeb543f968cb87a089151633044fe2d506ebab326a8a46f7f035be8a0f3b5b0f6b61deea76b15fbbfe8bcfc31e0f3c1d08c73f6ffba6137cf791069e2820b510e00318da882d1af0e1ae77e5b9aff3764e9bd7d86ef09f93526af38ffd60d24fe00350810407fed96fef923cfdc80d32286e23588b92b7b8be51e07116ecee923430b4a025eb3979dd0a4cf780119f8f16d473c193669a100ca46cf077c6b1c06e2495e4b4bc480d476e3973d5d2ca99a6e4ad43ce60918f4fc458c065d6e9b542afd5c9a4883ec6d178416c52342ef0598b41d5b652c283798853cd9ccffd742ed508a14cca3543dbcc4585b97dece8af2aee0f3afcf5a7dd41e13c3004f366adb714659e955e0fd3020ca92df2f73d81ea8a84c44d56122ad6b0745eeb831539586cbf2e1a16fbf3c0d5e4a097f2d488ce31a0dc57db8aa4328b59000117da","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
