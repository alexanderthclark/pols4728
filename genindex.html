<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"45a3fbb3dc61de46f14fe9ea099964aa6ea56d71935ee30733cad7dd8fa9a8bdd9d7bc66ae891e84a97453f0b2f0ba4391acb33e971f36b9b47eff0a7ac44e4dc787ceab5c74d899fd738fcaa18c2780b0d1cb36e83af3a03e9cf03aa1448ca7344c093aaef2fae695ff0f043d4560c54b734e5bceb9149fd2742d858fc7d2e6539ee6a7ec8d240e14b071999ae6a2364158a4be35748460c54f3165937df234790dba7aa053fb6e28bf56db2e820291c5defc75fb14cd6af973d59ab82e975c44318e89639488f87b719dc3de794b41ac0adc11ac624667be6e21ed7b1244576f0b033f57f000ca0840a6e3b9ccbca2314efded03d801b5307dcca3884f103ad6b972ca81ea7b7c8b77032050e9abbcaa379f9fe8603df52c2e16eef3a2d5cd1bb24c4c34d2f2c11d9bd6e3ef411b5be3ba800f84d2909a8476ed9205f6daa6baf7a471fab864f1e5248561c5955c1117f24741f4ba24b044a4f3dc7f9221a35ccb2eab38dd99ebe81b96e5b0307232335a85a06692939bf9b501a61d40e3d0adaf4bdd3225624d1909d47b3f67797a01a774fdacc8c7943eea60efa6106711cd2b0c940b2cab9a52bcd2feb6fea9fed9d41da7ce54880d33e94da0489db4ddcce2ff51cff64c045ee903fd3e3e2f437272f6d00645386d61334f51ac8b84a7a39285344059bf992a1e110691e6c492cd1b95ca1037b568dacd4a812f4bebb40bee3f04bf2a431838932092d1331017470c4d289e7ec911623948cadc0596a5512a3532054f902d7d116e79541280eeb640549fc184d786b034ff3dd14fcbb88b8f984466d77c287ce5b9178a5281cbcdefc811c3c223a18b1476bb93662d37c88a49ac113216f1f9e17265268ea5d8cb6fe6b9c4e8500152da3b2764a7b4c9fadd8d5bc64809e9bd9272738927c2bd8c99921602ef6f580f5541cfcc19190a87f0cc2fa4400b2df5593fbf07650de1e272379e43917f5235cc64030c1c4953ab71be7114f13ed5350ebdcbee8cd28e0ab01a67f38400351cf4df2d1b2f4fe01d14cb55b09e4c913caa692772819ae02ef01d50ccdda8599437b22dc924fd314ebb71d554f1c51b85c3fb68afaf09cb869f0928b0d656d4f4474c725f2fc15aa874238b2216463d7da718b93f7a5a4d9bd30a25d74953bb2129a8579475c370c38d0a78c642386ba7c1f34322feb5796691a6821f328f5b38fe32aad9d825b903f127aea4f24941985ad99d811ca1a6ac1d79404dde2d79aa11541cf01159545494cf61d70aef1e6eb3aa2f36ea33710385fdba7aa7d226ebf5a81e6e7b4514ff51df6cf8dd8a0be03022a903947382b75349bca65f8da6b3f2801cd9f692468da48341a4cdac4f00b9598f29119828c3bf49bf3e54de36f61760e7d5393874689815e5ff0e1e0c592507977196c084ecbfbfaaf5bea114444feaeb6092c2e15c180fb94c0a33ed3392e59cb3130bbbfeefd7126f00b040e3ddded990c6a66b803eee16c3687b6ae9a43329013fcb85ec1c96125bb232cb085efc8246733d76c595d44213718bed4b33cc28b99a3ebb5d2b5e8874c0428182b9fd4f724d6e87879c19e4e50c6a80991081a80ca994a8ff97e982cb4d3d564400dba15d838e426a470076ea1c679c974586e62b98c7c037e4e1426aba4900ceccf6e909a28fa96ab911a7d428b126aba685bdd09716f088c8e9a3cd128217a11238af1d23daabe933d422e7c10da9f22125b99d1258dd79460cea36c1e87f8bed63eef3b3e357b16a15a47bc74c3a94edd2aa3dac911b9cbe5c7ac43f47e4eff5b0dbee35e7dbda1a5a6758e9414b4f7d4cfdb2428c96e715430f03d0963946c97c989826b092b5327d2209bb5bcc7f66ee7c875b87513fc5c384b2037256af38ac7c62a9447ad0c246d219e88bec90f0cfaa7e1061be2c6cf73e12a8a657dbcd8772c56f166c304dd8b955c2e6ad45c7709ec9664a5fec391f59f57e18ce52dabd47bfa85ae220ca7568dd74c0d09634d092c4ff058d7a52271bd2995c776ff0b3429f429320be5beed3096a3b2985355b61697af52c187a56e1e5f71a0607fdefb3854c614188c9ff9455d8072f9edf39af83f339a5f46a848f34a654c5fda45e12407e44c43e57a72f68e72278b7accd87ca9f7cc571c7cd9f805a4fea037281dea045fed88abd1ec9a28bf099b53d4696b6904f2d551dbb4579c4374ef1835aa9e5b7792eee6eedcc46a80f4cd1338095fc0b36af69b105a005d05855b889f6b8160dc2a1e2eef790f19911da84240818dadb5df31cc3952d7ccef24e74884b5a7c1b716081f101689bf7cf4f4a5f505a9bfbf535942055e57d9126ea128ffb0963da2349809923742fc61933e72816d7341a5be58f102f7947ec5112d40fe8e2d10e10135e13f74bce698989d30b2ccced470876e3cfe1f5782e7d82f8ffb19ba13b61c6822ba0dc6fa56a53a4ebe0aa8f0dd08d1e2a506e8964c2976a044944a5da40ed14391dacda66ef7f740322d4e6278416f629f693ed57746393be57245d31cc9de85e93f414eed59d2d01f8a1a1b2228dcb421404a77cfa940695e7011210eeb573b498e75e0f910a0bb3a93537083f71ce88c2b53de9f12918ae20aebdc62a1dd463037c30546d301c5c14145b816aea8db0c35978d7bab71c8807d14697023b513eaed3e8339f1cc20893415b4554c4d173bf13d2bc894b36d14020e17a6ef7b6d85ed9f041f16685cd0a75e75442b398f73f456525441e3a4ead3b10e47e0d01cdd6fc8d046e97af5463b7586734c04ccd9548986c36532c2b7df0ff586b271a9d0e45da27befd219e00e7cd111c7b2feac0804c0c657637d8363ef0f48361c2dd3eda5a043c3fb17554316936f8ee23572f5a80381d84f14b80e82fca6520f123a850893afa701f125af32d922cf5e4890b3545c1c564d44af71b233f964156ecafaf33d77c865b1d26874b6893b3a5c551e313903be1fc32360b681a3b1240c069f364e29b247c7430014b86b87f9fdacb5f264edaa89bb8b1e7e6ee5951ba164473b4e291bb986e97fb5ef9193600e6c94d02ab04071c545ba12f974aae9c226dc55cde8357df7e7ec1f719f9eeb551ea28ea4e9835a08f92321fa5e059578915fe8ceebde3202260c77d018ace3ec089fc96f92072490bcdc81ebfbacad128fa9e19006578ac3f414707e4a035d8804f6f4c50b48f744a598a8cb9723e8ebf405cd9e77a6506102a9c243c984fcc621917f0d8b9f2de40fc40dbd8528ea4972c98e351443e38c4f7f4ddd048810a3a004f3a20443d51eaf1229620bff1fb3a24b2c8ee40b2a88177f7ecf7b3856b65c262355e518a2ac8b5e3f6a386b28742946555cd21eb3c0f1bee4c984af87f230af3cc87c07c9f54285d208fb9c5136a78261735889b6a560bc0d70302b2b6103c74563ff100de9c99e9ca8ab7bb1db0fae70758cfc6d05e4bd7d04ed69c506dc96d13b24952190fa28b2c0d405c37f350f5d46db3256a1b8fdca9f947e8abc77258a037fa337f0349feff4689e3110e6ae28659b892880fa49d287bccfb11cce4a2895ab4785051a862955289a7d203261acd2d20360965d3c50e4af156b8808791ab029c484a39ac65e7d8a5ede321e9aa735cb0ef7d49d724c95e43f19125f426cdd1cad9f00c2176f13190da49f31332248ac06339df43f00903c8ff5029edf89b06870c22d71f8d76bacc79456c592735176af6223bab49ebcd1abe6990836ddb3f112f625f55b3a77a12fbb54da028c94eb9c34cb24394c31fc8c5c5111ec842a889838aeb3cd68ca911b571e527c7678d0a17bbf78ca13c435c8319d6f708237ea3e3b52f0f0e7743dcbbca2c97990337f7c8da2bbf6707a392f57811e21b08755de366cba6ff8176b202cbbe2c1f4c1b2d6d89e315d66b44a19b383586ef86e2693ecb1f9755bb7fab793e59a0f7a254a4d0bc8ed64c4a72700f74f8d8dabfea6141537adf830f8e4950e393ef64074f3dd25192e467c006e5330960cb236946e1cd6c0146006c4bfdecbd627ec4c6e7b5c36a64af955c828733e47beafeb2d7570965748bead25bb9e812c95a6001b0e70826f46350976e39aeeec184999a00f0eed9ae40f45f921da5f607fa9c34a3b962ea7111bfc6ce55257cbfd3a296c5de67d653780de42ed5a37856c370ff1ccbeb4d6aeedd38f6079878e2439c699ced087bb0237fd9cb161c1aba6f226fc0bd381153aa4c9d5e773bee5e0beeb10cf48cdbe81a6006a339767e3ef5b1b379d3010b9fc40ee3ee093a49aaa78c3a9fac83ac6e0b7734a245be82c31811ea0b158c7f0785e4e44d6619be124fc168e8fbea7d18cf61f56c45b2ad02ab45f01a9c599793a0921d70509bd324c56b16ee1411b001a33f308c38f2dca15ca8ca7f4d2981ac4beb47939fbd9fc459233311e4713160058c60b37d28492e2170f1c5e458d483be4d219ece2b8e43af623a03e9983185e7ab306c771cada9bf166ba6ee515faf872ff0c4da756e82022f9b6220f63c65caf6017e18063e2a9fb0cf1cb87dc883943afc150e2964867fe08ad419c89dd2dc65d8bc0bc81ff4e26f2373a28530cbcd423f34c7abfb663d0f3b5b175e0ce50b40a12fa27788326bfe533de69fd255cfe1b13f809d0000e4091ab2c50bec714a035d1b13ea7d365cdf8e63e198012d69015488d6e9706c4585a1c7c9295a21b003c027fbc0b70897e304108fe2c151e66add3ca7d875a3f7198b66e89da52802d0a33c83f04d3c7fc5708ed295d2eb8df682449be72210a9761aa6e702a0eb8cbe919522cdf6061ef3e57f35cdd0f3f3ff41158aa8608314b1d9994d777c171796a4aeb5af57422e0291003fcf69f9523e87e8d6eec32331f212d5512cd7f8b1246924cda16ce62aaa516e7adc2b50f3ee675348ef09572c057656460b34a70b021c871727769e9b98ab697fb0e312a54711710083bba0bbc640b8d3bdb564dc885c0d726d6c68fcc2d79eec9b7d856f923111c7205a01dc8d89f1eb2ff33c09941d676361cc31c2f9932d3a47b1f8a8ad2872374b5ca6a6831d0e4a16a44beeff856bd1c09117928fb60ffb5abeef63d10d76c536c522a3a25f982a89e174e2b20a50ee749ca8c533e17d87da0f1d02e8b96681a6de3bc2087ae977b44f94f9a9f0ccab304631dd9d83bbd7a73c2a6656e0b7ca741ead5fc914347406d5adafa4db0d11bdea01756169831eaff868f6f2aa6cc417ade6fdf79ee2cb63135cf011c03fd04a908f5eadf24405839d88e550b102e37c12944dd705785db07d7a0e793cf98536da87312e020ac65f90b0707d40084d5a3b243fc663de98457ddd9f20562ca668c2648d9dae463b8988b0e6e7c05328e8110a30b09fd1727b45fba0b9b405cd645fc973a7f625c8612895d192a69fb6f0475297f9649d24c83f8951f551be1c96a73c3008e9024d284e2aa9b0d401fda283982cafb4970cb09a9f5aaa67245d68f2521977c5a0fc57ee7e16515e59a5400ebc6f756255d7c8f4e79af01fd1a0dcb7c07d1532ea6f922418216e9587fcd362692683c7fb811d9212374ed76d05ddbf53733aaebdf6d911c8e83a43ddf230413d834bc7de35c63bd91934b8c7c56b8c88337c738fa37335c03fa15a3ec00d2c1b34a7f0e137eb3e29a2b8245f2311a22ecf0c11daf69bb6a8d7e48492e68f4b82e92e35f8bb55bdbfce3c9da34343c8f1bae68cafd3f6d59ec912ff1df5998c542db4cd9b3b00e06ceb7aaa052b5fa19f944948210540d5efc119550b14bf85d539e89d01747f5dbfb48280c1a233fead4169c378eb66bf90d108c97cf1d093ce5728ad991610763ae094ecaab07def0c2f35ebfc66ca300e8fc098c65f636b7f63c9674d2a3799551b80ae46791fcebd905a948ca37df7fa76d986ea5f9abdc12848aef3ee309a5c875d268fbcc30680b9b8c06ad7a88dc10cee76d2d838ab75d341dc3c39bc7845c7e76db1fabb9d74b7b6f0199a6f819d817c348faf2bc76e792f6c752ac3798b0c416a4e8c2d7d556c8bf3cd871648d1838e852ebcc0eda687c5fa6667d923ef6041967b891c7708a2a6302d6ceae97f13227d241ac204b033c78731afc82dd70888bb047e72ae753a3b2087f673555de5b97a875bbcee6227e0ec64a7b1927e5001f32acd7f4b9b2f38fb292e99956be9e14c1e1306296861f973a33b615e29686eff682d89e6e27f3a0e372060b428e5c3f8a32de0670a75b6dc90e5f099536388e0bb24bd3566ad21f72f1aed385ff576e4d4bc0086d00a27cfe24a8cd9863d3e7ae367e66c40ad96eb60770be03000dba4339705d83acf39db9ad28e19924d6e2a0420302620b7570d4f12cc996c09a11f15e83c64fb24840ac13e8083b19ca1f40ad79dfcd0ca55ca991859157d3c5ce489d07bb27968058a21bc12a188eff2105f1971929019efdf38022a86476bf2d9aa79b35e7cd3c6a6f56e57fe383603f46bf1d1af1f205793c19a441a58814ea97a3629eba200647368259184eac052574fcdf4321d8c971c4c810a3ee85281ed41e16633f0b9cd173c9d83fa2de42d1e8d8e3aa5e0d9d565fe807a27326bea67f6bc5acb09bf59a15f35b26e50f4a19e98c1105f95907cf121888bb49e31858e64adaef9009e2e8e172765d72255602de3a4ee859a4a85e8a2831d9a212ec7e5680adc5a226d605163d8ac6156dc9c0aec2833bc905694954fc56773848bb544ea32d3c297c975ae52d0790b95d1ab112a175b08eb68412fe66660ab6d02c112ccd0fcde5a706acd550e57733fb9c5f854ce3470aae211a6fee64a673a81f552b2afd8f023976657bfd6e44d7f5e22107d2cd09ef2a1512c074910f1ce320b910db3e697c052c0b77d8f7d9c7025d2779d57abaf39fef4c28938071f02b8cc6f9e14735948a0e59b2c992641ec1acc1aca255d24740d5442a7300dc284efa1888e0ef50870ee3aa4d812dee3a571424e99710ed103dda4f1145cee9744866d3e24ecc48e6a882e4c545870a5dc48c4380d7b27ee70b6fee6c597a55c03d1bb421770cd95cfc748d88e94db6e42a05a7af0194602e1ac2cb472b2f50033bfd4e4d0383dbfaf26ed3fde8e5ea87d46473907ae4a6e3fe1c47cda93b7f9ceeb485bfec32e1e8e6844cbc1d2240dc2c2ae1a12f696a31f5589ae0ded2bc7cf8dc33750837bfe51473b685a954fca0e5f3f59eea3e213f0c1efcc7af5ad370a2c738fe419fce34c414eb73288a38354d6a9b4dc45c3ef80f1bac38b851e7cbca04bf1bad4b1ae522040f4378db0b00bee13be665380fd79a7367d6f7c54ddfc6bc0184c3d19abb508560c4cd059ed02960bd96542ba206f9e1243350fb2055a37dfc6cd2fc5467d71a8f0ddf5519c216463c28d289ac17428ed1fa1d5b72e94790b403d52e664b6a72948adb2fc84e2f2e6416a9ad2a715bfa28e119f7890d948ae605a308a13e10c9b6fecbc7bbe41f84efb508a258ef7faab85ef1afb9c103a35f8f5b5fa03605f265965ac6c2bed02a07f08949a88ffa02b37086df17f235ec2e5cce69e28ef3b75efdf0f19ffc6f8af6c992dd63053186a32a0261d6c629cdb51dfe4834efd4cdbe71d5670b0a5a71ed289461702e66f98ec692d6775006315087dcafb599d25eea27c819ccf88619afab8cc4f55420cfef58b2d0fed6bf1e953c1696fc4db912f95e9ad912bb46e3498490dd3efa35725a995ae8d07a733e464af79f2cba209cc2932e074ba1318d7302c389fa56c86ed1a1940080761e428d033dedf802448091cf17606017abea5dcea55ce4ad9ca6d303788677252c8e00a3c11fb693a5e7e9b2676c258168dec627db6ba75af662d73fd7168c09429810bb4a1de975715b7c33c33909353f76dafd8b103be7b5df722d253f5b72a83fd62f2319443df255a25302e338ef5b690f16551108105e01a4d13286076da0cc216dafde41734953874d926fc0dfa59e46602ee9587eec4e4f0bfc7865b97291adc6c555e96636528ac70d36b65f8db6cf84aac7476dceef87bc39f9955cc3944962b6d9f85dc59caca6744ccbbc3258f824cfc67b13f83853d18a5ecac8f5b2ab24ca990bb20eddbfbd5dac08ff18dcbb1fe4288e89b180da7f4a2713d70a6494c4c43f35c610bbeba8875490ec02c07a5df5c0e5096052f5873d56d174fe8ac97ece868be3e41772b028ad46bc0c0ba701b906378a9a0358eb6e01779d89d923c69bd348032cc1fe6bca4f788c8bfc40de8aded25f7040b7debe9a10cf46969f3952cbf7dbd9932ff515089a277c715b276526e818f2caf22d84a483963c93a8b18594ba4f851a7ceeb2cfc5895776707ddee294c17d22b803f9a997b6c6b3d9354fbf60c3114cc652d0d07e0874ae001fd9ecfca8584b8e04144c36d69de9993f7cc4693667942cad4f99aa63db470188668aba4b121ec30f95c9b5c79643ee3a18c5569dd713d0097dee71ffeed8d2634978bf8fd462e6de318c5408d81e3d1d97e6be5407f663e6f90c97ef0ad05f7e33f6b05aa36efc042018bc94c2a9ea2ed36dd4652e9ca97615d7163d42447ff46c5ba668c38da3441fb84687f98fe5fb6b2f7f21fecf3f9c20d3451a3919f6337232be1500532dc8f4612901f418f4baa31cb810b9cfd274d17f94992ad2ed31d7aa346cc4e281fc53476b22ab3727ba6946b7bfee578ac43cda2b3cf06a62037d197ea7b8f12479d5c0c6ba155e0fe4b158d4dbdeb8ae0e540695366ccdbbe5155ebdc73c9e8be4f409a0d9e076671b3e295c8f7b381157675b0db0a0f20144811d1696fe31db749ef748220518ed9b582785f35f9765d0e6e4af59de1116d93ceb9b1dba8aea8dca5182c3b4f59ef14c49fa1ff2958d0d65447edf38a4b21a7d88e23bbb438d35f8cfe988aba266c2c42d59cf00162adf75d270e9ffb99f225c6db66c5ae96864699860109425e74d2f4ac146c87279c5b88350e378cf78d9f63add08ad8cd2db6302ca57a421daaeac87ae2bba0380fd713464fe3261d00c9de4c1f2afdabb7b017edde1edabe4c5f7b0bd3cf3fe5fc39672aa2a1ef98c0618cb50b811bb215842ed7e58d8f3ea818357d7e09a56c548bc9dc7bc732dd536e9c7565d5ab23bea237b7e58c6bd99c49c724ada3eab0bb50d9cdddfd1ce9689d55f7f5e659323a277dbc692acf1a06370a560b7b83fb7a36e26ed1f5e3a317c2a536eaf87ab16b31efe478d5a6e7247338ee0bf3dd7d53edc8d258efe61c4ec07500ecffbe851b3d8f6f546ce02895a6efa342016aa1bdd8104b358f980732276657071df88d555ff15a6b2a39ec1c8f14714f7051d4a8cceeea3c7bd932bcd061c4d986c1e229a209b2e912b50f5e6114fe55d63fe83d381d05743c245e4d44ac5f092ea6c9335746505a245aae4ef98ab201602dc191e3a2728a1a18cd5471b9a3288914df64e7c9ef58397bb2d641cff3855987672887d65ef4b4c5403970b21499fb2c2597011db3275346cf8e894ab7ead674424f84781d3542e3829722da8576a64469e7de7a08ef9ea6d4588114434ee4093f89315b42305a6769f534e265044d8060190641310ff7e0a95a724bde8a2d1f9ff5e3c3edb65b9c03fd2b9b4ca3c31672141b36baf6cc784436f9ca8aa80d202198cdc292e3e0f9617339fc34445d0479a6948ce781f8019dd565028b0c4e1aa7b81962fde29bbcb54ad4ce6b516c66c67af348c4e530ef3990e461b52c06bc845b88e7f9cb92ecbd0892aeb928c7830d06477572ed7fcc773a5fb2c4a0ba1e84dd2cfd287fdae14ea98bf205f74b50720f66462dfa14c6ce86719098539cc715e1852951f32401d4774eff5a8546d591a4994afd53a1ecb1fde26b03447a0ce987c3f4590a177f936c05d1f1dd5018f5086fb52ebdea1874988bf288aed15d4c13a04b89a79924fbe17b885b1cda2cd71528040f0d38e1685e58f6ae3ed1ceb27d5ebebe76276e7907513765bf0c965a417f6684859af0e57217167ed58835fe1494bde547e9c24f8b351d6e68baf59ea5b7957934717ed9499a8b3ff8a79e9d5c9b7710965b4413ace53adc931a344741030d81bf74ba58d592381c36296e3a83621cc221b071fd692280e395ed5e546bf00910fc7e49bc3dd903d38284f0aa8298c42d240dd5f939086846bc4846ff98c6dbfb78d344a57805918502c03b16073bc5db077f562f975158e4fb6774bf857aa0b53e1df58ea3d7d0edb3a57f6f148fb9c8723b8a18482f2cd7b770c63dfffd995e9bc9fdef30b089d0015acde67db8502d9f18d7ddf916cb52418484a089e68429ba168456290b500d66c276b92eb5b1724bbbbf5c6f653ef2836dac925afb52d8089de8973dce53c96a0ba00eda6caca5ae4db2e0800bbd30a5f69c9d046ec027d6a12cd34cf214da9ebcd57f99b33c3520e8ab781a6eb2c97afe8a56651f81297b066a238195e76687cc825984934e8a3e537519b6ed0ee215970e325624192b7d00f2af23c9d89f9112775b0502c93d63ba66ef1e823af5be422c4b20101f644768296d2aa3bdcaf92546c761c55d9c5e615da264ca405767b34a15f0d6acad74e4ab46f39922f72d3fb5288b4c4020234dec2427135825a159c65f37ea237d5d5c6054af45e33806207250085e5a1b4652d927580424f53a7edc8a213ee16d7b6da63168171fbf98fe7369596570f6b721487f9c857fdc71616ed88068228cf008a5b81d24d8cc12a11bd2fa631d0f0c7e245a5956c8c2a2d4dbb5939b6886edbc24cc365c4a3ba4f282a135b0cd7601e558938fe4b6070cdbb965014d6ca03f6bf517c83354044852eb6fe00b753c3767623b3e0e9223cd532478e0b41834b564d4f94dc7e1d29aa2a28d9de726da37e5035cad06be48052db22564b70ac779c2af22b5b32ae20fff9848ee5963d8cbf81e2821b978b4d1ce707170cce7acd4596fb1768bf20b8e0b684c66c47a272652a4c63c9f39f5ca2a9ed069cb40a4361715bb1e3589ae8bbfa850da59cf4fd960a2e6b21872a0021572947797f3bf27da133c46b991fa628452224c91857b664932e9cd5327234aa8c3dda90d7181d261eddb0b085f665f81f6ce97096651c8b4eed7efc00752df0247745668a62ab35fdeba146f6b3a3c2fdac2e1d62f9ef1e3a87cb40d4ee1f4d7875ea4f3cd68f8fa7b2d5565086b341f395336d9b43dc6d817d9eec87c63a83602706ba74551b9d107677471e4badd9009edd1af4aa795d70a4c418ea375fbc9bcd20cb7d1614e7eb33d8de92ab48a88b547db3cc9470d6ba2fd268602e21f6e96c1f2f672555a1261447f68b409ee275613b85a44bdbaeec26db2412e21910222434a3cef3e77abf6e13c62c9806a824064f01eb610ea8959c76a8cd5971571a4c1cd7f76ee9c55c64a05b539427a22b8c81771bbea8d5c53093cf29de4b18cc27f4b71a333c0619208da4a6dad09a7cf3317092c5e0b5a9e6c47f33ee031b800d4d5c887c2e5e34579cdc9ad92e01ed2aff2e491c47c760a8aad0dccb80c345de9a3660e4568164e41bed2b80cd03b07fc42d89892c8c2f9a3986563b86ad58a806ea629f9f98678e81075fe605b4d480904f6a4b404ba5cabdd6571db0eb25272640aa37942708093fe18f40d51535eda1f260b64ff027cfac8173ceae770c5888ccfffbe9f92836400a7a3f92d3e6533a7a516f1b9fac751e3d24e7981ccee417055798593512bef1d15c462b1734480e816f964717927e298a8bf8d4f0b6f6162ded1bb75a44f1204ebd0fbd9b510aed505b6b38030bf96fac0639fc46ad5e6ea8a77f5f21c654ce1b96513236bfae018142b1dc80879e49e04926ebacbf4286926feee067473718785d435112e453c9ace86676ccc9e216c38a6034022bf3693dbd892ada7b962b012fa3a9b226db349326598a9a3b0384d5497393497bb7977601833adb4c7a002c235f6f23df6c34260c7f4d0270bb6dcaaeaec08d58baf27ddc22860b4ca208dd520d7d7d9605f855e4012c5eecd31c13d35d823bf11be75c8c05362f71c722d57bdafe3cc5bcf46c4b4a9dd1873aba02243d632bfddd2a3d7c0b72217ab21244732f82142eb7c5d09ea00f275e36c820f30325a1ad65c8431a354ee55e1103085d8ad874108872329e363b49d5f0f57cc878e24fcf791ad0d1027cd95984d4ee02d78b2c4f8b4bcd3403d2daea7b1cc89e3f65adfeeab5b28c26ea85b29b722563a0833fd52f42c7def4c167d2a1a52850289c5c50d859d62f8318f4dbcb69bb017df89f00d8c97d3c32619640c79963629d7a775bfa26f83b1c4e354a3838bda67478826044dcedfa9a76d14e00e2f103f3ef4b065621db6752e97195efa510836dfb7c9643e4cc5bb92856bbcc99c14c2654b7cd2ea3ea0189a963abc9231e19bbfc6a3f21906ac164c94fef15c170990e07b9239889caf59827b8a02032e6424deae47a471b406489b58aaa36051b0fc3f5dad9c2cb449386ed5a1a190501979e66e2c44aca0256025d699c26a772720c400b98d2352bd843bfef2e15c752e80964f91d5aee04c8a4e9874fb7a38b67fd38fae0c8ea1e156c64d468846bfc50587719f7940a1bb3ae19e50049be4df8758f577d85ae33edb3990137153a6b2548025056d9773866b8a31c744bacc64b525e003a1803a22fa6d08ec370d5c25cd2d1353e21facf230ef59a239c1aa3e66b971e8f8e8a41d9ddc98d57bfbe9206a4c397f97635636daa6577edeffbd39f47a2eeee6d2d10b3423b2da99a84a16bc0ff0f5d83ee9597b22f9b00fa25408d928dcf0f0aee343880aef1da1eea990785096c637f9e98ca35e18b7283bba7400744a91ccca72b032fa355a9973505ea1b24ea91a6109eca81750049706af5eb23e727c01e085086056c34297fcf030fd17e11433e84c27164b64f051d238bb59cac304351718f38345f686cb50426e481f871ad7b5eef64efe058f6161ec47827cc4c3f1d90885b999fcc1ea719d2eb641d91e1960e063c09f5dc09177c6bd13df10ad666205f29e243b807f1c289f337353855c9f7d793c53ff517e0a434656bbd8a8512c65a56d9fdeb0f36dcc87a3bf27bec803c5c377d242912b3cb680371af90c41656acedfb9017439be19f72fb91a94cea841d4cffae5d5d51184e21e517e5575b6c914ce75889fffadd51cfeb86a6c5b3342193ffd9d52991f4f2ac8de2970adc443f6a7debccb20fd343e70f3edbae61a5d152f1365f41ec4af94918a39e0b4abc190ab1baaf90fbbd1ac6ee0f3accad98e2a336149c467f447e07cd8c3f0a31c135d38feef649cfd704bdead3c3c00439d05bef9b34bf6dbf309705386a1ad05dd51a2c996b1f4de79d5d96805c377713d1fb0078864099086c2a29c083e07c482c7271d90374fe85081110fc80c295e99cf0928bc96a7f20a4e30c3c1215a46579ed240a68f01036c74d689ae682baebffeba29980a659f4c87ea8e942884346eff3f170d4d1db21803ade8eac5b5c8f6ab78c36509772427556d013a674f38650a14bd4e296c9bbfb09833e5b6a969299d698a76cde5e61eaedcbedad103bf880a1b889902131d756302838a2bf1203cd5d0e98b6880b18ea4e0c9696470cdb296afab833c2d78dca85205bd50f6ee43f852472921987ae80cb66351b1d0a820c6f96f10de75af554c6cb163306294e0dc6e1f9c90783e064af9ed29ee912d031d4c393371d64a6afdc236bc22abde7a2f46f340ef1f76df292353d1ec2e522f540c39ec1163388a451d0ca662dbb38fa6c83ed039e23f57202403c8123914b6597a2b41f81640223b718bb58386906023b9c98c41aee3551f05299b4c1797757f81d9e3a5f2f0f31a07e2415f01d1aeaa7ccb833bd12413a4589ca633e382eff0923eedcc69640c17a2a9bca2c031ef0f63ab83fdd0c83b707c045579a6e4973aabd1bedf6189e6d0ef3f6cc8224c6c814a77678a3e85381dfb95af8dc11bba7eae08dc420f5928f4fb95d8661c0ce748d4c9a6bb2e6fce93002fb4dd796f882e11a974e8145c0fc4b90cc48a72d1c08e1d5dca926f6f5eebba0efa0d3db683c9d69099ea3ab1ef8cfc7073d397d68a9e2c97e0531c4c9126dd4757c2b6c98e54eeaaa0f346e0feaa02d3d3a4912222fa2ae2fa661016d0240ea5059e35e7cb84d61fe924cd917633d582f1e341654de78e08dfc91dc0fb6e0aec9d440d6ddc75bf7bc84de96aa19b730796af49ba0fdd3d35b35525ae49aee7cee517ec49447fc03b590a7700fef0b24c79a1205c45d802f93f0f39579ca2af9395cfda6b88431cf1cccb7bbc95324c6cf3addcf240d88215f788a5afa560a03a2bd089377f264687d3d0437362725c54120834d732d57fee137f8cc6010a2a0e4681bee2429c15d1d7b3f21cbfd90649b71dfa6d6a0b0f37ca44babf3ade3da63e5ea670fe0d23a63afbdf208d17c3268b9c987767f1ddfa674d6469cf46954bfafb1782a7ecb8d444b780239828c47a0a44d3df1843abb8da26d6969c8051c173bea1bd43b213048d0ee26386c2105ec43d2b614a15972998d3e9e6077c60a0d8895282353545e5dbffc4656a6c8a1385fb5a6ecabe07915a480dd24336997b6b105aa07f17e54b4ae53563f56f6a9e6bcbe5e87282f9b7b451438629a2da76b6d24ffc41882bce51355e470e43a0c9c1f81e8a3244f12ab624a43b8c89a40b9f94956c08172df6409867f9fc571339ed14d6b1746c9ba83ccd68eefed8de8ed2713143fec0454469abf7b03cd57c7109f6c8c26ac9ed0c20b15d8a62ba2ed665d375a4dcdd11feb564a48be43827c398511f3f4e640782ec13f565b904b09ad1e8173d967cd3dc6bf31d22b632a9d84ee1718655ac07d81edc7007299f4473ea3f118417939a9ae676250021d88b85275dae76a3ed7436e8dba9430bfbd16a982db054e3a57ec22a535225a11ca8754831f845bc0f637d459f5807093d585abc02115b5946074939cfab5f0e44f92102eb2e947c363e86f6aa4ece140287fa0bd5dadba961d7aeef2505b25dd688bd7a0685ee5aabe1a47bf866520cebca4f90cff3280ebed5966d31a869fa74063bc24b9aadb2043a8e9355a9f4d71e128927078ee6ccf897c41a4201a330f45efeab34812dd1f9063161e82599c11bc915f680eeb71aff7173b41e08369bbbfc01fb34c26c1e1feb7997b9e336fb8ad488318d1fe4e0030c0728c0daebd01cc2ddcc3e86d032dc3b519723c6418f33afcd3190de864bdfa0ae63fb91c123c2ab5f65cd58cbe8bf23a0417d1faeebe4f614037fb3783f77da179ec671dc86419575c14c2ece08ef851696b58a6c8d5ad04cb0a716594998f494931de163d74096f73b21aae021eb70eea0eabc205efb8e84d395ec550f2935796df603aaeccca5b7cb4e894c4f7970741a14d39e025399d32c58a4f64621257e32e49d6db24fd0638cf04996ab63a4b2efef48bb3e5874f51568d857d35f48e1ecee924f8b707fd5caaf7fa7884b8de6fe1a83654b8a1350e0213191990453a804ed81eeaf7727da9410ce322cf4e60366cd47a76a84e33fdc57b80b2feed3ef96a541c16c2a48af3bade5b49f216541deb1e1d6a157dda82ba373e1008cbd9acd016e5e945e3643f99c94597b9b33edc3e4164846da82481a5d7d29fa4048429dc20441c4f1294409e4aded2fb4c0cb8f8eeffbaaa5beb478c710b44f14c051169fb3badc5c0ff375156512deb0776e2b1a9be91410de80e79f203d00fdf1470603be0da3cd8f27da26c47d966502c0e861bd0cda81727da045d7a834db2a5246bc4b443b71d6e08546def8721b8f0faa3b060f7bf3544ba3f9c0567e659d7ebca0cc692ad3693c37b1733dd6015bf401a850fa8e22e655871c4c16384ad4c9fa6976f313e285731c1baa4c441114cb0791ed5473a8cd426b12ccc4a0d154d207674bdc78aa7dccc22bc63db11dc51ae6d3bde21fe320a9e74bf9f3fc34bf9a88c75a352c3060721d151e49d9f32fd568c40c6b75da005d7a83d6f5b60b142bd45a22c30a5602dcee4f10eb875a6fdd2af44c8ad80dc753c0796a2f0e990d34b924bae74176d9f35d622b4ec67cd2c36d12fd41f829ac2c1d1c262a9bfcf7cdb88ebbbbe5c78f76e30924f3fe4787f8ec84c41ae4f0e80dab45a41a6aeb53559134b646a5981aa75580571ba74ca1fb0fce59ddc70ec687639bed24503b339fc44924bdeb943772ebcdce40b43b0693caf3040647eedd19d841c770af4ffbe73299e73e649ab894b9d90b33f248a6a8543f0e0ec66a59b5eaa2e17d1f4ef146f7ab4c20a1bbc72ce18a930e81abccf89bbc15dec810a1b745308f3b572ac278099007cffe4ff1da824e0f721f5cfc821750e91e6a4ec21f585e505c27236f42cdd17f795f7a6ca090bbc81b3c813b604bacecb6c4b735438b74ab30c1aa4d47b6b57d0e6a360f2eb5df6b0b9339c2bbc7261b8bb932ded5c52f9f18cd68f6f1209df30e680f0ca13c53e9aa0fdd2a7791d7e488477faf215b87ae9cbfe81ff78c094cbaa6b12ae66ae4eb076be0df0e42dd2e546924a4a6d0d3a0e92ee9243e7ce0ad6d8d5eaa8a7c1a533ba3265f501134ba25cd3b6febbb3f51a5fae03bab5e3bda395b006de0f72344df37885b08b79c7b394a9f6fb05c55c97cdc9d163b2f7cee614284b2d6d434f8c131d23727e7d0023540320bae34120d6697ef37bbea8dd7769ce6b058570a057075b7661c417b78a43751bbe414f2941c89141a0ee8b95d86953854f3a4a0a7233d2df61b52fa9e420b54afac0a370ade8c049cf612e4b6d2cff0f93fde7e793dd12e4b695f5df0b6e2e12e2b8df54db691527a663c8d0cd805d0da15242c3c8546ff8c6b994eafaa05b30175838e68d65b4a3b47ecf6a1b31b6e04a2afec583c5083385c31c571e09657ff4ea4eac2a02199d40e49c196cf5886543137909ea9cce0bdeae7526855c540ec55d1e41b331fc7ff1f5d861cabdb8b5cb781fe5ca93236634e47142f0b711d62d91110169d12c0fa46ad2e9f50729aef8f5629b60d467e85227f589ea120583a9508bc12590b2798b0d256aa5d1800e18ea9b3c2df099f60abb1e2f3388cc48a6c60f6823735c8db6bcf15c8c7deef3ec034195c9bc423f8a3ccb0f3015a761fdfc3937aeac424280160c22c2ab5fcf8d86d42c28237e7e0fb8c0990da4f3dc4ec75572cbfcf6215f483ff866100cef45821f3d0898b8a3699a0c6debb667cdd2e1a19141529c61333ea4f5f9d2764989c06e0f205cdde5a279488ad01cb023855db1515d0c2e2e4e44cd6d892b5e3446720d32f627bd56196a546bfc23e1a99b17d3f68dea2a0ec4eea6b278027f7e111858bcab5ef5a787657fd06524c440976e1d3deff1d5015537793f1094ec9289ebb3a6f9308ea622249f925b1b3f7946b38d4e1d89765eac2a41c70fc06b5decdee2142043b2d62ee51f121b0d4e38f87e80edfffa3487ac46fa2ce98007e924fcb93163f15e5571b845f773dd6d6b6661e33757e6abb21004cc977d050ffcb3402314b1edd4df26d5bcd01cb688573d15a398242412c8f238c667c27ededb527042548034b61aeb29a9e2b91fb5bc1398b3ef6e32adbcf92595780fdba6dcbd6f93cea807da4b51c0f6bc97c9ba2218b0da6422f01872674189e9a29bde65a945623a26f4c625212ad3bb84666d8508c5474f7849668cd1837db0ba50e97223976c9dd1c1003d7ed9eb3d23b1503e3ba299a5379b54cc64ac4f94ebbe5447c680b2f2d9acfc9a6352c3cb7cc8196474fbdd48fa3fb1e60cd45b8999c0479f13d4a5b863442238d4b2ddec14652c44b8f7211545f95b8dcad6e79638ac36363033ca7594c8ef6991767a7f0ba5d60e55e1d96c83306ca31657d5c074f937afdadb2c9a0e7273c5002cf870f5bf3c2c579fcdb8938ba30df8544658a62a119581de135458e2ed544cd873e483b1f8917a3890397027b9dd181ccb210bcbaac3e076c79fdd811f70c6d32af99382f355d509f3f92479c76929618ee52071e8c345fea34cf3bb444185a8dfafd9de0e7daace07db87a5dd6ecf9d5d3269173f3a8eae5fc99b124e2fdcb7d9e4891466d7d82d3bc5135696496e9c47ac8696354cc09114085a8f43f1d97f68c11cba9ce551f589b965d352d5aab3a399769e441ecfa339157bb7ce7377a65fbc3eaa665c13f7d0148e42541e45ebaf4af8b7c1247189094762a540b98d8b7f7961361e4c766838c873aeeb2267c5461a5dcb982d19aa5123b7b49a8b8793956044d591b583a946aa5adaf7becf3e9bed336bec25bebe8485b54d9e8952d8354d06613d08cb200190c4c35da43838e048ff175d33d0d20bf241c2e724a42a7046f41780be730ed2cd1ba51178f534b7999ec75f7b8d143c462bf42bbe6bd928409da3bf16df89be2729f4b9fbc92da8057721b3755c313aaf88631d8b1d43374e1b2b1e1438597831c03fb5bea5f1bd42a52a63dc6c67601816caae71fa59b7233a13f90a447e6e1f655070803c453ca838ae27e74c0e1fee9a1136f9ffb0bb32dde285287e3b88c19b7586b4aa568050f7cd473271f2aed69aa39a36d2ec56eec345dd620c8cbcba30901d93e1f825fc8f2c17bdd95cfd8541ce58059859d250f13ee784e4e0aa8ebf68c809ed620b5c04e7b2929dc30fca9d3e17beb678eebb8ce08a1d0c691865599b84c507094a52f568a1399d600e1bbd2536d086ca820fce179f6563d6106d17b5ded8397124b19e9f9c6907030ce225620622a03ca7efa7012873dce9990121eb4ffc3a10c42094d7b3ca4d48d7df14636b3cbc257ca6640112600454b8afc5d3a475838ab76d708e9e50489221ad1026add9b71e36c02ad2e96786a94e67f329d3c6dc3e270c0bc7c5f8eb300403a437abeea26ccb92dfd5f79456fd9784814643734724abde8d4abd02c95b85b328ae48861ef493215da534d71b51b369a3b968f7cfafb8b0bf8af2319445d4988c5177d1e05814697a7bf5857c1bff1512cf6502907390572a5163aea9415e3db82e33d0e14b77e5af5c486d5ccb03094461b4135ef87a74455c9f8d214b92445d5c8b3bcd42e9e525940c41f3c6c96ebaa9a14ce7d5cef8290b7aa4545d9ec0d8eb20ac6b472d68561ff65951b9ace54aeb4aefbf21f44007610f446b32d0ec445477d1edee1ed7f74653ec67ac2ecd90304437ebcf7566fe238067a7367b8a9c8a09caa8798f41c8d9dbddcc2080e676c85ce20081c821ca802fd2e76f4d34decf4ffdb67355609577d27ec130ff11925de14a88e389ee1c76ed8435aa3b7ccdfaac1fed90250da040e7c65f31df172e4e858cc6ad031322c2ef4620366136e083e8eb422ff3bafc2988e2d7b171cb930dbaabb4d5bfa173f3db1d047d74392437ba6025c0ee80f9a90de6da9e01a0f6a338cabceb1e718a81911464a3eb42e561c20e8a9d0ed8d7f2d5b38931f6bc1385ef4469314fb67927af57e53a06f8b1936d2909d111c0c65867031c6558c8e678f05132c4250d2f7b5380bb16a710bfbeb0dfe8272a9d10f64b642b0e0c92bab831475c4d8c8931372d76890","isRememberEnabled":true,"rememberDurationInDays":120,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
