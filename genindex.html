<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"93c36b6c6db88a088c6774783381be5f0b0f542713b1c9ba8cb35a471c31fe2ef0632fd9d9e79b162659f7aa95c982236571be57d43a0903a8ec54c55fb9b26d108719738765d3b0371ac78a53159038597d608fb9095de18d3d60a895c2b3edb2b1dd0529abf39f559917494d87c2a828dd0fbf7b622026da6a2e22a8180c340b8ebe6a2703fbc91123889d52d4ef5280075b3e9d6b20861808fe055eaeed6c7aad73db4d17537af310d9676b52366cedf5460b7821e9d11fe2b71b3de6cd0c8749348dee2d85f577416a2d5ca93180ecb2c8adaedadd4045371fb07ddfc1d7f8b82dacf2b14b5f060e279ba4f596e2bf0f5028dfdc40332129449cf7c6428a5d53f4cc4ad221991c1ef180dac4c27a3ab714bb308decd19faa038024d9cad134ba34b9fef866b2e9bb2e4b8af6931c33d54c40c6c62dffe90f5f9e7e4f78eec3014673349cc0b33dd36f5ad25c2c960f093e4cc3dfa3a59d477cdf5348260871e24c763830eff29657fa6c2a265edfaed1eed07a76a27bd51e75c4b07045a870f846c9fe340673f1f0f3d17f6fd49fe6e43db2de8ced6c09a0b517085ba1823815c23eb39f57b8eab97d9d506ebfef699a228e8f2c82abcd1b3125bf6e595df932e7c63e8315792e9030a6d82b5f162217332f2fbeee0e85b1d6832fc7a5de9555edd00e91e91d186c8a835a6f9c2b169041258ce9545ab3c3320fdddd1608181cadbb78de7f6c64b480e3a3244cce3a738ae266d1de4e69d422f2855f63c4e29b8af91cca3981e9accd07725e909b70e94d4e9a08b46cdae89582b07b8044b6ce90f42badc879d2e152c26107a55a04ba69ada036da74fd6752525f2f3267cdec722dd47b7139ca4d5c3d3bf0aca8dfdfc9881ce906ba91441061decda9e270a9009599c3abe1f8a3862f633c553101de0851d24eaf8ad106ed0894254a6afdb81124941083555287cf766f0e9efff92a0fcf9047d456f80b1b8c1f553c7b78df6cc7838f939a2140d0bfbcbd94839dc61455d7d564569bc5aac7e438f87a368a2accbe1e37df78428cdc1d801b1b7aa02abb4f5ddd1ce96eb4cdb85a14a9b80ab95fe1621c67e31fbd5fb6ab4d26b23caf7e6583ef53a9b1bb88f0b0b3a641854a3a55371fe7c7a2e8156b250e29978843387352542fbb67551fe4a9147b12bb068a5e226090bf0899b86d5abf49081f3f5579341118e1cd3a47f38a35607d18b69bfd17130ed4f36a681d7f7ba04b9470f42664ef5046202c9ef7b7d3d66e86c5b973072d452ecda0b4af2286089cdcbd59849b1dedf8a3c5d988d3ced5f5c32825312584a6512e4c3bfc4b8349737d6918c129657eed394431d51222e7247b37f5888455862f30c9d0595912494bb438439fe262edd90eb2f9b8d4b5f2fe67889daac270bd5dcc39de3a95d206b532986c0a0d50c7a37a4208907249002702da14ad804e1ab20f82db79c7a12afd4fdd846b979618f1c8aaed38285a48c7de6f2fddff09eaf4b974d5fd8383a711120741ff11eb1eebafeee032bbb6635796d41e7a239eb2d52fb4c15694933957492527b12eda07b88d92e33fbbb2b343adb179a3809db41e8eab4c36a85d5cbf5d0ad218ab4dcf17638f5ced7005340edcff20c557dbffbefcaf8f5e72a04fd9523b55d32ccba9833e5643686097db0c67a872877a247fbca759a9cc66aca3c09c140eb5ae45df43ffbcaf297abf96109024e646559a55f057558abcf6b91b175dc65b21443fb22ba8e79426808be2bb510542e19457efec778de0be58d37ccf70f7e0e4995e89ae8e0ec69218d31d7a2d1a86ec9a2cbf7c6fd87d97cf0eaf0b555a910d6104fa6811b5c436bb3a25931835073ef01b0951511a9d21ba13dd279f34abfcd0c1cb7c289ad883d6df7d1e07878e3ec96f9f6b00c971f7097a860d7fc08555c470dfcbc3b9059c7aef42d71338a738c9ab06abd2fb55adc886cd8d25a0101f5c83dd43d340c3dfac8e3a50112f1570548509bc86679ea926b7e60f93f6bddf853717d60bb5be5830374f30441399a53c8a34c7e8dabe52c91d534739d844ce57ad555ae5b643414335b775add5a05e43c186f6601f952b84244a1d55c1016b6939fb1b2b6e4db509fa8176a202654c89025d9c8ff921ef9202eba878d42ec4fc891f2e35faa44f0fded4f60fdcca4169dcc8b0cfa24d03f30ecdc1582c895378212ae75c246ee313a86182581714603204b4625db6041aeef0843f6252fa75d80864c55128344b6c1a3166d8b6a52b79666bc6b8528f7d33bf9ce2eef4e603477d8509af67f8d58034e6cf1eb482d264da9add05c100eecc52b4323116f1cb0fdd7fbab41ffe64a3444880ce02aa62b88d4d6266a99266e9601ef4053368e113660a483978fa18ba61ee56e1e3020cc769b14d92b05655fd3ddccf951ec26344a4b6043a4c303bdf27c97ddad4c15e3baa8e0bd8fd3ed95635606c31e49258434490a0d72fa4bbe5a6015712796020a67a67f295519078d8f48fdf51621ce1a83cfb7a468cf8d0677a4ef825a8aa2f59274b2cf3106e994095613b13edb2ec5e117a0949bec4dae0dfaf8ccf5c784c9b6fd5405291cc0cd702f98bb67f1f758f550740cbf95cf7ff9b66eb6cfc433d8b21af610a559f1f5bbca60965583f368ad78090e0e4b65ae82456e281270fd2c3588b3c4ff0b8b3a99e23899df373376e4d41c931f2f95f20baa5dfe65c4dd66415b5f44121e882fd4a6872e01f298e13abcdb0d912732de599109dcf3088f05cc1d25f9649ffa4ebfa7bf23b3ae21e48b6894b54a568059a3235e0870c216a98c44403c4fb1437aef83f065b1541a1f79061f133f90d16e6ba01141a7085b679dbcc396e7cfe97eff1a1d4439418a8b07e007444f43cad4dc588eb6dc992724af6e84166577d80f42cb8546b3878ec0e72fcd9f2b8d72a1317d2e06520c3ee6168a25fba3c000ebe49b7a7980b769f6a4fcb1d175257ab5c76db3af7f9ea03ca9b882f6f1faf10931df52b977e5b766d98c90ffc760ce3f93db7c341f718191c9b7d617139c1e89a205979114ede13b451ddce8919743eb4f1b9ed0882d6b519c0d1c34f9f8745bb06889a0c959271d9c985273c3ffd0d543fa3dced44a53c8f15e44714e4f0145f7e04b998b545366bffab5585e72b54db67400ef1bceff6a8812b92f2c774be738a652084888c887fe4ac2fa0d7fa55376b4cd3daeab113ae58b0f966ba19106c20ece1efc1ea6fcd934fb6ddb61611954a3a311cd2d91f30386d4c6e2ccb36c10f36465f476bad4d8d95d65785cf87191c8dd09139bfac26b727489d7cbac08b774192a3771298c7f4822b2518a0f2e944c22f82c22c1f99afe8b307063fb09f68a56b3c81ee2b949cbffa0405d3a3f81237c0dd6a378e241d492af4d32eb0a7095a913dda952bdbd6f3f1683372e72548c8d2555198dec857d8b4ce17a1e1ff871921425ed8bbe702260bbcbd037805b126e356a3ba0f9cf09f4594066049ea03054942a31499a55c03bd0642692690978216801c578dfb8095800488b4979e7ab211bbd3126f02faa094a8bfa92663067a6345e8081cf893fc31b5dd669fec112dcd46f0e0e881bad66c712df03db37b29fc5d34cf007e6c98cd0f3aa9a2c97d35422752c9b3644ec6287072603203d23dce471dfbb1b7dcbd0055ad27e48944b5a27cab26cf07de482f690c1d386abfc0f78c64dc5cf456c921d6b7f6e9a8a95898892cc1ac53eebebe65b93af0672f3179062d9c9b8a4093c9be2e2660a9e694de8377ce9e4152e3107b6599dcf5e1da3eb616fa10de54026b50fb666d125e2ea4ee7a1a7efdf4efe2197458ba846a611d12520d2c7b9a88738900d75af163f39c8e10121991cc20fafda6f1944dbd3d48c3f6a75c850f9d11c425280adab91e2c9912c3369e27d7496e841757eda7e3a3bef618fff0ff29a8170d4c969f8dd2ce54315e18153a8e7a6e604056a4586377d87dc249bb4ed5784330b6a15bbf85e9d486675e72c9aea7b09c3fe09954335b8c808deec4838ffa6f906b058ac85d28dc5d6e05d597223e8b09c9abe83903de667a0fa608e68921c08fedff26bf8f7f93c2e83b4fd4a5000be18e2c2ad0d02bebf5a295ea9e6dae77d322e8ce2c7218bc2aa4567072ff668abe8779505417164cc9adf4a9547a1edc8b21994a1eef31bf541a50111dfbe500a6958c397b0cb05db3874645e918f78d70fdcaf541e3f35e78aa04b35088fd30f8a4bd883cb4d98fc47c66a70cad52977265b160b37a8cfdb2c06783b9d74bde2716c290015bb6d246dfe46349a0e15e6228cf3efcbb5550b883a5c4c60510cd695905fd636cd66f320bdf29ea5bdc589dab89dac5404c2004dbc81a680991e96df823cabfcaa4b4e3415b376a22ab577c572845eb5b33dd33147ecbca4f33faae95e62920fefe9d7c24eec427c901be306c67d2bdc633a92df7e6b5a9aec9f5d71f461f16552b78d501d828053b24a9edee687c9d574c2e402bbcaf8d5f8fcf5896a0cabb0f4d5ec1dd5a8ec3bf36bd23f556eadb6c0172ab4f172bed92327c16315577fc417b34386756563f663ef830c06fe31b480146f5b7db4d16e17d0c19efc83c73ae2d95ac505eac0283b8e60f9fbd3e16e64d1506f36456006603f06d77294f843c8ed5496336aa99d9a2efb43f45a46df6f88a796d04e441618b46ad476438cb561f704a344162b4d33136932582a87c6b5792491410b6a8afddeecf368dda6ca6d789c30eb7bb5815fa04a5e7b01af4531b5a8d228b3835138a631ae3d54f12964490dc925d2cf116aa49ea2b40b344b4543c1f2ffc90e9d4c5d6e70812bc1413a05aa46cce0bf5aa23c9f91d1ddbaad49e142837b03ca7d9a12d00df3ab553a402d597687df8ba0aab784fd918157c1cf50f57ba8f6d440ffcf1617380ccafc64159b618a3eecd4c29901b1544ebd8e933efff91b9c821d8434a058c43bb574946a2984754652cd11a3ac1e4ed6f3ca2c362371ced9db4b063e9fd7698c02d0fe7307b89052e492811d2ae545e7955321f314e077a4f504955d9900cca6b9d867aa5819eccde5839b9b0a402e121ffa85f5b218073f64d7339e8fa214af652c7151032ee208a226bef68fccd10ebca384721f301bca6267b6f6fd84351a954e02584d800c318772177bc82c9bfb475b21a57a168bc96cff2823d0440de46a9270b22eeabd4d7a6d8127c5ce90c69211b46fbb6a1bbe185ea69dd55f644d533085d38f411b45d45bf1aad3d5b23bc89cfd17b2002aea4f4027128d3a7dc18fd4ba9e82eecfef74d47745b2c2093a89b0112600b956e5abb588e8aa28e30f03972b4c6a410d8949e18018dac5bfaa02d8eef5eca94dfd0b7468a83bbfd19e316cdc2c08649886964e23fa298526f8b33455b91ad61a8d48fe71c59af07c0fa686dc2c6fbd98e044882ef9508690b2e6c68b9fb4d79aee70ffd93e811a1217cbf3eef8ccd4d3095a33abe816546ca3002516e57f8011a33e521551248e3a5b5283b314b52855e46b529ace6d1778abd370fe1a48b90c103fcbeb22633dbd8041c3f1b2b0ea90cd684cd97fe9c93103c91171e1f4f1f6b56fbf3886b3d90ed9e3bffb2047df4fe6bf8228212affdd9291030f48302aa0d0c531ed7cc3bd92179098004e4da7afdf09873670b009305119f4a5440913e2c9662e411430a71fca0d9f25f15c8ee59206886daea2b2f243271e1f7a865ceec6ab5a4eeff7c75b3ea2257d99ef97e9cd697848d8535ad74f439040c7dafdc662b35abf89cd5f4344c0a587fd08c221f419aea848b7a8bc920c7f7996c359ab2c123a84a1a0becfe9cffa0dd1aa6d138e476221726d9f40546c6b7e1ecac2e72001604e0e460f0d5bfb559d5a9dfd8f1ef7652dd8dc136d429ab15e2a503d9a62f9148e87ef18d404d17bfb96e71b4001c797247ff126eac2260e0f025b78a21076c9062898a7f4d15dfa9e8e4d37fc3416a4b40b575845c64ebe547eff7112c4189af236f5aa3e18ffdfdff53dca58ba78b3dac66a20c9b793656706bb14129c5b9362bc9007d72382494fc9091adf194d01ec11c78267164c606ce4cc146086c6817b31578bee71b16ecbc320ac2544e8e0627d06bb62bf9e38ed5b83680acd952ac299e738bed7bbfd44a0197f7b7570d03d4d6ab2adb1815d9909aee0c7e65fbd23dfbc43f1ee2a85eaf9b95f50e60983fda3c431ad5b666bb6951b0d5480ca18d75c2ba71d230a95ee9546ec24641322f1d6a19bf1ca9cc40cbd85fe4e7a6f85033fd2b9acf1cb517d5fcba03870e9cb1483607ce2f78d4dfdbcf90bab9be0fbc71e3322729cba3fbe2a6835f1ff6f5b5e1c8b81c7f41deca2fc29f24764258bbd4ff467086cc3d0488b2b19e78cb1389578a2e05c2cdf3e92558ec226246066d5f9ac4ced9eec09c51f1704359c2ab81e75619e4f55ee7beb6683f192a4c3bad363f8073a81197c5db527f90cc30744e8ff6676241966fef186de5f3261f893a67752d7a2565735df5f30b10494c17289f7cdd3f41006d7ebb9d8228029107584d501f25f1450b9bf23b28507109b7de0c1705f4b8710964c2165f9e3058937a3e84204a45644daa51d32a0b8cb5df259365c495a7290147e42e001f55d7122c98fc8ea9fec50c5819a1e586079b16fce4373b5202d14e0cb029543f548228af19a3a533166d9904dcb2b897c4da03890c7d90340731dd08e75a1571476ef7983bf8d42ec072efefa7c028d6ee8c6c724dcc74cf8e2891a457519bcc78ca6393a9f7d0358072c58fa6ab3271b7b22e9cd39f8ed6f6033de513617662517b720c2e8fb6008722b06ac2c5286b625f02a1681b25c6db3a9553f1b26c1468f46158e43321cc95c680d894d2ca06c324665359903ee2279e2e3d3b8a8f6c9fa3a5c3db9a7a85d803e4225aeb4ff35da6d6a743a02cbb2be421da3c791c9b199784576519384b85acc9b01ca6f8d5daaa6074ac4a63d3e59ce87c0b969f6482baac08467c9973a4b80fd72515b1b25b239ada7d175c59c2493c15f93116acd554a8ac7f628482b3d76c5e108d19a5ddf1dd894b2f930a70a9db54d8e3b183c09b90b0cfe617cced1ef987d82d0a27fcefa4b7c6eaadcc48120e74f03c653c9812f13f404c9ef5ca28c7d344f178cc343683bcdf85042c20d74ada3bc2fd57ac13b181b14fe1defa693f92c60512bdda4969630145d3fe50ce1ee002e39904724c348bfafd4d868527b02fc3d8c3c3f52c4b0475299f9f629d90936d375345391427e312a1312e9e3f9e783f581ea01244b165ff76dd04ebe966309b3cb5d4864477b750c12347cc1195d06c320285a18e67bdbddea5836376ea29adffe442c2fd7471b775a3b572c7c76c7c4cc0a5ca824a8b04b0cfa2915dd416bf0a530323999ee341800419dd8cdc80ec76c4cec2316c047c94117e61b109a22390536b29892dff7c399475447715609a6d93627d9bd7694b2abab61e71d3dfccb6ca70779462a3f3f8512c5aa2dedf6d54902b0350a71cb28ab9a36cc4a5e5cfccdbf6685786745483ba463df12d427497c5e84d829cedacd9f0002a78d66801ede4df943499ee97942716c1345a651bd318f88b814ddbbd5ded1d1b226f616aafb654413241a2fa7d8ae1900d8cff1dfe6c6a5544851ba5dc8dc3d696c81460971945c9a02ffd23b3f8932a37132ecebdd4d6fbdf7b8d240871d447628467b4f3db3d170ac561b4fb173881f857bec7f0cee868e8d26c6d0e63fc0e8d4c6a5b20f6eb2efc9e07838768e152b0a66f20da765104899738b17c320e81fc31bb06cbe836cd05a3be755bb2a70fc81d7de306bfe90fd0c88e2fae49081977544bbdf9f6fef0d6e1b79b7ae750c2537375d068554905009b5778c97d3c5e2a01de8e6a0e7d8e20e3f6526dde379081665a1bce01f012f93a5b80f50f8aa9d96bbf12357bbe5854133903e7ae9c77c74dad18d68f587d67d50eb0b88b227d1197a47f5d40da96ece4b3612789688bb7c9a19103b23b8e33bb4815d913df058207341423bb4a92def68a843c68ddfb87c9afcab9ca3695998b2e25179d5e5dc90ab88a15cfc10ee054aec092117b7cfff672d1b9c40e8efec90d88f032e0b106ab87e827bcb2957e7be7b596b37ea6c57448219b41f13946a0a0a5e8dfb030f38283b5f0dc232b4f37e1ce93ab08d5fe8e566055bacc305f47ca9f3f3841d62fae2973bf6ee7d88b7f91c15bd5f6a26620a767878a9fdb0bf365e7656b1188d472dc41a3492afad86bc178d1bbe12a01b63834e6b6cd9507ea3e04a5295eaa5ec8843f54a7f04629c7870de72187a391b85c32f9a789ea03c4d4b6bbdb6792c7635d4e3e8632ac9bdb965de8773e717a4ae4a42633a5bf40a4743884d36dd82ba0f2ca6f13cfa96e7db56d9d817e85f60709ddc0138f6e388722e4108bad665ab207eb8489fe401d352bf9fc3fde54b002ea35b1bc4fb57a72ceaa9ff8028e9d19e67bed292bf6e6c3bfb4254b8bac3b68fc482501640b3df551154f74230c788df48b609cadb3e2ba5953a541912423d239aa46d495a081bc9175ffca768d1b7826c91e34c768879ff31ee43d9f72c1fe3979e26ebb4e8ada3587af2ad9c35991e48539f1f31c8fb5c55b267bb769dd051487a95196ebb288e22c80d6f1ee8f958581e4dbf919e7c838f64912b37d6937fae80ff2a771eaad080d4e6554c0d8fa2e7114cbef539a36f3103ab1a6d66f9c87a765aeb17db1ebab7cb976cd67556c70af16486e4ee987330b4f42cc6f6c3de173bf2e254d6f4958ac2624e11eb2433d2298e49608b8e125c989382491d5c6eacba43da8ffc1dc0800affc561c3b2a047855e251b61e1b894db9a37ca41ca8c90cb75dfcf63915a74f47e2db4bc5159ae95d46306cde7afca92f132134320781f028d180687d6e5f430a4e69483635f2a902048a9676f3f6bfc6479b5649a18b47808479a0457c82730855393334f6f0622864e553895409ba8de438b8cadde55739970ed15e51d38fe227bac6e65c88a02cb4fdc0d4de0361dd17df6d12d4f403e9b8f613008141fccb0d6adfc0835700f5234c64269eb97ab5b6daaa315a982e130f869592fb9a29c09517e932138308ac67d6fb49d9eba09f5eab39c9a2068ef8112da385f3a81590ad419472cdbe069e57bd975c2bbde2e720a7e04ed35bac6e5eb08bb3222bf64e18d95a74143baebdf00eaf605602d1ac933d8d8969e30eaec99c4ac243a2907363d830b6f4b54f857f011122ccd82912fd4a009d52849a701c54a3f02c816494e4ab064dd5e1be938f7f5aac86f7ebd8b1536f38f532f783401b51599046d665b3fdcbda470864bab1969ef6a526a77cc438935c83b3ca4c9c0625b0ac80641ab0289f3c77aa6af7bcb50c2b3cafb5c939c0c13b406e57628eaead996809a93332feed7e71ed4df2da637645bcc8f9a740fecbbf3a7dcde31fb2da9ee7cc6f2aa5d5a084ee3641d2d66ce0409a2db8aee37eef31a5c103273ec8b52c6def6efda02bbe7faedf5753f93c94985ce0d1942ed3249356eec9ee57d0ea4ac23a299e1cb4ee221780b9a26ef12458b49f7ced7590f5fb5db93ed1c7b109a768dfee6bf2bbfa19d72bd5ec714f039a170faeb2c8be70a3e0df82b00389d9f21933f034d542377911775f7c6ce75118bcadcd816d12ccc1cb2ce33691c4f2ef7950b427bbd32b5cd13bf5c9c0cc068c4ab7a57d5569270686799fa1c0d1773bd97fc299b4102a277300c9a9adfe44eb8fb1aa00f86f94f0c5b0290f6fec89bdb7db45833ca7088d8d672df5dc5d4706371ae1aee2b8d4ecec5b9b752069f93ff959b96607cae23447b3cfcaf9ab66c28d374ab1d22703fb185a5b66ff231885f33529c3ef91252df5e653a73b8b0726d26f97367302b5604ade3daf89d5b32f8016ad1e40789632178d9b704149d36de37eb60fe8d45a6468b83576ddfe2b0476537e0eba24c39c0b24b901e569bc95931e6108549a97db92c5bbc38e3d6306d48d7b52360d2cfc0f45ac6fd57f642d4ad951f4c8c66ab46765f575199c4cfb8273f5334542d65f88caee024882b94269799c64656c1cf2fa72a62a811876342966ae5e892a24a883201fa0fd6ee7449b3f0d1f364d06facd39d69f77e61e29149455161ccd928f8b3c8840f5cae8433770e167a0f2572d307c5a26d879dace8d7256da518fc2b0c3a7d43e3cb6bfb3da664cbc4160d4f8a430dd9b50c9a492a15df82c0b51a565763b1c27f8a562c3f37f58351e740b98a6479f2f4271c6c07c39f379283b109c9f751324807f14094fc7e8c297a39b88c5ca32da6aee625558402f01ffe0e963ecf2c932d3e5d0464a38d140c5a85aa75e3aacbb3f8c6d7f9e42e653b235558c5e8416dcbe0b9f425a429ca1344d97d988305296b1c956272ee7b80b3b2cd59c98c06971548c7a530c87cd8fff03385f8022fc18da9437148743631749fd1be85e8fc960656ce5ec00398ae3d84c07e270c67f2c4752e9af5f89bad01bdedaa7a03d86bb67a19cc43dbb1d5a81b739495b29783c68f8e050f3e97a7a2bd59585b3346ed4f1f386721dd51ba5ea3497575a15055ba2b7e6b119d6d6a1aee034cb735c0a080f7d675ebdc20e698097962750d8e24beae621bc2de304e89c7c651ba748da651eb4987bf6bb6f116b226087a84a407047b3b079846a9731d282f245210a6c56b979bf351cb392c7fc8b9c25d4acea93de50f3de9d67d165d78778a08d7ecae04a2addcc14565b35f0af52602185c5bca4694fb91ac9dc8826af8adb908b3bda3949da5b59868c375925458da785b5ad7ca48fd885ab05493bed7810acc8fc1b8c7df11deaa423ece7fcbd7bf82e7598ef38639685e9a7f24f99c9da87fca45736e535d601926649fd3adb2c592f62222bd6b8f7d3d83b2c2b8c408625650b31c778bd7363cf7944d4a3e2a893e1f61c80cacd0ea5fa6d33671d417c1bbe0097b21e806b8b3e2d543432d117a66454951ad9b12fd4309d29c0123e5b51b361d5f5bc96d084b5eacbde5ba5172a71d9f5e814f4b4a79c09f92aa6d14d478af332f03b9619a2effe2154b276c80dfbadc985de2e1bd2634789c00cb3a4cb832e4db9d7163ef8c086ea77139721340d2047667fac0fbe054d87aab3de578916625f65e2728646a2158fd7646903fc508d60721e5e69a38fa5ae313c1f24a824b72f282e5c16cd390f2e49f4cce43f5d091ddcac3fdab625d7c19326db69a8f2da51d9cd50381a9ff0790605d78c8b285ef288c671cad6939da904cd9071cf82ec559f5773afecf247b068ed950836dca518a2542cb149bc99a1f30bd81d45f448ad8d8fde9a6beb29a4a644613cc5a5632fac6beed105c2a13a44d8587e5244f1b04eaf35b84f38cf162ed47b999f54882154be5e91af937a7eda0728f7b2ffd6774f6403fdd2ffdea0f0ced036e93bfb1db8ecf34770075ebf322b435d847c7d901a8f5d474f93b0db48128de4f94951d4be1a8ad40e83e93bee99b8e476d03ce39517d8488f5464eddfe87a8ce30d823d4bc8cd9b5078cd3b17f7b5d8a60f6fc55fbaaecae5f2e4774901ad4bfe2b13afbd16229dca75d99506d12684164642323d29c94779b8f1f5151a23994ee4830e8e95d943ad4152128aa634a0919003f018beae969f0f7e3b5aa7cedf89471faebc34fef79c8b16edbc7815a0abe183fbb45344f7acc6ecc04e927b6ca5c37616ccbb8978cdb60d2935cb8aa74f19770b371f7432741646bd69d7d4050c651d1de52598a76ba48b4cf2ee9aec9ab603dba801517477765fc02b87a13d8a240473e188ac916a73f7afe0fb68b97e85cde792810a62c88d67921982442c7fcea30f6f71929d8b761b965d1b49f9fb4ea57c0ca031b0da08da6d70d4d411661f15def8225e8a2294b58d8ef5cb6f3f9dbf1b1de8179a386640d1a71f880052fe0dc62cfba513e6ca41ede10307ea0ea7e4eea9de4abcdf141320327035ea5a98343d8078fa1d0ec6b9e0ac8daed1f01775a6dc1ceb282a243234b7694b3beaa1f04692c9510702b36560b141e55b9afdb3074cf5d7c15b8ba9c0441701b1aea0c59d019940566d829794c11cd9341b4145b2ad43a4f4bb3eef5b9c076dcb482a5b8ec658eefc7e5f2fad4d2ac614494c519342356b4309c0dd1dc7161c628b1ec770538a717b7c151bb600cfcf3b6095218fcfa9756039210bea5473a3122648d5d360c71cf63df9cf22c901fc51e48aae4fb6325db791dcd8e13916bc36385178680ffa48a5e65358f15b95d8761dfd7f628dd0547ac5d46935a52fcbf9df405202804d60c1eccabe9ae401d03123f7f093030ece89274425d24d96e9e6d4bc00ca8dfdfbc3a64d5fecb9c3b318957e8e1f6a7e5a97d73ff9b0116d8a06b9227f980a3c0f765ba80249b2eb201c45fa5a6f6513edb2a5af74457c99d4e354e902fb8bed4a1b8f779fcda7c6899f61bc6e37212cef2e0192c9046ea66842985272a0fc79af1b2491fe8ac988a912a05341301d326e2c5e58f3ba427e62c02c20a3f2929f4ad039f472381e33464346115ee49fd8773ebfabb5ef9f1cf9661738116bdb21951149c990756bbefde8f2c2ffe238fad869389fe72af365ab2bd97fdb3ca11024ecb264a5eb5830d2e2ef394eba05d226e332d178f93dd4a4844c1ad905a74dcc699ae69fef36e6780f6da3f7ce7370409451ec7d7daf488ae02d85d3668c432a4bb26372dc95d5d72eedfa0f63767cd6cc2c34c7350a26b0ea92e0c3744fa06bed3612c2b0861e2758cab336ac60354f4ffe1da19c6d11f8f6f7b63beadc6a93106e70d92906018bcc476e7a712f205dfe0379f085ff22baa4d662b459e60502b43dbcfef668e592f58346dbfbb61524503f2c3b74f76af14e9719a3bba65f4ff724d9610a472275c39dc3918e80526e2ce7f3cc712beb0a918cae54f0c7bd29cbf78d8e1662cfb82150945780638d1986f144a8c5775a897954c8dd65baf4ad9301bf9eab17e00131c91364fea0d22a7d0a01df4cb7b9edfd02f9faeeb5192947bf3346a8710de2899e2e811d36d31ab419f05e4cf23df296699da12d9f17aae1bbda2b0375826f94925d2ab69a1f391bafb0040a62e6f2f670439f3f5a9ebc6dce6cc19bd8fd7ed76f467f08b79394edd359f9a728ff8ffcf1f4baa5539fe270a7ea9f6c8563d9b7609089000c2e74ed841bd4dcec33ac3a86ee0069343331108e44b4ebbe31194f4d60351072d148c2ad98789a5f380ffbaf79b6da0c0dd4ea4164d724233eb141abe2d4ed6f99dc7d1bb3b2fefa71d284497d002fedbceed8972b481354268982b07f422b931af5add893ecb210784e01b7911c6e6e22fe1df9a29bced3d38eecfdf7f02af18aec96b26c62aca534cf8cd03dc440e5a7e82e9131e9264766b6812c6e6bf1f8b633305eff903671fae8d3ddae3ff5f12e084fead30fc8dc860c905b09da3c8cf1da6c5d42201effbc776153b1d47e7f5d1a2d588d6970cd1fbae5c0dab86b53bee072c303ea5afaaa0f25fea1896b6e16555f5b29af20d506a9b7f67ec0332e60fa73022cd7c118560dd2ea6149e60a6e9eebb164fb3b3c0ddaabff45168770c6f28e77068ee80fe4f81359b117243477e40eb06009363356c9bb60e307162581f007cb3b25b2039e2a0b20c3503c5b1208bd048bdb194bd7d22250db1a96ab0f4407e929997a5fcd0e55c53b3649e3573a186f866857df62e91c5c577e4613664281d47dcbad76ad8cfb1e7db8efeb9a856ee5d743c0b3232e4e4e1d00686163165a0c47021eb08019c40d36add3456efec1c410fd4984cefc066e98f476d51498d33aaf864026ed9d1c6eaa72872213d0986a37841568ed74072b65ea34285df7be752a2632a41f610fbf3b8e1707250a3844277927ca9fe9a3d3e75443eb71315e37c78d4f9feddbd31e9594d993278ceff4715affb72076d94298593153162b4f5362343fab61574da53eeebe66684c7500124fafda8f331ab42ea33615b34ed29d418a79d10826ea5c57252fff9555e5f982c0e6b6ae791167f0acffff73daf4f575fbdf9246e8de3ba1fef1834406f61f830a4e1eedafb675db1f8c5d2888552ad9e21583e00ed6d92b328a46feb0a4f5147040442d345493d18ae9c8ef7992ad12ec80ec54c52f0556450c2737d23ae08463739e09b19c892ed648be89a1f55903f0ccb193968a91927f8c45f1e759732f7b94a2914e8620014d135e817ef289d4cefd6b712f7f4f1c5093daaba6174ed5aecaa7606697ed4836e30deda58d0c6160eaa770f21fa8fa35ce9393700fdd30101cee77dd71ebe83042051221c97903991dc953a84b20b53aaf6ae7bfbb745a526a882398ce7627111b2adf61eca4797095909161f2fca41e3447a17b781c1bcabca24ab5c1ebd11239533d5840fa77b2c9f6f3156f8f8fcba77b333edd9eb88d86fc40661197e3d70b4f3ab0c0806bf7bcc176263fa60e735e7e8fcc2b52d09c4f06ddeeb8b3cd41d5bd39db1eb297467deef959fc7979cb39f479d5ae05b731d2fdca3c525feb21318568ca4f1f1efcafaf25fce4694b7a17e6cd4409763587c98af1644f28da4f12f52c42cd01b42e2bbc0abf34ea11dc3b3296a783b14c7a1e7b462ee4ed0fabda2adb08c7af3667ec082497052cd43ce975a5bc55cfe1c8ffc6d1be9c8f39dce7c8f397a79bdd41c0994baad252f84d44974f7c03ca6d7ae68374d97e5eefaf3fa399c557d23e3819ca4d5d42768539522733896585c1f1c8c4e804ba8891797676bef42be127e6b984be375e670f41c1cf72f50ee04d10fc52cf00feb8ab1ccb8d2d8db93cb4a24fcf0d4391bcb8b1da80b96fae4839a2525d892f0ff495750d54eb001e8d33334c1f87ac2018d182db477930053b439479646dfd30caf7299f4aba5f246b2403c9153dac08b6e055c3d74b70bd9f53f07f1d4955164580f146371bc5c24fb581e4240eea0094aabb1c05ef19899499e682f1b502894c149a26ff9bbe56b4433e379ac28c650992858cd6fdb3cfac44afebd990fedb04898de962ca03aace4c977a3908de43b508bc8097a57caae96841a794278da1e692abb4904bd8df1efb26828868d2d2c73a0b12e5d667487873a2ad20d8117d89b5766cf8941b4d90234ca38d381ab9272c63c2e117c9c35315bdb2c58b151ee58107042c76a99eb19d751f7fe49548552fcacd8abb87609b08cd35bfbfe16be386c3679a623f81ea3129d0c1d8c821371aa6c7fcb54c6a4a0f5562a11c1bfd2cca4184761a6a44afdbd2b365fdecbefe294cdea0e7ab5e46ad31ef5fcc139b393861d08e3cb59bda6c3deac77da815693d665eb0ea9e13f78e52efb2e1d9f34c0e75d53309c05280f604ae75e4e62fdb6c4e66d4c8303a4d70ecac18ee049bf83816a9dc4466897891b07459634007579c87f94bcda3fe9c248b62310cf58c375b768786754c82ebaa3f675f332fe905adf8d46142b5d562a3c837760d58196ce6bec9cd59ddbb41cd20ef9f179f6fa9a30fd7262535a812e74f01cf38982c15db78c95879c3e91b2c91142e41efb3763b9a32ef6c5fbbfbec28ee959f4d089539edd40e80a2f56f21d9294b548e2420831f9077197880ea91fc951ff021fe89a5f463336a35f24307280f795a0d0f33264f49ea71037be10618f08490a90f544677dc22ad82d18e5d3cc6f898925afbd3df50da345c2017bcfa3de965c0ee3b769d73ddcffe8e3c5bb4527b16d9cf87b8e6df0ea6a3a36c3ce18fe81639fdcb10c505da535009e93a34a0ca310af0c5519a6853f97b5156bbe53d32b7f59c5fcb3f4dbaac26e013d045e51b8d7fb58c1ef2f37abe1bbe401449bef0286ac3c856bd8a180eee2f9c9fdafeda9b63b243ea7af7495ef6e2cc5a597df62c5bac6eeb9df3db1506ef2175f731799c02aea2fcd80460558ce592fcce5063807e3319c8bc3b6fab117efe256548b63659c831530d2ea94b35a39d4f09350e8f569c2241053b66faffea89c63600dd6503555310cfea86f82442cf55a3465c5b87cb09c0697e3986f1933b81014c8364ab1838a6f12d4da7de0f1505de67933ed3cbbe2ac8d89fbb3a084e0d011240a79e9f3a917c52487bfb82cc6d380e1dc06191893274c1e2b69f76ca5e07895dc5e1ce211415b54b6816d23e1d6325c82717ec839b39265d5e10e2a645a4b52440fde861c2e9bd3ed21f4a149d4657aa86b97c0ed0fc95209a7b1d773418061cecb38b634b168ec1981c681d1fd777027e3267092a37ef69a085abef22b1b814737c560a8528903942aeeb171ce1155d92b535995f4610611268be8ed5777ebed65f06a1e2b09b4449dcb5431aa225a22f1614a4505d77396b019b04d4dbcb9e730418d406b3bb54f2bfc45b6ef9a7d592e3f0a2e71aeaecafec91d8410f0d7276b544abfd29410e4ba6d3b440fbebcfdd725d4f232cf6c43caed290d5facfcee10f3bb065958ff4811b7bb82c3e82db826b1e4d66a109deb9d78f28a965226b3780731e36d6bde48f241fdcd5a46ae4eb21f0c6b18b36c887f519354be1f5209a8555b7bc1e16251e7fb5a06996a7a3ff19ae829ccadc6b8c94d4ae8051dfba6e4c62e78848fbf246c035fb9d4d6cf7651a202a97c5326a56923b361848bea074562ad72adfac68ecaa3c140c23d775e34fab1edd0d5df25d9ab0cf9691bfc020ade2fe110928cd68fc61843863ce23c100ae40e82a124749b9c067407b0f687c61e26d19f567460da00e5df5234b07acd66393bf9c5e4329e2d67585bc5650f59e8c82ec8c33053e40f36ef50053a71f0bbba6cf9097ee5010c470e4f8b358cd9b2f826fdbdc3fc6d777cd4580e673d9b2bd2892c4c336a56e72923e9cd9a9da1d028c6fa5bd31efb7f11323fbc83ca0678e60fdde0b8f2f2ab274f1daf4a94749a226925b6ba474292c81838e8d0f0599209eb35d54bf6396ed71a8c3891d1bdf1620ded3deb0dd611c088fe751cc3ab2d3cc7b10d0b87397e703945ecb85c470a6f477e545bac3701589ebc129b42bdf3d141328ae606f85ac7afa1f47fedeb27bd475b577bb706e431b2745d4731b340096d2eac732ea972784def78ae502cd8a62d2cf1fb133c9fd327a34d6650b8f1a4b091625d699f2c4af836b6fea88c2bc1f6b7bbf90ab27361cec8443e3bd58f5f79971960571533a8887639fcc06add8c5d79a1bfb7b0787f03e9e4a6c1c09baa45d9bdbe2f981167ae22c891ed151ba80adf50edcab2eceaf979828813c1902fce433f9218cdbf9de1c28dd1bf858b278cb6ec8b5177db0fec59e77578edab62b2b027de93d9d1711040e72844c3cb287df2343d80520fda47197973b6d40fb1f98b77987cf51799ba16cf5744753f776c0dbb1338d343c238a0fb56eb2b742b9594ece4f4e61cf157d6f7a4a8307941561b6756506b86508b9b484e9fc8c5c77002e1d52356e875a6253ea3ea613b5954fce3b85834a098b9c33a8fab3ea3842d0293e54f1595b11fe95bb18ef19b78f6ef3972b3189c0a72a5856c8a6d24b9ebde836c5d38461b3c86829c0cc81d155960ab19f4c6d9ac2f4f9f52e14aff7be05994d8ab2cb4292d00efba3fba38a478d564cf32d3a95f3117cb5e8579855dbbbe8e4d41014fd115271005a9619d68892312aa2807f8052348356249ef283f551d79b21697138eeb0476a3db679f8b6c5d7ac625d6512e5d856bc99b40fc4db59468c8670c54c643e69ab0255d5ded4a60b661ce7405767b7a37802dcb1d1a9bc3a1722b50e7e7aa7ff38def36a7cfb0199bff69343b570e73a2c4d0b2b2a61e53ca9a67c1be7d595b7ed6406b368537921d7f4dbe5cd88e2eb5496e8f2ca3d2b45aaf2b36ece4f335f9de759b808befc31fe583b605a23ba657705b382fe239b5ab520659d02b4a14500b4ec86153e5a06fdf2ace929e908b9577410741b50a406c36c2f55e3e3b7cfe844446e041fa8ad60628c61daa2d384f69cbfe60133d7aea9e40a7ec44d71cac5fa2ed19b1c7e51d70e70eb97f116ebc7aa857962efd066a23bc1defbdeae9dae71608c067a1caba4563698a69ca735e3b85dd5a9af50e9388ca0b9fa4f3bccecc1a9df89a3b839eb916eb70b4acb5bfd228e41eb5d8c2685c3b41de7f78d8ee5582b4022b7de055851039d6c21afe53c38905539d748447c00c7583e25edc5a152d280a1612c29646056d0393aaf8dc5b807e77d39359006bd9f690fb68a78d8e1bde179eac4f0c48f050042d5de09a0d37783121f1c29fdbd0e647646ef147dbb4db5681e11548b67b1d1548c7a51dcb0169b112ea246a88510a8bfab5fcdf1611d21365bf54ed00d9a7eead100930af1085ddb6b7a2425093d41de948e5f77bab70bd4a902f4072b955b166456de656172be5ceba87a34daa28b1a72b00e7ab4a43bca6eb907a7fbd4ac4007fea56e7143bc0be31ba36a3d67651f0552d6a8697876d9d09cf50913e0295489f5bbf4fcd20ebb2444a7d1c4612213cd0c7f469df56c83eafb813f7c08e0784f2b782cff94ad9753b0f4bb7b8d968fe0e207d684bcc0ab44259ebc71ce720e425d8b9663e2b2559e466eb82b2f07b6c63e8b93b31613d7986f77c0e026ea916819bb39927dd6f1ac4e6dd1100853be2e5c909b9d57d0e8a3733fdd914f42fc2049aefa85b2d1dcad47d1d902668da213aca038c934e607a9011f0fc393211fb1636db2cd62263a43baa288da12c55cc2027f1dc161ce9223cb6d17f730fcf6c56c609759a7fcf7de6f7d13186c76c43aaa6ba5da6cd2dcfcfa4b49b53ee2d48dbb0672dddcd5a68112c7173636674ebca88a2c1a23fd9165ffa47a4961856183ecca8db23595f711b95472e60a53850728f633194c66c2664b1fd13777f21792ca18e62adb136cebd346bd4219647a03f2e236bf68f006ec41a425482eb315be575cb67600cafd59d2994b557ae7f84da4872b644c1ce95228aad25707c81a1219f92c89820754af87b933ea4943b96893426ecd48c92d9423e477df5b447ccc57337e0fe8bc0144b749f055ff08cc7877375ec7dbdecf0b850d402790d1169b40896de91c3d30f1defd98af025f899fc5005e36677101d041193decf976d2fb510cec77ade5d91edaed81d90d33180beb2502087dc06df079b3336cd58ff73b9ff5ea574456ef3e4c46d6c6f2d775374908940116e30865a6524c11254999050b176a63b40def7c5caf709c65c0e638a8a1291aa630f733a91cc305b437d80eb35408cf79a32f83ea66dd9b23954245b4aa49a3f45ec33fce0d511b01bd4773db00e5868acd14746263998d7b7338915c65cfcee291dac58eef2d1036612599f6d5b61bff8422972d6dc2ce9f27fae52db01e87e51c4bac9e863aa136e5385ee9f0603a81f591fb2718d2634f7bf468b11f11da94d30b17c2a623fefb7daa5bc7e3b9c5a66258ec8bef35763645743cd0e5b34d49fab6fb673334314b11378706438824618c5b9d4340e71b175bca6facb461c580a730f2883f571083fb1260d60b59bf30783f73b9","isRememberEnabled":true,"rememberDurationInDays":120,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
