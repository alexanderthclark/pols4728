<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"e3e948f429dfb5927239565c43cfe43700362ff22ac53765d23f63ff032cbf911c47ae04c75ebb63a979e98044bf307b4db154d129f0d26f909fae507358e332d96f91b0d00d6216e857ed9430bfb49c0c886e61bd88a762aad98e40101c2088a1693e925983219d402b9092baea8917599f0de79cfbe308676cd8f3feee51bdb1c701798a4de325abe9ee57189e555b698a4cda8edf2085722c9277803a9b124df876c03ed032ea53dade9c78b94fc671029a06fc204a92573597644ca399e24c7ebd69113a0473b9d8200dfd903414272b1e68f2e0d4c8320158fe2571b9c00c3bac52ccb785b3286de86fde5951fe4b7eccf4666b2af83c24231485d5dcdd20065f2f02e3afe8fd003b4d8b3e2a9baaec46cb5cf3b4308f73779a5febb5e006a0a2c39b7f0a409b8f30195239dedd9d6807acb11d647014206a797038fb30fdde122e802c462aa3901bea73a032925e25254a98497a6cedba53c33a6f3ab90d4dcb7ee51b94022838065438903a7f0fdbec91bd73e4313769399b3269d55768ef146c6b837e991ff2681400c0da6fa7ef86ab29098a8ed2f64317676927b6fa691fb54f8c40f5b87cd87a01113323c7b82db31c8ca89ca0da82d0f2d609393d4015d9e72694b7d96eb0c35f0766e320214a8c6a84b545000b235822f918b2c6881a32a2e4cce8e923c91376c35cf6559cc4ca1541068c2c8fd5b96a81d18e8a518415fc36e6dba0de842e50636283d292a85d72ce797e589757a816c0dae82da74e71fd7d1359a9fc77bfc98506a087462d6e548cd75cf9e906ed1ce420b5beb07519c8b9525280c0b250cd7883774b5ac3d8b1ac0f220dc8d3ca69d762d07b7072160a72c1d09887203c441637a07a370415563f3280b3588d901a3c9c7040f8df62ec7b8a70cc623ad17d4de7a66b7e773b40fe9c503061ac16e24287298cbe7cee3c85e7c934ddeff2cca7f21fdc75b5141a9a871922bc2757521e3c09d7839da24227c1f8be9dc2bc86a209bf43db8c68042bdfb20e974cd3e0a455163cb529e20708fd38f1ab55d93c00a2a785030fb1573780831164bd2247ded88bad9d23473a6d9245cca3372b17acea3bde1cb4d4e153805becf0ddb05fe6675f05c7306822146c4c75ca0e9fc2eb2f6cc72a92c61ce3708b5c20aca8867678f1e98e13a2ab4fd94fb1ebc2825ae1df0f32a9fe05c7fe4cdabd7f89a3ae28120e324d1e94df3de3f48faf7ddcbabc3cc071cfc8b9b965cdf9a90ea6e76474b02c11095038137f71d9d0855677fa3491e31734b20eeddc5ba66af3cbbd30eb904ab11f5b5e1025205baebc8869dab271868289c8751a9f789533895f17cab5d54376b6bb9b37e1de325cadedd453c6a2f8c77b82d69ab9b610c7a695d7b82fa5740eee82d889677e8b23d6e94673a331bb5260cf5849032b17b5285ef050fc986450702edf28bf2712998965807a4a80e331a10b26fe92d2aab2439ed6e1a3ba4a8d3fbd39b9575206eeec44789596aaad0b5bdec8a2a198661becc32cc63d906a2053a20d95e9d2e7693bb1f4dff35ff1503298f48ece21117ea22a7e468fd9c753a0fe01e68fde69bf81eb772996a5a6ad0ca77b482c8924afb30d0bcbd9320157af0cf2cef25d5f5b01bce08650b0c89d734c086c9165e2c89f8b6144f9c84e5a4afc88e4a15ea2fc3b3f29c204db578d774e40be5a0675a6ab843d30489c02ccd5237da6cefbedda652021f7dabe7505d25de77217ec32c898ec037d7be3ded69545e2388a3badfbfbd2336c97510d08cf5bc3d306a98666b206b8644abc82a2dbb00c3934586d63f52bc325a06fcf3cf4a63cbb06e718f69b7e735748d1033b66d7755eb59004f3259bdcf32dc440f9532f5229a217c148ae1fbbab5d708dd1fae550c0c69e4a52abf6eab495f3a54656df3d00787e77dc36f1a256a6a70515534248f4fa9b7c25682915301787dc96afe54cb95a25d2c6fb038be0826fe5b22ef92c8a255dd372d203d2df231eaeef581028d5fe7ebaaa25a48587f57fea1ac189f94c4cfa2433cbca32d437b6ff270ffae7348cf069ab59f704f0fa8521d39028f792cfda27a76a645b6d3d08450729c70b3555d2f14c2e4ead9967ed5e4a4802e6d5bd2dc3ca474e070fff6a7c1dd03ea8639380d84e504731149959cd0d0369fd3d6a6d8b57ab3dfd885b7a67581eaca780e43292905d6339cd3f340ee6960480ceed3c489a474ff6f614c09a2f54236ba69a503fdb9ff41f083820b568422f963dff2a3dd30138e28ba84ba4748b5d07e0730a6959bdff3df52b4cf4184fea84a450bbf5f3649e57e55da85b1fe07a0e5191b5ac22932976d657b65fb7e922babaf3c8b122946bc6fa1b47b5a2018b2ac4b5a09aee476c80dd538de1e3dfa6e8ffed792a4d314ad086417d6515bf3cb57950ca945e620cfe464eabfc64b6cb9f0b3582b3385ec3270079847338f01d7a1c019d9ecdc1c8472f65be8dfb9a282a2a8bd90d4259aa902337931db0be4125161ba7bdc885d57b02c05d0b8752be3b9019d57ec955e65401da8c7422f37e3edd7d97928f1834ce3b97fb1e7fbf986b9a14a3cbf8687504f2b5f915a4a5c3fdc36fd4f80b99d77effbe02fc5fcee7e403e26d6e577e5aa5a9291b9cae2d48bbd194d757b7b694da389bfdab58df97186121c1728dd865fa02d5bfc6da7703bbfb154c7842a3a624ef5e17c42571ca25e9dc5c296ff0c5ba8e1396aae072a7fd300482d46f46635bcf3b27737726456da9cc6c96caa1af91033b7f85d3b2bc7b3f0abbc58738ea00351816d58ae55338e1f3eb77a1eb4bb62f96a4481c140fa1bf43254d36eba90183f88124785886f13a3efe0e0925cc766bfc31984f41054a46f000ae76f56c473ff796191ce4524c640c9ee6a0f4bcb1d91ec93e9b2436d13ecb19b231c6e8869cca5818e951a06ac03c29aab68336d2cf0f90248a13d148686e166e1a921ddd8e6c301387542bfdc182086379eec56f782144d327538e80989e34efbffb8e7c9bd2191eaeed4657aaa5f5ec02144f0a4a8f562eb13c8f63f268a68b007065f1be6f496e871eb1089a499eb7b51e5758d06889e7a7cb236919da1ad067b2ce6a12d5eae80d4b9626eb716d5ae48dfdbe1b14ae29de71c47904d0ad48169fe53ccb794eb351d0735f3f5f7441789aeb76ff0d3dd6d1523e64de0457561df3403e6fb4eb826a3c7b2e094483b0770a5f3ca370c0f2bd54a3724748329c6f4d6e5220e38220d7f4b303e323ce08f5dd06aa30900fedb6297a63c40545839b181779844cce0346c90cb11351d6990e61fcd44e9b9e265c8a3dda45287020b428a6a949a5d1d959f712cbdab339a86ce73ee6f4e23a148d5e87414433b3823881c4d6383586b8d02b6ee0cacda05b649d7dfb02658ce57cd1dc5eaa2d4078faae2f1f3ab0568d3768b8fde614e4603ba08b7e93798afc6f800881815001b0a134b51193621a537bf441583673806fa14893bb9c60b12e5c763929d8d7bf8714fc36fed608bc41e9bebc51d2e7c12f009387e6f369bf245ce03a7b1a2ac7919c5f0b74f30ab60529968fb983345bbd974b5ffa3286b0aaa221e244e05faf64f5fcd4ec3645feec162cad50c5f2e9936664ab5b7d3d49520fb9473cbacc780905a2a51c4a0ec4f247d98c26ac1389af7917d3a04df155b823f5663e56a2d745eddd660f295c50f7ba2581855481f122342e4725704e68392a131bc8952d6e0f3026b70ccccd16dc9ecdf7a7ca7336b3b25091ab5606cd92d4bde9fbc4e8aec4562c8323715e6e8a4c1d735da7edce396d2a0657c5e006143c9959442a08b76376db71d9af1e65e19f45693a86a360df87c6de4165c2188efd4eac704da7da20e540fdd1e9d188b22737e4d7c33fdbd33e48636cea5d0ea10536b469cb2dc8101b0f99843b82cc0d419ea42c151153f631f224fa05fa8e170afb58c861b2f1630fc66fad4bb6e46b322b21229130b305632efd34f070d911e37c2e08811475cf48501323ffee450325d653f6c81719b227568e2252a9e67a8d462e0ea1430afd79ce428184e81c55c852e46578dee82e39e26f6d4fd27c00ee0e1d8de47a1e8bec6705fc06123a9d533c50d4fdab162218ad53cdcaf2758e90ef0d7deb0b1ec83822c14fad793f437da6d63699863fe6e605625277c36c8f03750c47563ac4227317e8ba1a3da8e8000b69a7f8daaaeda7db6ef64ad981d0a54bad75bdb8e04d6f9a615621131e73c1609116c9587906999b9b5c78a18e152ae755d5d785bc871b626778365696d8b499822bfaacf4f272fafd983beccde569124c8c7bb1ee190edb3296479886f77a1fe52de00c4e13c653d8d3bb9c2c14573be2175846916dcd298ea852151faf6c9120456caee2942b6635a65cb8a6b93d3553dbeddd880a988ec012ee5338a13d62e4c75f60c47dd45c5967a7a9a8358bb775af35b3b60fe62b3455a3613b56979335fd5a220775fb11508d86bc80a11379b8b1bbad116d9d48a3d0c6598c09e8423f316a3dfc4a38dd9d856cbdd6b736b3e88ae8519a70c9c8361a006906eb1e25a3fccbbf40afcbdb290621347e168b66540fcc4630942904dfc876ed63f341193ffe347cbed949dc55bb733cf71b8d4c683586439e685f744b2ce547ab9606881adb1740c99627bb8404d2f1bf05a5c1ba6b4c3d42847e55b781b76c9f15fa19a8b85f393f19a702aa656e1c1a15ae06515a4a0ae5784eee91f6ae2371927cfa53b0b61d6de3bcbf3045eea7aab0e7bb4895ec8bd0ad17b012acd99aa79e7919986228cc7e4ea385886eb133d9b4d9dd32321a65fe301eb7bc730d9545fff4cfaf5fcac86af656f5898ac17c51bfb5cc2126e70683a3eff7d4d767af1eb999a545e641d1aa68cc8f62f3040effd846436cf4bb8b7032314c826a97bfe5420d34254da4d4bfb0fcb52b5b7dcff607b2982abf66165f3f3a105074f7c63b1d18f40872ba69a2c3f812d0274034609697f56f38c73f0e87ed15bc6d0cff6e36c2872abbf71434184529f6ddbec160579457a1bdd6b8ea212426f0d359e1f6b460922e43fc13044321e5ee00d47b53cce9829ae19054e118ba8eafc1beb8f0ea6288af90f4a1b4ce42966a6fbb9f9a440dae8ae04a7c31b3969290738e0b5e61643b806323f6f13a83898c4561d64f0be2c747e2d6c4dbb03acf81b972517a7a4efe49bb1128e5f1c6b2f942a94140bd73c430a61fa6b08e7f01e0972fdd387fa97059c78c1575c399ac63b482887b746a64eb964b46e22dd84ac4d7952071d7d187188e4e7dc96a4a73de427691d13a5cfe3523aaa5c4fe1135b981eb717125cc23dbc9030c360db7f4014013d4cd6ba5ca946808c0ef884488dbbf286c01a7c6b19a69922da1835cfa4c3f80df753df2ed3f8e957df706ace128453390397278d8cda134320c9e42ef037156396b974f5b1e59d4ac48b71889343f7d620a3a012461d110ef40c2b1bc6625c3f22eafd418f7c5bd0c467b4761bd18ce194aa64003bd91dd4a1767286539b2f6c30291a28149b0456e3431aff72557a8f1c3145b384b05b6da6b112d3a01f8c7fa0af079dadc248e65607f4dd3b7e2ba9dc7e1319cec697e20e188b329752b514ee96edbb3eb68a6adf7a5ea2b6456549c3d382cae037b67034c7832f16b7476a005a1818f99aebc0ffcc181316f6cf75216506d194cabe7926e772875afca52ac70ca9d710856ef7931a7691956b134eabd79cc28f7faf64999162e44e14bb6b3f2f8ad6d469f847783e2644129a11dfb98bf9e7483c90ba21f7e610ff2ddfda32f815967dba49c4992f0567cee51b1c92e1caa7bb9abe51a7aac6548bba3752ab9dac3376846ae4926b5db58ede58a255451fb81d0e7ea2888089cbd14e4b489ddc170031e1ffb4e1c60685a2e8f9f855610b35462db1025070f28848a7b593f22e1cfe2f22ae68d76c19d059a64424696e836463beab29744a8f94d6b32d8f0769c909d6d515c8254ec70f7da99c5cd059a3805c803298966e5a53ed60a7b5121740ca8b01b8571269958231cf7197f64701df9e940f1fc62b23028d9e4a068193dd2f7d0fed5f1c780a43179144125c60d98cbae8e9b713a84280c5e2b3be19bfa78a60649bf2b64c3fd4e22dcb995b03d3d2297dc20daf6da650248a4c863ad4254ba831c6634ef95cb484d6afeda5b8d8858b81762ba9a58e261d2bd9aaf37b8f744cba323a6acc7f0e61572e88a5c43ed52a70708ab646692d0800d6f4275d05967901ae4e99fc746c9dc40a3de0499812dc540ef7fea723a3cd2cae4c11c5c2a362d156301c2e8105bc0f7d209e93a6f8c90da2cada2688cc01940cf2b15aba49131bea5c6b89cd315ad6827ed8b41bb3d690982a0845dee3b0d4cd0a93f4eb4e946d80a7196bd0804ae21af871737cb4ac3719cdd51b26eb7fb6aaa9047d1835755e4dcf1f2488f312f749dddb25f26fc9b96e770a0050f353dc9d39e77fb6e0947a0e851687a791837f501e707e806abf34e90c71bbcd693cef5e6f2249300d55899dfdf4aff8ebefa50c4fbeb18ab27256304f6cc8f97c4924d0ce4dd618aa354107541c256c6d6696a7171818b8067d347a503e5b5e5861a7c252e3ae2099a54693fe1e2a4e49f927bc6f88f6b19255025656b6f222f351fdcd7086c1eac9fd206bbad88c2388dd08954efced0eff0188af39969d63ccbe4fa61760801b484797c977f0f62532a09d5986ba499ed235e3419f0df7530b979c5836fbc999684456c25b1a5a16f454194d2d39a9cc9aeaf10c2ca1a77ac651ac8ac97302356b7e6e1908a93f84bfb2cf9083839a026bddaed840cc45dc94aeb3f8f6dafe5d31d107e0800acf5ba5f1306876331157e208388a73e291f4d16407888c14035fef9e5c47b0bc89593fe7c2fe2b129d68a4c3d06622b05055f9c91d334a042136148030cc1cd22e886a5c10a3330ea7a07f70f733f2def53c6a8c74f47506322d930f0f307a5f701dc5330ef47bff599ff592946af710b3096cdc5c7705624fcaa82665ef503e105ec77007e1fe6e130309993dfdd25adc3513cd202814af6650662d699fa79b94fac84aaf4c38e3219b2d1eccb5f1a07eb96ea21652fe98d42bc0ce099a3dcf7da5d76ff255f7c12e370d76d101a2df6d3c8bfd3e635decb5ab70e8245f6abad49356790fdf17216286d07156babee0db57a6bda597df3fc934ec8c2a8bacb453bff8a619dc1dc7a04628f680efed989236a6e0c1dce56ae3a1969cecd4917b236ca735cdec1fe58d92109bca6eb0fcc0c1bd51b36c7f30a6cfbe2e21b37eb011d37dab36648cf029da8837ded6c1461eb7ff496ff0e745cf26d4bd14c666652fa7db816c078aba93cf65d68b869668541954a3e64659edcc5db97e50934cbaf56ef070554c75faa519fd0d9b7eb573e2b1bccb5f12893b2bdfde32cfa349952901d665aadc5f5f55ee4ecfa82f46b3c47057636179b362ec0f56d8da4735b0a61d81ff3c1484242e6e1fba8e63dcf47c858d1ded1ed7dc060111bc1d73439951102a34e11381144f7ca95f60acaa7b53a412876b569b6785eca5b458f11cc3e1a44580941ec81a7a07892b927f9e0c9ebcdb1b9fa6d81c1a449737daec0990f80462879840681088447d75b69f01d685de8c57f71f4c6888b5c97a2c74233894501bf57531d1c67d08d5fe6cb2fabf5db0e65acb0337a2f683efa4d904010b33a5c00891866eb8aeb0d64eb2a8ce9120b938821d953f456b92c992258ed94040425089bbabe911cefb916a0872cc089184d5240896b3d20df8496bed65ef92d7f7a7e5941c0c62bed4b66c14be7e860dcafafa2c94e46d13f79bc290aa062997dad705b9013a35eef39d2a1da330257efaf4ffbff19fe8861165ede00db537f1521e146fd83862cdd517bc40f498339ae0e2013b3c0485863f0a5bbe3c0eda12df10717a587b7b0a20901facfe315dad5456259c7070355e3d6688c89acd590e661dce678a3e0a4fff95484575f8abadf050d83e021e0779906601014fc7ef268ca2563665cd673212521207c59dd09f27ce4a7a1556298cc9d45f8d05010d9f2f83b204bd34474a82c3feb13d3f812bd4d158bb40c8bae29caf6f8471866a9feda8537a30b75980a3fc121aade4e496bcf31091ece29c26814881e966b1ce811d9de42dbdac5613bcac1b62cc88d3136c780e0860311fd6b7e8a6d0147bb2db75d658a8b104c4a02a32e9f0eedd0697f74dfb686322d847fa0a602ddb7d9fca9b9daded35355d081767159a010ec67de7e2c28c4c3736c91911ab4f99a34462a6de3045ae279be5937f2e9d7e54ca98aa77ba1d50e146165e71a56ea1e159a8ba97c099481224c267bd9ef47f208e6172ff6c69910a653823013b9300332a6db68cb30a2c98e284d5514d7f10ae533789f69ea8e09d1950197f61c47cfa0e8d01bcf94d93e13e27054104baaf0c16b7793ff43b740a18ce1a513e6781ded725f5096e868b0de030fc52959b9ad9e83edd249855e0d4b1e3da515fd4724f757b87d7be82975de2697b674911a664cdd77b08c0f69b0ba8b631a23ceb30b4865e6ef97477f5cbf8bafd429c452c5929f59130bb9775dc1fe7d5d0a9d84e44028a3201150aa1155cd218f96d0dc4495da4e3c31101cce3a7c1339603fd5a90b1979afb11dea6567d74ff180d017493e2298694c220b3501f1e89e38f484d2aa07c43b8553b86cf8982a65a87dca135f72f409dba5a633d7829dab53264f3314ecdc41bac0d2596027fa0d43848e7f3afa2c5dfc7c2538414636c7a6523cfa8ef803f24c65ddd5b95d5cd2cb0c45a003e2a3f7375be4e1c9bce9599ce8fb9947bfe8b973f9ee65cc128924282acf295eb257b34681bb0f724d27fdcc10a1edfd51f0ebb33c30a854ca86e388e3a11fdcda0456bbbaa81969aa2188fcb36c0d150c0c55a42ccb87c4f7ef5a0aa4fe175becfa1e68e336945d1af6c26ca4e1c1610fb4a83dcca4f549e477e4584f435deb95a37a3f85c2cf2bc326101b9b2ac205ac891b94564a81173f4bb60a58edbb760549d0d8d2bcdaae0970a7e323029f32ffd686ea9ed61546a628a29622249dc10a25903299210443df4ddbea7aed7549dcc2381a5427a08676b1aff0ac12598b14ba318761c00a5beadaa7d978724e6d11dbad2d40c1d3a50e6fe29e281bd7ec11e1a61016be82d93d025cd6df2b63ea17de3ab64ea1aac9d944eff7255f4f7c82fffe9158ec2ede92a69c6c3b6de0c1c12ea3e2e31a5fa42fd05eb9537ac46b586ce222c453310d7350bef32a1ad1826f631a0c22172ffcb99ecfeb459c5c4fa23f0852f648b35bb9140a8b17fa1e0ba2dbead6f25e16d7ae4a12e73a280ca227b7dab9050729069e9e8623819b52eb1a18dcb70126b759625fcb4dc165b914fe74c21f97ddccb3c1652c0e950ba8dc7367aad520720fb2e1950889cc03155601ee5413b4e1bc19943a8f24c92050535ab733630008aed8658629330e70f41dbed132fce70293364dd2f83c63dc503ee15f0afdbad004db5c5099da8e091b3d4fe609b2d7a1e2fc3c6a6200ad2b8a74910ddfc63cdefeb63aeb50625453bc55e1fec3df133a1f49a77169ba829d01de5e46c8d8286856d63857b463865195095075534925f5b31b5ee8299e2f12dbfa5afbcbd29162a129efe3a020d5d481f918b7e4368b054d043f2993b782e851bfd984582a74d73d7c46f8ccd58bb9bb60dc4c0379d3f2979b4df9b6f03def10109581d2b1fdab5d86cc0539483c662d1365d4104533c59c46ac2229547543c389f36a89474551683074acc9da87e77445edc9131ef220bee5a7695397d98d6e178c8f052ca9d2ca32824fa75218e9fb3c00d04f08992eb9579438f331c1a1b950fe541fd406c80ab0999d1f032ec2291b93ad1a58e8f9a343aed82a7630ea9bd50583bc8d64e93f1bfe2d6fd349468fdfed29c3fe00fec748b39b025b70e8b93d3b90205f8e4a8566fe20fab28458210e3e088c1675e917ee62a8b5b016b6759dc6aeeb4017fd74553408d6a781fef96cdeac2efdf23eeb2b789b2731a5cc28c30d6dbfafc5432401156cd25c46b0b5aa91360e96625d594402340da70ee8121709473d0f7497b787e902cfbbbe634689a52aa2b6656f9542bbed2be5467eac23dfa972b099fa9cc56005a6f6b7c6816466aa1e22918a077bc5de0880439c845bd1d78d9065b99cc6d823a665676af7286436fb25b0221f357d0356d7362141ae13cd72da83338e3e8d920ed840cd44bd1be83ee533c350ba755cfed371b096e3aff189c4be3f0a0020e84aeb49b823aa1408bac84e81fcdd433d8274ffe1514362fa6e59200c954d82c40012d1da4996e13523923db24f44810013a709b6e723855891d859cf9fd4f6508248504181f7ce591960177ecd4d93e8a45c345ba3a6a464d681004cb4aec0e3922347449eed87c68e3cb96ccf7a7531996985dd4c819349a6ad4d8ed0ce8d732405a97a3ba0a6684015404bf940571eb5662e56bf9b3570c3c238be73c7266310cae2447b89f303a9433dc84c1bb1f5b7b8f0fcdf1ad4cfe514b6625bb8c978da66f719260da4cfe2148fc44aa137d1e4dc2ef7cf9ec79403e69225827ea4ea81e954ed538eed89e8c9501739e1902338338e2fbe7b1cdd7a0b27a35c37b6cd27038d113ef82f1d28f055848d40524e821a6a29cc71d64f345d198d8e4fa879944b353836d41d076f7460b33b2d78a97ade32f189f034b50422ad43acfabdc38f013b9a8755c77ee905920b9f64c76ca79b307957f2750feb8a0a454d504e96813b369be88e70a2c4ed7926d3d35d5fb810f7cfdb0ddaed1658be3f4c438766718b08cf5bddb78996d4eaa4484b0b64c75e6849af11b202cf0c39a24be13f204a448df91a9461e50c09d6ffb61c895f29426c4bd9e605eb6044fe1a7f40e572bbee2f79c70ee6d92d3247f9c8b4f28c055699670a74f2c6bc80b3c3050c9cb46276d3a80babc0890a6f49df0c29703569c338d963f94c8e3bea3b9ab0bf9c4e987a650679e7275cdd0ff7a118d9f0bd96545ce19e295f039c3816c93b724f90646da219a46f740fdd74781160cb386781097ad9cd2582f4b1c953ef36d7f1cb0473aac43450c4127c0accfe6c182436bcc13a363247679a35e020a2eff2e1f9695f9357a36a4bdfab3a52215d359a74edd8108904c246911f15967f30cb6788f7d14aa9d8b9e3f0628b11f71eec0f7b57ef8ed52bc6130390782bb1049c6090efa0b081caf629149af9e1fd3467d1439c6e1079d76aaecc80489564238050626d36d512ba06629dacdb8fa1dd5cd0695577b31d9f22816ec75499915f3d92ccd2acaa2646770641384a51a5c03d0579031020074a9ee3ab4fe32a45933e3e8d64a3670a7b7b82f6c552aa98de01c867980ce2d8863336b1820d36d49fca1d33b10ba8882d84338176a38572da18374611d830d2bbd000e46bb71de700127a5be7e810d78b013caf1c478cad12c8b113770c91ed0a0c3b1ffc9b1c1cada6d01d08a0e6db91a086cbf803c909f0627002945b16947f4cd6117567502928dafcd9d727029ccdd9da1043a90b30f7515b59419ca78311cfa30314e0da2269146ff61651809cec6f5c90d72afdbd74f846be2a6f1effe7fdd37cc240dccfc6fff8003a9d7de7e1fff5655d1da13736704b6967ef53977bc80b528eb844747e9c2802aa5fe198b1e99be6973216e6165b9c787776a1b1870d846bf66da276dca5a4acf29f17e350e0a618980b6dbe72059590d92bf264cb74a5f7b064d7493fca7d9d9e7bc322687500009c9b74c002425e0ae810352e0e1851839432205b95b7fd5f0a0cba8c640333a8998d5453fa7831eddc5634e095a7086363f348bf68ad04e1eba2ad28819ddb909110fa3ae6c419a1e9e7dd962db37e60f0e8daacf4c43180c94d6162353679b0d1a41da59b309228093841fbd2ab45b1de18502f81f9b66982287f6a461a69a299bf3822376d50c00544a8521e13ba79a79e04f9669d2e7b591f1749e692e3c50d9f4da08ea30d599b777552a295ae734b024888e8a4d812c6c7d13f9dbec4d553859541f00b5884ec3271ccc9a44d7c163fd1b8b387214d73f7ebc930766d8b5a245397496e0daff34c187d37aa89abfd37321b3ad349d949fe3b6c2365c92ae6bbb4e9c7ce335c409ff029700bcf821a610b144e59b250a5c7cf3dc9fb6fceed14d35c975ab2f3dc64136281709519d057945d2e37d68497c296bae24a4da20015da4fe9ba837b37539168a4d6d80cd3fe300ca81f545569773c04358129cb881fe26285a3dd6018192fddc6a875a9c20aac2559387f51bbf0e8db564e1b2959088d36c6c09a7b4b241598c48eb93e393ef00b8f85511ba3d468067fd860ce3f98d29a4827c81b7f8a58821c77e1651d1a296570ef51d4305c7711b72fb02644a9d95550f0388468f708a4fb360a0c521b4e808715dccc5e8f70c503662f468a6cb1212cb235d7ae7e6d20892e417b0b93874105ba5e8d744e208559038c1980a4115765d60b9a2b008fb0a3dc07cb263ebc19b04c297445be2c5ad75447745e0946cec26b05146a81443ee4b652d2894d16078b82ebedb3fa97859ba0f3a7d9d7f1e55b144ccfa9bbe1c9936b7df756644efedbeac2ac9b9312ad806c0b93fb3711e81be86280d8c669d8ca4bb4d18c83a68ff44a9f8e594259039d3e3cfd4b4ac9789a420aee2f3166be88bb803685c27fd97ae1f4d2190599f800a0859225de53e5131c801e92291038f196bb5d7fcfa357b664561a326c1a81a145864146f6c140ee8d7d0ebeab81527d2cc941287d0c1850259291f991cf028d970e6b77e5fe7c1da9cfc23058404163bed1a7b5bd233c28b69791f77e307032921284cd144c364ae37c4095fd1d24746e546401853d741a65f8fe07b39ba03f5938e3c5aa8aee7fd7f24e8c9908989660fd6dd7660e6ce8725cac91befc097f423a0529a805f697b167fd6160c353a88fcd6bc3a3d93905012e10a0a0435cbb97f9b7e8a5a2b4e9c04fab8b96585d6ded9ec932ea4d5f38e6ee633e957f79b9b5e7a48b370a221875c24fda5ed2391bb2b1479d45a27f96389cbc16c3bfba234ddae945aa1d268f4f846a9854508ef4222c01677c4da547323e12aa57be56e4d99d1009ab7434972b3ae67ab21b9ce1aae4399065eec23cbb8bd8bd4da363b4bd206546e5a012f2362bb9419b2815aa5b30eef4531ac787c3d1c367826414d70ca1327179a5f0153125e37055f69ddd0e5e5fd67e095d2b99740012abd7ae61389667a5b22a79967186ec7abc77638e970066c55bb3f48422c00cdbbac9aa2fe069925acfa108c195aeb77242a23f08db493af6565c121180a2c0d80027d1eb178e601f9c96b8a7be69c2312e12ccd0c2a4d06080c89bfd0c82f1bb5e9916d2b7965f21669c47b8ac8acd765957f06127c33bae2088abf459b316ab17b8de9934e4dcd9c92dbafc92c49131b3703ebec9e53626502c861cbae950d4e30490112eb2eaec4efdad6b1293425136d7bac4851e82c64435effc4cbb8525766dd0f170416cc6cba23f43fc63184eae7aa9950b50a2d81167ca2a8489cd0d4ec6212170a4b331bc85c9d81d2f19ce6fc6417ebf3a05fe81a0275cf24087be970c59ffd31a923eef82b2fda4767988f095e249fbd3f43074f7852cff2cefa19f2ffc3ab59b2995208443f0e2e6334e3a1c1128ccb1f22ebe364963b938e559e7f3ca81ee8c942e43843b3e37cb9a73f23e6a5b11c8c2fc6bc6d4feb640362f4ad94e01e990c102b58860197492d73236533744f460d31ff4dab8b65d0fb8348809dbfb3a273a0670a4dae211db31e15f598c0fbc05ac7ea966342346fe013e3f85402c85a1ef18564dadac7566fe730d3ed5f52248bf09fdcb3f298be160b67a61d16eb785f43f14efae03ba36afc59301b53e2aa8327871c740b58fe10e7463ab8440006f4b0c05bdf832340784efc7004f3905eda150b75457e1edac905b9980dcad209e2f8622fc26964067c8fefe4e3893e58a1e7b29a284b3921be1c65a6f7a49791951d1d15114ef1280e00e99b0d62487ad7a49d058c568a78a3acf4747389b425c141519e58ff305ed3ac153754a4f80547092b0d39d118ce9c8211ab0a38d861633035473b7cc60227d4faca8c115d887fd25e02f39e4ed8c11553d25405bca275844bf738d1a39288ce9f6a3caa7a440b6f2435560e6b06017ae84b870bec2e89318199d962c646564d41860704132fb0ea28c2f9fd13631788be6579bb88b81f68a29966fc715e389a5226eac143447420355d3c4ce10a763da11b31cf4622300866435c13e4b841628a0e9b4e3b57181bedccbeb1a2faf8b76ce8c0720c4b52879f82bc9a2e61b8f9791cbd48f789cee39425ab69f58eff7b85a5fffa1cec0b4acab80a35b791e6d728d77416bfe953b49c545d16b5697c14c2628130f1293310a1028695b65ca0f061684eebed0b76fca0121e2837b9582d1455e9c1b57f2ba7c8ed113accf5dd0369232f4f47b80a3689b6cfc62651cd867faf3a9f100c7bb41ab568cd6345c54ede774ba458d7ef8e2e70ca10541ca8d6846532960120c07e32c3cc1a535a45fb76f487c054ea141a4a0c713e9fa6ab6e81237252ea6dc317aded86d538f93fc4cadfd645aa8ffadce4474efd1007addc943921d3ad15a94aa3d556684c7c512beaddb8817f9377267ee941bc16752fbef6566de1ab3963938485af0c1b2e6cc2189c156fd42773a72e1ddfcf82058089a87e0230bc308d0613e13766634ebacc535ec3511e1fd74f9c0ee16b34002996f45f32244e6cdc66f4136d9ce45de7d8a939f246c50e26a1d3661a317f3e561a7e0fe9449111a258fc29806f49dd7e0d9480194afdb6b3df9bb701455233e493fb531f4535f77a6a3631d0f31cb422a513324cf206d7386e3b2fe1881ab7562234a08a239a989c8dde02682b3e34cbb3d4429e4af8925c8f4eeed04c0daf99a0e9335134cb57a3929175a1651cd927782e2a4feb7712cf3149955db2a9026f195e7ca5a63f6047a1a491605107ff91ab38c04e34eaf390385cfad761abce5cdcc08da21ef5fffd2863a61a820d55c43d2dd2651a4cd80169298984652abede24952bbaca144534a296704d787e7b003c7a65507244c1bc6f67f97f84756e608bac29f2b1c1580522fca4aa6a6d1d13ea6fc33d6efd14fe6fc5116bd2e7abb7e51a3c21780d96599bb26320db94011209cc30d26aad8b7215cd88722c85633b75e8d47458910ae5cf84288393a1a0292ecdb21a7550fa5ac8e2561e8d0ff20954cac58079224242998a77da11383dc951d7221a9c07d7b6706c47b17b7b466bae1f3159c0c6cc83be60c9fa7a514092686ab7b0664284f2b66956f24f060dc26b055203b5bf59943eb8e727b93946b70b69d5aa22ff7674f19d59e96b73a4c57feac8f9bd2ec1507db115857ffbdc400e3dfd7c87453e85b2aa6ff1cfb6c7057285414aebe03f867b71468403b175b2ae60fb4dd49fbc158f29c0f43b2651cf0d962ee0295f6da6d7ea382a1e3fecdd4351ddc557fa1692dd8afe086e8543d6e2c2b272fb40793740af413cfcefe7fd208f13f2234897f61656730d8d28fdbf86fbcf372cd6fda8cecee3e839f93a687646630326339e74f3a6508d07654240c27da7cb1c12e30ef39f9e076e409b6b175641708c7ef88f82c38d3b53b255d171f6d3a8baeb9fa660fa57c8c070ad5e7b2bc819d5757c85713d81e4ac4c1cab9bfb060275c8c4ae42e56da749b5e2a10564cf3ff4b77b8c5e5d0a9c1a0d54283537c58b9e510f555e73bdbd049804e918f3d56b19821f7cfb5300c6c8356243bccdcb47e9489059c760f7f6ed839e8d44398aae8dc41b3760962f9f4a0abc1db6530d7ad0266b07f79881a31d0667a3fd121c7dd5370c83a286216232d995b54fd40152909baddbd3bf6bebbe6a014d3f45d6c12fb17bd522e6ffe57bbc158462f1067897e700d861a84186d65dbc8f90d725480b1c28eedf39e9e4bbb92d589ab90711a8d19c2a1bc42bb6f134390bf28b8fbef695e62ff98a08b892392d43523bcf24deb971303b9e1ef5ff3ac3c6e51a976305213fed29b8e00eff01ba640faa947f96dba0005e94666f86e29d715ee6f3b95e0e7fc38f38508a1350dc76dcea901aa24c011b6cb3f49a80d533f9b99f2f482a8ceef7f379b83d08a3888e10c01c8c936621c8836c33cb16a45ecf6f8b36db146139c21da4290e42e2c5936c0bb8bfa052c1b96d1013c111b662f5cf3f620290e042d558a0733896d6ee66dde5f1005cfe968107e153b657af529b2a7669029eac8076f46e1e10fd2588e7ab129f2aa397eb42966456f19098e2938c0bf01f47ac33161470abc28340bea07d961a671d7adb7bbced54f74eb2de173e956f80dcb1a73f66349283f1b449c7c32bfa054ba88de625f037f37f20f323f88ab6a1757683f6dc94b0b61d464441cc010ac46cad25816220a5049c5383ac0e8e7aa6ec41ff809402569a9877c526540ba6e2b4c908fb76fed50d188545e28e57d6f447041d573867bfa47a89a6ef251a1bc1c90209c3c6b1de2b05bab1da272bf08015db0023fb2a65cb138bcf6b9af65b0ff0a124180f223178b14e7561c4a884a2692b2545295859d152cbac15c9bc6e0b851e5536e87821e4166516c50a33e9113cb17c7f9d29c2a687fe9d88186852f591f0a3e21920be1ff3c67f4b9dd524172b06202a09c4cd9b97f78c8bf866ebc90ef969fbad3317d135a8ab1dbcdb6e1d08b5dd3d68c8559ff348d10277e71cd6befab3742aa8358443d1128231b0e6f96cae7d86937622034695be72f27813206c4ef19536b9e52d01309a368b3172df7cd461a753c46eab3b11ba7ad8679c66b0df2f1de6c585d85a90d9629b7e70865f90e9837cb4fc9c4ce2e31f9c55a697e235194f0b860b47742d00305e5293a4630c787f145a75832f1a37578da1a2c4901de6d096947c6941ad22381588f00655908aebfb7a374bba89dd92ad5782b1b1cc08ecfa00930d9d5e0b3b2727e291627df8ebb0b28a7f02d7f98065356b18b0333a5baaee7660b779e2b601bda60c2e8a3bd8ae8d16b71907e2b95c6cceba71ec8f12857b4c02c6dd2e8dbab2bf97f0490943281fd68b66f0aa9e2018c581a8acb0382191dacaee8da588fda64211c7d2866b5749da42b6d2091c2c4b4ee653a11b7fd51767594dfe4538ce73134d151b553d0a7b46a8e6c52c46c276f36633df83239a9ac8df8a48d312f3a951db5e4ab6facbc3ffac319babac8ad6c475f0b2d92dce2ec8195d5e739a10f6dd739b15f00447302a7b4c908d4f288d4372bdfa9150ce0e642bbb21cf058c8f4f03c20ed255377279703271cf8a81e9083845ff46fc88ea3da6175da1cec9d1efcb1bd8cd2385035620e74f20d0c830011697128a0a5177c00379b9544bc30025335335f61008f62f2db4704b4afc0fb398ddcc90dd100a2af8031325f06318eaf494803074464c27475b90105a02ce31f384065d4a8c8f809c37ea713c114cb54b41beec8276a98ab766f54d3d79b2f1015e11fe86556feb33c0eb9e427fdb9cd953d9bccb5f3f199a42ff06848ed9ae2a2be23cb19d63436f7520587b41847773b81624fa9a20f53f97e539eb8c520dc3c26aafe5fb46519302ceb30356c1677186fe86408a81ac16c9ea0f93eee688adc58ead5f890e3e7a4fd410eac1183ef9a0029baa7d785e6b7de2bba25e11d5cfc539888278fd570993dc1ac4f6033fd31f6eaced7db2057567df2fb5d6fb39dcfa2c7d11dd4e65007224e9ec5846c5c62b8f93eb63d71f574e3e5b539ffab410834babdcb6adca2b19a1560f96b852c15d1bfb7023173a0b225862bdf7eeedb1f35d84545ba210143a86da651ff2510dd60ca40af8783a20e42b4e1e7b80d8272566a39ea90d4e0f6a86ab99820aa363744a06a6c68aec98c2a0c79e068ccff90d68e9878e3b923e2532cc46f226a8d6f123a819937e490c27e7c84df1d757dee0dd089eb8ad2ac35d360c97e1b38750b2b4348a852cfaf6b5b94ad9b59b34855aac7075ee567d08481a646930683a5d5e4de34aec126ab856e11772b899991538c4dde07cb5e0d7cc74e065e043f7254ccb7545f186151c75e436a72e205f9cdba2d75233711a1ce25f04b3428417dc956243b84390d84b29e1ce22e32afdcba86cbda006f2c13fa39d385ea882e24d3687fbd8daf1c58e0f5f2cda03132a4014e3bf5b6882505f5371fbde1320f482cada2153a18827bff4da1761abfd26df337103c15ec3bd5482d1a9457508b38f1009038a2ad5732d3304eb8e537a05b883049a5b5c642d32c11ac92576bfbc070f720b032a84c2e0e1f169bdb1df1393950cb06604408108c6a2d6e33f7384342b464d03979f81848d5f85f1ccc7adb91b97f82f88b794b1353330fd80d0aa6034920819dc100f42714a0c3f12c97f341ce5431e7b937b2fe9825ea62af2f8945f08cdec2f40ef6dd4c77687b9cb5691276da1c83d69107dccb41ff3504e4acc4944a8d6a97ea451e5ee01c250e1c26858a5af190d0ed0ef7f4ad84b66211914f03652233f1b6ff7321b30066a4a9ee5eac779ee5391646ec96337c3bc5fad6bb565d8c41b98a6031281d2dc2c3757490b1c928b94ab56f2568b405653fafeb36d1d827c94741e96b4fda37567626a10e6682a406bda170f8c7ac14e982be7e286103d28234b9e1ff0599ab74dcd0da6680b273b8a18b61c60d1caca102aafe2093f7121ce35ac3f0c08364ef57e9856491aab839f4596afc219cab1973132aa81a2c0792d55658ac1ca73f72113567b3bd9e3ea78d668aa8955de465cd940540cf358660caff495f68585bb140c93c7eba393aebc53b8965c9fb0f56be4a91eb9c5865a1c6f9cc57bb2a51bcc2e61f8392ecd4daec96a6bcaa39bb1afc61cec90fca2a89e50896f9a8cd329ac7629b3f949724fb554a093f52173503df6619aa944c37a59867f63d17433669b19e9a9106c96d4b35ba4ee54ce73f0b2d866966bf25ea5bd45e3a2bb3d6d7aa6d77e07aca66b3e669a0d1bd3dfe448d61e33a5db6b3d870b006ebd25fbf92e79de9de34e7e92d068413d123e056779646f61053ed217b073ceee40252b6e06c58af879e628e0bc0a9e13522042e379ccf279a943295eac2e91bfd0efd3d7c2a2b5a8f81c929e642c928ee2c319e81d77c45125162b020b9d4ca04b8a9f0900a0d981e604891a92759af62af64990e50e29bcd2ff6cbdd74b27eadeb7145057bba466f8c6781d570c48f36891236ea157fd096ad1d401d8aa1b286ed9ab82fe580f8b307949b6af65aeeb19d1624a17cc1751c6abf19b336642fdcb12a251d6aec7cc6ecae185638ce304df2dcf93df65ee0c0b27d4e05f104a342c6f514fbb5a7c9ed52252d907b8299d16c5f258c804dcc69c52149ed2eede91e6b0931b3ae0777022062491c4f8245c7522000a536","isRememberEnabled":true,"rememberDurationInDays":120,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
