<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"e2b860363ed90b5b66ab09a1a9cb9d0216960da650dc68d649df93239a5b830f0b27fe5a120bb9632f2a795082c58862a3159ca9ee65e586062ec0662378ab959b03b4f17255e6d07b8a53f5ab625d925064a12b68869105a8d10c5ed69f9fce1b12f164ac01356a84bbc4125023c6a5b578f7f37a59bb33db44f929b6798a9c86dc3baf9cebf0371eea6d47e666661ea9eba71cd8e19d0f81f2efe0729178c9dd528f1c854d4e38caae7f5c07b2857f25641d1ed9c77f62fb85ce60e47df225e50ae8aae377b3c9cd4d042439e5c9d7a734cf15c651d29f0f5ef5ecad155e9baccb6cdc5b3a6aa224977cd41a0b8cd4b083c127118b18a123ed7518c1bc491c2963ab3c44a89e9fa1e025e131ed3f65a640511d0ac282f98d322759922f6b9bac2adaae8645212acc319935a900d9484a3c8907a6740c26fdcde49574e2b632194bdc541b7d75697bb63f5ed87a11ba2c9b46c1edabc270868118f5978c175af705000c1e9aa09c94f34fd8b80f9608cf7b5a17a10bdd69d7b31432b2a4dd4fa6d3ab95d9bee27b2ddc49903a3bf3685a5e84428e62469127f5ef3a7bc91845b044057c25e8e6a7061a96fbf3ffbfe066a1b6ae6585394854f74c12d5daa21f579b4d2815edb6b0e99501ac4d5a8aec0c5dfc56cb90add25c9f8e7df4a9fae9d318993720bb261b08b7c766509cba673bbc0c9f3caa53360ff68b5f57a1d4929303e2a4807506310ac060b15c983391d588b4fb69625188ee18e715212243ee43bb5c0f1aedc0d32b4c407cf0c72d8e1d7cecccf2a95f0a2634f8eb6292638e9cd42cc6327f0a9e4f38982d37e999192cc6d3345cfdd0170b656998d6ec61181fed359a5a44951dfedf87dc02fafbe8c95d58bf2cef4f44dff15c9a52bca8f70531e0d690d7e12aa80e2eda10f110ecd06f47f389a424725fec1c19eed262fa94978453783a1e91e7bc343300532334eb8a5e9dc6d2918c59a940b9ffc2f00efd0bcd745386bccd2e15218808e6bbb425091fc03325b920a657e3d61ec0c1a9436cd66e9a922f54f55789f748286e203dca26568a543b98a850c89f0c329bee662dfada5d439c3927495d7653c00abd441c623f5fa77b5f05dfcdcd12628b8e323e31af901ae952aa90f8234b46380dc9d74694b3b8cf597736da073a14c45d999da9df18809800d950fe0f891c6aaaab7a99b9b57536236c0e7148cb910005782070dae6517c2b8d3c3cf36c23a220c8e7dc633d443e428e761440cd77810347e4bdc8e5bbff92906c1708453837eeddc1a90dcd905d3ca5f903d886400ed33a36c1caff3815158c3be4d4e05b94d8820ea042443be651e6bb3c27346dc20b2889749a81bb790f0847d68df0bec866e8b47288e52d789ba13dd05d9ed131952252610f967887579dd6c8ed059dc17041faadb417a1ce071fb5e99f6c81785279c17e8ac801dfa4d1434d3fc1faf4ed519e77e97e49b93a9612e89e078c0dfbaef91af5e241e6334863fe76d86c255f864d3e3fc04de522237b2f3075cf16aa4dcc87c8f8e9aa514417b0f387431c5b5ab738405b0b5d52dcf5bb5ca95be82ccdee6429d051dad703595d6f264fc990c899cb9764f37567d9511e269c76b00f3e33a4b1d0308589d2b6b1d0fe500ee3ec038e2673dcca47ee02c2f3da79fca64a23d986b962bc514744c963319f1400dd6f80766431709fe7f8075f9ff9956d4617316a2cf4f3c4fe4af0cc4baf05c011e8aa05927f0b2c57ffd5262dc0bc12ef1e8e07fb4e9da1466f16f3f7e0a55481cdb9198e536d24e33e876b8ffe71b9f5cb465267977cc7c3fbbf34f19097dedcc827a4bdefcbc7b83a049af4ef061879896e980d3cf896f94029999f0b5428e1393e074e7805fcce31891542155a1cfc9d85db8290270dbad4d07bdea5a52a3c6b6305c55963613318c1ef6f4d86109b9dbba1c12e79db8c6a2b2c7a94a541da7f26a84425c052a47099857c4e03fb73328d93aa0b0ee082fd23fb981fa740369ce5cca8907bce5b07c37665eb9f16635571590d50849fb124f2fb328cc9d647805cfb9a160dda1c6fe306c9a59cc89b585fa0117221a842fb501297aa9f7a8731b64158d66dda2c627f0f695e4c852c2cb41862b4b012731683ea8a64d3b8be38a9b3b200f9683439f1aba8840d91ddde130a309c4a2b6c71f830b4227f1cd5a1aa005eaf2237d97d298cbd9d36316243f1df7ec6be738cb5332beb5c5d07a49cda990efb9b73354e098aa5d0de46eef30e25f82eb0c03fd75af902b997351ab88005560a4ada262ba9f046ebb3c4bec2856fa57a474dc2981a8ab5f6b59fc4ef97a1251cd0f7aef3c10759aafd0eb6a390b6f313bda43ae489abfac6916658aeca098a3d4b1fc6566f4361ebe786e71d31f7fe547de020ed6430867755d2f40758f852c655edbe13ab90ca34e46ff0bc4284205db4e3cfd2e185a8989b73472350f8b5679e25502be7da64d67b07c3e17c2918cc9b4cbf8ddf264abe4610dd1ad76fecf7cd3dc52a731ab3e1a608f22e01cc8613554aa998f53cfaf3c8a96d5a6e74fa8994f6e972a5d7257784140966b6a2639c663395caa98caa1939e44d855ace834c7d466bc898f83d219a6ba52209e93588aa190aeeb03c7164fe84684e9c7ca34f9e49f95b1e0a32305252e91c529acd52794adca9f1a0eb5f4975c328db79a1e568c9082a66329ea251ba4b99db375bd5da0df17d6203fe48cb7d5ae23cf51d85bd0219efebc92bf4a9aa76fcf8498b364b67549e230ccfaeb2ae5a9d90150a3d33de6bac62f00e59d68c3ce788543197f6d45410c183db9f74dd5c9387ebd604f5665b33a0c945f8df117603db2bee89e826400b10ca4c30985d66cc83acb19c19ac780ed806e7dd1b13710ed6dcb13181cee8d791b6d2a01101dc4d1dcf485edf06d13bc9f4e74befc08ae12f3e367ec32ab8f1e66d5c98930b42c0dc86ff5ae6638ee9176e10e7d9ada67677973bc6c9394899fe643ae3afdf6d7795daff0bab8e27ef179b2923c8c11105f1ccf2b1991fb84d04f62464278dc681a7d0ce2481792cb94e0ce374dbbe36b31ad0ab44338e065ed239246ea02fdd3497be6c8201c4e1494fe90a3cf8777ff9be544d664ba049915f93099d35afa461b7fe2be8b343aa9b5c24e97422155bba86eb6dc79b137edc719058d354d43099097b7066ad7754f75835811cc2745be85f1d61bf81b5444ae1f64e7a51ecc734f42126a24e0eb41d82531bc301fcf1984ed332a65209c6ced05b256a30c2b5144244a3502057071cb99049f40835fdf08d2ad982e2c9ea8b04b1397e5debf268364cfe1b6651a27b9a70c3a582dda12c33cb42796b0c32d892d169326dd0ec289c98d72443623bd2600d44e4da3571025f6271e9474c00e64111564a04eedf38f221fa5b4aab6e146aee59c7b28a1095de86866e8939f7c786f8c11d78e0cf59f3864768f1f582ba424edb6e3435c103eca27fc4d732cb8b9330daf2a30be1f10d4d1ab783fd8516d9527ecbfcd3719e225e541d4fa5e68923a0275ec8c00861a68395ca8b502baf1b4029a951515db3531a395896cb3f432ef1e73bbada3545c901eedb8278704f922d7db108cce1a1930f4214f18d8bddcdac0d66a759e6a93ebd1a16fa2dad6c45bda1d1dcf45ebdf79805449f609ef4a6d6e3196da74a4ff01349977b201f0f897ba84814695adf9bdd506eb256f6170a6ae24bdfa016c318b4bc0cf1ef8ded12beedb482c9f660f1d36059e00292656b4511d5856232f250160dbae9708402eec8542387664c901333634783cf838901f2964bd72cd0bde3da33c9da8298867fd46036142cafa521b7e635ea8a33ae451dcb0ae2173aacd54f9d1a1728a36335d89e95ef59970262b24f347e37ac5cdab7cac5499cb039a278906eac1b91c2c8d0c4c6bf52daa1c9ee7d143b97f5bf8d8dce9d973c232d5b1c3fcf154df1e92a57b098aa56d6089dc9979e6a8df0a8edfe02b584ec0a4f9bdbe09d98a82171d6bb9db8e4adc5c711417a730653cca53134042841d93b0ab28a286b7e1fcbc8acaf63ee86af8654f503a0e83df86fab64bffb6fca0690a7322cf5ef6f1b6577fcfbb06f344f1c5e7741c9eac7fe7021eee1588f5b8b064f756f5ee84e0e3fa3a235b82b766d0f3062f1a2c9042721854ebb3675593e69d1dc9af08b70dbe28a9523e4fb8595f330aabd0db11976e6d03e1b2c2bd862197fb29ec950f0deb8a40e09d02e90c3c817ff306b8b46cc53592b625b0949d631a73d67720f3ad444728251b2a44c4d1233493afa966ef6f81fd5dc7bf6d5909a66cca1018d35a9832ad4e9b4ef93fcea7cec91174670ae58b1f801939650dfd71ba39f8f0470b5b20e7b0384348137052b693300aa62af891e28612a29c8b29e542712ad5b5477d4a9435a4493092786d1152bc424b63d8c904aaff2f9207e528203eb32f55ffcf75324d76081cff70d6e36b9f47b0d4f8f75c8d690e773b7a6b2c331c075bef69e09b8e2e893477ba2ce3d605836df7d56fd4e5b9c7e6f447df3a8672e59c8e89595b3966abe513e07f61b84267539ff57380f4a66af869829aecb6654ecf0e6929fa147b3c7fb66a20a83e53d405fe08cf0405a1e16617cd9513c573d47e28bbe4bc033309a61012e2aa37ecd4da48aaeec680ee42034a33a8c92bcd9b1fde6b7663b55e6f92443d2287347811f527d0f5d28956cbd1bfc92dfd476306ddb297320b98d0e0739cf46be1292b4e11dad848284fe00c1d80abcd3960b401644290db75f3053183fbc8d9c90b1889e611cd890bce681637bf41bdbddfa613e47990cf4e56b0bf1c7a9c061bbb10b59c6b76c9588e0c35d2ab6979c207f015c70637e5e0b23ec328cf2452bcd6b8718f63a28dae0d23d09d9a203ee3b7cadb71fc67037052823b9a007beab1ca19b734d58adce5a8af4a8d2dbcb8600a5babfd0d8c98810c02781b05f8f8e45f727633556c7833d70969b043394de86524387c02576983a24c051a7594102ac4b784282e1705d3aad6a42eb13a72189e3e892392c037ed7b3ebf4619bda371a226f534c6f07e90599cb3a9b87ddc093b1c5d94ccf9d59271bed9714274947d0499e202975722c25b68bb8baf5ecd2f3f2ffae189eca6d30a48012c5d7cdebd2956c7bbbb4d4c94ef4360acddae84f5a1489d1e0957c42a68fb92d3ebf696adde2431c911e5042db9b813c62e58a70ade5f003c7ef09bc04e4d08c01af4efc1bcf0187b26ac7eb0822e7a2f34895c48b0492f8c490f9f25fb07b1db0e033a0bde67515267a21bc87ab30f0cda85f44eb699d0aa7334be2788a6bc5ff6ff84ad72743db2d774fdf3fa25a404a5816b39094f79205d1885933bde2401da3a6459d96370df99ed03367cf80039c3dcd4dbbb3639549256dfe222c5e0deaab4c104072f7af46b6969de55bee6d4d5b0a91f694b90a162cf783b82d577015e839aed144b8599fbbcf43b48288dee31c46ad1e161842ccc67d4c317ef183cb17666645369a8b7f189757868f71f6121fd1b0654ec2db05421a5b222dfc72cea2a8ef63397e52938f67e6acbb1b38d454a1a46c692009e9308dae23ef2c964083ccf9c7972c3e3dc9fb08e80981497051fb612d4fca3ea1936140858218a6feefcc775c96714dbdb2e178b4334a994191ee8536ee2872e4a8944bd4c1d1c92d43f19cf0b23c8ef3a0e18e6d2e0e5223cff8d29bab146ad885fcb2628b0b2cde364d6a420022ee51e0b88d220828fbd7dea4dc9bc4bf480c32af3982d744339fc5b95c5c8f3310c159669b3a8816ce47b41d5a04b6f6d9a0bcb363e8864ec1db490426ed0951a78365128a165e721f04e4a7fbea7d6bae7523761db029ee81e6266a62ef4a325e4d5b88be8d7d0da86797b7235bdb8fb0c82787551327ebf5d98bdb6c9e9f14a62fe1ae57ccb098baea7e1c0eb846477bc7c2facc38a77cc932e26229f7a38db226c7cc02462182f58171034ec5dbfcc1cdc6ce34b974e04bd51d25da5996677289a10954dbed81a1975a70eb7a832d50263f9b105065a9c72ab27573e10dd257b64ad978e6ea0b23bbcceca99e5d64e315c7b027597ca534d744f2888405fd0c114a2112ac77e4febb615fefd91ab03b33e9a1219609f4730565d14071618ec59992ee7f0786d871a2bfb2597447662dd79d701124f84bbe86970c6ddf49581489b1d71e0b185adc899fd08f127eff28b3f7faa35295439368f79777ba82e8d61447610476478a8d73adbb6d87ee00d0d3dca0979041a1b19e0866f7a133b228d9c908e7272573cfaf5df5297d7937bd92b2960d43a090608dcf821b4860d5eef89941d826e8ff675a1a3fdfc1678e8f5ddec39dff72513070c5f5bc107c7344a591bffa427959e1f2f369efbca850d1596731bbe9240b3f9fc82081c62f022be8a206f4a4102e212490694d69ccc4e147e152938afed6154727147ea9617ee312f88ecb4e1559c7a6903eef3390df3c86e4c13f5d1dcc53b0cbae40374cc6da943afd71061badc0d3d54deed9fa3f6556008a14dc897de501de3fd90685964c8fcfe9729ec5f8efea8c99a57abc65d311405757020794507a802c8265221f1fdb922e711cf5eecc4844e9d5d4dc5dd1a0489338847c61df77370158679e32abbe29eefe77f5c11f6b6e4507481d48d3ec7e8da3848e2ef6cb2e0ecdd3ae4db0b058d9628248903d20146ff4f9ecd536986ee2d614c695f34e72fae5015b2e2ae79987fb7e4f09feef608f7ef52c1763f747bb8335825968d3c8106bcda7e9a897857beeea55102558103ed24f1bf41acec4c4a8e6f9c598f82de2463b1232f249ccf7802ce3cf5d74f7c611ecd6683620da4b4a526044e5dcbf8bd34d4e4d1810a11264c48d59b39f3fd2ffed8f9510f3be27b0c90806b1ede5dc53f6b2cd830f43c4787b3f0b1fc55e858f4987736542c60c22b9c1cf5f3cdae1fec95e6a0db13b06f505a9a68996a1321d25ac5aa20e11ef06433db2f549595c2cdf7db5c7633feb1e835379594212b053f939a3e5275a4e1efeb39010869704e7c6a5ebf94d0226c02fd4a2bdec4cbfa5199a6440f8302d0bfcd285230c3e762ba5ff24da491a2be64fa8c6ebfcffbbd493eab913db5981bc1d01a79795a501ff466ef3c9d26650b6fabc6e4f07525db069b46080e6335e95bd96bc428d5dd1c1e4a2af837c2afa192094803ade3212b848f9bea877b0b904a7cccc47074096c25496ce2412e34927badc18cb668759f21e05adf2bc8110306b1dc8dadf4a0c362499863403a6bc0a0a28c72e37c143d76d1460ced1af4d4c4702f50a93e2bd302041ae14c5b9df19cf948917250bfadfa71a203d4314da96a3109e0abeeb810ee6bace2b0ce0bec3cb7b9698c5eb3897ebda2976f47bb878e39484146f895e24b4e285c5dd54901ac976d29c64b7ac86876b97a77b72cdbe22214b2c8e6c651dc946fe9b23c7ee5d3dda6b1b331c95284e46b0d4d4104166ad16fb936e1465396b72c53ff99ed6597cb62fbb9a3567240e4450ff5b7e4d91957e7dea9c8c0494c5b69ba02913bd0ce0ff5d650c9e7bea8e1fafa2c453bd53223b25dda47994d0cdcf670927349c9cc80f203ab3c6bd6fbedade021384bc9290901289d297766e3f19b26289f2b3dd0a8367925d65803561c9675e65c3cfc7c497c9a34a82b87c39d6b3194caa47f81fedf87a99efb0800bb0e34e54105a9065c3676c13b99c0fe81cde7d30fe0a1dd1e5e3b615307fa5bb5efafd383227894568cb26b10ad4a7c7fbded47254226504062b7d7384716ac104ddb633e643c46bffa6da4318263cc11989c202c919b26b014c535641717007508579a82bc57704f35ad5e1995d8ef00a447ca0b64d62cee543337b93a80a2241132114316cc58aee5190c7044268ddb6eb57e23da39dbae5bc9417ea31e4d7f0c6f21d6190d624794aa464eb3e47960f9e7226440ab45c20cd02f2b85522e9afdb4eba6948e1025f001347c57c6205f0bce29b0b9036e93d71cb0ae369b168f3d8a923e2d6f04fa9ddd0f1ac77b78ff6e1114888ae3962045e6e307194d0ea5813fc62b074d928bd224c057a3eea3dc56f4f73a438e32e98fbdd18b241227e06f4a7f0f31c9ab6ada74220c5b6e23756dd8ae3ae91f34c4b30cfc47fdb34bc886bc3433e52a73945b1eb0f7eeb96d463492a0768c034dda2634514c5e23c3024f4e4681b98821fbdcff41e8fc5807fee59eb42d51fa60bc4a2b2cf1422eeed2b7784725eeb02898811257001a3d4d2e0d7cadef2b250e059190bf0c329fe4865fd65f364cbc7607a40f9a4f6655e1db83321abe1f2a75583066ca37f142a06753fb129a20c5a2b8a323ff8d8a17e6f34559741287c51ea50e7c566bb532c04056dec839dc2c174d3f9b235a1fdeb66d16d828fa95c252225490c18d6f26f25e170109815d29edfc2e9f70e91fbf9f4c1126ac2ff901345c4306d5a5f8f027559811a0b84a9da3b95b8ee6d107f3faf651e0f8cbd0344d9e7af077e92de391710480c9f0231e8f1c3377a7d9e694c0c522bd717f38bc3af43300a404d8d5393dc8f1b936458546d110d52f83367b03d9a4915f14a4f387cac462077204ecb5d18904e2f3b7ea823d00359a0e8f1c86fb118bb7962addca8719517801bc44e17c0ee60392c740e669d5399f9ecf0dd72df6327c7d0c90e2a8d175312c98d0670c342a48dce71171addff9d0848f6f3c05a708b16eb4b5dd2c2ab36662de2ac3640f55d8a76d130f52f97d7e3026c474a68ca02be7b0887d3cf6b84927a1d9b810870f2a033fc9ade3dbc22e05dd3f28efa6f00db6cd693fcc5fe08b77a762f87c7cf2ee0d8cd644e1135387fd656b247fd02984b196426eaa8ca1022c8d2d18726d403ddde808f315bddbb517417e9beb1009407b4190677180ddde6ca9a86ed0fb69cdc48635b98a024f550d1e04c664d7546db97f31cdbac4e5dc4cd1d45335dd9fe77ac2f653873f382c1dfadaec93013665fb9319d809efaeed88324ec676af94d92ecaf5d60d00b0227c073af62dfb18cd5b6e7cba05fcad49a27044f4740a358fa6eba6074525c5c443ae3b0a0ecfd42d44603c696d2ecee318b51d3ba7e3d3910c0a8705edf736eba07b082f64a7d2f4b64201631bb614f0787b7bb3d5b448829f5f5687f8854f8fb0f638ab8446d9cb1c8f6df35bcdea87d586ab6ca1aebb43e784706bcd75f9840abec38f409791a34f3f1e2a687aa5cadd738c168801aea0c4fa8e595bff90bd44abf22ffb88c25d51f8a2c4839f9f378003307d0a0114dfe061f89acb61e28bbec5717f7ade8a94beaa5efab1276c428505a98572deb90910fd85a4b1c388a231726e97aaef095feae79be1859a7d4b7079598a432d562d909ddd9cc410415c3afcd232cf41bbed0d5a9da33bf24b2ea07585956841b723cf44f264c02f68341345a8a165a87df8f5734c67db5172bd2bf70b72c4b9c76002be783fe3e051536d6e541de22e88132c338ae71c807c08a540271a9d7fe3a369894dec30071a3f514de68c40ce3b5f6fd404d05b3d4d894525632b0ad22f179a4d56bcc99e65818f27ac9bc55df251cf97f7f0ea952609f5a407d0bc69c8baec99a0d5eb6ac0be47b942f44ff4fa7cc13fa7c4e9bba2192657541450bd2393a67ebfe732dc5a9d82450eb1310ae7a982896cf96916606eec8a55a61d4257d7ae87451c0621eba5a2e1bc87f2db26de720ecaa968cc42b9b52858b979fb27a27dce59ffeb5be56c473f7da151e90a0fc6a8826a95f44b535eb9379929bf1c244d23d1acd54612e4c2e9ebe5a5527864767647ddb0ec39ac1ab0577868b074fa68a6364b8a10faf3a66f8e30d85fbc5982a11cd2df88a330a862817972aac9dd6fc37043f93715e45fd77b75dfa5bbd62fdee9eb4db6831f11a79f49b3d449018597da2bc31821df5e1f05efe1fa9d179c3d5a193817420e306f4fe240c75716e310d5c27df725bbf6a67335a1bf0298caf38472d1c03f1e1de097cb0f05e14d5ca7836e14c5bc56df9231ef222147e847bf732a4be23e75c0328dd69581868d9263757b47695c25f98e3cc0ba3371393d0a244668082980cd34a50e511ef76f34acf2d2a1b63863f685efdbfabc69b6e4dea8874004266418034d274d93ab143ffa3c158f09437fdff1d53446f10ed8dd2532ec13ca23af7d357c8ae850be38c8d85311ce526b6e0fd237a4607d70a67a8484b24cd0653b05ba7731afd71f0edaba5519a5dc5038ad840bc6d3ca421f82fff5d56df2a8810882c6b6e8216fef184753ce25ac0d26feec6ab4c29d42b0b9891d39e2508b1e0e516e61042a3bf2e9047dd9b7bf26b8ac3aba7737cb76d8b1669541928507dba326f5fb70df616151b49150698d59df02640987b81d2222c737ddc3158c4b0fe933674479529ef907c1ac57218663ba1f66b3079bd4c9a4091764d1e8950c95d02151d150a602d3d5546feb7e7bb45be271b667fc13690d77fa0514260be979b35374ae17c34798e64c237f18f4ae4a013c666905fc70aed2018931f0000ff26b69ed60100e56bba5e43f0bec97ae4407ea4be8a91b7308f9937a2bb1b11ca48a2b4dce118408d84b8064e5a0061ef1a8542bb2060ab1e78b82808c819735791180e0da0518c0796c158e41d6db4949dbc5e8009da2fd4ea8f1999334d05ed4f38f4f7a8b6269e910541a8350121e8f3cac77c6d8e11e14be3fb9f720c5dea33a02bef8b370347dee73f915b6e3135ca1beeeea4d91cb7e8fe83aff4d23a89791ca9c071086ac526549807a87212839b599d76c5591497515b8f63ddc68b33a75a8575832d4e8f9330a67782ed5084f65712991824630e685a6d9979a546172ca819d263931ff6f0e5cbb204dce883559354baebc8b18be99e522b4bf3d082b967429900a80289d92f3c9b7f1e51801213ef1b416dd39d79af1f14237757458f83ed57c81fc6f02fc83470786f61bf2e50128bd4f0a7e124c2d25a0a86fb072bd8c54fca032ccb6e60476f21607443ae48e89991a302c955369f6b6badac41d197bc41e18adb119214129c5f6832c04e9cd3288f1bdf93c354db53f2d85e955c72c5c5887d8716c4810c9901e9c6be9e0862960ce37f4280078d1d9c54023eb4c3a6557c06259f1872513e02c86571219e5b0c94b3c806ab44fd26ddc0bed28ea4f1d0fdf5455d9837492762c9d98e2df5c17af5159c7da4338ee451620dc90a8ca573483b97f4bd97e7ae23e793a2829d255a5d96ed141c0a80a66e8df35c979ebe97144669242a67f953fa6fe68addfdc1c07a53338d6d771e27e9c8ef4771b7b08e86de00c26190a64c9836987483568b0582fbce14bed21c878b5517c395324d88624cba077b899f28181ede92ca19ee4aa92dfde34013098178378b57fb109ffb611a38e21a0393f10e6d25618e26497461841190f48061be8ec9b63de23b1984476171cc46d08600d958434826fcea29166c55340a1ad9f15655dfd3abcddfa18c4912c0a6e4a24d6677cc4d9dbb8abfb9111652f73cdae709589645a8b39c2874a8da7f58fff2d74b8780f4aea5b2bd9c9f3fb0f808dff54c1995d848dac4ad08e14b432c36e5652b728ecec8db671176b1b2e6ce9b2f25f574c99ae96c6e9edd9a2968898edbcd1a095f32ebc4a2c6724fc1ff027a72886d7cf0ef5927ed635576b4dbecb14ec29f1953d846fdfb096876173b1b2d9a9f0260721f6d9dd842ef8b7c5ee77bcb7f430b500e013c7ed9a878c4e6b91f6d45b0afabcc763756162eec933a34c6b4fcc57aa2da74a82c73ea3267af7d2d128d603a0aae40ec098894e8da86a37f59d6f56d40c1189eb81be42e0eb2920ec41dce915b08914decca4871efd8c27a7f85ae637769fd2109edad7e1c4023ca832e47869d94371afd8cd408cbdf94ec7e33225dfb0f259552a0315934dbe3c6c6376968f3bc96638eb578edeaa846332ecff6cefa60ce9dd81e9430d98d44f86b213fe41180a8f906f09721b1a0bb162f8104791ac8adc05e5599efe24b9139d4da8fd610202c060a3c56893d21d9c95173abef448a28d09e96e1fdc5fd066bc89bad20cd41527392f7e106e7c3c8806409590170ab76b78ffac74855342893cb3d059f98979718792abd5e55da70c01a337360aa8cc85a39636140932443d781d2c680b8d86150827a2017f6cba0dcbce593fc30e4db63e7a3820feabcf9a31c6fa4b01ca397ac431b57bdea4c2c68ea0c6a52f687487999ddaef7524257ada471a19ec67ca13bbebc7b120501f5c76843ed7a414d6f7221ce312eaf0684307b624877e2bdf9f70419f9384041d1019863a20a2e07d72e0a2d3111704b30b278417cec7a4cd89972d675294bb5bce7e1e3bc78251614b20f1209e891a8def32296408ef8cceb03975e4a54213ba8aaba3ef438d8d8448cc9204afff9413c7da9ad26896f38372ebfcbf63e563d85b4b02bdea91f16e97aade546902c68b4e4a3de0d62f82fbc11c6c31742cae5b23dd4cd5a3886fee676c472ccb5904b3b9f73d3668043efa3b6be4c652b4a13bcc20c808e08ea93fb16006d989e56f471e397535a646f455bd49a1a4bbee63182dfcfa88f4dda977ad228d449019b916e7a3e4c191d39a991b35b1cc04a42e8e088cbe3351177cb24eb23dfd2edfc6ce82e54a2c4e2d4a33545eec34b3a7375608fb6e9e17e6d969955331c8c680ac1c309d97bf62a686e31ded9ecc36cbb3eca4c7825e90f8a969fc5086617f213c4f430e4fea3c9ac18c825a82cb68d9e46d424de51e025acbb739222fff1ffecdc3d6aa5f0f8ff19824759866ea460a4b5294a5b01bd3e6c42689d655aa5e59dc4d02976691769dd8c53a5df5901ccab5515e9945476a09516766b9eb44f36b2453d2a00c55e69eb00ae11daa1fedb7ab6271fa948373590a4aea6a16ad73d96f4d74b9475556379238468caec8e14451fa73db0cc8db774651c56b8fb55365eccb86218ff552d1e7a676e2e83fbeb0688fbf61ffe8497221bf1d5ca9e53a3d66d40ac13df47f930571d217a89287b63ae9897b60165631fb2b8e79c85ea74f5fc43d1a2d05b1306415b4b3c2164ccfd5be57776c00c08aca84dce434f76749290c904bb29332c594cc558063d4c4bf067f65686d9d62ed1e4228ad0cd520d55e75be8cccbe1395fa16cae14b91c0f9d0286183ed801608080c510d4133e986b78495de67612257b21a30d5e2f1ea397ee54346915c9d7dc50983b15c4fba032ed1ada185f1b3b18bced6bdc00e01450f93561c6d74fa0fce376103decc7bd33363ddde8db2c8c7e1e7b0366c149b12b7fcefeac45767531ea326f6d8528f3289967ab593ea07346adbab2453cfbf48683f6829bec4775821a2dfab8488e85110236474dafb5ac91bf626dc38acc61b1c4734b222d73bd6db58994357a3e8cc059718f3e7e9f2e976ce9912b0f6c9a427d3307b605e183dc043668490fe31fb2037e839762f3bfd6c5bc0091d0bd409322018ec0a4ce8dc3327bb4129ba628a48cbd17305c1e7abb1391071e08bc7dd75c4608be67ba3e4db169b295f722ae469fea3f2381540504056056df59b371c4fac575437f5c07716f066f5f8299a91f17ccac00c9eeaf5635559ebf45817ed8e67e2fa3961be58a8b3682528efdbb603356c127a849f86dc915aeaf86c8d55e74849d025d0a34cdd4ffe8cd062b3202c0eeab76509551bd770cc89f5f1bb9df64fff73551bcd24b0d1ed6cb594610f12a57530615ec1f711af38fd12414378c18f1f770dc6db3b9bf3885aed78939928436fcc85d36a2d9226f29517998b64d3abf82e6515520068c8137713c025c72de06804b67bbe613d39717f0e5c1797fc19a3d2fef0bf0ff61e8b994b361e4401d74a00c97e8035f1ba0be72685f95cfe879e2a5e14b59bf9dfa8b4c88d5d0a89e946b069b8c18616f0e621c44059c479a0a7032be3fb95270ca6f307b9feb7308dda4ea3df0c7c6f135c807969adb3192626a2835e63cadf236db9305d1d571771a05ce7c4a7e081872d483777beef46a44a8534c0783c216bd969d65e13861f3a747801831e9222c98ccf7447133f25d5711577d9ad0b8bcbe1bd7eb831373101a6385f2325f1b16ff34e32d0766c65dd7ffd06bc61dcfdf93dc3af71249bcb3a943c2443f5a699158700474b8937ebf1170105dc32f382809cb154f2e488a38cd425e2c7200c6ab34aa7b4caf90b8ff38fdc5489eee19fb4fe2ddafd05aa04cbb5e0ca1aae926f2545ce7285d8d89e7244775f5c51e64f4bc627872d0f09cf706f935a482d0109d0c023b3d92cc32b082c6742d6fb67b9b36211363b78e3d094738e60a2d26ad05dd2d1c1af7e77595e18aa8ca109292fdd86e3911f0dfc253d94321b755d4b9a75d4c08d29f4b92bba4adbc5a4cb6266d81d9d33915dd312fda0ce5639768f663a866987904e43824c382ecd450923ba2b47404427cff2f2b156ff4a08c7e33b72fdb23f70138651e36a2e319274547bc25c53c6bb487f8b311b7117357cb18940353ebc0531e19bbbbebaf5a1279526077e26fdca28761e02e0be208887a1da6e2c79ccae96ab95cf2c31c82a1fecb5ffc10c26656f285d91d0b50d1884405e91ad058eca98c06741734b2fccd02a72d76fd04edc7e2ef26925b0a9a261c961b6e015384cf65e3938ff9a21486c12957f760a8ef1f729f58087e2862ed8e72cba9181498bed395d43eafbea2b9dc588c61b668303403a921098828e77a6cc467f4b53c67e2761c9b1682648deb31fc50d69ebeaaab1cec5099e495c07d03d4889557bd50b8cca1afd525836853fd6ef337392c0e2d099263f34498161a5def86371f71b56f39fd0029b63ddc7fc8512e6e2a7c209844a9fdcd1503abbd7013360585c13ddf264deafc6ea5117984bb4613f08a7c44be5932728c82388a5228e5c3ded7b39f130b380f02458c70131f74f9fa5b29c7f35606be5e9872f46d756fdbeddcb96c3aad5d94bb6314d9a01ac01b18e3c5cc59981c4448fb6d04554b793227afa482c62734c42d392bd623022c175b3d069898505b4fd6e42dc1729a7bd39d241ca542eae499184b92dbeeb0e931fc40d1c920cf4545f086b389c494d475e0580bd2aa5381c6b3d84f0601efd93c12d79dba980a0b2679d29b2b8492b6d4db76cc301ab53990e752271d56e4de9876ad8dae0d4ae552ee28237b9f7f13088041f5a0aa2309b2c11e111c30314d98167157e574fbb43343030153b2b4557e2070ade5726d1610e6eecbe7d34f70ad73daabfd21ea9f13c7942a1c21825426d49dae2ee76bb2222a9cdf4c7695ba34947ab585e96ec79427e6b46048369d8e928d371abea2f15e53ba703cecf2b9263ec60b8bc724bbaacc99ffa2ed2bd0df92421c5c2cb83eff2326d0125ca6fd2c7f2f9903b6889b415103406947d0928829aa1f9089a6c0f008054ca6cf441d83f466f35f6540b7a193a2abb6d098bf231400a9d1daf6eca1dab9e2441a66327623650d083820a0d8691cfd1fa39a56d7a4cfcc5dceb0bbfafcb5ec4801062deb6943045620ace03c19d8a70446b77e9a5235f5970e6c4fa6cdb6817b74a554bfd60bcf3562040f99aca5b36eec2da84c61f9beb39cf20bc5784dd91f0ffca4a83807bf8e8ffc06edb19aa3e7ceaab6c7010d82c846bc5a7191e59e6fb2464d149caadf4a717ee60883270bcb286c555a39a8439be41aaba9880112ce3bda901b726bd40baf4a3ea077bcc291a41154edab1a04a71bb8e8a2084207aac2527611a068cc934ee706869b89fce13f99deb28b4bb52bac86778eceb44d4116e96856e30e65ef7338f0ea4f992252a704cf730b41a8587483f347926912d8d0550c8abb4eb40d67b5fcf1ab6db5404e42df88813474c0510e84a5789db986355a39d8e06e721a115dfc8d93beb09286c8247dcae1b4fd3bceb74ffba0ad28f405522b25a04d34d9945878e72e62a19918e47a53336e231becf05b8ab243f132450ad22a3189dce13bdf24dba1238fba7ddec35e3d62c0b28bc54fa975727e8e181f3d0cfeeb3eae947515ef70a7ca2fc848835b9bf259e78ef6fabb18c7296bc1fc26002458f090276fc4a744a334158e6dae748b2e35622fdc0b6db1dcc5bacf991450ccda4a9603cba7e647493193b4e02d512abf2ec22c9882c38a9be2049b05a29682f2f9f8fb2d73a558b1f02862e39972181d115ee3e37937c2f9d1f60a2981ddc56d06b0348275d56faa2b4037089e4ea6f2f2854775ca0996e2abe91b4c3944eb32297c7c0654ef9823e19cac3a4f22b1745154a796a504bae8e43a388411c284a1a06c40468d65c74154ac93c7ac3963e25c4cab218fa8949bfd33b5dfc708240bcb212047334c4811ef3619e59dbe202b52cb9cf61e0627f3940881071e7538253cd6db8061aa4c993ba58e4a03b91ce71b826e7c42dfb878f467dc74bebabae4c85b151018662709a23eb6de8a40a1fbcedebbc4586dec6b1a85200b578ac6c2c3cf86232bab4654e02b6b82af2404b372bdc5c3548fe8218085150e50551c6dc82f96f76f183fd2114891afa50ade79fedda2ba78510cb0f966606bc1d4cea27d1ab6e577866c9d03369b9d898a6a61b6be89bafcae474bd266b5407c34ad8a91b1ef5b433e75ac26d482e717c81832184e2c706dc05aa67166f5ece59e9e94d818da78112a3d657a9011015e0451401d9a2c7df143b222ea1f8cc8a01606bc3a016ff2d83dba2dd4f06958420b422327dc3b68d39c160e6efbb811f262b7adb103d4d3d5ea473ad679eb79011bf2277f24a4086c173dceebec2513395470d4ef887265d52170e33a2590fe97b0ee90d69a3ab5e0f3e7aa71ac11a7be67896fe6804297bf778c5f69f31f19e54bc7b06e39106f9275cc225d2c41060c79e0265fcc013c1921a8b0b1beabcaaaa5cf1c44c23168706a4361c54323826646170ba91bcd1ddc376bd689c5077562da086db0b31ce29b2a282244d94a49d62282fbacf22ddaa17fc7fa883afc71bcecbdd53af82d979afbc27490fc45967668c9a10173770f39f0b0a6c077fca44b8d0bff78e61044b7a8c1e665378c17ae9da45ccc0c423295656ee3816b400adc6826b655bfb47699f07751496042131c0acb93d8115dfb88b8b8421c0252eafb0eac8464a0da5f000495dcc352c635fe39f02fa955dda05bc1a63794c8279040dc59916a2058c8c7f820018391b24711b5295b60897ef2924f996301f1f381e99eb5d738fcae675aba1849adcc9ed191fa134a63a901ed9cce137b323d699ac79289a5598e1c73d3a25bbea201d7be51407a88134221a33b4beb7d300b2e741b0bd9fd796199c6e6954b40cd76eed13275b59c48bd6f3b7cfddf5ea857e52fdbae1b4de78cec1025c7ed86fb8c1ef65297ae77fa636873dbc65015eb36446e747fd2eb93893c2eefc57e729cdf1fe8fb01024dec595deda7832f6a998a91744333ade096b8ee9c10ae51b46b578ef4781b0fa1bbcbc8a02a3420ff182077529f500bfbc5a0d6c87d12f25e4cc672d62ed9d5c356596d2c0298e337ee7c409a9bf155c9f96e6db03e7d411671e1f211da8d09dd0af0af2c3950ec4f99839ba59a1641775fb015b8cc460b769a114cfb753d14a478e1d763cab4ddf11a32fb162fca5622a9e331659a8451bfa57b34d6799f17fe4525a2096dfcbbe1cf032d311e70349786789d8b874080f42aa3ebe5de0553c483fabeccf18b57ebf5b9c6eb1a046918f8787e19b44e00fc7e2cb302c3bf52e65f5374386f96338e216114b0125a19d79bc21732fd90e4b2d6f717381feca945bc2d5cde2a8c08b503b4ee498b5c485e8767d75fd2e717f7a1e74bc4c0a486bf67169b45898c1333173a522814dc488bcfa990fc1996bff63dd1abf0d67dc7604e644a758b1082ddfa1297d0ec0d5af11da803746785c87fd7a056d40488fbfd44c156eb91ad0e928b19307b7001b67911635a8645e1f007e00db546d65689e342506ac8ebcf8ab87025dcfebb5e71a79269546e729fa915059c24be10c5be2c34f4cdef4b7d06e50fe1ce0c7492d6c0c280cc43ff8756e71de30766a1bdf412fd1bfba7b33e7eb2e04590e9d04ad7847af017acb4d6df18d1271ecbaa0feeaa46cc36d87d5f9205b7bb636f9e90bd6cb8e67e6d1643b1119ac2e983507800a3c6ab7280205d2b87bb5ff009de1c594babd25c33318f05fcca74c0abc0742b219235ff9dfdb8754983e310469ba11681fe8d4fe3ac7ce387a60891dd987b469b836a2342f65ac5a436b2ad72275c76066d335a6ba9651bd6496192709f518d973b57524207a100c56c38dda905e4037638060cf4f4c1cf510f517ed62661054bc8b651d9c7b0c54c2537b89a4fff835f3f39e1a0ba8bb349e7ae1c32183c8313db7224ea00815fed06ad079e6714ff0310e09708ad3b1ffe7a24dc41191cc1dbc186c22a2b8bc0ac18c3c0ead75e70beaff3ee855a190c9453a79ab1eb5ec0ab40ae76f11202f906489df31e343c27e863094959acbbf5e0e8224dcdf844b8c6b603b8d65177387996912b51681df4d5cb6a831d5b89d2a7eaa8bc8a202d2fb07a6035d8d9b8d723b825559ab94f5130d304e67b7a8849246c070c789399e45a53c61bf9e2b8a0e2110385b7611e19c24765cfc718ba3ce706ad32c94b3e3936bfb5a23ec873b6d75f11f9b14dbddcb54aed529e3024e96e652e990b3cabceda1ce6e0ec671a66f6230f1f9536da41f5e80d34019e0ecb8d6b73e948607263a3f60d1398080584d3eaee2702c683ca8ea184d0ef4982b8aa075ad63ceefbb840e459cd394649495eb162c573c78a7036b65bf60769c50753c535f860c09a5b672a429d70c30af7e7119a4dd9c6cbe45435ad8892f4a3ce09caf64c6b1b6b75df22e9ef110e5a777593fa21a1d46538056757b95cec37f021f05b8809264ff44211f6751f8f54435c6fc142a9244292d9eb3e0233f3f318980fd2a23110a83250fbd6f51566eeaeebe0f36b63d29729c1ff5f9528909abcfee82f7646a3a560c43dad0d99dbe61d8c1fa871799e918cc1b3dcca3b5d2165341d521284108384ec6e08bfa5d9760708f35c8ef05cf1b210ef0fec8fa952f6f9c0c4af080361b91a6e7082afec8b9ead36e7474bbae71af1c472b3bf43ad699c2bc3b99bd06cdb2aff996aeb55128689737a63366398cdbbed41e5c192611599cdeb5685918e80d224d353d65eb721874cc2707de68a53ff4410349ad4dda836e62ebadc98a7070caa6acfdfd8f4db76f92a86ab92502dec7c9f84611ace5472e57115a51fec2a8d6aa704f7d6aea70e6167fdad5aa253f693ba89498dfea8a5b5c18cc17b3f651ffd52637a41ce7f60feb0852f601ea365f021583d20fcc280b927199bfb15902f5c88b0026cb87614a64e258554cfe2ed6de79288435da49ae9299c11348ca40411abd81be1eef3c48ba1c239c1fdbb0db8f1568e085dd36f621a832ab891fb3a18fa86c078c305f36ee00ac1b929","isRememberEnabled":true,"rememberDurationInDays":120,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
