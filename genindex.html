<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"d2edbec63de7b335e3ba9dc45967b026bb3d10fd8c6531edb5457b8866b82c383865af0830505a54ff60a0c61d89b79f79d0fb9ff8cc2f86e08fba61ac54b83744bed80714917adedd42ded8a27b938865c9ac45053edb58035c6ae749f77ab7d5bee72723773c4c0a1e6d1921489ff3bde17dd521ac25ac714ef45d6cc1ff84ce1a084c5adb21f57b4477a515a3dfa2ba6f8bbe0936d56d64d6ea9a4de5bbf145855e814061c834bee248aa2c626e1eaa8255780839a6d19a4f4b6b6e7445f62d4b93dec4da0035cc63145b9042b5a9751853c7a4dae57dbde69b3c74f185c2f6d76a6c9b789b6635100a7600c1dbace7c53870746f253db25a9dfde3474294d1317749da67a0052f2422741db680d3b0f35520aca6343720da408e3befbcd0ccd9ca8632fcbf2ffadfb9ac34d5146c2a794b3620660a7c851045b21938d8963eb42e0140daf91a759d2e85268a42c25194bf090f9fa0fb640043c1b87ed92743eff10317d7b25973532c39463a1c55b4218db73bac6bffe5ec7ba11d433c3dc7f00cdb821b2c6ff1544ba4596bfe6bdc5592817f63208d248365587e3da7846b1ed4a497a5d34fc8fad55dccba8cc4f935a89449bb1246bb42465e5f6877ea5070580c9b58fd6827ee9cd830fc534e54a6c4a9dfd06708fe9add56df6bff0ae9c6817edff04d91cd0a5c19b472f98470ab5e057b926c64b4a29dcbf4550a8848dbb7a101e4e9d20b17a9c5ecb811de84d9fabc06ed5e3a4688764ca12ed3973c10328b7198ea63234e45dfc72ed00ef1930990eb5aeae068c56854d42cabc0ffd84a6af32b8b1f54460d97ac2e0af3db576cd972e53120f8b4106f72df47fac1f6af916a3f7076f8613ff7558899c39c71cbd2fb7c3920b0b01c3b90a4370a511d6dc5104ff59c76968576e3d010b070d1e7ab02bfb9aecad688e4684bfa27ca3d518f4ff47654849b16c870f0ee14764988fe69b73de5cd70834327aaeb6cb06859b76037e9ae0f385d9b5e5311d94a8750005d5da7b1e1544f840ffa6da752a80d99047219070de59e55c20c08712823f4e7209140f1458ec2f3fd36e8b78d5506e5e3a5b54e9e396eaf46841e672b6a8bbb2a77f280fa186e54f26f475c74fc86b59ed20a2f83d30dd15e5b776a50dad116231bbe601070e558646b246273a3bf5b09fe25e82927dad415893f737d2352a79f9a2e931e87e9e1706ea36395143aa6118662312717cc3a1837cacc3db61c48b80f2056ddae8895fb1e82bd58e02ddc7458433623c9ecd0a0fc074860f9ea9b7d6d4d202b92fece583cf8b00b0ccea22536e8cde87202dae10fd46f7f9c38d4ea47f05d84a5e4d5e566068620004cdfb391628911acc0b656c2161845f5fd86e001acb024ea7761c7e8e365c43243b8e2a98e0dfa9b4cca2cc4683a9635caaef39ce9db86734a2cd93a83d4a2fd060530dd9d18694240a4d6c077330eadba6c20b0d10269a9169c29744350876c6312a8fd606d516b4246948b5c4c176fa06610721fefd5d119b752b59c270c207efe01e824a8b2a31206490fd1979f38cc9cbe55d360083e0ad394f382a2490ccf21e916762d173b41bd455806e843c72694f44839ee9dca29001a20790f0941ee8c3e08f3e3bfb82ddd954c6cbfe13f603dd7669b5d3cbb6f790fd14be9190202a4c2590f800242a1f69b8e1d425dedba4ce584c221df92fd4f118e547059206336fb842f322a6659d2822a792e2697743fa8e994621147230eb4bcb9e89a2d6a1fb661ad1c19f02b5675f8fe189a25e608ded8d1a8dd255a52422305305cb93aa7ce5ab12c4d0b9dcaf7e713516f497eeb53f61371b47a50c05af0b4db5486a3dc41088f4b9fbd4ea230b545763c302e8aaa6ff52354c6c6bfebce8d049f61c76f21a5acd2698bcf281aa295d39021d1f126fdc30cb482547681823ea5d6149242741f7a0a121e6b37234b21f22a1762f975987306a8aa9c3e9ce0fb4abb9331ac3d71611ed72d99a390bca6a0104c4639bba554f16249c6d5517cac9dcc663628cb59c727b8af34cfbe473ddc0390c9ea2e6ca24a5dba50ee21a5d564f00c89bb35db93e4b38c7abeba9b0bb9a9de9b814014c5c55356c04a8bcb0810b5d537ee12cb2a788a3665deb74f38aa6853530395e0f6ce0ad3e92e6c58804f8278976413ff1e9dd02cb6172e136668fbd7f232f8c51d0ac6a7fe2f1a9d78801aa0e5fd731813801347019ce50557e89ab0e1ee8a90eb442e8732b4cf53616c69c9c9f04438fdf04ea2a387b971f18100ca6a9d584d8f6aaf46fe533a012647b3478b2cd65de6fc388a6627aad8cad38e20cae23e4958a8b2ee38414950a00f39bebab39b786ffb7d04832fbb42a6edf9412272f5fb6be32fd727c6359454533ed5f1686eed4a471164e97d7b3e1652c75e008494b509b045600fad92a89799c9d4e478b6b6b2c25f9473ec12e14fc977f77af7e979d2b461f80eb63ebe6abacf5255b12668c301be4104071a0f5e2cc258daca0d891fbc9b707fe2e228798272145f4c270163489390417a7ac32d0e652979a34ebaac334f697c879055df5bd252dfc506c10bd62c1dd153095a90eac58a4f9d417b778d749cec47dd85482ef34aa881e682bc84ba46464771e495c7cbb9b188e309155fcd59809f2ed95796f2b06535ad64c7ee8e7540cdc47916e4aa72e4aa273b64259d4cd14d96f2561a055ab8bf2c5bc4c3975267a1ee561da36c6f948fd3a74aa81af7168550ad4e8aa37e2a4c1eec9a575e8ea76b4616a4cb1fc25f8ca6f5703188218f665bfba60f9c83b3610d27df234d0e0422468f7bc421a0c59b657ed61c028b45ea5e092b410e761ef5fdd3ae821a901cc9b4d0633448a92b46f2b0b60fcfbd74d280e994310c8a35482ed29d52423237478a1900747845b5c9d69bebc97d72a7a5ca4c49fb14b104d19eec741816d38bac89bba04ff8f1ee8406b8f2edefc55f26e8d52f40630499b39323c5a560096b67c536516fc51bc01f1915c3e8d929c093696a4ef238f7da423cd6e9423e9294ffbda47b33d071cde3ad87639d0009668e45f93f0330459ae8538b13de46d72f456d0f7737f3c1c2def66ae962d7a73e7fa5051a93970253422c42dd89394a17cbfb9345af0d4713d80c56f86ed042dd8905db8edc9499e7f52c89c6181bc7eaecba2318cfdf49804acd0fbb3ee0965d6fb4dfaf6aa04065485c7d27a21083b99856360ff804b82a67fbc31d34dda74a8ef709597887c8ab87be1224ed5e21f03cb36690b50ce518d017a70af8e63f136d4cde2edc9c1b59d8a1ca8e35951452682c269c6eaf01f3e16f15686080492e4e2724c1384986e3b0e09cbd174f711f7c43573967fd14c45fd618cad99d94ec5b5006190c383f2a2e705394b7ac0491c5fb6d12b36202d16e7cac9983246525f4ee1dbaabe55ee3279f5242b6ee639283ce49ce432a9fa40760d8fb8ea4cb2a9642689b40c9d3c546c6e6c143a4368df1e1b78c494da901982ecd85888aaffe8cbc7d57aacf1ea7eff5c5aae90995288fcb1a28bb6e7979909da7a48c367838e22bcb7de2131cf55b664147f531ee5e36a5a6de4dd80bb30f7172ae49983e26f750ce821fcf130e9c6e9445b433d25508047d6327288428a50715162ab52f9f2996b0d056f62f488f9b09de6dcce6170a024f2b32a5faa996ab5fb79356460df0aac96ddab41f7cd3036e2904f101748497867b0892000498fba944df6d1edd7122fdb538a87097066bd7853d19a043b39e7153bdba7568eea581263fe2841446e257ee8cbc0628cd93034f1ea2257bafda97fb1ec27e003b162b071a6b6c3e483184eb382749641699d469c1bb2a603d39a3a3a9963c317a43dfa53eb381b570ab6f5b32dda2682a111a2c505316bfe5ec1a3097742035524cd66ba2e6c21e1e31811d3910686f269417d2ab66785b5351db77985792b4c19ad19dc9dddd1431c29db196ff4a3bb261481d37af352d5213ef0b604a5b1aa168ca100c69407ed8d3d1ec9b717c195d055fee45d59e8cd47e46a88e8aea9cbdd1bc53150fad99d2c9e0fc869d0a7da9c9aac2a6fa198e3037f4d2cc60a156dddbc82b875316f9539b0ad7bf2f36dc524290d7c59f586c6a9176694947a66354a29bc64635efc8776808ae42e3713bd302bfb76e1d2a33a2c8931f4878c34a6d9a25333d8043e7ea0c919a02abc09251290e61bd26337a7dcf79dd9d25b02f161416b000ef711d2cb1f19ac9e0f5dd65e021373b9fa20d277af243bf26862c5f10bb95c7181f241c9c1822938476cb7b27619d01901028b561902d6139ce92afa48ffaf7768d1351600bdb841e4f1b61d0f95ff85160ce9909b869659ba55e94fbffcc064970f31eaf61e01ad1538845c0b520f33478d29545f83a93776a3a85ce66126c9bb25a25c98a4b431f60581212d2fe7765d7ac9997094564b2f89c2844512f2ab60c7c4eb35246b53619bd2d9b37952dc7b2bebe6c28c5f4a7a926fb4734147f85bb473dc0b2ff7cb1c4d98d926bf36180abab1a98335e7e8be5d816bb3a4cb325112fdc389e5a435bfe478458e714877ec26ea1b9465ea659b42b142e1feca759215ee226240555541df3200c50f953701f7882edf1e44c0a6ef0311ad579417dc39658ebb8ddcdc92f4c0afd2b406a58ed40e4476761cf5c3fb1beb3a7b6b34b8516ca19906d69603cee3ba730b7b8527ced7a3c575b546136a52de2cfc7a6bcafb6956015f427f9e8230fcd014d345eab984e0542e978e3e30f1c8d9034c71d959e995d9574cb42c05820ee4aa166f7fbec3c2f42fa31935fed05a8604441f86bfdec017c3ef8e761db558b30c7e7be65f303b7d115b98023a5e4f5348f28b41f15b6f3e7164c412dc17b7427918d6b81dd286a83b53b2cc00f58589737d7e91274197a379509b6b58973982bf1400a8b83b749d35fae947fac94c43e7e29ba500bffaf226e8594ef6c310ca0e51e6a8d080840d9f67bdc4155af1a314a27da2ee701e3dd69573eeb0d8c9e466d69863fb45b6c39015629d2fb1904b68245d8601c095e446510238fb163b16d042a6b902ac2969d9677511ed5cfaa883785b0b2e0808ebe797c81f7d72be847e786dc8700b196506c8a4731957ab68dfa6e51eb8e270c0d22b2bffecd8d0400abd5342e29ff67effe5c313b1dd47ce107e4bcf95c805504038ceb5bbfa9d688f2dc4226485f1629344d9dba7509eb274dd7f844d80a38a9cbacd18c00b7543e1bb8832f1d0d4557ef54cbdc766cbea101fe260a322b8bfd6c24c20d01547075096ef223e5b14c0f9f0dd6ebb444fbd0de26d3a4c9a223a6af6e6fcea902fc0241a2a153306a7bb97c5e1b7c514a8f4dafefe8b2aed882939fcc7df49754fe62ad0091c985b5ae531737bb5ee79247bf49c5c0d1939609ff0dc14377066bdcea2effaedfa9b7c1d992188297033989246da7cf6e68a772b3363c12fd17c7b392ee2032b554a5202e60dc51a6faac5c560a8e3428ef7ffacbaa32f7995f1ef8ed19a9fcf9db30eb0864b2d6eb28cbce1211fa9f8c6aba700223bb4a2e43c24192309832146c5ab4400a544f2ddb698df6a69f54df91f92fff1161efec9942af64d28971e6b7ab95357ce55beba895aa922f73d8134c6a75cc887bb7ffbab9815c9b002c95b2bf0297a04490c092f25a357c1ae355fdbe0e0d856653b3e4cab2eed534b0114637cae83e726bca7834a1b58f8f1944127825d2add154b70a1cd6418bbdb64d3f26dff421641382059794d4050fd00b1ef6a506da6723e1ce366f0d3a479c45584756e8d7d0c78be01c50bfade277e61932280a62263f1abab0f43bbba36ac50642cabbdaf96768207243097b0b6e6fe74db9e3726bbab0b2a29de5767ad2541c2b329298607eb5ebe111675dc783a092efd826daa289d37cdc9a4bf7798499df277f9ac6661aca40dba9df1a355e67a66224a7f56fef6e161604374b83b91f7c339f3bd6f17044c6b7d4aac81307aa0ee199953e12764d4c5665633e2b47a9c0d818a32c877db4eaf3c80b0a7aaf7866d04c5d23c711e5a64bb5f6cf1097d64506364250142e71a772bed9faf5924e1db183d0c1aea7255b7b4f66c74a01ab6dc0641a03da17d1e488554ebebf0c327ab4e9210220b4d6b42c7c49155df1fe50b738dd203c87b261cbb1d7574f2eab3fdeed26ce5374c3d55cda048ff2bb2e6a6b95c2ddb7918137dfb43f5251b269af3c8ab4ad9efcc4d128218ba533d2200a7419780c8cad64c82d01c3678555aa7d68f2731710ea04ad340dc8cf1d97abfe8e549cba650a7fcd2c2fad0070d70dc4a10b57eac42c598b550f919f87779ca275898d7c164e21dcfcf0a3cd35d44dbfe0691db7a897ccb4e6b0b38a5a7a116ae121a94b411075c0af1b9a3df6ff43b2c103080c0f0b827857a968e2124fe99d90b881116fde54688931e6a392e1b7519ce631677e71fc246f13300b38e031589719c1ffac3851e25fa285bfed838ddacfc2eb46bdaba208764fedd52b23e80c217d156cb67089846d189e74644a2ed6c1fe4a98a54ac194ee4aabf8b5aa3ea1f3da47069f9cdc529eb9d92dcb564cea36ba278b8abb53d38bd98700a9800039958f8e9a965914efa138a3b7fb173505467c537a4f93ec46b7020ff0710d62d2b589704f73f988542f12759a416c537dfb5abae996216719c30a1523ec4c8fa7086330994861e0c276887249bd9430546e4a13ce771917597f476980112c97e338e61af4fe968447018f7a8c08fdeb13138fb6f720cafae92eecbd3250a16c1e784ac93686341172f9abfd8579829ba1878a63ca843313185dea194c2258a5cd14f190a31b94349c51a74379e9e15c073d2f5dc1ee51bc05e884e303b4e592491668ea0c5f2fb3cff51a42464f76f3a05daad00bf1201b080d696fc5b69404b0510ac80209e50ab7b05ab431c4ae35ba1c41cc57e4fb5df175964274fc6d2c2d13520b3cc3d2bb70de27cda8dbc057c9f2b5a395d6dd6f0aa433c659a529923e0b4d2accd68ad1ddda1296fc51ddc0aae01dd906b30218bcd750acd6c02bc152d2ddb1c8fe3877b3256a85f191b432cabba8ff3b70cd4b89df6f74bc0e760479dd5fd32b7b75e6d62ce16b24888237bbbf38c11fc0d96e80b8902db4456e9b6f8958db0d8fc9bc6756fdcf579abb63307d157b2194a2ae37392a0b9d3cf5310f8b2b45eb1cd2b132cd5fca8ae073f3163f9dbadc3cb6ea690d0c9eb35dec92392d79a1d5e7212fce9350e9f36887bc9048aa3e333986fc17c845dfae1210fa676d16f69fa369e2aba86070441162e3ca5ad830f048ad35b5ec668f77165be418a23c921ca99efda6c3c1fdec6aca1e21e98466bd50d5edd757ed5b63eb0988cc1a7ce1a9ac3f5e6b9d574ce77a353a01a4664010401ab6a6f2c901c709e8cd817343bca219d3cfa8ce1963ba9d0eb24d77d19d13eeca5fe4cbda131e42c455f16b2d13e7e6ca29cae2a6133f77b5acdb81f0d3e85518f525aee89d982ff75754f563e42072dcdd5a72b0e8cae2826e5947e1c9e48a84e9844f375a48a5fbb75c2843526a86e3d8fc4c2535158b98ace2968b56c85adc8e309100a843af8e13e21424feab9808b5625978a02ad95e60dd46f55a0f532eeca1a675df343415e6590c0fa38cf3a307b381598b08713c09b5f72e10e41628b63461f3acb1017072655bf5814dce3c2aa1cc093da44bdc4e5260940a2fe5c7e1835608daab2174dcb2bb29b355ce7b4fa1fcc23dc316f00f9c4ee75138421b7be979a8fdad0a2c01b9f1a1431c36016f9d9309bc65118d9a1557588419001b7b8b7a3793efd0f47bb0a420ff6114a829c0823ecf4177ddb6f4b987a5905a33a5b8da28c4df6bd8db4f4e798c8cc1a0d8c2618684c2dc70f8d8475da8ece4fe8c4c410b75a0993f4146bcb63f68786f8bbd20955c3567fad0915d29fd101ebf4e42f6c8e03164a614afd4153efdb073330708a9c8b3009f828d6c770382e3eaecc6e1453d73e57ec88be3ec6c4ec269f9cf86ebb27c157bde5b6d103474ab4ba7795951619f6a87d5801177df2de9c8e0223071234c75abd6037b36359fdd047e4f6fa9cf2edd475f4162a3bf7db1023190cdf6ee61208e3369d744c9b15c7427a6890dda423c38dc5839d0746a4ee9b231a960b970bea613f10bec60d90c2bf2a9f7cb373dea81c994904edc1399755da7cbfb608e5c5ec8ce5fea05c866f24b60b08835a163884be181244d425d5fd9eda378edcbaf775048106893e3cc9d97ecb18ce6229c3521ab5bb9eb5304f65b0ac0b3b6d6da672411f84e55da2a007f11a3280cfda734160eeeee50721dd52d5e65e4ef79da70e46a2f56bc0cfe104833dfa486d36f03f70fd5ef1c351d61df5d5c3b7f6d86d8a635a3a1164375639c9c7653a405226b520f8b96becc94bc5295fc87991a2391f672213b94f89789d341e68658d17e2eb99b82bf49486750c67a8584798ff3584713d90c7470560bd04053a3e176245b6446f46ea28ba20277334b359109471423f1452cc78ada483df178398d4a946fd32a717c6d2ea544926b752d7e46f0cc16cb28ae12975e46d2c1c5945b454621498eed1486570b68b853ac0127be95a6799bdff20b7884112b4665cc207f17d7b83486eb5ac55ce570b4fe68ac85e841f9dbb6d1bf51030275611c82efae8c89e653f5c962baf2f0240092d50dcf2bb289245565d4488d016d88b0019ce20c367477f43b0f1b95106c158c658ffbc1b0a2f388231b826ab808088fb9f5c4a276c5766c34af0b3324baa9e8a2e866cf9eed1b523e3bc586dd7df31e70eadd4be1144051a96a30e711bbb07da9f3287879622457564988d7d388bf180e9b36053f7fb0c50bc054c9cf746ead8504b514d02170b2fa4ca7f8b1ee0448967575893718e28fcfa9fb17ffb66f36f4bc5ce5ddcfd1e7e05bdefe8d9e41188cb77bbdee85baf02cb5f35b5eb822f7f87fc365ba049cf396ad6245a315619031f30782f86d933c33c3393f29af7401e8f1837dde0bfba385674d7d65d8c1b225c3180ef2626cc2294d1f5ee97c71d8cc9325276ae8a73eb979dbe5e329051aec490cd118ed9d57462f63f953bd0c73f15c4c4f79c10576a58df704c1656c4e9a3c8dfb558d3e56209c33c3d1e8c136e039a5f8a01a3b199ab25dbccb3c63e2d2db4532ce29e80e6d0bd3a2190d3787c09a431c3e702c9b4cd626a3079b939cf1b3d4f2327d6e629ac7837d00a977c6d1b78cebad5b1c73c8c732feae4ef2764a815c96aea8603b7e6a5b0cd46bd345fb03cdbe5301c587c8abe7b92bfab17302d2bd9b16caf23bb9b6344afe60d6939ebbbf3bb17c97bb7e4ac7ddd9e8f129e8319fdfb0fcc988e6c1f2b35ec7b2c36a8f917d285f556f20585437ccd3db07a630a54793125873c5776cd630b7d1f7453d6ce7c287d5c5735f1970279748b3936157d03c580ee581946ae8832ffc06618eb7ebd7efca48b8481e9f1a8d153bf5ff20981c611ace0463906373b566d369e6ca67d342856a17a765ff548b42aa14142810582a9ec6250303c03f2a363bafe22c7c6658748e2e6f6334c517d9a3d92c7fe27b14839f21322bc6e8340fb6cf179ba83e193885cd8384971af893a71bf86a0c177c28411f363039f04a395ae614f79c30aa721ef878897614ef005751119447f4c245343c1e66d6335854953dffe9b0edc75ea6cb7a4e71e2a72fc1a5feb52b86f64929d2c7f7c30fcec592177e7c42bbf769bbae8ac7e878382994666bbb7aded6016f6ec80e1c5d4a216c097c4e80cfb1f16c5fd93eaae2439a5fb9132043f5adeeb0772fb85170886aa475ad4ec8c09ff27a46d76a30b92c06f06041353aedc146b023c6e6e0ba8ed27255ea1f5a314bda17e39a5633e5251d5737051dbaafa999873ec5df00e7018ccac05b1727e5e727224a40f01be654467b0f82d56de1b7af8e3576e255daebce4cfc418a64b140d095b4cbb6eb1fde0c057614bea64c8ff91b5ec77a5d94c142500a6d86055652e288e161cb49bce9a765a44dbf7cf77d80f7d3a37f0617c5a624b1cfb54786c64537b9ff05ac3bb54661f916cee9fbf406e0fd80df2cca3a811cba0d24bfa59ef2af8f0a732805e60d420a77eff659bbe68e5753c6fd0b1c5ba03b1f82feef5a82e06d8efaed6e5990aaa615b3eee1909588de9e5073bc345c388f1c4bc9a8ea4c939f80de5922df178ee5e565bd85afe3f942582437cc06b76e2fafd82d548266a14a8cd48579b36f9c7b245a9daf096d61590f523fdfab4e862c072f673a6476c5e4d8ddd88a7283d239de17fd6437e7bc7b536da49e05a204521bdc6802d950eebafb8d35ed28bcd311b5e96001b04822ef5d64325458f3b1933aae83cf188644bb071244cacc63bb9763fe373a122f5da6b0368918b53988d1f9263d076d7b2782208edae9838c4ef9bbde018a82fb8e384c81f2e8fdd7228183810bc85b02c56974c51ec95e07f20a722d086f4c9b5ec9020f72c4e8942fbc9ea4ba40f3c80723918e2a41be3e79a4c829772d3021167eba9b655438253b16e68a982f597c16f499988506474fb60369c87d02be6579d8285bfba5d90f739a9dd7bd57ba219e0a8a6ced2bb577cefcdf601c10fc9c831171d26c8e59cb168763025b37b90e8dfdd3de36d8fb4bb7c865543c1cff3b01a854b1a25b7fc9fcb2dac960a267ac5a3b900d1dbad09ebaa1d6aac3c24b980235afd26ffc2bd803bbfaf1c74ef15bacead7087cd690aefe38c84dd8d70cc16871a0cc67a50a3a4a2ff4a8d368b62cb3fd1de046af96b977d22a853a1740212ca6df3e2d3da05aa3150a7f19fac0f845d320547f14d2349d931597c9c001b7f678595a56cec9ba5bd67e4576a6bc6598c6629d4bb972b53364a08d8edcd82321e8b213d3d7c8c108079f23e7f9dfadf7450e914d875da88573b8d10febe09f253e87da45208da1bdadd543b325f64daf190414d58d63a061c6bf41533ee5558cb21311cda0644d67a9633847fd69b76ea6cc390cc3848f692abbd7503bfa1a1f6173d983c8d03736f203a516fdf01f0fb04448b33fb1453c4e9bd2385623a1d1f442a689f588ed57e99db8cb5e728a6a32180a8f18fa90a2e998052b3bb062b905da70a9ff733a120af2e1f3ec3b70af9b7bacd5275cb0a9f70e4a59426b7ac746f9f3d2c36b6b71986d279bd2d792bc41eac7edb8fb1e3f9a6b395a3d87609762094b5d9ab6bb1ba23d910bee1d098d5d3d9c6ed65718815d89ae22838ad504f6f48684b38f2c0b47314d9a80ac577eae60fed432e6efb4bbb93e1b4a86c2acb68d4ddd2e1e692bcb2ad4cba0e85787edea5fb9a11d40159e02324048c39e620c860f881987ffd31df7c59c061ba1dc197d8e83c4232b1c0e3191368524a022846aff99df77b180222dc0767a61a402c0eef7d301a2e6dbd88b360b432e3fde813f14375a00a10228fc4222538d1584c7913f8c7b5555b15a6aa07aa12485654563940120a7a321ca5ce1549ff9cf215e947dedc14d657dc74d2911b62ca4a35cfcfff8495031e30065841be5a91c7eef81e2e041482ed1fc3f632cb9362d04ecbda3a886305a685644bbd71ee443152d9c3e8dc5e6609c4c7cb067b4501417ede731dcc3439b57d480ea67dd662d601c7960285a10c92991e1fe7d9feba54f35b78982ec51dfcbf824de566ee98be570d13ba2d63d03c982025056e87d57c4df28921fe0192bd91c90abbfee3f6e2a9124f3a9216ded797e98512c469b3324c5494a413316826c12e11a008cdccb44ce275a50f55919600fe2df34a4cd0ae5ce7808208ad7d4210e1f5d243ab9425c9a34b559fc5126b07225b05de0bfa98a1395b02d504d6d26c8229be523ebcff8e66c5efaa69db85dad5be1481b5ff5fcc4b3bc801be8292395e29d0ce767bceefa435160e9cff7dd082500788879701188b1677c759200346c815d190c54f3a06cc9afb9c4bc65048bb94c4f04607fd31b2016dd2e54976783fb22ea892a8f6d042f50eecb19d6b9f2bff2a825c0856aed7e178b8677a2dae6641ed695e22e39699ba7771d3a1fa285dcddca7d84c6b1546ad1d25ffa2c4ecef38590c179a917ce823bcd445d3e7550302a30bc0e4d40bc8f7178205471fbcec7a366d9db9caeaaef36e20c5b3af9ad4fa9d98b8bf8be1290f829f48d757f8f84fffe171c1d8da0e3a17b510f7ceff1f95d315777ed42dc512788648c46cda6d60a09f624ae496c08da69845ddac8adae6ec61ed6551283066e64e72cd36d84775549dfdb56c0a58b055da08cc8e6d36992dd6799af8c43665ea8d493630ed70efd8619d08a84d3858a08b389ec9a2abf5f904ab63a4749e7511b9c3edd91a04820223fbe1c9f29cc7023401f4abc7cfb6ca01c7113e3c6f3b59d00f80f13a6100e1a2b9e582c74c741a697db3f8649eb0649b2ce9bbbaec17906c406c688cd8c4b1ff7b4341c7be3580a57124bdd6fe4ab1535852ce66be247054b5f408612dfc41386a11a60b710d65fedf156d515d90b873c86a662d04bb8142635ffb2547e1b9df6ca79e88f46669d76008810cb2f7518893768d62472ca52b4c65dd13793ae6939b7fa84603a28c23b5422c82a8bfdfe61706f635dcab5741178f7d1e2a8b7a9213d0139e15a1b314dc6bf91dc9f054cff81d9d95f076f93092199fddb960b0939d75a37abe0cc6cd8428fa8c61e3f57cedca1d73e51af990e14bf75f1c7490d2ce18eb4d751867c28e79ddea35f7342fd8eb522375e49edfcef5040a73999e42c3f5e142ef25098eafa9d1d6f30fa888e70d9cb060e600ab41c29a648b6a09e461ac08ca8d6b4b9ceb8a746cc7ca0585656a276c3e75e0a78f6bf8a442107fcda8d0dcace2a9997b706f4a2b38b5ae8ff62a0c765dc5206d77eb6094f29a7fcd4564abec286dc706d5236de74b5a605e2b78c361b18d9d35699a3ae22c0dcee21a16034b3cfe36236122dd84ac2137be2e068d72ad8c5e8d699566befca6c3de88b12437b1ded855b88c900ba4f92f3612fc3266ed25564830c5daa99251826380ae10e37ffd68c2cf59b4d9eb38ef72ab8502f38c722340ff2848d5f48d8f7b06b4e2269e5a6e6599e296a95b21ac88df977cc6857afb2302fef46d09b1f82d0444103eb4d916d1de8cf7dba0c65b5e2c0a7593ec12ddc6da71ba5fa0ce0e8a6f014ec2d5700646dad1b1645eae06886262249cc9e3fc6664fdb484e7439f4ab3a4bd6dd82818432435244c5b4ceab1b7a57b16d9991e36643726bcf1d14c887b8f8f7d46ebab762fa12d38c26996358884b515355f6dafa49efe99f2ac65563097c97421cea9cda9f316bf095ff15f0459fb7e424d31c9aacfb0d3716b2a881af63b13d1b426ad3d2ba33209070783c461c74ba0ec0ac6c4e251d3e568890bc351e39a61a11ac28d4c92b566fb66bd3d6a1402d78643f6dc15fe327a80a9d85ccc1516997ba24f2b4c387b8ffa7cd2757854150df97c2ea213e8e0617ef2ec401e52783aa1fd149144fabdac68f14c1c43c30eeeed81eac5b3955bdcd07382c532561ca769c4ca55f6f546bdb4f13fb7a8e3f08bfc13650985ab8b0be195168436c1db19d1ededd86d51f0418faaa230661aa25281719177546cbb255cd3fb49a91e09a298d19c83632a6154707478508309b49d201dd38d9c8a8b58120bdf6905915ec9f50859e2e33b8e52c46a7027e1825816f174a591b1fa424457c90b48f3726f729ccaac0c3b06228ca7e8115ebeaa2d9e5d8401e7f72909fd0ff7db7408d595483be50f90515bc3253aa7fae52110f3b1cf6c11c701665c7bd907a40426e05d77326560e73d3e670c68152c5dee878fee69a5f867a3d10a5f11cd6661af2b5599f1cd22e2e002749b57db9182f163966265fc101b9b0650492b113dad95e57049ad56bc72903478f9e7d9a3e268deac54414f06ecf6659adf73690475937ee326c04bc7165c73dd24139ed9790af8d3cda1363aac1dd28f60087e7ec60101cde1c50f8db3ce95709ff0d450680ec29949ab46543a315943b3802d73539c3b4c4814c22b6a511d24de5f6a9a0837754e54324f0e033e5c05aba1113062004e099c8ab9ba06836cf27ae0ab816d7639a2edd35952b98ecbe8d27560fe0d3fd6d7a1e93991104037f3692599fe45cf7f182d1a93747908d7b1988763450aee51c54ae39c42ac09550f4e1fcc6681622b00c82cd6c376a4388826769737aa6b396561fd89055952e329f30c9e810eaa058d81e499cfa21cab0e553d6d98a82d2f6848dfe058c58bd470c880a3d340b2eb7d93fff319c63ddc0b6b2f97006bcdecf76e46c2238d30d46a5e8f74dea32436a3afee5d9bb0992f0398e1a1b00dd1b1647f462b3c8a56ad25085680ef5b6b94c698fbfe6cde9145e92914574189f0285531f02dd307b0a44e0e9b40cce5350de90e98bcf7878216bef1aa8e641e46ea34edf6ddb994042f3c9ec889af835a1eca365581805efc6ebb388563879350b8c06b9ea9d6f874c7e67d43a4aa1566735c9e42e3a20d18b0dae850f1a1d4b3d379df80c802510b2684ac56f34a52ba451959f2fc27536a5f89eb1e7787bda88a5304674f6798b68fdd03c82c5efc70a7c1027140a85b0aa80e8655101b114666c34ff94d83ea487a0f38b34c945e2303592657a756c968b989a5b87158d1e30ade801525aaf5a99b29dfa90084dee7f0166356faa6b02815395e1071c0a1f38b619f2d36c8801962c320652b24270a05aa71f9860ac591d66a889717cb47a333a523b95477a5c94b995c036f39eb97e27eb8506b26489e161c5be1c68729c03d0c86c29dc845d41f75dfe80aa53798a50954277d927e79b0e7adc186d6dbb4efb9a01719158d3b0326c8259b2a214110366f45d14049b12af9e476f13cb1e88c4b953e359a1f7d52cf1186a17311cd7fb06516ca66ad4859a0b6ad5dcd9eb7d8aa081b27e916dc5c203203bf4601864640be7743166bb1fb16fc3b0f73cefe6d70800d9ec1577c2493f630e4e153334f414daacb187e3cf3275b58f28dd31b0caa69dee7557d594bd8c551372b9d064e3703162354349d08d8d41782a41c39d1009bb1613f8ff6dfbdaaa9f7ab88dbb4f0600bf3441c3ffdd8f4f3200777fae6c7d7c3805d25800567b6feda64da2aec3e929bb7fb509b0edfae95f372d80ebd9bdde98cc5f5d242b53b2c3fc844a43c5031048f6a87e6ba1825f2530e480f6b1a6c4806c27ebe520512e73fbf8f81b093ab71ef15571cbd88af21c108e96fc13e964561338fa3a4a287041fc6d879bbcc34e50e3bc721d6d94a02b3d49ed6afe9a21dd0fa234d34f8a615b8c006562f4701b7cb5b47d1aeeb209879a705a55faec7a3a6c152adcb54bb9735791d77dc70648adf6c0afd2582b729441954626b52d51b4af1eb4b3ad86dc8e0b3311c57bd042259d49746b7a08ce44ff2559949ff8443e06365595f4a529b055ab71675230a16b6110bd9647ac684a884d3f8737ca7e408748642ccbd8b1f2eb0df8f7a2ecd01c66180c9bfabdf92bba445388326e1bc359f950f1be47c2aa061e6d2b2a3529eb4c72e58c488e5599df13e5eecc46945804398fae7dad93bc67fbe96b9aed078273ce6e5afbc54cdf39c59b715137beb4ba39288877b11780ecc56fed838f28b7dc0fc1d1cf7e777fc48ca167cc5caae683bb3d46e5f342895534fca1555adc14f28746b9a995627d1c43514df326e95c8dedf5b0f02fc6ad1362c72157c8da32ece4647bd55649b0b280341b317cc8621aeb33b568dcce86ae7b1b03225cc0118eaa1280ffc3a99fc38cdfa99b6870f83485aaef816902090d39b33a216fe448a979fa43c1ed5501f7c3bc67ef29d72ba081ee3b5a52798704405513773266be7beb83e1b683620144043fd2c91689e3aa10e9cc1f10a5eebf1c075fa0cc2c7352d501987441c0fdfbf03fd1c45b0af786fb58bebfac2ed4c03ede54a4f7c6b6bdeea10ea265617b9673f51159c0731ee82b6e16be77a65dbf78a3148d3f82ad5ca4f8391833af6226bcd70454c5d4d97df4e9017f43cf1724ec3870293b366f5352b28e233e086d63d7673f3b05260522415b3413ec1414f4046d1441a05ec83a59ee98e16d892bbfedb01d2ff4a05473541a21878c1adc476f3344171af5c2cd9379b65308a4c77a6e84d44d63a8dc1d124e686fdab81711cc2c52055c046eb03ad7365b3c8f56792e2acaa34447906037be38cc57b1b5168aa1dd2899da14285ad1bcdd0e1e441dead267b2c8573d40365b4c43f5ac4ff1b5d5eefb1654ca7d96dc751de39303f348aaaaf6e3b19c75b04e0bd4f2c28b656edf77d5cf92e924b67a363efd302b09b7de39753a7f569f9751bd10ed6adacd9462cb52f21d8bde78604b3c629f953989d40c0045410eefe5613b91be1ec345e964bc47bfdee927f0522480eff3715cae1d0c7d5a2fbafd97326cc804dbfad827a82273ecb42d1305ae47ebcd6f2a43076105f9ea327397a1f1d496c9bb3710da55bc0992b5ef7f5c5bf8e5f54453c24537a390bcba4c497825e2a6fcc1c3f1b6f8a4eddb958788a41e7a709cf817f5a59ddb3da111753080f6ca5b07b24eb346406eb7da531ddd24b2f9563602683519c07ca21167ec508aa0da28af5a125751d3b665a8e511f7361a2a69ed2b33e34b64a828d07da41ef11d86adcfdf1c49574d439229f88fddc6c2ac9d8491c0aca1ca6f296bc68cdc2dc62993066b3e306a0cc712982af16fa093fc41aaf03c039cc0ed97b2e74a696e6906a0215b91fcba7bbff1b82e43a51fd67d4d9dd9e27cfe1954508cf544e00a9fd1d12c1b0d9fcdd4279e2eb00fd831a43751d0b457c33e0147ece3de288771acea25bc8a365af3f3295c2f718fca16830d52435bdb0d85bf02564413c07f40dd2edda301c9b05a7e56eddac7a1997efbf46803e2db77e1d3548c24d8fc034e83313a8d0367c60ca71b26830e42ac17b845b208438d10f04210e5e1465e3aa9dd72ba13fbf7756059075627faf5160195459f3b65b64e9d550ee6388eee9a0c8086c80075f298a6df95c80ead5172adc325f74fd3a6859cbde7d5c4fb403387cb17f885a0dbe00a578600ecd5a05af084c919b85842465714a1a84457f2150422da34f0ad0e78fc6dd3029cd2fab136bff88ed2f175c26593d3e7d9c336032dd6136789e279eb8e0e0ed03225bbe3dc438df6987534b95b85504bb1e9ced244e7da32dca274e5ed897185f8c244381818364a7f6802b85d7d173da6497111795c3e9c1771678872aca4b0b5d9524decb8084679552111f1fa4626f93a68169f4b5bd4cefb3f44de87da42e47b2e48f62dde338239ac7848961dec3a49c248eef3536585ebcfffcc2e3e2e13809a866ab7b3638abaf2162fee14ab169c449228064c330b0b7193909250fa707407ed4cf71ae3c2f8d4ee220bd022d9777bb9b487bebc767cdd95befaa02254df6a0eaa5645dcde41666b194d1243b832c43b5284a27dfadf3138dcb47f0e24557196a4c5ee5e6fb37c58cdd6057824c9418cc7335cf64c6bd75c897a6073bfb0b4b183abd5fdd7cea41b8c632f15833a00e968267b40d8253d2a0b5d9bab03b1f5f182ff722a2b34ef2b6fd0369408931ca8d8b297acb8868f83e4b83b57fe2685351bc58588623aaa886c5a0df6d6e9e7f93d67d6022b776802d392f91181591ab6c81ba39e2ddd39cdafb8c30b791c6f85f04d03431023dc01708623430e37417a6cf1ba8274dee764cfe16b11a3d5d8f7bf3f1d4ce339b0cd6f434fb994a0ec9cf0a3d9631f3fa8341a5dcc714e1e99aa98638b46f0cc48c5f29a861123fd3bb2adb62de025a782292cc70c317ae8d29e500e694bd1efbd07953baf1e0e9b2b79b5b700caafc2756be8b7302c01bdd17e293f894e26cb6b059d78464a38bfa69d94e462a55ef7e15c1ad8c20500db0011a7ad9406575b002361331b2a2c64af91fd3ac852d25f043c4fbb1bb2191b2639c6f7759a776eb69c57a53b496bbe40186a96cb18492187f7922e297ccc9d577828bb36e638687ac82c105266d97d262b4a3d4ea31c656e785acbef3eb0ed379c0a4cfdc11dc8f6db0dcd59905c036b998f87de4a5a735c14ceeb32506b9d778b8e738219ea4ad164aaac471ea5ffc7285f1d9f5beea15a0c4f15e2074c0cbdd0e97ed1862a7e23dba82774747ee5637119b3fef7e045df5d09fcafc548555591416148c4a4be9ab5db8e018666e1720b693c81ec3d1735aea85815fc61471a442acf76e6a7b0500793bfb23fbfe763880da88e09cb700b139d77ae0e7625c4df8f9f0b6681eca34d175c9514c88dd5bd51619412d08300c8c72944b7ef3e318534761ce11b5f1705ac512fa18822126afdae8cd1750631359ab7adbf539562c63fd91112a6ba26646ec435c6935367bd9c5f75872ec314958845fd0776c0a6036be353ca1d71541be642ee613ed931e8bb14e4b19f466949c72415d092e0039c15e4f34b07ab8f02fe2355dcddef9791141d7a0ec15f0cfc1aac89e9ffc807902f7bef1905cbbff5bea733340b30145881d9163ba28863ea298eaa0bb3e5358974bb2553a104ea0cf2e01ea7fa85be456a87a00323357927515c04418f2a3a36310a401ca2f06d713bb36d075967eb15f8486da40984a563e3db2591b3523fd65230fdbeca86a303dbf815047bbe40dda6476b4607effb9c5896e5434fe1b26771636528d035ea1719804b0f4df41637aa75a24e1bee7c00c21637ec81ab44453e5a70877cf54b8ec9e037ade5baa1f060d6282aede6ecae28499d98f8049561af59df4194aead6c7d84f1a42237d608b616e96141935b82103adbcea5292dca9e1337ca7e7aee7b48f1b1cd73b60887fb871ab0506cc72351752557ec2f89082289202c74f98920f5b5f59f5bdc743e34c9370cbc5b10c662c41f34364310e9e89a9333ef1730df8d7d425386503cb59ebde628574a6ca9750a3ccbf61bff3bd6d5a1b095c4a7bfeaa8b9ffc1fd38535ce1c782f319d96dfe52423c94135a5bb0d2f4f0fd9856c9e1b23a53817465dcbbbc01987d6023fd6d7de2cc02e9155554730edafd944c070252e8e32bbb9cf0a9ec2bb9f568f95c6986f1a00a8e3850809ce8ebb8578746f5e2ee3cda27f1e62af4cd51c40d17fe4050bdb464ce7f37896fca492827a58d2005ddc1d398806a0fa68f0a7a7ece097d3ec39233c861fa7e557fd3bb01a4958bb22ac9c44525f047ad72eab680e565b656eda619dccc2e6977007c4b6016f8d91494172741676193c7c4d1c943251e28b452eddd63ece6dc54d1eb4dafad68cd3ce05e793232d9025ea53b97fe3ca8f9b57ea95e2540997051e727b21ce97f9c036280be0ac33bb935dbfd9bcb849d1b5595abea2a1aadc4c6f367254ae01903db4b9a720fc3477ab18a269ffc72d40daf4d4a0347923e1a421b876f8a0bb46e12f9b4c9bab30f9d2667e991fb38c74664e47273b88c162c40df15979a70afd1076980fde8245c","isRememberEnabled":true,"rememberDurationInDays":120,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
