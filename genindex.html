<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"00922f86b1dadaefcebcabd50bbae72591bbcd752b1b9eb2abedcd02d705dfffeecad47011b40a972f655148ceac88717877ec40c2a9bd53830613813803ebca861d34467a7e29cd22805bf807b5e1d34557e70dbeb919950b9d9e4bf97b22b0b506e736dc50e59cb3163e952b87fb673c502e9a12a7b9bb9b9bec2bf46cab9a047da855bd3371754541f61798cf69428413952f9ccfabc31c5395fd83e9a2d7b8096968748cf5a77dd357aeded07e9a730cc945f608c6c68580312ceff6b23a1a71bb397d2d0fe9532ab0f9784e59eaf47cb179876eef5901b74c1c2cad5b9f6dbe3d3df574c742187e6ea91814a46d496e9571daf543cfb6862676ac7096f27cb2a7e405734b1aa9a7f8ecc7f5b0a29e9a685391c27b9367d22038e4c02ae04b4ca05c0462efb2c94edf8168cdfa0cd641d9541b87d7eb532d578ad4bcef5976ce3962d9bdd58c1704f370abc9084b7bdd3dcd2067434f33b68a1989fd4b23d397883074a70f1e99f66450b0df194560be9d3288430a3c8f89eec5d47e5350480f34034dee8b2a7958db842646669b29dafec0b166b8fd10f823fc992cf28bad8b25c9f84b162641e8a12b72ffd694209d3c624daafe76629a9d5a7f6e196aee9d1f9c89ca0d1d70b81cc94e991553493b578718cec88e4bafa09621e7d8db844746aef171d8e063e3b17d0ec66a4d23fda6d62e68f4a460a0d422e49f85046d913ade68a1fefa73944b92222bd0b06fbdbb37a8479dc3174a73946bfa22be8bae1f3d7fce7e04c8012270293b6c38954703bb1ebe1158a52490ad4f85ba9e7fe50389233f056204c4c826781d173737ed30675981700cc006e0f726ffc5700aa330851357d326aad89b6dd7fba5ed63b56ef376d0df67c6e7038520c966851a30870266b098daf66b6dd3daeb7190429abd5459f3f237cf055143db4a328b83978933d16685139948e85f7fb824e63f83bc48a9e22a7c259681b07dd5f1933cf568c40fc7df4560c301a97a110cd78579bccdc3d3a2ec88c429a568e257770e0f38f8f853ec799df2c46a0aa33c2434e4e60c0f91ee7ecb0d3351a2d23a669c347066e53f3af051c10125c1b16423c0732e746697da6055dac603a12d47d4991e7c3e093e7370e70bb80b6856ef2e06e5705fe607679fdf7d4e3cf728bf566cf49c72f35d827f3b3e8e7cc1ec252c45c344eb2987faf65bb511335c9cca2a244f030d8320d314f182f0e45c2aa00c9811c35ca5c8bafdc41c73c61d4629801e97a91ba5d3f523146c507ab2441e1baad6a3cc90d8f6a159f4dc11f34837afbdaba2e9a3fdc3e09e304e5fb568bf25ad57a9a4d478f63c47d5bb09650edc9e43f92b3ec016c9157247d75e29eae22fc0db97731d7ceeb3ef8906a16c35ff07383efc203204c26196bebedea6bcbfd4297cca6cfa8cf25462ddc05ec862eeaea9779b15c5ee07527c7e87c4fb4e087ee55ca4f2ea07a48866d0816e9f5a85dccae9c9ea6067233c51d5cf9c26500fb492f644ea54f66aef1d909b70424689185f0acd9e22a31db9733939abaa4cda4c6e98c537e3f34c77507d1cdbabf45d922b39f9b7eaa07e583bd4f700e74880f3b2de2cb1f3aea0f522132cb38d3d8da1c489d735e3012179c55512ea64fd41578712e045647e649af88848a4b8d56c73c5556b5f24e8d45b06641a74a834cdff1194b2e49076b9b9d4bd885759b53855cd69034c06b08ee791f5cf442b3fa7946847c8d06288337faa09dcfadc5e336dab1fff74a1ccc254e1592387c08c55fe3fea52f0c2d335c36f7b554ca00c32e3b0c63a6d75172e28d4f8a819ab1b12bb178bd1d99539dd97d6554b1dfd3d36546dc05ffe00d590b07359bf9559d7c3faccd3fd1d608de26da0d9b348c4aefadc743e7bbd76b8e0e5eb2dad781e483ffe3fd731752959c2bf922199aa7e10ce617546598aba084fcd4da9eac9f04002e5857e7b5bc62bd10839831043810b2896addb47b8c4103c27d4a6536aefdddbd764c635aade298fd2b759a40613a06941ae67babdda2cda15257785a56c7d69377133697de542182a13398f2d8fce1c15d460fed649dd16cc1483676b72e986046a5803e7fdd7eb27b43d839f748c792e6729bdea90a5e8a737d1e149538ec328e17fbfb89dcf856abf12897a4b073bbe2bd47546388da4befb92155efbb90d6ff89807d50a2273e6e1c25167f79806fb3bb825e850e8f4f0e3afdd49476f8201e86b5a640021bd7557948a2653991d029c1075ee866ed656c2856116c2384e929ed05f342273066d0cbfee59c23f3290ed8cae7a6d653ad03910653550ab67f471b6d487a929c81726bc52e109e749a9e5c6dfb7c207387aa0fde917afe9cb03ae2a7773a9fbd7cd413cd2426fa0ebf492bdc89df8cfb783c111ea6b8dab8daf6672cf40ac3ab1ee3aaa232aebaebf6c8879e149c9e5de85e13baa823da54fd7ccc3c49e40f226df94591315dbea3094d26100d0973084f5e888077d617cb0ddf247809886a645bed704a2046bd5454fb6f8622e0c8d5689b783ad7c9f6cd1e8e5fbeb6ece348e31817aeb1df396fb3e2719e719acca408f6c03a007c920d6a9eff362b98dcae6728f4f3113a3f4c99935d9f25e651a2511c19ed88a8728de7f6829f62127abb0d025a792d1a2f761b4a1a5d9166b34e4755d501f15f6e243c69aa189b7e186307ff5a3a6b458fea1ca78045951cc6e31fb38a0089291aa86a85c4846a4823c0456ada90465edfae69f8786a4f66e83bb917a616722516e7c86a25854591a2d12d7239d8ad69f7a70affb7f6d7072264e94e64def9a4671f94e0e82414d94e835c298bf013ae81aab5acdb7e2ed6ff7effa62a55578edded7442865e919f8bbb20417a521667bf5ead9aece21c382d5b6a479940e0912ea7d8d940c03756b1e77ccee4096bb2c69166efba6ad54ba79c3d95d1ccd51ff0e4c15a3e443eaaf993c78bdd6f4f0e37e0ccc013d5b86f28a33eefd7e1b045e689c5e85c0694e861fd8edc52106975dd65e933d59c349af850c3fc2d9eead62e565969657dc38ae246491730a9d10abec9847f2740825e4c7c90f9b35a9f0dfd09198bbd809f37703355346763baeb355b891115877ae1ea1dc70075fa3a8517bad7afea55eb3a364e987863ea691718d3a0d20538207b2c99e7740623afef7a9b3a92747efd931b36788f87bcf93fa5bc09d3358c0577d1247d6978ad14e3fd85e141c2e307ac16ace692fbfb810a47ddac7910d1796807f456afd11f390180ec20436ebba8c0144ba43bcf6920edc00db88cc306c0d510613d17f57d0f1530728915715b568feac3846370cbc000963fd0c1fc9a34b464eb1732a06a720f3ac222e98720f37c12c58d696b5cc1499dc0a6286c76d1e8ff77cdc02a8a50e9e8d61ca0b288c1ce89e32f306474be24ca58e36cc8b4927b7bb9a831a2b616e8f7b32840ad8a6dfbfebeb4984f082d188af0cb11e0194badd5aed54062290ad87b8d30e6e3f407f1b47165393d46008d9a72408f850cc86b46773e13837483fea71f9dd28847a51ed2103b81d886525a9a14e585968d65a088eb3de75e32c3ba20a88337543d9d59965671bf45b58cc602e4f2938f04dc91d412601c0adc0c5e942fba3fec8d8a5d1bea0bbc2abe0c7b8c37562f75a5dca15274ba1ec5481c3ec964b02f68111ac09ab2f0413792b6caf564b0365414b58891f32cd2cc6fffe09760a968b27bd8de6d2d4e19ce76177ea06ffeb0b469b8305fca377aaaf0c7390e5adf6f2bc83808c6e9616923cc7c4d83757e4012f0823ab6b31cd4f58d6693f8c14603a6a804479fe9fed25b38f1475daec54fc3f223a08d6aad0ae83986ea7ba43fc4095ce5a26d519835db2f6a89f414729d826eda6bb2e63a3a92952c1c12a6f72e253b981211cc55e311685f5263ac263aba65de1ac68f00d1f470b65aba2598e55c448d6e05ae123b36cdffe6ee7e43e0c753593749ada1fdb9ab745a4f836d7f64fb90bf46ee9d1e39ae17b40de12393000bdc66980f35eb8048b8dec9a441082dad160d3972e561c7003b35fe8c3c9fb435998fdf635d546ec05fa55106b1c135576ba7b1d68401174521a0687cde0d271cb82d6b77dc622dce0241041a3d8c90e85b933ef7fbd8db3564a9610553157ba221a26704a48b3fbec25b6747cc1a7502ba6907ae947c2fd49a0135a36b7dca799e6217ac762f5931df6740193331a613f901ca9ad39094ba6d754a7bdb9ffa0db322df248c21a8b2076d4622aa5b5add5165cf91b711a9b3b7309d0de6507e47a8eb318ba8332032dfc831d5c2136a63457d135ff0b4d4dcc7c9a69927e96b395722b0749132ae86cf2ec53c0b29467b47663edaa0b3e5f6a6b96cc4b68368426b322240b5d209d71d659e8dee32762e6e920b2b25781e9955cd47e231799a08526ebdbc90d8f38431841c03c247c2fac50df9309280d38915afafd7ad72c4bbb0761028800f41572f3ffcd4b3d232f01d1a1a38429d3059915de17e2977e77323b08b233618a1a251ccf95c1101ee7159eb6702bb6b8e3f15dd9b64b367dbb9914c14f115820defa69b79c65d141d28ad01e4a140dfc0db3ae0fffc6e8d3196029dced8814034e8f83316b9bbf546ddcc1b04d9dbdd5b30613bb8a9fa24795c0d32ab6cc4684416c514f985dcbca25757f29b2308ef8546f965178f30bf0e161b4e507b9817974b7991cba14ed55d7f6e66d38a812301610bc10f151a3c0f846515c282171d6a950e772552598c714636feb25e3b80ea8c385a1fd349541ddc436fad1f4b98a4fe0c608c4b42611a09eb0507e20875123665b8383063229d25e075e37ba33dd6b5cec7325082337d268bebe03a851c6f06f036ffb43a7409fbccdfaa316eda59a3541ac4e2cbbb4d692a94e686faa72d2967d4c4e031837388755b7028493fe04e6851b826c326df3f7856025aa744c86f73f4355eead1e55c0147f2b520d59b8423cfb0aad14b19c421aa0c6279a255d79df0eb9d5d035adb5be832104b205524ecdaae0cd62a9319c1667a95eb4c9da65c45cbfea6b62b9b8318cdb8579413f93ef166321b3e625c7b07ff261fb43c10a8b3eee83fac5965c9896c01c332aae5c1e5d02990d38f8cab5f22d86fd2a89b571b88df26467fda4c5241264e1a97fc84700bfbeed62133209bbc40043296515ba3cd057f1a619237a6385cb4bceb8dd1473f635f08c48accb904dde101635ffb0d23cee515c746896e3b75807e0d3039dabcdd01440fd54015a8cfbda2143a9f233223d11c238d0354fecd19923fcace53adf657436e8930111c8bd83e5130258634e839ed87b825fc26ffb69d901685758c4cb458b4b3ea1b2d66f5b5063196539cce237af7222dd6dda465d5a49de3ffad848670ffc8602a30cdf51392b7ed984c261d888dbf9e8b3e0c46efb0776e0273ed76b871ec6deff59442fd67268ade4f2ccf28bcce64be8df019763b0c6eb55e7e586768a4bc266ccbf6805770dd48670ffd905e5c6bf7809b0f9d2d7f51ee50ef09fa01e3174828ba369d374fab288152df2353b70ec10a689b1b72921cad991b5e31cbcc959cfaf67d7e3e5483a246a8ee2446d1e7403532516864887ad5b02fbe7f62d1cff4c4c9a1a38dadd5906942196dd0d4d376b6a537d0ef8b3da26507d853b287355cc036e5de064d65d0a574b31c718e1af40bfa5fa04ca319517dd42a2753d52ecc6c7da23c46ffe65f2c59b65f4537b7d25d17d8268aabcc87888faf04f02541230205f2424bcbb2bced121437204b2dac2dea9ab29692e0c4b5f1d0b568447c60f780754deb6e9a91161d08b748c0ae620e8ea6e57c8603612f0e7319c607ed6af5fa2a8f5e9608dae3c9d2c812ce89ee64f7f38d483b3845bc74684c83d349e9b7a56c97b0caa6744c600ce3ecf57e42d887c209cd1593ec5faa03dc30d8e03292e2077e61d0b40b9119d232f277633d352080c544e66e395f19afa224b70910637a5ff24d33d6d6eac0f3d075f7dbefd1a32213a7976b81937cd703d4dc00a040414128ee9ba05f0a81d0b8876d70d003df6096395328f7c8658d06610bd01c90f52173c19106e6d627edbc484d8930d7f4795c7ec8bb8344ac5a0c29d105cd286f7a704b2d181d3947fd12b3133b6d6163f403480e3998dfd88cf89d2464cd32022eb3213a1ee1fce2c8487a468d57ec8173440425b5642028b3c5d9143aca0c68cfd0c4e3bced0574143906fdc2489e2fb3c0642681c519d0cdd9a9068578994cf7315dbd4d238f022a4da1bee0bb682fa9438fdca457c2cd74842fce647b5a97fd2eac654ea1e3c4b4ff321e423926888777ead024fd4a8bead169f941501c7d87b88ad32dfd634092054ced57ea7f2a17882634290e7fe3a2a081b25994102e8c9c328a8252e3cac5ef5885ac8f220e3ad6fff7b6ac6fce138c68d2ad577e4d86e8b5aab86916c9e535d39647a13f1a709f01c1e4897e79e82ae1a09c90346d640392e725a68c8ae42d4cf4ee76fb1a189b5b6acfd99c4080e62ed58634e8537228b27d69af56b0ecfd80323e96b9cbbd9ba3b1752cd3c2a629b35b1602080ae249b5c3bcbe2a852eaff369ab7ab2ba4a5166f52b0029c90dc4824748603f3ab7df07539815243ccde670072662ee102ca51cb0c577ca1247bc9e67424cd09eef2403148a00bff59a0c314865f058d4552909db9e74c1db5b1330fb587bdc0fc79b08b9da0e21b60d306edca26b3e80242021f5db409fa52aa98f27369e8d3d072294e7840c8ae5401487dc89a3bad44816336e57637774a140fb12c5984bf2c0e5ccef3525f9f17a461bd5c0564b2993057ec58b76afcff5e6167f779d87ada9f3b2c6d77240a6a691fd38ba25fcbae1378674dc65e8ad9daeb1e57726121522fd166bbf5ce08f22de0dc2fba8e97e92e7811fb79467d2a7de87c893eb0b1b00e6f284b8f63fb1c504ceab6874ff81367d2aec73e2e85bd7084e1756e0cf413100e2415dd08794b38cb272d44bbdefa3afc407512bde628fd678fb58cc8edde00d2182813e9a36f1c6f4b5de2716c561ce9cb9b25512d24cd89a62259c4828a16236e64a308a077c6e6e54e216480c294b2a46deac55c7bc4d9e758858e2ab4eb923da716e296a9a9373e3319c73a11e3ce620fb04a31cb4205c399561b59b5f300768256918ef698224cd71a0b09a64be7ba7d78d70c33ecf8f633c6d30abdf19ceeec8a914ed512a3eb788c10b809f0db86222b91e8e44c9518cdf8ae77c8601ef570239f41a0acb4ef0f1d0a0259510434f649b0520964b759902933d49969f394589e6da1f94f222eb3b7e992a8508f13d10d24a31a5aba9b67b56c05117f61bae12f19a9dea925f83d624a7ff1c7cfc6e70074420ae2395b04c950fdebde82e0210a1767c22c507bbb4ae1689a01f476142c5dd5a627f467f99baac69b5f29a8b3bb540f1198ce6f3f9fb2921d561e1c34bcf47a59d5891ac51d49c5e54c89aa2d2383631ed36fc041b4099f09a4ade9a7df96ba62ba381d434904d6b4f6f3da7a568071ee10f7d511951471842ba35c4c09aa3a5cfa71e16b31894fe9138feea72cd8ea1825b705dd05938f5f128f6a97f3c3bd925943e8fbab92f94dded0f1d6357d4cb87cc6d7022f25cd586bace370a01a8298061f4cb918dc84d49b1de4a93a5cfe09370d8abdcf8f6e2c466ad245edc58a1f7948dc17800ddb208f516c6ad56b1063d8df8515968549202117c43d96a0757c115d688f52e85127328f9073832d63c550d60abca2e0b5fa1d8d20194490f40cd5682c1c8bedd8d07393a23d1799b2390ce11a3e1af27495ad394c93ac2b6e6c07f6506f3cd8673228ac95c565b8e9fcd22be887302b267481d44eecf76f76ce7596bd65a28bd928ebbcd91b3346d837de0115bf5d0965033cbe74393faafd425b759e768863de09607522af996404d9d49bcbd8fb8ff8c87e36bcaaef4cbb0b9eeb214d35764214de876a1f1deff9466871ee9f5dd724de733d94e34e4c03000762bc8238e1ac2abe75bd0f989deb8fd9397941e4c93c5ca5f526ede3bf0a39b206060a67bd9d632dcded4b71d428561a8e8b46284a19468df0f290b73c27171116cc9f4d8abbaed578dfaf39189aeffe7c01a67fcf1838a61d6be6a0bc900030db416b523d76c0219880df03b27b3f380d4f4e606608ec27c04bb591d468f7829bb3def0913b7d1662868dd7726711a9f9379e5c1d39c5edd2e1f036c9a037e43dcb0554c4399c8bee4124435b09ae0f9040503d195e5d0fa02d3cc26b730eef43348a42dbf123b2e9b0a6bed8a7868c13baac3ab3d63f364e2b60c047d167dd0a101c0366f3689f5fd7c35efe39baad68207a78a42f31990ada7e90f33710c10c771dcfcbb2d8511c3d1ed7f7df754b5b04e76300932dec383b99a9551e4b0ee67b51c084c2cb162720467a5f15002c597f992e3b6bc595e0e7842771fc4443044fb453ef85488b9e3e2d89dbd265f247553fece9cdee2ef70668aede075859f961139e8aa44add741a72db9cc5581df6cb14addb015a0c8e7167e3e81ea4914a4dd36931e8a365734a6e55fa59528a510acafb9ec8435c187174494dbea4cede1333f4cc74fe0cdfb0f252eb3d3e87fc1cc22cd26274cc45a4faed1b8615a62575cfb28f1dc86b088508efcd1cd45d7937acb9a1839c7a9b3e01946d0e1c0562364f0f2683e5385af5cf76672dbcc11c5a4e0bf1d268b0812f4ee5f0ad3509e45c4b0c7f452331f69751915ff00f76b1ebc0c3f389b145c6c044e1978f96cb89f3264ea7d62e90bb7c1c41985b5dd7e0b3fe3dbe5e9a8d8d4d9cd5eea151f191636a3392549f42bfbdb76127266eb87ad3e45894383495bd24295b933bc76a44083cbed51423c097e813e0a4e6e859842168c1a34a77dc1b91a53c8c178501e808e2334dfd00b0562be26e5ce4aebf4b8988f56bf5601c55d9b4b98986efb9ed7ec8fc9e223671dc095efca59817bba18ae0e0ac6a178db11a837380367b6fc7538af0629710259dc29dc0b22c0cc34d2b2e3ed8876232ef7351dacd2281ea64319a6347c4fcb0acecd17815a30c0261de21c89dd5808b2f77e98bcb57eca5ed309960c28eea47f2a60e52a2a50f49594793b3a7efc0e05d5f2cc97bb85e053d3d113d676b45d7abfed87fa1ce2dbad57c69d3588da7c92266633dda9397cb01403f2196a88f03e2be742a35946b362a88388ab64de615cd4eadecf25296cee5740f3abc76b8b8b27564e43549cf9d6f1ff4323dff75bceb83aba9caa6ed87c557a46fefd14db63623bb9ddbd07b102fcf3081cf2661364dff1f453c8c42914c4404863a4dfafeed82bed37b220cd0ed44c08e5af408f0c54e1030fec3b38b957fd3ce884f9b5cd445050a55a2f97d2208bd5c9f3f5bd1ef49da95eefde71d0e1a7e67fad8d4c18fc3c83e71e542bb85fdfc045b8d9a61d8ccec97d73132862ec213671cc8b003d0dd54e3499074ca583c82e2fd665c0097dae67c81f4ba48e186937b71752497fd3e6e917bb4fa8d6367c9c74ff5724234926a90245ca8b9900bcf933edde337ec6dd603d4441f9d7ab2005b111102d6824fcfa2448ee2fc7b2301eb9837670836e5b9a5eb8fc393bb945bfd3a9d76749077d6c3ed98dd6b1be1a64b295168e96926194d8ef42ff273f712eaf8972012a51dd011d69f2a02beda193c5f9500e2ba56cbee42117ebd9238a981b225227f4d75c9afdde394579e278a483a27550388f994e0811c026f0dc5a2b142fbb500deda6900b680d7537066a9288c233315f236867f78f2889d30acddabb2052cb2e9d825dcea02f9e571d276de295d40dbdf1f5a9d08caf15c84953f01187e407e113a2e220812fdc75d0163ec225ffac20c9a87f5e7b07f96c33cfb2d80855bcc4312ae8c923166459d030178dcb8f83acab1b24b941884c6b8b4becc6d26503464618d1af0d570e80882d1bad2ffea99ede65820849c09f7e9cd8de4fa2bc57f01c35a57a26c459dd4a62d79d31d01de474220c5fca96b9aa819d1f900c65195e66141d5394c45e4db795236bc5930b2cde6f8cc796211a88f900e41507e70df34eae1690b67698d0149f3bdb49f5ef2f1cf3258a46c154176c3190d264b5ff7cc5ec46cf99cbc7f1767322c4023cdbcb002f889c0035842e1ebb1274b34569fe98cc0c012934fbdc5d1b5da75e12db2009dee43bb7733c3070880d9887371c1235f8a28fa8f2793b67ab8b1a486b4eb17046a3ca272b172fd670f99a2f462ca99f3c3fd5a9a9d027d055489a0514b2b299ac7ac82abbec1b599b1a5824bad9be5a3db63850d74bfa3e30872e05a0a0dd044bf75172ce44c97ccf272ff1140e95cec7f7bdfbc0ee443917a4c6bc739c75e4b9a5aaa2cebecea00fe897392384bb11462e0c9b98b63322fb896c3356b52adaf509eae0c63ce2d3340f84d9ff859cf3fe339ef6149e709f1bf30b766eefda64f98fbd955b349684c1d374dda081580226a7656956b158ca7e183e9a5261b91f77a45b09e3167967501b4500c5ffbad9904aacde74ef39322d8362e95ca07d62e6df0b257792a57463f0378523a8e19ae921bd327e7b71a4ada2df9083a99624409038a5318ebd37c85d6020e00c1b58d6cc44d007f2fefc0a0bdc5afa080e1a1e04158cdb6cce4637939f1459d4363ced65a2995adeadc2e703a1350bcdb941ff90d9c62eb426f2f26ca6155715254dd76690929d4b6b043c3621c7a557d69137e075eaab86ddbcf805bbc1a4558e64c4cbabe18815004a1e5b18af139d2ffc23ae788a9949fe921fa0670c536cdcc4b810c536a66b9e92e3d8173d30a2929e8f52ffb8e94572ea2a973b641981cea42edd161ae829ebe557185f35a60067307a761e225ef85bb9333c288f8285c943da124720000619c5c956a9171dc94cb54db59e0ce2517409ef281d622f88cc15c31639e740f81a2c7812de1ad96064cbd8770ace92b445ac9a9986add7fc4179da18f842c4e9f8c8939b7d7066b8e107749475772fc0a6b2a900593832e04b111daf125e76b2c0cc52d217fe4c0fee5c33b24b5ab18ae685d13e9a3a79b3f46bbb6f4804a9e0c350bca47ae13da55ac33a0a35149e634104773f1cb74967049c010b1e5f5ecaf629141b18da1963dbc9c973c3e88835bbf7cc1d7ac3cc4343f4503cb139f728c3e7cce42c68092d4a6f873c18a24da76ca772d6996c498a9328834ee805283896921e10e4e257824cffe1aa5fe585a1c8f7e166c90ac4648b508d5d56322af28dd8a3469f0f97500079d9a1ce0d2616087532840945b3c05502fab2548ee85d5a48bdef2d90e8cf8596b3510556bc32d3a80e37246a7a6e340027dd6f5f42debdd2a84a7ef2d8b420aaf0c4e6a207dbbda8fbdff45bfdaf080cb161acc081d0d2324faca0634807d0691a5ae10b4726808a5fecbabc5283e5c5dbe4b692c279242745a0be2dae372c62bdeb01ebec72ecdfd8c6368f30dbadf7d7838a48c3bccd9ad6c2041e2dc05e1569a6dbbfb6ae498b4a7f9e3bc0b6827535d430aa7f742e898add8513ccc1187e3e8e3887992923140223cd0fdbd6a28a6f48b5220b2f0685c095aecdfd854e575da69e976e59af366b07eb30a53cc48af5fea04a235795d92482622d09aa193b98735b5aa9bb304a830e57a7049142354fb2e32862e57f94e3ba0567a8d325b3f228c5676e227061c6b7f574d24d41ca64283583b2cf0fa0466550b5798770a049e250a961cc2cdef86b574b4a11a1d1aa8764358de16f468e885cb9e9fecbb921f4466e82081052ecd898cfaa44563745affa9f79495669771f0234314dc4cb634034017b3bc88788e1e2a07002ecf27291cbdfaf9769898b86192923f0f12850d5a602aa5e95102cf9310f79766d99b95899973e3a24d176d33b2298b4a1d86a6dfc3d0e55f8b164577d26957cd4e779c5a34e95604b793724d8fc22a1ab0b1bc2eb346d1b3b03c345d8939ba953cfcd323b1821aaaaf3a30101a31e621c8538f0b45a2907d38ae797bc2e23cc5bf027fb244cf4e96bc67bd35742d271139fd0a3676f78d4015a8bf0f6967ee981f25d9d9a2ea33aa06e8bbb13ec6cc4282db3a2fc80addcee8d9183ad2b1274d290f07c48aebfaf8ca014ded50ae6527b80262df4cce9aab2deb55dae5653ea9b257b7a3511c5b25d28cceb61fae96d35310084d1eaf8cb848103dd72cbab21eeed16ff382b74ed807ab0e87e67a0a8795c794cf8249f6ac0cde940cf2a5bf91532d03373893b752bd079c859ac393a502a47acf76e9ffe8dd30cebce12017c8c6be0f2d4e0fc92f977ce90699f3f53a791ad6154a7f7ad5b4879d4d26a87fb316da445a22c205c93226b34211ea88dead6a870f1a64f0181a93f6fc2f8fdc3fdcbd537af97774bc31365c47e9331b219bafc61b7300556c146b4c994d51ee83f7872da89f54da9e3816daf1fcd5d5170aee11b766b63dbcb36fd63cb475688ef07d11884a11923a1dc63aba309994aa57b28b14634be6cdc11bfab8a13a4061fe7c86a8cefbe3cc6299ffccb35d16b2fccb0d5a781610b0befde307a7444e65db08d0070bac0831b7fe659a5411f1a3c9f0d2054408c5a129ff030b11f79c73d25da626f27244fbae97b1b5f7e8846bc2a16aaf129e28fd9a256c0011aa28b5d3ba492464a2c6ddade06be8e8aa0a32831ce27e1328559d2ee849ff148e5745fae499fe77edf2c2554ae56e77c1546e70630120821cbc8565b520fc19ccfba91b206f1ec296800a112f10c597692257766eb22be79041708d83e75c69fbcbd7e4ab873354950f9c967a013ad158d6cc64e6797dfdde08f9e786a99420a4d077edb907aa3f08867aeec20c634c234f0b110a7f66bc07294b9938f5aa242278f37a8996c2a02541b130bc37a3d68fe977b7b9aed2f3fb5cf465a8956824a1b193315ee4b549be7ac61eab1a1641f41a9859e599dd53cffe2ff90c1c215d667a67b7ff2dac7828b9b5ed966d2bdc68b329d2c0a3d5914bdb33d458e2b2c8aa72518c23b613d9e681672f3d2ba55ac8f24dd0d79b1128d2529b7727dfa1fd957db2bb9d4b80330420dbc80df29ec3639f3a735faa85dca52d08cf04c605581a182536d2c84276c8908533495f5d53acbf4a742cc8fc3836bfc79a4318e859d034dbd7bc5cf6f9c56fa11bc923d381a0fe6b3968014bfe3f6cffb849fb4dc54f9ed6f2fae0cb7835eb2b7eadd869ce836d5f9f4fd8bde23733e988c63089501b48c02692f54730c7dd9a3dd287eee8d0816fc7fa5740b4007d24ba2162fee6d1a46d9bad369c7be6cf8e81e9b810a5069eb5678bd79e410f4a2b158d03d5b71e386ffd6b542daa83b9bb81d94b20003021421a3160fbc77a1036d9cec9730a22f254291ddc1826f4e4fadb1466b0b5b60840f2115cd9c1ad1f946c20458b1e7e2c7c8ac4a167f628e7b8ed856a65b871ce00a11067c6011770373f97b8b2c8eb400477af743f4935cb75523e792cfa13e3869adf97fa62db498b8872f266ff2363bb8d641c18e72e6f3d960630f44f6119509d6de30a215eb12e4c06503ce5a07fe1c944dc7658fb59bf3034fcdc4d55e2cacb70a9e3249824cefa547e1cfbfc5fb0de7a72c7f9a4c4b9a5726f18787844bcb759c6bb9ed0501f7e15d319a90432eff283878571d36e407781238baf110aa804abf4f73d89ee4ae8985769e1cec008159deb2c946810c847be7a4bf4095469a8c600a09bc2a82ace8b0c7a964d9150a047359a126f6546ee18b0e037e2d946e7cb2200d4612e5cf59979d3085e328a9cf81b96292e03dabec9a09d6cb5aca5d9523d4386c0253e82be3fe066758fc0cb16e39f162086a6ce43e942a135ea920fdb9abf695ada113cc875dc47ed9fedb75a7c51be1da30510b33df33c732c5fc47069ad2c00bb52b1866b230ddb956c66e8487489d7023ba3e0695620ce88511fc26669cb8f81ef44c0007143021f07c68842f28743803a6666494e5cfc333045c4eb854740081e94de7a5eb6917f679809e5ed295a726a263eee3011dbf62d1681a6b4cc9a5c2a21d836ca996ef2b064c603f1acf5444f4e854f62cdb0f0220ac6c677577e38ba8e530dd7a6d564ff16068aff0f8dc7bd227fcaad771c65642a453f39b1ad99fca78101c9e7615b2e1a076e01f37bf6372f76df1095f179a2bb74820c2d14cca94b9a2d5819e3119da9dbe1de0c2a0a4582c62fbd0c93926885c17ada561a292baed179106622759a96e5158ff6513b2a615edc9c053b5679e96959971aa96492fd6c950924195e9543d617bcba10bc97c18542faa51d02fd6884235a980aa360138798d7eb663d06c9192a5c28b8b2629940fa64fc584967469ec9cdb49f7259a34e38be7bdf8f31ec191f11dc9eec3c4d732bfc95595073ed7ddfa757c75fcf5e3de347520096df80b5f7f3e108a5ba1787fa0d2716948636d9540eaf050f716beb5bb23038ee39584bb995f6fa1d2e4671a6249ecf10f88c5fcefbf9c8fb8c86fe23f7e4ba5e90dfcb906296cd3425df7b6efa33c1a7d48e904ba37c662f4f9307c43bf45a8455fa863d5229e5e68cd09aa19e00977b490545d7217edad101c52cd74f6d6cad8617af9871f178de1d849c2cb9e9cab8ef0c043bebe4d1e9fad9bc131b81bc2c733fb327c68957bc3f0f954a7b617fd2ee454353f54ea3073a75895c5a18038d4107c85e20c6c38b9bcf4cc0eec17da23ec4f164173bb6a0ca96e523faee94bd707475475fe519913d54050a4a9cbd3e59dbd4df5c24535d01006121ebf134db7b8b42f96105c309166e34e89729f3f6012c5b6fe4835bf9b1fd3757aade4aa5943bed49db506c9a584569fbce6fb521537a5c5b10b53326503fc89cc984feb8a0fe3ebb7ebd70da7083bf6faa061744501abfbca75b7272a6bf7f76a465d6275ecaa2c28cfecc149cccd36917fbddefdc6c72dfab36564a5aaa264ba10d5e920a7b102fe1c981ed941e259b7ef0fabeb8feb06fed5f6c728f6a2b17df6d7d7f461a8678639517692f369edfa03caffbb89c9069422c5ca6f3a3a96d99f1838a31815325f38528946a3047e53b9d00929475b4127f41ab9cbbfe3aca41c0a3b16599bf1ceb0f6df2b717847713a1a657a49fffd73c0e578a32ce7a77388ac3dbf18320defc8b25a6ccd73705ef902567f7717cbe77788de31e292fd4ec796e80e419b7ed0739e7704635a145b7096775a9c7ad140f7b30421fc933018e16d73776d85115e10666a79edb4db0c68812a8b6f4cce1f49b823bed3a6362d16fa2774a868fafe3f20902b3f38b3e2550ff0ef38032255d78ce9fd9c92b04a079e04be4b62d8955d1f5d4568c70061cf2349853068c9f5dd95d75783bced87eacea948bde3e4f386dabee731853daa398f4295f98bbd0edf5b3abc28c5628a4c5a8586f383ef87ab09a5b2695aea0af046b0e3a782cc1959c316a3bee6ed5fb6b9be5ead4910f6f9cf0e7cde0bd37586da8a8be2317491d19286186bda0e9b27a75c621e96156f5982e0561194eb8d2b0a73922d1b7c6c3139b877c0536536338b9bac35b9a0bb1c94e0da872e6c37fb58427bb3bcee3c1a96cfea7c9480a31fb524a53e1e6348bb4f2a00c857b78eef83e59326444caa726f82e07666554c9e08b33d17a829380ceaebdd27396f30b353df8b77eee1e6e0bcaaa21452f1e0db50975d2123dbe8a79b3e28fae82b4a6527a3842e4b44ebf35ef42e967e4026a54600229c67bdb727eb4cdfab597b2c2683979969d219c5e4752b879c58a4d9375126d30d156ac848b8c4b04fdc67a98718a6d417b8f142c3be3283f13bb38b7914d55e8deafcd74c1656149988e23342d06f1dc6f94082fc63226662764a2f2e1d4df822f6a99eff04c3a7057d0301743f71ed99797b988932156acacabc206bec3664a97c70fd612c950366523ac9139321cf35e8f963afc66724b347f08cfdb8f1c974c9261195dd58b835a222f45a6b0d38458c73d5ee96da5d6348a95efd0d9e4195f69786f098f6aa04a2869c0bc4b358ac81aa0c206d5f1b20e154aaf69bbfd5e54ad220e86614c7ce7372e5d5ea429ccb16b19a620eb303bb907cad3a3a77732db55216ed4b8c2b304356c5f9c29ab6da9598cc50c9801feb42d8402d48d9a5c6354009312e9a1c8f062fce675533bdb85ede56031c03f2e379213f6f5eca32cc49348e183a5cb95036f378da496a38838a01cee0240ee883fdf625194a0ae2635fdecb16dc842300b8cf44cb69de4df95a120da57af7253630f2ff3aada14ac3109dbb4e87d18178e6274c1321d614afe24cbe207f6e61387205fe4584d0a26e548e50e89e99e907be85bafa676045d1550eee9bdbaa16d09c4ca12103b9b0a371fe0492a77075a75096b8a6c19acd03a87c8de2f2d6040267ab4f14fe8d9dc0d5125f8c19c875e52e0db21853e467f25843943725c08dbc3308230fbc5f31d2358ce65fae1bbbbc01ab6d4006832913d83de7fb3e48b99fe873319b4ffa82502002a42b1efb37ba980f1cd80882fef891a4633119d4f9fd1d127f72cf38e46ab56b01fbee5d2c5ad6b275f3503b41451de315269e570bc11c582135ff42e8af1befc2c0fc05ccf690305bc42bbc40a4b00c5c53e63f4bba8a48170f31549af546e9a0632cea5ae253f200a6d3ac056e5fa43784267b425f6172185b7d963ad81db8d9a9f277504a9b6fd780dfd7a885876adadc6b1698d2fc7e7ac9cf2d2f2082f3df395d2d7b642a33154ae715ea3b470e6fe29b2979b411987cb14be43facc9745d0efa69dcdf6b500a3752169a662cdce14bafbd6f37de9d293989f730fd04eea86a8ec8993aa34f9463956e1780afc22650c8042743242f787fdd95875d4fb2acd32025c5c11da59bcc960330116ceae0d915fa56781a513202a12e15120eb2ff5b33f70d2c75f4960fdd8de0586d9405d9cf7fc9357a612cb36d5eaf452f07e4efb741fb7e50d1f76fda1697ab6edc5e6301b88fff6cfe65610ba08cfb6804db68a432f4ac09bf3b7465fb9488a7fd9969d184b7d4e6bf596b101c93a03dbea1df25e5918a33ecd0b64e43d07632db04889e8871d39d35229ee4e4d1b71bee8bda25034e4b7633d5a2c274f4965fea9fb73630d3ce57eb6290da0e598c389cd77ccc509fa34592915373fac01f6fce0ef178d9edc7a124db4ad39eca960f757943d52c6ebfb52d9a5489ce9307c3da861538282befa7ce7fd8f3795092c853d8e0bdd299902020b8cd69ecf4844c09c24c1696021f4043ff70bb662db2f94ccdab2026d2aa078d810236f02d934023dbf25f0028d90835b616f7964b1ffb1326427d010fc42e095455c0567a9e6f7c8fa012c609dce23f22e7821cbf9957536a51454ca85f06bc7ab7b6ee1072697785de2b4b4b73d103e6cde5186c6571f9c6fb3b20e3d56994062f7c144a37d745027652b57ee492e70c359d2cbe6e825f39698bd8d4a6026dac74a56df21d029b6b7619d5a6e3d8de63ecbb1a7755fa40a4afe63d7d9820d859da8371a95730e8fe3b88e12b587ee59f91f96dbf21392abe65ed6b09b6f103b7e5405698de2474ad5955cfa74953cbf0950e457886b02347af757397deb4cb6452907386586783de8d2cb9850e8498c9e8da8a7bbfdf5b65b244401f0516ee0957d1dc506412c9f7345efd3e6a21f8c7d718a443956898c8bb171907cdaef637de85a455e86609d349ff059285c995c100d48d6401cba9b0e0765c072098090842c50aa5625bf8df9bf7fb26875b9095616a227b25b9714c5308ef12a1d5399e3f85a515c6925aed6d950b79c520b4b002cfcd7d3d77368710d256c011a9446a06db7be3fdc3044e0c1102129b419b3045b25a8717b423a1747d7ebe5557faa564105230e9883f7f7bc6fb72b4550ba7acb960d785c1d50f6db821aeb1b314db1de39530e58c78b84494fcc6ba68af88bd4b964d46ccca0cad6ce7099d6734961627d595adfd8562ddd544d644e7d60f31060e892e112e656430dc01d42878264732d2ca70f798a3e30bf73be2f634ae8b7a0cb564c31292dad667a160551e9d176a861fc5ba8b2de3d8b1a318fa9f12b78fe091fc4f79533a920e5f5163fe012f0f88fa9e8f42b4f08c2455c03ad0f76dd13eaaba3053b41b50146fdf0dacfb7f9064bb06a33850d3286c2a31c9e60406db14c9fbc08b9a3c2a5aeab0025d46bdcba6730860e4764517737b46e7fea3bf2cfecdb8ec89e781fcf814209d38de32260f40a19f9a2bc2b8c4fc049d964ca7ba366b2cfd6c5f590d3983eb49b59313aae7a7cce80a203e0bede8405ee3e00ef03f9c6e47d6a02cc965024d37db8f8947017d18fdf468edd4d3bfed6d6db3db11e7bddac2d2eb9791361c57bdd1d72c321b36b4f13e187207bea660ae10acc7d273f77b474c3817e0700fa4f17c87c33a44151c0bddeff374690b544d806cbac6346a70eb128c19d799aae22ce6847802bfedeae6e8518e97e57f7dba2401ed378692525261540de26d256554de5fd73fea33f59e87ffe97af1f299339ec644f52aeb2ba5da3cbd9f067ae34a82355d0d6dd632eccee38fdc3d8c33e4bbdd53dfae94f14efb3e697b408ea29c08b5f1ba40c255e8775c3b46ef10a4b5015efc5099ef2774f51d076796d75ff0ea719571488686eeb999aec969ae0fd124ae4d9b6277800492d6fffbdc9c34ab30ecf9a3d8b9b582b1d65b2a2fd332f7913c6afbaa2edd1f8ecfa19ac02deaed2d262ed6f3221879d0a78081615a92b79d2279e636d42cfaf659bade6368544aa8fba9e230ab3c470e7d52db87d3ca251083d011dffababf60bb897da6d4a8d0e9647f2ec71ca3b04608ba4ce04bde6daa570a5a59511c67db6bbbd6881093af9b5a0da77a886874e76b6dc1415288c5dfa712cf003cbe027df6ff1a725a7b4c52338490eeb251eb48b20126d073ea984067526b10209e3f1409fc74603badc5ba2e0367582d5ab422afa6259661b39887403cc0f24f3100eca3f9c6224709b9acd65e707590d7331f645a9bc754514ae6a0b2fd90b7cd47f1a82321e3af80ef180de55853de650e4d604068bc00c26ab4d01969418f42ff903927b1c564003d1202d639006cfbe973bda0a058c7070b2671922a60ca6d23fd006c461db8d502a1cd92a92da692b829150884cb5c2a29f5c2abc3443e21a8f5623b35265a6544f45c00f1faf12f1bc6e8c13005e315ea1ffeb3c7b8f25fa03871819cee5ab2233207908b73a4caf0b35447275d4eb2b38cbd0a7cc1541ad0ad6fabaac7f18685d64706af76d6b88f30a29e2a1313040ab2e61e52857c0d9b408874c23ca5c966ac6a056c1dd928975dd1713fe4099f31f5ac23820f65fa6c9178db58d68f316a417db6ff43c761ba43850204931a109c36c5e1ec3a655041ec1e9c0c82c0cf1287a615714df4cbc128eb427a2220c6d007b2a82dfdfa7014671d0e482a5f68af990851f33164a76cf00ba2c3354178a605e5f9abe3f866970da2a32f48240","isRememberEnabled":true,"rememberDurationInDays":120,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
