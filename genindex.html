<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"b720831e16432b77fc6e32abd4a0591b380943e30bbba7981567bb4865e1680fd9f2cc6fa1a8b30abe98c3f2d376e34cb83d51729a485fbcc74a78c71976ee2ac8d6280509971e633ba5442817bb14364db480be58848e41382f062db50ac19d1150dfd1a85a42b035df95651e3aa84684c546d4a5b1fd1392f6fcb0e496795784c42460edfa38b4e42957db1c5db556e986096e2c915ac00f8cab34fffa5a228ad3abde2ff7c80ec5541806c3a408917f12743363b7b64f1f80c71df74643005e9683d122308bdea8043a2d88fc95539d8d1091f73c7e8abd37463d9d04e4bb3ecfb296ce1ff9eb5734bb574e6f6358bc71f793c306973e5711fa5787377716e5d5ee7c0f69b3865f26766857647ecb403f8c9fa07ded34e1ef36054e8fa0dfa74839eb2ed5d0ace2f06634b915b355e30499ea9623da624baa5c7f6e49ef9cdc3af60767a78b13bc98b6cf47cdd318a9ca0565b8b24dd6492c4671ed31acc40e2372431f5e74fbe0d3558417f151ce7ce1203c1c18d0a03c9bb52547cc69b609a67d6e0320812035343df98c833e20cbaa8028129244bcfe3034915197d907c5bc60a41d57e529f61900c0b66706998818b464eb22b5df23b04d83c9da6859c36a684b56fbc28ab567bbe010ffb7744e6ac2735a380d542047511e34502fea296389f398f32101a66b12c7c06b90553d1da05142241edb10f26171764b2b6b2f9ae07195e3ca5449284b1ca22fad28ee8179cae3ee458b28ad7f9e3a585701efdccd2738bb3301efb45aebd0f76fbbe88ede56b25138c509470bb4d3c6f835d80cbed8f3a49392ef93b0c8fb7c664e668622b8a76d4f9cc6039cb1b9a83601cdc06e409ace43f11137decf4c808ea1d0b031c6f0ab8357a88cc80640976c7ff00387283ec4dc7800822bfbeca05c9dc676f15a7faba2dfa78d976692a75e932af26122244df2febe83155c9a20e6c070e325061dd76ce5993498bef89abde5cd8dca5b51b1a2602e3edf5fd37c60c977d68566cc73661ca6b90ab35e79b7ce63bb541a186b399559cdb143bc45673c29e0aacee9b35ddfb02d962f48cdd54485940905dcb086f69106468af6c07a5b0125b0d2ebb5ab140a72cefd08b2c82a9f8bc2c9f42acb4db81c5cfe5867d40a73dc25309355ca9ec204fea7c22d7dea3c883a6181847bfee02fd540b4348303f9cbbbe556b2c8de8d4b16237c39cc6e4cd1643dec6879045fb0f324fe9aea1706c8d3ceb705a843a8802d4309cf6c627f211ad911d9042e9f2fceae248781e29fe0bfe0c87108d980333262f433ee08695fcdaf41c265ec9ff260fdc640bf54845ecf251d68a8508276bb056b5ec9f5cfa78d4cd941466b211ae53f4251498b5aa22317f28f4ca110d7e57bb617a87a8b97365128c9e106646e6179f6baecb52d37bf105e572d5dbf3ed89641a62736f91d1d4905ea26848bca635fddc0c00c757cbca32a33e2f215b179a8183246e53d114b06a9df4936420e0eaee002914bd72c8200035d0fb72a5657dca7e49bdded455e10f738352fa00fc48d9958242e68788e2c78db98606b85389d8913ed51b6c3e7adaa12928d28c8f13d4a6e28333770b8de4aa1e768c34433a0969d368b651b2bad2cf3d71fef3fa047fefc8085fd2d1ccb137c6e794788088c0c593c900a7646c9c478e08e9607eeadb1f69d9e35fedff95e169edfadd11edd3508446ad579fbc4bc8ab70db6b2d65c960b76924ed0b76bfc97104223a0f44cd0b296b1df37dcee5fe4da0224d240532e3365167a0e9ce25c32a97cd93f159d39fe5e6888fc0f5a420b8028b371b172ddffbd8ae3e62f193e3274818097f26f11b3036b935c6ea60c609a2759ef5d4cfd4f509b67806e64e7523362b35a8d98edd22a570adb426b6748ae3c12f8d99f6d465310735a4891c58d21313531fd571cd403360fc38c6d96dcf49a45de67750b9e4fcd1cc25ce514c1a38f7a2728abbedde11dc075b65f9512c54a85106e9777eff6bd7495337c9ed065d13a163ee35ce9cdd889f2b0b82bf59c981edbbe5fddd437f8a95d47558c59f27e542207822e5415979f35e5077fdce50c4941da37394ff45161891523d658f34061b90e41c3501ddf748ced7ad353b1ab92a8b88ffeb1499eeb9520efeb03add7f66d07f11fb441f9ebcaa51b193745b05615a53fe61ed24f984cb3cb2dafcfcce0d95fc08ec417505167aa24efd6523332d6462b1c50064fb8b3a730203dabc42474ef4ab655b1073be677fab1919e1b250bbcc5bd901d681cec758f204c4b4e703784ebce2a03aaf14bb51f6a2ad122da4145180cce9de50067e68951feb66e27f9bf09be415f306d0af5079b135bdfecc5c69019946d508f588ec426a7e9226e4bf886f5a2220a68948947bd116736e8a9ea4638b87a71ee574bace963d14816c07d0f855efb86e79b216f1e338fd830db4418e8a17ac3c63a6dcda088c37e23c20e8a8233eb04b8dbcddaca8bb6e3d6c9298551cdff8e8bb6ac2b3d0dbdb8a5ab306078a33037652f1540942ae333416b832e3c8f69cf04beaffeb8a525f44a7b8b5c11cc82461fb50a7920bb9ff71a308a4d792e030cd3afa4e8ff62a9765fa9a5190b0ccfbdfbfd68c9c87fc7925674019a4e80bb7a21ad154bfd2379e3299aecf18d2ef65e8ae8c30ad98e15687cb032b85f6379ad3d39c011a5a5f5d5df7f54231037ba9aae88b20acb344f02c6b97175e12d8da3ae3b60daf2cf9d12413e9cebc689978ef3c3fd4e20d2747de7c599aa30d8fdb407bc1ba411319f3735ab0f1077186cd78cc316fe1fadf246e947a23ba73d3c831cdcfd266c9e01357d1296c9ed5d6b4f39150bab81d261dfcfe1e0ec388c12e70476ca0c0272ce374b7687448458e872b2684bff31f1c1a83bb6195194a518541942c10ea1cb5a2bb5113808f786cc1a7fa22bab356ca160fdb6a510b8026364bb42785b19613184631bf4f659ee7187a09975724dd297d9f5f6afe3ff695019ca7715f3d0f7edcf702bd4afadaf2593807b202429d83df44a4e0a7eed56cf31b1fce76ec08601c7616974ba2d8380ba9660ef7324f6b8290e566dec2c9136499348d4a9d503e6a8e84657dc1e70430fdd4fa444b05ee051d8ac276206f2a7d730a594a9071d9861545d9394dd7d3fbe7c4546b6c94c3f93d07f2ea6d0e165e0d7ee57c220bf2789a1bef9b468e6cdbb50bb97ef9300ee8b4719b6963bafe4ad450a3b54fa45969f448d4fe0735927e9dbf646a979efb5cdec19a256a03942602418b48a9f73d2ba7156099552e9e8d05e23e0319b6a410adc1e3cbc648db19226394abef8bc955dac3343c4c01e777d33493b25567980aa5cacd1136246ca0d0419fc49215c3f160b705f435afb8e13eb74b536895b7428b6799a6828f35f188bf9f85f8d6cb86537e3ee57f76c6f2f626796152ede064216592f7d04e2e2d93ba9b2e05faa2373478294d3b4a687d7e40a47fce6bc0d26d38724cf327dbd9f67f7aaa58d6da037f7bc40878a6241ec60bd5069bfbd3a774558804c5628bfa0bcd52107c4583230a70f6a7692d5e966f75d341f7ab343e733406480668e4dc58c7a4b7593c28779c369577f6a896f048c771e0d0cf609ee8ccb834b54887b47f8b2a0193407c02be6d6b1104804158305679359cc53e0c5558948ad7cfab62329a2231d3fd0c6c4bffd919cc4344ce288cc8c4cf1c142430fd9eb8b83b8600fb44ed95c0032894757b63ed32a2f11a09b1194615dde1836af3c570010e4c9e3327eeef2ee1661f259b80fc7ce204e5a9a244580b166adbcc3ce64ea9ef0753dd5f55bfd7c8dd0335846933a6e3f06727a7a5a2210762ea04e2063b3309216824cf8ab291b65662a67a0b447da33058dcf5e077ac8656a0378a748697e2892eb8e703d30ca8991d7eae392ce9b6af6d94fdac86ac182cf4532ec24dde337141fba202fc81308eac425cf16dc7d0461693dff09486ad6b8f3d27b216e21596666cb2d747dc38a14469e1aeb671c27f06e2d15dd7a39923dcfcb2d0fe8c924bbbb25cab2baae88c29ef26519735aa8e26a417549bde8a0e3d2deb41c294095b65cfd5d178950521f2fedcad7d333359fbd3973a59fb4ed8cce785f46b93f6cefa7d8e41ec44621b5daff804ebeb0258d049ee2f2af467874bdb2f1c305c6f88da71c70267e306efe5875ffaa3c7ae0d7ea327b1918deef52fc76646a4176426fa421870b8005b26b6fc5679faa2591a6ec2a94140621b10e6c358757e540d3f2d4fb2e39699a920c6d00806614e4b2570f75f223ac9a145136da955390f5720f40e38ed0b34ce868b3c6b05e61ab661ef792527c17b294620f3f10e978e4e1dff56b9fea66650c5db42f7715338f37b7a9e923f3f8aa3761cb07dbed760e54190966a14d469a12e989ea36d9fb7740f0d63f512887a63f6ebad78609573c9e1ac0b3e561baf3cb08766dd20d304b1b2c474de87e253ba8546647ba09658d236fe76566f74bcabed06285c6a7149d68f9b5f97edf8c00d7b68c08d425b807412c872f828c3f1f15be9637b42fb5eab141c2cf284e76940b7f7eaaadd3ac3856ab7d2e8d8a885a6ab6836986514d086939e07b74c295cfd4cdd159cc3335cf0a8bdced6489bba97babb0d7d5c06f515d71c7b145421c42b85864bf7f2cf2301f5d6ce00a757fb3c0e4c5978b853970bc300613d508925a70ace8c824f3148dfb31a5c28956f2ff5765faba3bae022925f94d5a065da5a509881f0cc84861a25c13ade9491863b92f5f392371d0f725889bdedf7b23a06507384ddc74591fd346c68fe160268f828b0831580336c932bb4b43c47e140eaae5f5bc4ed0b636f40a1b7b9a8090570880eba14713829f9edac3f9a3c13903938265464b93dfa2ce54c9b0e2ac440677efc00480ce4de90b9de9db4a00f55b4ab5e1a08585db691235feb580480faeba94e706e919b18d0ba3ffa9b1dd688b06d9ecbd463b04ab4a218024c11d34a9995a8a80c351862dffd2bbe983bd291b47825ee2c58f0c5effa8be96be740ee3426240919c64acac9edb6ec6be192ed6294d1a1f244542e22650e9f2ec3eba2b6edb9f9a5e9669be8e500eaf7091b5a384a60f108b0174054ae263aa9c0fdd82de089e423edb52bb62f9db0fdf70410dbcabdf14b4fedb522a437c3d5d9b8523abc964027a63cd06d9c5018e3bf43b22cd8617d8b2097ccfdf802ebe2b24a130424ffd4578fffeb901ffbc319613bcebf5dcba061198552f2c9279f0f8e3c7f58bb07a99cbcd1ec9fc0b65afbae08fbd13d8ec80bd4ba658d110be09442fce493a57d248dd8f63ca26d8c65e75350221c13f60ac39e873b234f77dc80d9e6c138a42404925865d46f94f9da852b34e99a3a6ebb9daab14419435e11f4a27bee38f70be557886fe52f48213cc0989fe4675aeebb81665b2c9e5997c1c43e79aede4b5c3639ed4d151c3649219b66eb452aa662e7669e0c221f78c4f950663feb890f4fd92f42c56cad47c886ee0bc3c16932bda6e64fb55bee0ea30be1709aee095f2a8297c8a3b60b11849ecfff4dcd7897d4b8c5e22e580e6ac0603c85ea3c46d6fc3c15c5c8c23549d70872945e1b007981cc5bdce5e0bbc77587843dbe1f52527f23015e949ad23c159d53164af7f3fc67b5f3aad413748ec93fd8886c99af0ca2299d14677ad47f39ef7f2e44638af35b157e1c614f7ff15521d4d7fd0399a2b9cee61c6ac18a71371c65288c4c4f4e236a0aaf276e76a55cb44eee32a835caafefea9f38c0513ae6a472742e5a393fe59560c6e873defb727f962be282b4cf664385eee8a9d1e15782cc427d7c2cb5845e32d2f992a7b8d7a36dc53cc5d6fce2af4080a71931aa0a6b36502107a33aa95bebd5a2026b250d99dab42c50e335e1d0984a7e7f4ab65c691857888c493a299ab6aff6e9234f56471930d53ba5eb9ea459d63ea9fce1f775c7b6db48e6034c308ce4ff4914b3bf76bec6e04af96d5aff2782cb5653c9ffc185b570b9e3b5ffc76ce12b44b2d47cf419a0e21cc00fa3103ed98ad3c01e6d340f96094ca7dd67106b7ea2104d74c148ff70f0646e74e2b1d691c5440320bdc589b6dc0fe8215266cf273f8ad4dde3d783234f3c829372a8cafda692fe5718fb4cfac50877a4fdc8e10557ee5294fdfe5e5048032f142ee320c337293aa1f2c70a746ac70c3cec32c6cf3aea886ecb319b09cfbd204de1abcdd615c0b77c5135c64651a034716218fa2e814307fab62f4a810dc16caf65c38f8f95c02b4b6be70e3daa050feecfdd93a8e85dd8d8727f6f1004b93bc516b3a0a77ae47ec1f293901aaf4233f5d712af8d2947f440cd4af857356d0910625323f22a50706877daf0596d60005ed308d517beb9abf90957f8d88379ac09f794427175c33ab938c117aef233a3fe325714873ed73dbf6585d1ceae77dd64df691248db573b4c0fb5e6b577255c91070de4e12707aee5ee2fc4bb2ca6ce5baf9d1012558e8f594c32e70d1ed873fa7902b815bc4f8016b6b9db7b5c069b43a396755f76168aa3a9634385caf5fdee393d1b60da7fc2df5112c5499d2eca4afc50e0c07bb439c444fd0b777b4ebcfb4771968aea2d39016a1f3596500f3150698df6240618edbc176f9b115014e1bf41ac19d6693fc9d1579f221bdf4ef13d647fc81753b18c514cfe425d3da7ec2b8dc0e9681bc85a574ab862e1f351c274c7144e00bbb1bd609da1a02ae5287c88255046410d17746e4df31ff809e0423a4c3355115d6c70f5f00ad7098332cbedb05643267a021970acf43fb862fb4cd81bf3d8023ec332d3d561c452cd1af2da5ab87c8ebef171cebfe99ad75216346909a6840107aaccca0946ec21f57d1d26f42c1a0d66e4bf16891b7febc5751791a18203539936f24d0f1b5ef2b6d9eb23a0fad4ca21474194552a8e0b2186d15d337dbe6a35d203e3321c337e370f18106d7e8b1290e144f2dd937d813554ed7762782a69bc2e986e8964c9c24564378f5c04789989fcf65d37b2329431c1de18f16775cde424040b21569eaa7bef669f5331879c1b253d4f160da256455beac93171f6fdfe5836c18f6ca8faab707141a9ae4f22060bd0da6344b4bf2d2f566ede3f9e3f66860c057a7fe57c81d4dddf023d7a3a7f9e2c6fc9aee033dc8bc1f58d55c52910cc24b9da3f8f6d44d1d923c5d6262e8d0e414f2e7c055838b529080fbb8de55d85291dc4d174544cc6b9607b22f4ab9fc9cbc19a71cf026bb99880123488627e2bc0a8cb35d2f501b25abca8094fe73ede52cbbafa42426000f459cc1ddad917dbe07655a89d46442317e623b6cbe5ced55bdc200314ca4c420fd97f04ad8d180d518d9cb27423a0247bf08ce9995a93ef338567a97b30252f9059c790487386327bc34faf2a2a3fc9780a0814560b301a3f186720c6377f7c08e54ff7109ab71f4d6195de269f5abe06db976ea0a0526d32ce8b8c3596e7a7b137b99a77c44d19a5508a094b8a71f55c92a9209a48fc691bec0d03b89ed8a51422c2bb612c2469e865aad85009d2c87d277c3bff7a9c6b3906a724a8bde9edc83e56ff2006db1bba1a3839f204bf98fb9b895248429589d93a5c252e9f6ec3efbd113cac91e4d9776a21a309f9d5dcca8f0c78ca64d9d5eddbf758a72e8aa216f80e791214a548eb1a282c1e6924b9bce06d674f16540323449850c8a15936ce9e2e09115dbc6c5dbf1c12c9c9f01a08ff32bf1c878261fad1d504cbd0cf255f907c4cad7cd3f73b0e86df7ec8573dc428258ffdc22c3720542cb831d35ade5a2af1c4441ded55dc9eab65ce0b74764e730355cf05945ccf71cb9b1a0388a4edac9f5ab7163c8286109e38c3da05861bcaf52f3dee490f1b72f06df8a53f9a2bc7016901afc92097b6a1e50acc31d2ee244e1b632d71173919bfd04ddb2ef5b87c0eb231d280b7f61af43cb2faeec21cc2471234c5987d7169216a8fc71e6e0db7e35b0ac698c47af834401b8ab726d5f90e17e9c2935672f8e2a6dd52534b7adb700dcdeb395f5b5c22667e5cc7d25011119d61d18a3bb6bfa7d3ee5b1c05b807bc83dea39eee9f48a529058ad6eceaa194d1b06831f3478d4724c3d3e30b3d8ea256c91dfaa2ba6c9a192c5671941609b0ae37921e5a8bfa67ae4692e0e41132f8d1d1136dbd58cb691b047d52730c321f650565cc5e631804c457f86f8cb57a4903a529ae4a1701f32a711b5a97ee1adc4c8d07b0da2115828fbcf9cb35d826660dc264f1fc28b1352a3ec3b33f8b749e085a4e3bd8d542d0303ab8d296c84d749e6e8f8c121088fecae44b60f09a1bd0cfff47e7f2302d8e98fb17e3fc5e42a4b5654719d9f61bd6e40a7130491282b95559e8e860ab087e3fb38be0fa06af4f70cea743342dc1b1c1ad0fcaa95fae66604f0c573422b714336d87b151a67f9155c37e4b46c2f0e98621e846cca6161206e43cbe778589ee380e36e4f5850cc0364cf61953c1b9862d4120147373fbd36a400a83241c0f05cb30318bd92e373be079161535248c6baca440f84854ee5e8f1fb0e4c64dac2f579f8a9ab7b02247b23b7e3706b1d431fcb89f39bcea22fd3a78d11e2c0b73bda5f14bb20ee4546ae4cbdebda99df2692c4e51c0eef28ad9e3009cf5f7563753b06453abc39ad0cde344f6ca55b1c443c515c00fe99f9266b1bdc668e82ded10c1b42cbaa358a43b8e12ee5513955cac504180f2d071937ad774234a6f04c4ea6be28c837b7169cd08d62551564b7b393f2f36d61cb39a417380d665981634d1dfcccc62973340bbd866bd9c4bf443d54d106de11ecc71c522ff554ea4ef0c529080fa1c69240ccd7e0869a213b77cf9afa75ebef96c17f06fe322d5040261b87c7418fba35d2128fd7c0dc4689df90ce7921327f3c5ccc0025772fa63f60fb11a521f2ebf327446b04cd80e6d9aa60db9289108185646877317c241d12d3ec0ea3f61588d11bf17e511344429008b16f7cc0dc947b8f37ed5ce83368aed99ee4dc3566c692bc5afde9a8fdae6a13b14c2aea533cb3d1c9d43c56e5348e62f4b0a370044584da81c7385ef7a4ae5f35a4d1f4a886f4c3b1e500f68a5a65d1ab661cc3685f6667df9721920e3ede9046589c3195d6c6cdf50f798c75d0d6405ac8eb8a23b9967898af58a2c6c21299e178bae6f4a71ae25b2b1756fb7e90af884dc46748344fdc823c4c0499164ca83010b6a2c95aeb74c6898e8ff588476ea5f3acf8de5585b876c0413356e0610097468c9cd383fbc5ce99100e2a4f6b5472449ab0ad308060bf718d507e7d98e7b64f336711024a903cf4d5a7ea16251006f950e115a7b0232f0ffb7b7421c062b6ee20507a1300d2f073003086486120b56c641b0b1341ca03e2893619714b497fa0d7b0eb9dc47e28ce35a87b79b6abd6b8ed4c47ad33d069439a1cac5a3112a51ba38af51af5b06040770ca2aec8a8b897187fbf80703b27685784d9e421dcb9d0f9d9586d70d8b0233d6a45c70076748968a9cc2687290981b29fe051388bf9b5846b12bf6e86b62d2ddb5ab87b6e1e028b1d1ed45d6c21dc35ca2c9542e9671ebbaa293ced26cd3ea15b955f13b0fa56830979152c936ce3adb7c6726f68c61d4e26f823074d075a82ceac9e2fd21c47f4dfb7bb2a0e01d23aa5163976d4bf01dca16b14d9be8d7e9d3c5fa287dd429d8494c3e553fc826bbd063d62c08a215f6f5c06a3c2b3c72e253b5c622646c28598149f6cac0d693e1a7dd38562d507c3767b584f2d17e1ec216ad0c1b042331348d7d56439abfd959decfbbfaba33644faf754f8b64fac89b004cb9ca2da37e2dddd3444f67479e44f5ab1b4a439e644453ee44bbf82be6d3e892a0648510e800d95d3b03fb7d3cf6c69421693c5452a2c6579f6b478f104174ef567448b178827b6760fa57328ba36ce8c82ddc6f78557099eb02f9e29a0544db8df0dc8d0b4188d15c1f4ca1d8ed2d821f6097406fb53eaf19894176d66592d366cc517d3092f2339b11789c3f306d8aa0692176e9e05f0e009c86249ddee2a70a65ca4b2bb29b2b57cf42a119f13218c3cb25507be0bf5da4326d69f0d0d105de217222c1c64c01557fdc16ef73ab56e22d222adb3fc801abc0fd61502c72efece8dff953fcb083237e57d269b03a31aebfe67e03dcfaafcf9eafb4d58f829e1fe11440cfdf407809c4d4b9a298808f3760630489b0887f12d72a097b989b40ecf67d36dbe1f5b0903e7e63aab5e5cbc6cad2b97fc3b0ad6761e35acc0e12c1962adece7664399c8de364fa96ced684f5477790e63dff78b6f75dbc53708f40b8bdb111ddbe0907684229340d749abeb0108211fe0ae04d6fee2f4b24dbce0bd0c5aea15ea0b24560183985690a5a8f9812d110ae2d1f49cc8cb6aae8a3862edfd3553f09d4815f2d3cd3d1545f5c41110e9bd1abebf577cc5891ce70360ee2eecf52c49cadacaa7a96555dd37694e2638ceda42127de241eef87c2eabdd0fed7237e0a44e9254dfe08ebca7512588f4c55cce0e8f5367041a5af160bc91dd3d693f75b449cb6461ed5e959a17c1b590eeddcebf4a3ba2cbdcb7e36cccafeece6c8c03bbf310702cc0c8aa09301fc637cb4eaa7428bb27bc0494434b04bfb3ed43d9b25d8c003dda0941fbe778f3a5cdc6fccf6ce6f5d5e57b8be67a2c2bfed3d77ec2158b8e0c67d76dcd5270833139055744891c4a242df46dc58f1211d9b6580fa4b2737460a33784a68b36947c7b45b5fc021c51ad43e456011836a525742bb22b7396df591f6646994d094c280841d2f30af2b736626eb44da75d07cfb109aecd1268cff620c077c598f258c482da15eee7ecf53ef4fd8d0f8cbc7ca00c855a915cac647ce4cd7c2032acbfb7c59793240fcfd34a1ee9f9ef706a253966bd887f9e053f6325758369a98b9bc058838983c9f3af78129a5c6cb400ebc6ae0a55882df2e4fca8d9f2edd8ef1c3e5caa5d0281aef8c02ffe0affa450531f366fe3ff2a7de032dc5eea3cb118e2ed15a46d951e6c5ff289de8e5485312f12952366bf850d33bb97bd3b55a3abbedb6094eaa3f331b789bd91864c4218f80ad33e42a669e9a84434a88239910accdf3a02ae665d26ce39f6591807eab002bba357d88eafa55bb40a9aab5dc0b4760a3ccbec544a7b7577e7c36be8d6577d6fc93d7ca27add20eabbb1734ae2d630c9756437c75570cc131a4e9eb6b334c05950566f51ae6b4fc525940b63fb9d2589fc1afd60e8bbb952a18b8523f6d47a5aa0e9432247e8d6928602b5372918c68aa296bbe7ff3b7fdaafc583a26e83bba4fcd9dc009bef9aada3d9a3fec2a98b96c588998c23977c3b0a6b784c4a09828d863c14bf407791ab1b6b79ac7992e4a9e8a733195f4e0c7513cef00949d0500492c0c9561401ded116d77c3cc905ce86fdb3e4bf4a4fa57231e12f7c7872ebb2c096341ac1a99acce81db77d15fc310fa8d008d6dddef0af51f0dabc7debfca4ff7d999291c223f3d54e39159c1e8c0d073624ce36bed254afbf18921e52ce42bdfb25a98415a6fb9581fa9c4c17380105dda3bfe894b5c49d6c6e9de0e35f09399b560cc44dda99db603d236fa44d07c2e6f70271ca309c99db32dba774063089f55ce2e56bc082f4bf1acc2a332d9ddfd324699977430349f5f4e0a2b3a45b9f0bedcc6c76a9145254e3486db3feee7dbe23356076c81ca071c13d7d59067b1446b999149444c16bd612fb08dcae6ad190853a527d61837ead403cba0c5ed90b9b8879af2702d652bc55b848035caf1987140a22b701ffa4adbee996712a441afb62569c45e5601e7af1d070f499cbd97f4e7ef9a97abab25fc2b8a22e817c9dd536e5124149df4fb6da1e601988f901f987be8e2680464df397ae7178f924cb4afc1d780962ac160ef0d97e6cfe2cd5dcdb98c547a5d26608d44011c04b2a5f2c23d0449081151ebae58fdcde37cfb4c564a81db1b6149a9bcad03e016ef1ff4b1d5f54eaa1f43e4f85bb2a6690ee02fd07c16f04baef9b9f6bb7a1fe6ade13a9a21e0ce1788fb34efe2a859763ad0e5546ca98b6f24057dd3b8f0363d93a631c1d5987fd4fd24135f530eb998e1165fbdfc84c2ee7c41e1e382ecfae27bf66463b4370f2f298465c9a76eb898d5a8e96cc1eb05dd0d03034be89e88ba104efc76685d7b01eff7845973c725ca25c6429b9d380180794bd9ea9c171f0c3e57dd3b8dcf1bf8986d7d8d409d01d0683bc2028cf6f889d1f3b03f8d37c3e133ab3ec6b48b64e8ef9e7d10a0bad28a7b1a07776dfb751c951eabdfcb3e15e320f597dc399433a9fdac012d94f709a82ad31c0bb61b3368ee360c6c3311d4f937bb152f1e7da184ff1b4864332df9a2842b72c3d2c8a5831eeadcb557ccf3068e106e16f19ba2fbe584d185b15925b4fc055f7f4c98a41319ca6e7e0dd5ffc0fdfa633099ec98b32e2336457c216bd859bd77933cc1ef18162516356613e9e90d0093332b4fbb80157fd2ac93b5f76470a568f2fccaec44870cdec328c8e665e75f0fce26cd5a18e4b2bedb34df6082e10beea488869754f0b3911876ca907ec0655e945680ca32c88d4f5f074fa3a02dda6bc9fe489bf0cd2f7af0df35a3c9cd0c5640c877e888d1b14ad217aa8ec173df69c65949e4a86f1cbc5ad7d6f374875ffcf8de1c9a0a98fa9864da5493fef1b1ca9b9370a831d155f0fc33530b7c8002d86ce23d275c9a7e3f32d0037af73a51a45dd4d28fbed1c41315749e52db6e66b229b265b9881c840b00f93df3446518ed9ad0d4dfe497e2e00fc75cc4dcb81686a87b90e6e1e9a4def52e7df23d4732e3859b5c874e2d3c441b4a5218643bd6c729f050227328a3a269dad43b7f25dcf79700f60f66411a9a1b093b18da751483ce162b483ab9d17b3bdc3b190d72ae01dc4f21a10c4c413962e7dc61db3ff5aa02682a0b3ef7cf00443278fa8df7c3f834a925a0be85a1c1aeedbb94e5bd9c968c6feb81f3b8a95e66d70e2151e9cf623c83ccf88d6bb5803e74f7424e77c0b8b97013f7286e5cd1801ae046471516bdef99eafcd8e50d7c7b8682b1b31733e5f71d07ca80a4a4703bbabd9ab4f9dd29c76994448adfc5f6f1777f4a2677a2626b3f22b184caff43e2e31bbf3e6ca53027697e6d8c8cfdcac7fc246e3254a4b02d784730abd1de18cc030bef20d3a6e188ffa75e30e7116049eeaa3abd7dc26c3a90a02930ef155f294afa96fecb084cc414ebb9782189e69f51bde85f0ff5084ff8b43266bf2f770765689142c98ecb868fcecf9e9c9875fb5b963009b49eab60515a040ad91476a2aa50101cb2f28ed4af2baad6df3f157efc75bfb77dfcb597464c37da6b9390da9f9fc66caccc0fd73685816db5fb0f6030ee2410b75b45f288d96115a2c6fa4076185a3e3ba9fd67870e5ac7e7bec7b14070ae697f60f481b71ef02b7d237126f7be19e6ab9fc149d5d2429f3ee84790d5964e7f31d843b8059bfcad4cff82b444fc68c17961e08ba2dbf94b1f400fd9ed1ed4c7ec098bae7db49dec355d8688e0142897b09107e51ee040eb1970d45da0f5336797217fd87e04f58889b56a12abfa7b41632ea66f24d2135cfdd1f8426ae1ec460bb3493c25559e24a6478c01acd6741de16091ab432848656446b3882401b5c260cde369fa8f03f9abbc59e9eed0d6714b3b627bab71d4c261e15e4de18758072c3c6a74083925b060d7cf2f9725b4ff6820f47be6def9901f6907d97cff2162a7cb91ea850dd3362e22cfec2a15d5f754d0ebadc242fe3fb5ee785c1f78bf580068067cce0525c1cecbc5f524d28ece4f33c684afbec969697bc5764585715803a1a7210ffb4388baa998fbb8f15c18c69dc2ff9acb64ce0326a01fee3df8a3994930ffb456ccd91b06f74a60ca6f1d145c9b78f9f4b3918afb8729cd3287ec89ccb43c954d9d71e6de195c10bcb854a754aa3cd012e299e926269f86ccc29546530d9c1d30ec47b8b8e3c19662fcc57158123787c800651fe8f4a260c8479001c554a467ce80dff7cabd9b8f392fd6d2620a7381837a6a130084e9b86435520a9071a0c1a9d5087c0e680f10e85521dec7cdea166eaeec2d191307f6171903f7fd547a57c9379c79f0ab03d9c6bbef526291031997265ef6f6827b771b548f4ecdc019aa906f00514632a30473670be8a676aa30d62786c8290f6d4f3f1783f503a153e6b10987888af5bb7c5fd2d069a5be0f46ab6470bef1208a72d66bd3697c59ee4edd393a80aa55237629f000fd956417d61eca0e3d0c1e64b0b4e5cf6444388cc435c70d4509c16d360ca08565bf2dedb92e562edeb957dc4fd44c2ec261ee42184b2086c76a705ba4afbb90dc4b91a4fef0f75b568e6ebccfff4bdff7c9cc26976afdc7ccf7b0a927f34a17f192f67f33a93108062060cc24ffb1a3204c32450dc064e3d52fd3bf6a424b744e10e50cd39a16c451fa868a40f006210bfe026ce7c931b908d74ac916fc5625560e47619bcaf6182802c7a1beb6dfa12b3ccce6b5b974410f5222e6386670ac6803a4b97d25a71fc4cbf1c4af1d456125ae176973cf9a9b3f44104ede2b63029bac6715bbdc2f9fb2878f26740254380e076f2257ab589b59c885db13d8c0fe1b94261e60091f79ff439408b73694e8dee180429b6148a637546fd8af506329964dd85bf8cbfe450e2bfe6f4ce5d76ded13afc983b913f8167ea4a8641bdb68322886ac5bd9dc3a0bd7214421074c14c5e0b344249db1696bcb6ae305ac04f4caab5d346fccd15bc3c9551ee343b3745ced76d40c321595702a7d45e57b2b7109d19fceaf282d8b198411992831f286c7329e240ffe5b1f903bfeb60cf1bf282d6c889f064d1275f2bb7e8a95d5cf2a077d97e787d8562c71e2af2c539abe24ed472cc5310d13b0ed54d8c39575b61546424e715f78cc8cff200042a5fc8a6e84e5b1cf3c6bb4d00adebbde436a0a8f164414a1efbea8072f405edea4f255567ce11c1e91fdce86d4a32962067d9985096a9641e9e47ef57a1b7170200c55f208f446d4452e54bc8a7d7703bf3e9574c6ec6f87e6c09cfb4daa19026d8c05ff8922eec1ff159c5596af8248a3dc55bfb9fa2ca0473c60a10b39f7bb3f589e6a109dfa754ce46b06b48b06161b663bf275ae3dd8654c3139a4e483f4333db1c734135fbbc014bc20f4cf3d84caab1743c373a82049fbcb0a82feea115ab2cd11a34caf86fd24472c9d97f62ece280020fd0f34fa5bb2889dbbc0f67279d2b30279382caafb5ff8d9eb1864954ba9814eab52386761dea53b0b62d738bdc63f6ed7572f4caca39c2d956f390270da423ab49242c871672dc3c1b35982d4184ca1d0261b7de91208167eda913c33594ba424a66dcebfc1c19f7bdda269af6cbdd0e0ddc2742278b4905bba004259e353e85a6c0e2acdb04165ed7a3e38465f0dfa32b050a27d5be78aa91e76dab11a99e9ed7ebb16bedb7bbb967cfcaa71e9bdfd9168e0f5bca84b709bd5241ac50889cfe2aaea4fbccccc29e73d848ba54667df66fb9019cf7a530689ce0b1bc18d930089e1c5e83f7bab566010dbec9173d7be3b9bab24f02f3683fb69a1b2e7e470cba932917f364d043e8e4ac92cde5316d1fd4999a249bff24e1896da16ad9c1d7e2d16f98e8c25ca3f5dcf03c8492d9e7b075bf7be5fa3a97c17090607ec1f7f811eb8789941c192da562a93789534fa479d433953ea4f67ab69c4f77a39da2275ccd57923be283d8196f2c63119a638d833e1e4f22ff6dffeb7d3298a8963798a6292c82578e83984bc55d395d829721bf4beac66c4a897168705f4211b633f6c02780eae80c28f1d6b4c6f25f1d9d735cb64df12184a0064570a234878eca76cdcbb389cd188161912edfb2f48bc88e61d2c655e3cf7b26f7b0e9249f3dc3266daf824e11057f4b439797f25cb6c43143a02efcfa24fe809b3bf180a0cef088b9852ab01871c4fd8520a24c5dd79c768e4c711f7cbbf3aad8215d4db48471c49476cbb4c9bb22a4c01823a9d00185366c9a41027a72fd026aab5a45c8d35b11769e38ddedffac73bb67c7425d5119e2216526fb3a972ef3b971dff500a8afdbbf009c74c941035f6a1aa0b925ceb91d30670505f5f0cbd3966598c762d45c98723e99d2aaa0a3f50b0375727ec9c6b8761b002b48e5049939119b47eb8bb6579d248424423e11159e1339e576584826d4705a1c9e49e65497df58a23c84eecdb9c77a1afcac883069147604c3caf87cd437980fbcda197ff64dc5fa6c12bf8cb4df4ab0c616726b58e83b6fee519263bdb5c5576a5630b4596024369267c1b3ded15f4d77f8f1847a694d52f32fdbfde40ae5235a72134cb637d9bf6789fe3b84a728aad8c0bfa877125a6be91fa266612e5fdd358b51701aaf37b3e330587bffdc2278406f9e283ab79ea409130c926630cd2aad0f618b909b92d8e3936d526ca65dda56baf1ade0652f56419d154064e250735f9bac9ea1829d7408006da7d20a68ad059a36b52e2d127ba09a3948e6cf262b34c78459d909e7c78d7f3c533f295d180c6182007d1e368c29bb4803028766869fa72ce780c776ec9b2f368d682efd846c949a81849a5734ad0d204129948bf322c6ee00f2bd7856d2c98c285fe2bd9c32cd7764efe9b0b6103de87a39e654b785d494a59980b882bcd34c465ce49079b2725aaaebd19bf61b1489cb24eb5d112f267e89bd7a0d0b0d26c9637d7f2cdabcd8ce5b9e0d8ed236801747fab56ab28c2b449db4a30e05b50a8800dd362bd99edde7930cf2e15c180fd2ef45f3ba1436ba98d5614b21d931c26d50cda4ece6214ba8b9eee5dcc8f543b9d6bf8defe59b650ff4fd158be8840efce97c060ded4586617828b50a558a5f6ea93393648d4c8e57ca2b53338406e58be6bca200218db93980322b086a07369d4191082a7f9b36f7348c9fc996e0901aab462d6114510970484ffc841654c2f0fbeed3a2c75291143506ba11c51a5b338b7418f26bab629dc3ba3a4d82b4890b169e2ea51a8b8ef97e9b6a8204d83a173e4646bceab596284347e0d5a59044a25c363857930312138fcb8e5c87a240185c00684dbedc9fad0573e53e5a9f8dd399f78c0a29165b0d68eac69ff80e9c6470316df865eb8b1316879d476025405e6b917862b87d6292172e6585f25945f243fc4ff365a4836427c362c4b7becfbd6e23c1b4456ec18ed6516a675bc4778112a15cf1250c7eb6db00b16fd6e6e18b27ca9e91cc109bf4ca23ca1bb04c740fa0e3bfcc5a01f3f963d850d18e06a627700316fb50ebbf7defc85580f2925b373df8813e1087e3b46189b8b28d1bda730c9ab3270cfc97f84974c0cfc077eee9e8e266af0dae2d2bb8528cddadd57b80180cd7df08055ea503d043e3959f577244c109bbacb17cc8cebb02fe782f0bfca3dc8f97e547ec881222a20858678acd65daa8a9db1fe15bee819f4f6c0eb7cd4203eee8d4c50ff420319ffdf3bec8826257d660a93f93f4858bccb05ce07ee8b655a1305b6e4c5085d01ba8d3cdf48ddad273bf8d4d84ce984e4af81511c7cb82bdcb67bca1df2a692fccb41a3dd5d8e617acc21385219196b5af506188e6ffd0632f120da3204ebe3bfdf48804f71ef49982517155bc65d4e35aa22e9957df9487ec534f5ebd97a163ad4cb1ef64795a0b85743a9efa5d47ccf3b442db81ebe39c252a626423fa9f502398a48206612034839e10a01adf95479ea40dccd416aeddd361044359ac1cc2921c3c18ce3bf625297aa5b94ee99289b910c6f751769ce4586f6a226fa488e7a984ced68afcc874ce574da8042c32f23c075ad703348a570cca6c00ca2dd1a331e152776514903a0bed55ef93e90d9cc40fd2abbe8c8d49dcf3e4040b8d836645df2da393bd3ae21d3d0073e0666c4b9609f9e062616f5bc782a87d4c227640d9661098388a9a1d5c07283e86f9adc9622955d66318b0c438dafe6808827b1d32c30a1273d4010ba71032810f4ed43735c380449469852ee8776e33ee86ad5396d0a5289267006ef670633b77cb00adcd5e34cf9c729d4af7e6c19bbb90b84f1c43d7c5e878831ac2888d6edcb6374137b2cd04bf8bea31966d83c67c1db43b6689887b60db4ba3b1cee76cf01f4113a01db7c5a657bcc6c083a74167e3937479c30f1fff26ee6f99218a0e5f327bac197aabf947aee7a32efcd4b250ba121c657b1950e52659d7e2fd5be8b99160a723a266fcb0a9b37de0d5c9b04e522e8af80e56750c0e7a33b6f913ab7de32ea41f83eb3eccd2c27ce96313e9cb589b0fd4918223027a6c76c6f9a37b776f07acabe8fbbbfdddb92b7891a5e993b3d8762f5c7d3616c5c0c19c634fa15a4fca508bcdd69ff177913c990d58fcbbe7a21ec91db329d705bd7c0ee98bd313699b21535a531696dda5ce10feba7a42eb6beafa1ed55b945c206b5bb391fe4046fa85e5fa08b36c61f770f2a505c821bd37df9c5355b5f20a7ba7528af91a773c2e1e14cbab2ab181e1393ecb6fd2dce5b5373041a477bb69e93278127f8f41e0a6e8ac962cb6b4108ed27353a1499ddb051bcb5ec2b269d5568e744c63f712c02d12f48b84b82e27a49698054ea37324c99e55bb946d677466d42270f5597ab4481a70287baea823c1c0e0119a7ca6e014169330d064678f5e9fbcdd0a2f97b0594058648afed5b088839d79d678d6666fba71faaa2b36325d4bb82e90fd231f05f0b36a3397194464adfd56e784bdf40a610475b71a857be251a18062a2655dfc451e894efaf98c55e4fc0a37e931a548f2e3a2687aec9ce15410d620a8e83493061be66596cafb026661d045a7ff82ebf8bb8097e9ea93c66b33d34b10efd05689755afafe83ef4b0cba6d717d65250eab60a76a4ad305bb58b7ac6027bb42748f93ca43d7b54b728518816e38fcdda3435d992911a3e76e4aec71dbfc24c83006b994f951091084737ad854cc20d0b853930271fe4fb0d44cc93fe69d21beeaba1019f6950eac3ca2bd485c4d90888d2a4fecb29a4fa58f015bceeb77ffb4d97d0ecf9275afee35282e682ea1605bae56e66a0be3c94bec42d890ad113aa58ae472457e87545857056d80923034ee5f93ef85dd062fded94d8c40391f51f7c78c8c6362ed81290bdd8e3b7a3da956d90e07223e79d58700b239e737b7eef6b51b394b7d35efe114a9559bfb56942dfb40d708abacf3ab1c32dca1ac8ceb19a1ae664797e13b5b14074efe866a89f1a2e9e2323d489a190f7677c83333999da7d2201ac562a3c4335da336bd4181c49bf091df0b23057059994bd0cb7af7631680b37c0bd7fbba64dadd683548476c06221db97aa90f9df26cc6ae7d31a15477d3ca739c9b2870ecbfad077e4cd3a9289cd1f9dd4b11efb64a02299bef4c11ef6d75ed70cc2085c954fa731cf8bc2da5dc56dde7af36f537507aa8ee827d88e7f01229d6826fedc658a60253cb0b77a8b08ca46fc747e62d4ca238a0673133bc0a","isRememberEnabled":true,"rememberDurationInDays":120,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
