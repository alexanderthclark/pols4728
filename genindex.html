<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"1072d59764077c158f7c8db6004d1ebdccda543697b27b79ca959b59feffdd7e4cd6c550111bf6feea391b1a74b9bea1599c0d577bc5448be3046ea290b83f516f21f49a21f8e762be8bed75c940b6e0c42c353e89faec39308ade300d8dba1e73315f27090e3d960543ea83f8ebc1d1071d25934f27f73811f8123c91bf08f6e6a173be81ecf36b7835f0f3674834bfc93ab368b3cbb1219954415ba8ff1a9b8392a18cbdad42e82b1a9ed416bc8bb39c7d08a8caae6b30686515b5802402e1e21be371befc0d90b86c850508837d6ca6a8cdeb4226207fc9431d4071749c33a04677a86d44f4d000eb4d4d7b9089181990da3d2f9f155bbabc00520510c0d3caa75530d1f0b2f8a243802856f88dba57a4b6c3a4e44ae1a88b8327fae6a7afded2c7d70837061ad687d1bad01f8c55053aaf3a186eb165a07aedf0123d42b8eee44a5f87b345511e68461b658a9ae582c71a0465b098b562c50e09172dc9b9abc5be772e34f69e0ab5328c4ab7f68bc10b10fc7417ff66a3b72aa3bd1b1f3767f96a28599eb434230b132422617a225bdfd19349798ac5e668d729302014a7ea5f6c41556b1b4fb5b4bb83c87197f9c9150eef6316c23f267a497408e4921b067319edc73a10281d8e1eb1ef71b7a390ff527bb0e2def79c7fa5c8b677107bfefd9d150987c5421af5d1b9de07e327bb7e1342b046b40504fd4175ec8d8635e80c09c371f067ee7c965d578943326891db8346533bb08498bdfc53a5d37c9339a09176bbc1730dac140220b22e5725a4ff8c10f230937d69e94a88c84fefdfb4fb7f927f5a363219c1eff4692b56aa8faff38619dd6e0eba696795b82b3676a771d2abb4fadb3d6983ac2266f5cfde984932ea58974d5fe786c08e84d0201bbe342176d7da8e97c7e98b9576e77120927a399e36625917649ed349859ef65316b67e7b7e5fc15c3e94721ef4a04a74815470d48c58b49155f59d467348bdca2fdf984d119d63f85ff7869e567652c7472459e10e8c24369a13bf7b8e4cc7078bba1889d7312bdf06d87d8cc6c88e981959414d36bf5cf67bb5ee8ad8efbb5e8a6868449d5bdde1e15fd3eda122060607622df001bef0927517ddad47b084ceef4151ca5f4c16098e200746e63c0c0044b6ea52203ccd47286b09a89b6dccb58e72f79043787ec160468b522a847b2e7986dd4d861c84b912304412b1283dbc22dffc04c60235db0299d09c5466cea73bceec831aaad6ee00f0ff9769d4cad9593f73c0a6bc4351e7de7812052355e976140de12cc2efff6afcd5ea4506397eba981d25666661055b54e4fc96ff31faa556a6fad0cc5cb246e20563e54c73cd7aab1a2b8b67d3107eb91c7075acc01ed627d37144fe4cba77d3ff1686ea8f9bedd292de3253c221c02601dac1c9e575e89612513c152ba01cdc51bebc15d373811a168a7783adcde87ae3290b4508922ce75d6c2cca7a3de24193a2cdb69d11e70f4f01cc179de32032dec343b9fe8372556482c717cf92020c39bfde897f924edca8e883be14969268fbad70a9a8ae92abef44bc7049ec105d2a6400da141e462ca5f73edf331f74c6dda21bca3800a3cf58162ec3c7010799162d2eba73854356be5844b49d6b141255ca6e93071786b40607cbe4af77144aeaed157d1f6b56184a55c5144fe478900fdbbdd477be4eea4edfa8205da5d51aae6118bfd258adb327f34b3a909f9e510606b4600b9ed4d76fbbe9f3d182c32e845804559a91a5a2f5f0d8087495982ab4c5953574b0d3cb276f1f7e9c5eec11149f58a93a55fa4b73854f396c6bfcd2e9e27c7f70fca9eefd58eaa317844cdc476e6890d2b7e7ac7953224a7ab60b9c9dc6d2623675a87331e90bea47e0403107d2bb8492c86e184bac6b7612d6386ecacf9a4b7eeab3db77afef5a54ed45c2b1e3c22883e4abc0ae10af83516d4bb82eb86b49435b399135fd244c0c9c8e832f307f238adb897ba7a5c1737bba02cb5eb3eca40867d5d89567f389b11f0f98709c296fef01184960559a4f792fbc0e76765639e84b2abaff45e86c36b89123453c02f5217817d8e227c58c6228723db73c74d1922dd9d63a1d5931f4ca2d144ac9c64998487b12c6522e854e70a5e8f7d42ab8c90be5adceb3552aa0b09d7f763affc0789b897f1e0d408e4a08e7c4a8835261f9b16b8ceac148c0cd82c4024d52aedc76daee6ef8e352174084b83dadaaea1017aed0f02ab24fa816aa4b002a4ff4c9346ea5c05279158c786d7e9e3c7ba32cc9d487f06e78279ca76aaf78fc69091313b889f9cd5dc234d30e1257da573e1c6ee0f37e0b8c5ddc1f19f7fddc182ac806bbf5fadb73b66d8d2b76388434b65c962f5fd715af02ab40bd094f3ab19811dbe2f91936ec33bdb45efaf20fc84fa9395a87becd1a890c29cdf25834a5df28cc27755ffa765e2311f605db6efff900dc7cc3d00800e213dc6f50ad7f3c204ee0ebd962276d79ad9c31d6c58e60b5a7ce4d66417db3cd838b660b08aeec6753af20cb890c818a3a09e4dd846d034d34e645b6ccda46c72c2ab2504ff40c35cc176a1de24741064f35b5b0a4cb6a68428413c7c92e2418c70aab8fba0b5306a1fc4afcdc702142e5af0e204a920180a3fe7df4b2b92e39d154bf4c44f75f96fb3a529ebf64696a713869f577135cfe2147a4098a66cd72f5f4c8602c12afc633fd9d8bebad8ef5917a5997f15926c71dd2eba346e5463e2bbedd3027a409d291e97573c89f0d236c8bf4d1185d575aa7889886d159d70db9d3c93268db784912ca4eba068dc99ffbb991ac99cccc6007bc87ffae5a76809197cca47e2eb5560de82811a771d1c3e8a58ddc7743d0fbb9effa97ade0b2f893399d984539aa486dcfdbbca2e88609dbbc1c88e80640976411ca56ef8483fe4896ebfabc92035083eee5c545f5ff873505de1afcfb92289c019d0253b1ef887e5539697f122ec024a544a03539005391490e482245318d4cb23da9815349b5b485bf7a3605c3c0ecff8b5034745b3476f08f5bbb7d103dedc91c11a49462badb6701b2ac0ba485ffc40388c8188a3e42c30e4a4d6a7eee43154e92722634350c6d9b7d2a7ed638922427e6528d243bdeda9209517ebcc6d5c3950838c1cf4746141a55bbabfc015232c50bca08a0dbc9618dffc5523fa8830d2080ce335d7247e581685927be5738ad1070d3d3a5d7be4f4b11a43210bc2fc19fd7d2a6b3aa407517fc9758a872d8c3e489b425baaf0f1408a1250dd52cf8272c1f30d3e62a90b2015f345dc228214ac9e4ab4f50cfe89dbae4666c9460b5fa7b4bd7c34041e2b80eff8e5390437d2253e85c37cd19f9172c0d64f5f911f3759403be1aa877babb64376ea0725d346fc94b883d83d707f6fbe64091bfdac0d15bc5a30e93696b1de9cfde79f03002af1fcaf46a3b45acaf85cb8b50c5abfb7fee32d37e6ce227632df025e07266b899b2ffb5ba0f89d03231d797e4f14957ebb4f188d5ebd7857468e3198e6aa4eb0fdd0d3e6c3e647a1eb44d0025b3b5a015e4edfed877bc28c3c7fde0aa6b0f63a7a793d29c17b4a11c432b0ffd7ae1981d9fed2cf36314ae0b7d706c218ba3b9d1c5ad51125e1480b12a0771248dca2f2caf0fb54a4c6444356791234c834051feb82a54d3693236eef610a638f1337282c16b6596cd8ff781c9b42025d8a207750787ef54c3a82b4b29c4d18f638392d68cb15014c98a5deb9f85dfaf68a5d0656a5193b12e8a983498a16ccf715dfa0f284a1d4bae81392ab98853943edfa29f1503a5fb88be8025dcd3401b4e506de3f0732734dca4c8b3c2706a9144e74f6e055258d247363befcb1e77a3286e4bb97796c07e3d32426e83688850f326f2a1fe45279b3b94088c93c989990de039ae35422579b6c2970311c7541d4de4695e9080696c0073ddc8fa53cf2d1850b65784f05a73e830be3611775988e975867a9786095e4043861cf8f1e865a99395f8e820d619014ab00757f7d0612940f1ecfc822fae29c8979351d901509baad8eef76b7b44f9521e5cfc5967abcb03e13b16259a30acee528aa5136d23d54af098981fcb0ac90e863eabc3f63e19af3f434e4701b9bdc5facf0039dc5ba0b0364b352e6a51fb671b8026f7692f3b4fa9dd4784ff6863c6a7774a2b174787d8f30a40348d84017d041216c37252a7affd1b640d55377433982a8eae0cf1ede6c9576581ff0d1f489145918fdf5055b1378877cf33df1fddeb38cea9fedbd8541883199e7686f630126b48a6055ab129fafa365839b394baa86ac9dff3dfae6a8fabdd254dd2169e458a76d1147a196262282e067f16708b8ebc456e0f3ef0e95b6789b7981c056442506c73986a52a43effc12086179b08856d7f39ee1fdff3a001dbcd30520a754a7055afe29ec0225d16ee9a9813a37da54aaf8b3f5a52025b1c649bdac17c41fc0a52fa3be805ac819f3068a552485d398f9302465c543578a23fe5e4b0788053b2f1021364c426bb3810a2d4fd6ee0103d20dc3a6b778bbe94f38a12a412fc56f96aa1d949cb90cdd03f9ebb4bd8c010f268fcc950ad7453671d7cf9a7dfae0e391b280fda14bab26e824c21e60fe001bee3992f1f77631e5f043a1b25e109fa02b595df99dbf3993a237511e41020e127b2fb5114fe754b9e4962940ce566816c3e429d813f90662b450746c034b1acc3487b3973302e7337cb3dbe2875254a48be106dce30d5717d30c2f788464389ca2339fd1c7f0e5b28958626d5b13be5f4c836fef7667243c31baf4b2e985332bfb950d30fc6cb9a365b57a74ca52d16083b5edc83abbb7bada8bce45c1611b5c20ee3fbdb375163043e03252d2e3b575b3019451f26f2e773916cca356b6d11feae6279c4f2c79ae266e137235c694d5cb7681aeda3e5c9e8bb2acc60e392626af27a36166cca37af73a2f223717bbf4feb0c1ceed8e5b3473e22e56cf136c946584e949a505a0453f6c9eedf70db7f81ddc38f972a0913c382dd88ba0b4306030aababf57385354a34625ea0e291d2322d674debd0f18f007f78ee89b4f900a31a9ca113e7878f905dc4fb67338f819a0c25e8d3454f9ec21394b2d944e7e66a4b52e65d204c66f89fe16e2aef6cae6b70633bcb457fe713efb024f1fdcb3ac024cc8956a6ba3e4c25ecef432a8bc227680cd5c8c6678bd5c66a31422f7de5a37da2da3416cd8ac9246b40d0b45d3441150e24bfa301eb3aba17f716a6099e4d979914e68a62d4244fe60bfe36cf0a549f1caa47d1235f8204264b61658a88fb23e8db1b6aec4246f7919c3cd674fdbc8f8860da96ebc6bc680cf6e80e338a1aaf21eedf422bb937a72b2f6e3bc3b7fc5f4abfccb65025b3e0cfee72f1ba63e67602a8633a0c7aa1e90a1ce63bb06273ff8984fbae0d0800e62572688cd424754cea1e1018b56ab7aa56ef7bbb29872d65e84406bb1a12b5fd49f5a8b5faf2fa2e70e9d38552aea728c23474b6cbc4c73660c2a6d2d446f170ce88e0588d1f0b18783e70b8864797b466d7270e0c785b302a54cf0ea8172218c6b27a53b1f693ba1235b7f52fb25a1f800d1397646fbd58a422e8a643754e8c0a92e0d82a1d693eff280a0521bffacd66c70368af2556d4acd6ee02c9665481faabcf3908129622b9ace6f5a2e2be2b5ae83191542ff34955e655b206d3212498ced2c065fda3f6bc3b19574869839899b69a4371419a773da7ce02bc84b938afc1e630da8c808214838bbbf2bc857f96a16635e83d877410399ddb8e275f75ef642201464e6b14d3436311cfe5cce44f55e093294ee078cfb61ef2d1f61125921476e3292f46f20a7cc70341e62b6cf8f11d0c9c98f0e8659fe770aaa7b03d5a0f139160295d4d7bed8f099f00364371cbae769c5515b482b357c1dac00918cc33d3334288dee10b6c8112ca545aee7edbfb11e7bbbe618c1a377f2a7ba0912087ba421f83aa4ab1c3accc4bdc320eefd96457c932b9656f9a69a4fe1042fc634cf56e5bb52d873335e75c411da8462da91c399b73f16de10552fd6216cb89f9e6ae3623b9ab9a786ba688f46a721a28866dbc526e20444994be07eb0e63ab6b0d85766f6f3981e0484a380c419d4fffbad2d95a1f4385db38afbf403c23d85f529264b95924ccf1ca64bb87667851a5ace2e5ade8d5487b29cebfc00beb0cf4c93f4a3dd586a440494217ca9951355df15439977ebaa2e1a91fdedb121179352d3179f60f6c03a73ed26e936e645966da5f196e453b878691e63b35cd94b4fafee78e62c3da3bd99f8ce355f74070fadc667bd7d31b1d43484179d9533b50bc30422e2cec919d97dd283f2fe056ef3831b26cdca4cac948127bbce3c3a85d828838b3d311ad155bc53643878fdbd4bf051116d87a55801dec1528361699fba4450db00c030e5be9765a3d2ded6dd65337c6b7219d52f96f767cd18571161b7e2f98e0448442644f1bfa620d80c61fbb097b0b6c68fb3f302ddf724997c4cee1dac80a935c6faa6419e4e5a032ddcb99cf32baf01f9cea8f87df547c554a3c882ed196d1e43f5496794bac67024a35f329804163c90bd3f195edb0473c431ed585aa0b03b5fd5eb144abb65d534542132af33a6146100c4c9a7f486cbdf3f2abea960055b8be0f6829dd30b64fdcc4051f221f80eb9f8c25eb71708f4650709f229f461d08d79eb264c55f417b11fb805033752efec2dfba22f38c14a623ce4a530704b3b52e9bf340cec02942bf9eba25e2aac08d18d003894aa07ba5f4dad0058376af53a1e1456d94e599c419192c3d3dc625b4ed96a21ea8fb3d57f5a9027d548b1cb28e5b519468f2f89a5cb7f517fa59c1f322bad7567a9689c0c1c102abcb22b4f7a87dc9cb9e02d543a88283bf842cd822e4a46a7b6a0c88cbf6de073be655bf2e86027a8ff22bb467d0a0b2507d871ea23b79a3ef47ce4a17c9dd53cb809171827158914e6760af7f1b6f74292feaee6d74e8d94de62ffd38688d6c1d21b1db19089c6d8720c652410974afe111c2befec2d1cbf8e13924f37eb00c8d03adab81b3d4abe1d5fe43dbe7b8f7c949788158fa54f12b04687e9fd0f560a459c519c0c78ebab7d02a325c803827459917a52a1e03a2ce6d7b688d996d42a8a1ff1de3b3cdf126a06cdc5e5989d3ef4c207bbfcd81aba38e366349a4a9b19300b23b172e4b0ab60df3b5dd8f5613b709ba55c07c3aa9ffa5c4100780bee44adb11bbee96c992c30d858a9ff23d6afc21dabef2909d42396793f6c0d835ee90fa86fed0030c8790ca8375890ce2aaef76dc360037a693fe59a4ceddf790a42e1aaf927e99db2a146e2699b71bc3700bc706b72d69fac22f82f40c8644f00629d421c6eb27fcee25d2a8304cdc5165e4ace9c13c802aa086a90f869a0ba030af08dddabb23bc6bc1b24e3480d87db6629704b1ac63d9530a4cf4dafdf1aeb90700c23f9cb887e19c8684bc9819c4a17f2fc94a1da3c670c3d4ef34bd12490e8d3e397ee36d095b3228fe928a3bf74137e9613770fdc52f581273010761e76136e4122da670b026e8ca46964cc64b49fa0d15efc805eb0d4969ae372f7aee9b2e9cb8e861dece79c43306fbe28076f701917efa18814c68f1535f9bb0fedc8b2b5c00906d2637c741844510dea556785a663e1cdcfb822ea10b6d99193b64a3f9e103c060e0cf25e20fd5b448edbc6dc8ae019107b73093f0250a3dff38078c78b672c2ab1052e6a0882e5a4917a761ae6fa2c614a7951249e16579201c86583ba4386a006d3d9381a05b775eb34858c756ea79454680c6346b4825517248bcec6d5ae5b357b021e8f7e2c8e82bcf6f068d6281c1fe6693d94c801aa1f32f2f9bebbee427f38cb0df456e52bd46114e5538b6a9594f861e9cdcaabff13288ab026fbe75ac98d1467db478880bb4c9582d202500e16e870002f15a9b73868f796b73aeccfa5cfaf26ced7b12656e0d331a8cb74b4bb7465cba591dc505a9a4909a174f73b174309c1ef3e9769375bb4226bc264183524ae7a694caf88719e8ecf40e90d025ebaecf665591138fe59591263e1f244cb6a98f2c1d174830435e191bda8ce1a2b38d6d505daea68fc91cb5819ebf01e1aa8dd8c706c07f2e5b705ad969a2816a441b4e3a91be9e64574965173092685033eeff12473c03f699e7b36d86267d660c5255ae803840aaef9c33dab424fec51b620a41052ab45cb83419d37f22e9bdd330816087f7986acccc2e884d1ea2912b88f6902b963c0bf50ab675e708aec7dc1a991556a6ef7fe6e9d5b22dbb6a9a90f2dadfe0f88f7b439a2f119caf3edd7c8d2b3f40ddad0d16ea3d8a4785e43a82937e8ab46c6116b279115c4f0dc72ba7f4b9e7930809a39f150387d2da3cba167ad865c1fc9e1d57694fac0624a53d1518a8d3616960f28c47550cea6bdfbc6860a8b915bd4732e77fcafc04d978a2579f895ace5e3d98edbabc314c45184d354a9e6bcacb8692c20ff52e78d27a8b4b7028e5719dd1857ca110838de42879d10f3d151ed217cdee3769d3adb4e88bb2db7c27b54443fc749f05d63cf0afca52781d258cbc005c9d33d343dd99a16adcc0f8a060ad40c51ee4ac84161eed0faea34dde3c37d4a9550959bedecf6b2ad90bd9a7c7d93bfb9962725f76d4a1c8feaa311c2b4fc43ed93ffc986def22fcb52ec9e6273327908f88e69ee6194a5b2fbb9f32ec1b475d68c1715e475d949f0d96cd69ab750eb4095cf1e4a192f91db6f018e271b6c4b4a9ad24c13bae097caf3bb70c1fb59c6af5e1b54a98919611ed2b8fa9051acee5a8ad4c5a7bae24c70ff5e706369be36b02de87f7a7a9a830fe1ec237e090f7e7790f55cd70d02d1ec891126e8117b075689f22f51f8d3ed54e65d1a01b2b1afb564f13e4c8dba95c3d031a4fac7c7ab6d0752411a11155bd9a4379831bb98126fdfb8fd7ff4b7efff1ab62d5128be02ea0680bc18f9302f14f17d1359282ad0eaddcf95eb792d57fc7024a45007accc12a112045ccbadfde8317ba53fb4ebc759e0270192e7ddc2e52ccdb1bd6b88d614dc60ce8d9a0840a6b4708cfd608f2c7a0d207a4c187fdd6d71aeded84bafd0a8ef885745de2812d1d91359f07192e010adb07f681991179c21dc3e92e02a210c89d294520c840b9e6a39bf9f39c438bb359841e536ac7a59c4258db36ebc4626e8450325a4b2a5b0dfd86763d52add91f7b86d12b3f3c9bb45f763aba551db25582a6772e5ab9be683f4444409abfab4fb09d04f397ab81468e89741b983086bcf0c0ff8500f485d7e8645abe3ff8112678eada1016369457cfc810b8a8e06c9baaa61fa2fae3557ed4ac7e900dbc87fa0ea626c3f3d7879bc5a11b667d4866ac3cfc91bf9d305d1b25100945305905694ef9677cc6c942454675daf53f59a91847c154610e249017da0a404887df63c40ff0dc5bc2f88fb6cfda44f338ade8ac558289751fbca6427fd768e3292edfc39201dbdccc5e701d395a86df0e25230b589d3e1675e558c33f3c87d94aa6714e8d902c307ec241c37001e8b252ac536b0ecc346e02ac6406fe36b990d221fbbdfc9dfed0c33931733bee989c83839074f016360bf93bacc057d2d345b19bb6640e97e73079339274d1406aed06d0305ddac24f4b911e9888d9740141ae7b2797dfce6436b4d7bcde68ba972a21d12f9b4853c803df479eb9e2c0b650664d8c9be527e3c1742d0ab95c23ef26e55e74a0c0450049ec744dadb50de7f0d524afec4afe0d01e288b8d3cdec01c1387544d20bc6a1ee07510af5dcbee697872f28948353d25247e63c5c3ae0575b5184e93d86921f7e62ba632d2f446023183960856f485212b45c1b04276e0e3b5241509784d660ef023cd39b3061fd3c769d03f35de2ecc7e5b9ab2cb014f8017cbcf5f1b4c5468012cfdc4649f31d4df827daf68f588e70757b20a3551b2ba693f42f8d28f03426ad3d1d1326931e7004115f4cfb04086707b4751065e6204f9cfabe6e99f1827d8ee7889bfbb5648afbd7f44e0a555fe47511b19a3d1e30c42fbc0a5ea98ccd9f22fd90bda984060fdfc5efe73a817b9c7f9bde93880108f4286051dd9bd4d12be70f714b710d4a97ded38397c4faaf0446e6ef868f15749ab894d15b7b4b5153aa339a23deb3625ab1b3a949f51c414f726c4a4fcb4ccb9bb72187a6f6cf9182025c9e01b16150efee4ac599e6d22484e15c8d441533ac1f9332af09703897cdd9bd6d866b626739939ca9787fdee1ee85de2491a7f1bb6a9bb36806a9596e8a2fb19db0b2a9477d110bad1ccb3ad501d4f6a284a9934e5968c192d251a6f1b3ba8abfa8a4fbf2801afd1948c1cf10080178b6acdc4bc010d38e428f4bafe1813322e49d911a3644481ba46942043e2c9bda40ac7bc6af8aa777a1da960272a2655ab01e6db5f7e473fbeb872e3230cd11e97583e21b0a322b875a6ea22bc87f61fa4700673e14ef638176e9364f237f3c4d995522749372fb745f0d2ba2d15a607a22ea662432b6c2d1aa8deb4cf54795011850aabdf8964f159690a2df614a505961a557dcd8ec1013b9d33e2e99a25ffcabcdf7df70cea607a45e3234d48a55af5de657483853a2ce0a80a27a9f559afa8626b9f35a748c00a56102e2e7afe8f74403aca1b53e5fe041bc12ca6acf2165a09b114bd1ada39ede2ac69cf473b21d3dd34bb1ed3ba95ba320760dbf7d252dc5cd5bedd677413bb7b57b8a1c05f1956d02e575a57bb8479ec0d85477b5a08d929f303b75157e9e47603465d725a5051b7571d9d18cafac446d0eb0478d6043782cccf568f707495f7c8720ebd80ef4bf5f098da8981803f32f84e855bcd4be623d7980f1aff48090aa5c5d66d587ac650e643090eba56f1adda7a8f444377f27a55e2a0090ca7992a3e1d28cc9620b829521a82d7c92dd72c92236e6d4f866f8a962156ae8ce61d91603b943d815d9a74b0dcb5a354e75d140a9f70e7c854f48b57fc89d5f0c89d41893aff3129c2d9316b5a7b7c5ae04118746621d504dc50c260fa456f7c1a8073887e18239acbd368495ef8f5b0f39a83bebf2868df04132bf5001c10766a52a9b2b7b38e5003154107472214c16d3545ae366cc85a07e04abb7ca88a2d8cc44748a9c6e794f9fb5e2577e4e3a9cd1baeb418b76c693bccb1655144ee71ca98d31cb33ecc169c1ffaeb7b1551c1d745b41a3ae17be1dc73738970505583beba0a2a93a16195f0f0cf489405d92fd70fec289cdcd89627e309867ee740f693502e1af2f238be6926c264615d290c3a575377252cc4838e181acf744d52c87013b9a370dd4c6a1d9132469dbbecbdcc8593c48d4de70be3039f6a169d999a6c2d84b15f3b7ba37bb068db325b88dd73c61269c475d1b881d2223d782d8f33590b8edd6917507bdf7100a493a88d2f6ba2521129e73922516d0dcc746ad3801e0ba068b4f25b10678b671712461755a70db5a0b6c6f18d2eb25f3a426e270a80fef65e8a8a473f5c4c24a497a8062afc43fed8725968c58c2fa37bfd39fca62e41e550837218d335b311cc621c745dcf5b9270ffc08ad60048e212f7349d692da88ccc0268ba63f5ae553a3c72df61522a2c51a4d8090bbb8810113e7a574dce1dc5d697c5d97281cfcc6148e76d77d19310c4654b1d25e62d3771cd376d701751bdeea229fb4406082574868237325b4230b0d147af8aa67521f2ba430ede9eb96f86ce5bbe48b13d9df1ef67312d39a37c67f77086ab7a44287880425f7b79543de4623c703a3826c2bbf82d9e39b8c5cd17520b6828bd7fc36017da71491b199aecc6e2e15bb25304c40a148317f07e9dea100e0c76ccfbb5e993e1a7b9c96a72c453370c3974c56b3d2cf5ad962b59ab6adbcc6d981c1291d5b0f11ab5f610ec8141c80a5835bd8062b21ac762675d4a2aa84644acf7dc91f2091e672751e1549d5380799f6f849a09764ba4eb7e78f81f427d6a028ee7e0bec7c1bdef67cd9891527f24b20d3457e1d8b7b84d14a1d773c499a5043c1047ba26afd3628f8926f9da8ffb7a8cd0e31e7bedde248af8cec48a0f971226b9263bc5aa5a9c879746913960b7415c997acec205071dde7dca7068527ea0b2375a3112a627eddcdd9d068276e873739e82bec1c263b079a9ceb8227aed1972c1378053a9de7cf3f91a5a6c35f989f049eb9259dcb572a4efcb9d114664a730ca019ff9ab05d41f39e7e68e6a90cd7bee93e0ee446b8f5e2fd646ebf6f715872abd3db522edcf895b42f28995c072d788d376240b871b3849cf7b8f6e3503882d13ec7e376953889a55d0bc934aa2dfe3452c851834330a8b45f59054d4acfc2438613b95776df78d29f1bf440261b0d4170ba4646a8ed31284985b664f4d0d5138da94a57415e5f8e0fb4b3d52d0494c11728347d65d07d93dc87b3ae413aa6ccf9a32dbb59806883175c1915c8f800ffb8db600f79582cf906ba9fbab338f2c7d30396d184bd8fe22a705b45482ace75e699d69274c2a96b02b0407df205039975b447d0044bb8d9ffdfc8d0d65950ea186b342b9c17f8014978ed1c080fd49a3065f94dc7233373818dfb199e32525d9b511ab1333d09aba742d62bed04b903d29a0b9879560e713be1e6731093a65ff2984ed4332f6d20d6658245a813d64dcd0ef6479a43a7f3366dcd06486e7e3df5836f37aca6ab02b82bf654e2ef684778346c7a362eea38e9b8effd4bae55ff53aed98a3ccc2a23ee02170492206740e17e48d3a1f169927b130548af34cf7bce8b83a0edd2e868725af8575eacca7681924750b4ef1598ea672aac38bc6cedaabbaa3115987f45a7d65bef2530a5a2d7741109d32f9be427005290eaceecae6c4462e67764471a716d00630de72f159dd396ad08a74533351d5250beeca1d32c0d41baba7060bda26ab36db173bcc6c3f359dfa128ddcdd9baf579250a54e7982e038049a1beced892ff0c1848b82ba745808b4a2f344e5b23ec904f97fa0fb03755557eececa8062345c91dbb7aec747ade5cd5818690e6aceea19dbdef62d03519c066fe5a60aeb3470aa2ca604c17ca98f9e9157e76ba8a92f165645f0b7601a4e2d49803e9891b4909103c53bc3fd64ea0ce7dbbaad60bc3163615bc9bfd4e469d8586339518d830411d88fc2eee48da8ccbd2a32de917d34edddc566fc45a37e1403873c5edd40256e6c147a41b222960a73d8f91557506189ca80d7ddc8d2c99c4a531005c34725a7f1397db1ec7d185c4232c1c05cf8ee9ccdf3d8a0d85c9b72b37207fcaea8aaf128b6249ad215a713ccece189d24c73b76381099602c765dfab283f3b206c9fbec02bf630f27abafb5be2cca372d9ac24a78a33b46a0e82690ce79e6d00b24782297f81c0c0f77f5566523ce778f23defa98975e17857b75cb816d0ab076c945ba68f4c8a785b93d84cd331fe4fb34b5c79e121a9bbdee158c856fd3e4389bb26dbad930af434c29d6ca1b5a28ed84dacf9c12f3eaff893c08ed52d0dd0c262d03cfe4fc7bec7a333142f680e81ec7d1bc1f33c794c567e8d6eb06c624e94577b5136dafa5325a334f667025e18df29ab18fbb867ec33b2719c1f12826d554676b04a032235439f90ee328859ec9fd2a6ca332500c9a34f1ff9d9d3d87ef72ea4bf6e602b755ca96060159dd0acfe1ec76ad7ae1612fa1a5cd17995a8ea7593a3ad89eb7b479346741996850bbc4771830ba837d06ef47329e75b3ab5f6f652dfc3732cacb53a3dce6bd03f562f9ecfa49dcc92681818e59eb97eb10c6877a38a81bb445b0d991f4f8d199b262a564484ac771b43440c9835dd41bc3468e0252c6966c2919f2b9915bf8f174268d52b90446dee35bf5bd2ba90ca28eadb185bb4f1ec3f9d58fe0bde29b9794f379cc08627b1a40a06438279fad9a4a2fc6c9a4d6aad98f9d4dd991c9284acb0e59152b442a00bfe7a3609a99ac2b74c2b427b3c5f827fa7e1a0245a1adb2d6879d8143c06e80650ddd74e4199d91820d42c7d1ccdad1183d07f281c2a61f638939644acbe1f31ba634c19ddf0423dc9e7144716130ca72404ae9836e8ab1e50bd540b8e4cb145f88a9e8a54fa7ec4c19bbb15760aff5d96e633a4046b2e28615028e4a4414900465c0d32fd74364c41129a8ca29bd4c024d8915e75d1f3f2475974a034b0749b1191b7849b343d2ec41dff80773ceca765dea243db1606fd423eee3eb45345f366b73a3cf1d9ecf3022dafb35ed0c25cd523ba9d6d03a141542f9724f0252631d1320c8fa2516af65feebe4a75a07404827a1ae43a4f78f7fc838426404ec079c21e8358b709e8444de93217bffef9db07cdc80fdccfbb6a9be9b7e10cb5600fb350d36f69f879d4ba562a43ef625814856fd7fb3ee3f488709d8d5953a4abc2dd79e06fde4c41707daabebf471e7667b2cfbef17276d4072a9b33122cfff85af15bb0bdded139c152f3d81eca2f9a429cb59840ebe5f27c13222746718f4444cd28402dcebc18c626b332a768409f2bc5f10eb4ef371620d4d0118745500822b9ad7e1d6c6fce4084497ad5328a149ec872dbc323c65a8ebac7dd260a205728a71045695cb2ad826f0eedac31e18198833cbcd4a02458daea3848e09a99a06a48649c88f37bd233fc98421784973d84960844fbdd872151d1e8296153ef151eca06219db6c5d73bc9a75125a8e62b5741aac9f146f617e168d64b2336a62348e6f2c4bb5b63e6c0d6d1d8f8f1019933a89d7a52aa7170ddbc488ae28ef056f20eb9d5decfd2ec0332a122213ad3d7b85b562f2d5f80772a147eafea24d5fcfe9f5d0372411a64997170cce79ffaf232dbb938aae06f2831678d77ae23b39c694bae05f1ba918c2b5d710a27732e4a0e80c4db9401dd07a952519f297b0a27dd8a0af998d3eafdbe1da21703647479fc4ead3bf3c5da8a07eb623af749d25e8c5a09b3dc7e906fb2f194a6081cad6d0c71ef629f274c4d55a2900f51cf71fdaca82fa018cb788ba65c9934420f338969d328f42beea32850e79aa3a41d40f09eea16f648327efacab4db880c4798d0fe4b786e8d8cedfd268ff6534fb7e15e3ac15f3d4f8d4d06e72d2213b4fcf44eebcc2b2ba8cddad71c1b50313973c473cb881b513cccfde9772dc872caa1a9774589aef99a22eb86ef1088d7a3f9b077d6b874d94f08b4d80d6f7c87408b5fe6e2fa1a4c60230adc7ed08c5d8a729c6e6b124e325135300e06f5dbab4ced244ded5d7940ed4880e2ecc6a02f367bd573c4714cb9555ca615022f5643ff6c89b472637cc7f599da3bde1fa11d3e90ff3ed9c7cc30676cf18cff710ec88ede055169a94d484c8b3dd40d2e73a7dec5448a2be664a45acebd0030e3de15bbe07730ebf89755032f1f37ef158bcec36f408ceb06e6258e9d4a49d85b4361503ff1c585011261bf192a7505ef68744be354a4a20b16d2961ec8324f076236d3bd17014228da016a1a29ba2cca6b8d037e3bb9fc164b4c35b3b5727c080aab1008749938d61f7234e1a8189defd96410eb6d513d3a0a7f4b6d76d1e16d305cc47cf9871d208fabf947a89a4e24dda838a5c89c2eb302e4ff6e3d3c5009dce339736e18ebb5b326ec533344316b472851042ab0b19276492f249072fa11ec44a79fe9528d382146fd7f43de9cd3d6b53a19b7396e017b80b4751d950e0a6c6b329e9828550c1b3b8411466bcd0155f399183e70e61f5e7bbdb29a0fbadd6f6ac43fd81db418b5628274f24197c079142faa36ef2e8f2d445449693295b7918d96caf42893f263d36ad5299a6e3d062985408e89dc08cb7c8328e7aed3ed98cba12748a1bc8ad09b89ee703b5da66c83bea0a94ea74e048cdd41fc246512a80a51c4399e33230f98bcfea315c7608bbdb88326920bdfd3d9f74ef2a4efa3eb0e9a8956294ceb3b9d2589fe7d2919950327f57118383a873c5021fddff35b0e9cdf6133d90e4ff1889e783eedb55fb01e258e5de9fd0f463b5b8890a0aca9cc2c95393a5dc6a664a0849115c8596404acafb0dede29fccade55bbefe3eb9a966e064f68ee1b305d601af33a84c7e7ed23ed089bdb57647c69bfc93215f4f746b3666c3f7390a3948ff304861d9425f9f0eac4283ecc95a3cce9c47cd247255685f2f51f71de41ebf94a73fe278ef4f37e870bde67c96c7ecc52b7cd2473960ad4c9f4f2e0fa85ebbda7593ef07dc81a93bd2ce99f4dad03d5e45e8d5ced863abe21ec682756b048a6e657676d1fd0d0672105faf63a2f51eccddd26c59426ddb2ffcad9e48bb4b356e2846ce799b6ff324a7d46d0097298308d09aa6dc1d38d15d233062a17eaad01d9c0fa1fc23f6018f9c8b75e78e28a8c1a6db6fb4600670f1dc710ab5498a0fd3f722d13790f101050dccc42d867cd4f02c073ed3d0c7b493e5e048ba46a0da4e2cb6e8023d6f0665c06e46320ce6e39e36523e2b8bd8c5e7d5fab7dae4ab722209d68c2952463dbcec17111daab39435e6f8f047a0052e3743b5ea96451e6fc39ceba5e03a4a189964b2e55c68a70321856fd0737b3c52716a87442bca2157f02e58726f644400fab4587fbd3808a593edb19c27a57b288cecf1cdb6529c3e5c971dd453bcb66d32e0394c399e3be3062416109c52dfb1e7873d465fbcceb21818f5844eb12e8219a1de86010121fda26ed725ff3adb5d1cacc641f9c171e088027b28ae2bcc8a1fce5cf54e9b8f3801e4b9d79f22e8161bef2b6b973937a7464a7111baa3ea635f3c3875dc2c3765690ab4808d46a369b976bfd1d5b9a7a956d44caf842c1d43a8495f150d9c9586672f3a73136a986e762e8ff34f9e1539cf389e1bf5221308ef0c3802e27a25467d555213f9f21213c331f97323a7a5feba78165b2d43b0a65040e88109782d99d3d74f9355cdcda366e281025f040c59a060e0362c054240ac453a49f4cae0d9b8300e8c2e3f34bf6b5d00fa260e22e45ccec87cd55cc66dd58ec21b219018848e6008746908d56aa1b882d0a3aab0099575c357182a4b7431e481e9720e519b33f31a6107261d27c06f3ba1b54e75dffaa8e02197302763d557a6996c32adacd7dbf35b2ca61f0006ec9067cda16a71c691a9c1c77d0f22127545c8dcd7264417aaf3e6ef630322a762e6bcb36945fc88ed3479d3476b235b4bb570caf7ecbef3daf4ac6b060fca4b283b3e907d2cfb608a5a00ffe24421950cd4f1887d4fc8eb50b6bf0a185759347b6e6f48a066599dba215d9a7f48cd9001902b6eb8d35f6f9845786efc22997e2105cd4fb6d01665b3717e6e27662d2d670d9334f0ec9ea0b851f9e978393b3c33d622fc3c3943e6619e698c4d95b1b8c53be88d5ae4a01660bdfb958f0e4e55559460df7ecd9b2631af5ce4c107e85f9aa8cfdddf587c6669fe62e78db9cc6aa5fb6e59833aff6ed0fe616ec65391fca3e2f870f48653f6e401d47b2ae730abed128b2502605d372184bb76a72eb7dd1daa87ad0d6f49054e8d3bacb4ac791a54f83bbfa380a3d5b242cbc5c10604fd0f2baa2efb2f23dad155e4839caf4bf97bc82f5b481f7745a135dc3b6c104cca57a6b4686f3448ed99661ff41aba33ca7f0ed6f5a28d664f1d40d69dd35543a6c6966876abc7f03ede22c2c127c5ca769637109987507d54cafb5be6062ce19c09efb49d89da2ca5adba1d290ed34e28b93ad4ade9f6b87eaef5a9a92da5c6dcd45a11ccf8bf15a95d7d75e6466948b8e1183714d3c14b693cc5f41becbc74d2d118521f8a537bd69d354adeabd6752ac3bd52e8cf27f34d31dd174650f62f3b4091518af52d4f25c6848e283ad294fc9549aed352cdf866db4676c73eb7b0ac7bfc8cf8761791e44dfd5a5d1ec3bd00760f54b45f4d5244afe609e2d48032573b99ff61d19ac30ec82a1771f33e87681b5383be88f77ba76f3a901f06fa094452651246c9164ed14158f7f2e8511e4e4e0a150e17c3497fba6d72c5b1fd5d00f067d7cb1fc27b48aaa0cdfef6bb86f9b43f425629bf08dc58dd34406bf59b05643a87b9bfb6c9559b6f51bba71bc47e55b1bcf24784c6f66610e9b81b9bf73c5d7fdbc63c591d68c4c8540f2bf2c81d02c40829cbccbc6fe7af3cb0495baaa6bd34a683eb5379767c6299e2b0fd80257d499bdedc5b23a7be36453f872c04d621220f75070d6face8cea32233361932fb187fa66052f304e3ad3572601ed8ca6f9aa895b764c0a657116c11d18b05b4cf8b8bf71c62c673a15ad04fffcce7006d6c2ca15a47d8080ae98002f69579b30b72aa756a90558e6c1128d6e120cde294815e4c17023de2094c2df9cb556a7cd58c7c5ba98bb1796d157e4192f226e9f2635b3b51c00ca132df67bce365c3518f48d293333943d8c99ee458788c403fb17f6c54cc419f73b0eb85c950afe1c97d0ca4b054a5f2eef7bc5ce567aebc99f8accf33c547b386c89f4edebcc20cb68880a1db003a027271898a08c0cf2299b635643039f8801ca54d86f3d520d49b72e127cf1a9670d223400bc100d9bbfb52b25c08d330cce73ac9fc97865fc8134d3e3259a88b71606a479e4fde5a63026e2881eb50a37c96849e4452023fe00338f15e5b8d63b1da3f1da32c0f57f4432c586fc57de5668ccf5050488020f9cc3142bee51a442b8790c365eb2959203130a57256e2b389bc01fc96a110b064691a9f558e9dba3034824d6fa26b1d50185db39386889ab52b77dff203c90f30cf57db81d9c20336f25fc46a58e4e0006ec50d379a13ab7650f004bf00e589cb467c730a8038f7cb415fca1f58763695dd523f783cfee4acd6518f08829ce520021e52208a35dc11fd42773ba7d364bbc508454ddb5e170e158e2f291fbc58470c7fd1d67e557f06f70558a3931474febdae55b831d030652c2a46aed55916a06b1bf12aa932e4a302d65d059726294bc0d472ee1200f8dd60b9a5fee8a8df76bafbc5ea15f59a0922cef67ac5fb9ab8380902364950f8a8d5570501c3cba3f06c43e22d8de78858f3be3968f6fe2363b779f6c9ee0d3a0b66c74023e6ab51ca5b80b726ff01345477aecface3361d9040537eac929651b41b773c7731cf243756f8aa851af5f9d48ace43204c71a6835fa51d6851c6ee5d1d7a9a3139664c40b6f5511bd0fb73a4f714e5d7b4b64e222a52a8e80e3f8782b81b9e5baeed2f81e14d8e6cdb091cae3dcbfc8d34c3d96e6c5e74f201d294a59ebc4038b378f39efa6218648321bb5f0bde79798206acd3927a649a6ca16978ffa9cc0b3601aa389b7d7a3d2bf5f3b7e8b04bf957b159c28f073688e9bd838b158b6912bc05d0e1989becdbe08052d7ae2b122125384c0898fb64d21130c90f6ec24eb604032d76289663fd1aff2b329713fc6b08835126ebd6d6cd4e82178c39dc0ec7893a5a771e464bd94e8523f6db775e965d51769bd1b8ab4fde35bb6ff8d225ded14a0805189a1de717c054c53b0586a7a38fc51e21c502467d59dd09708eefa4b1c461e8082f68232c2dedf2d4f3df46076f012f","isRememberEnabled":true,"rememberDurationInDays":120,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
