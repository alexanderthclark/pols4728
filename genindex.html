<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"0efc97c61f38ae1e174435b24fd0f901c54715b932329cfda826e054a386a9f7732cb9e3bc9f3c48aad4142bc645ec1eb3abed9dcb0d5757db3874dd226cd33b33503a2391bd9573d217f3be856603c9d85cac033d11ce22c5a284af8d458a693c3ea5f38a96cd3725dedc3d3d43903d9f624ba8e5d4f917ef0a0106dae95d75758bd8b17b205d5a315ed7c4914b3d3ca2312c5bb92c49e4c4a84a26479170d64ba2c2535e892bda6596f2e968c028508560fda55f60f050ce8c9ade62f8d2add701d2bfa8d163bf7d964b95367f6f2a06c16b274887500bd8598a6e5790d46a56f75743eb1883cebe807776a1f6f172ecc26957740d54850005ee1efbb9d79a13a11a35373bc15ea43a3bcb3ae27a85aaa8feb0dce38be3e271ae27602d6ea4b3d8ff53367abb0cccadc5050e9ab4e53c894a7455a027adf4e8489166a1413b49a83e6c3637dbfe1f24c3595827fb2795aaa071efc259e118c5027bd39c0dce42a4c427debb529620684320c21073544136eae871ae50113e3f950506b1f9093980433c0d760c42c2416856a20902ee0feeb17840023350a326f1aa0b3f302352d56327e31ef08506348e91cbc5385bcacafd4e050d028953386d4218059664cbad95cee6e832a21d78837e0d7f14cd74c1eafaedf27e2e5e5f7883f96ddb8d79b443e8f36d8e3efe1d77972a0152126dccb3811f35be91273d233ab3d1b14e6ad075cf8dcff376ab872fc1882cfb885c4a560c3bdbff11d78a4a418280a7d5cf056d307ca6078705ab5abe41da4c2302fc34e859551aa59dc8e4cfa8409076117d2803d8a86855aa3e101e7ab567cb5cdf68e49450c85583eeba3fb9cb9eb0a71d940f77377bffdbf3367d33a3674604d598b4b3683cebc6c2d217575c9307217ffd9e3d95ba89d6f3442aab92061cfd82ecd43487b2c519f8298574b8d89a15dae757973376c15a17a4992401c202abdad5633f51adba5fe799f498f50feae5878edff09375e6cb2cc8d8b0f80cf4f84a21d444b40560fba286b2df224c5b7338fefba493625110998ecb2781c045809b09084e988e637cb0df04c703a1a2e47d2f59df38bc6bc69d92a4cd28bd480ac1e47b814d3463cb37289c9d698911876edd9cdf1194e9b887a05212f951065a3bdb577edbef31c50c696514b504f6e0123138cc3e60ffe946626bf13e15e87c52be67207cffe3e1e96635b24fde187cdcfd75c00b701b52e8cf0d62180289ea008dd9e49f758324f1770c79720c81a94fe758c9526ce8dca9a60373bc3d66ea7087e380054e4a19d785bf7b91e35db6e364d52213b0bfb33b84ec76ddc835145542fe4d1c9cf7e65c2496230d966973a71188b297208d2ee188b3a4193d3bee8cf134397ea876551f5d44c1ca61ed9ff45e08df7850e3d403a85706c504e858be937abfaedf26d972564d5ae469626449e02ceae20cb68774833e73cc4a24de8f33e5f856011eb2f04436a79afb3ea05341e1ab665aa49252d3539780ae4f14d8164c1bd7009555dd72561642745879040eecb6059b8e8cf3d9cafe167bac30c6986d51d615ee01c2f2e3b86ef18eccccc3529702a62e08a27951acc07174c8494c508017c6d7d4f64e82f13ffa9c3bb806856620d4083f466152cbdbf5879273bcdea95e79a345dfd8238eaa69c936e35ec6d6d4ec3874e92e11cb25870ea619b82725c852ad4a496a64b0f1cd423b4d06e293c910b967313756475417497cf339544b4c1ce79a53a1862db03d2d43b2db214f08cc896a6997a2ad33263e1edbf63b4e411a12d72feca7f9bebfb84f99bc19299c65096f02281316d096c4766ef9091833d78f5c9475c86fe5dc09efc099e6a9f75844f20572fc19f92b20dfb3531189511cb7e97d599c70803d6b8144b2ccaca7ab39201aecbe61d087dd0a37c39948b20bc9d313ba618ee187e6df554eb6f8caef27cad05704c2d398aec28c86bac446b0a73ea757ac70aef94bd80187eb4020056e0f8bb3fdaf15d6561e3c8b7794dfa6ea1cbca722957cbdc9ca86b2ac0d55caab90c922ea3e5b2e7b1e1deb2c0e2fd6bd07d7953e8d3e8b3bcca900cce88cfd5d7addf1314acc21fa0fd858c68b70393d269b327dd6005dd35f53eaaa76029ab68a343e284182136e39f70d329f8eb03f5e0221281d648eca79eb6615067a5b1f8da8a6273b11be740f2144a8a37c796332698ee4b3267971c339d07231c47dad1a1ba384d1990e20323175d6fb6ad80a8418bfe28588a75c44ad93b5578febaae63aa32467716b05048225357385ca8d94bad58295879f532ea87de820b68f3c1b6e99ae2e6d5a0bf4803b1451c38374fe858ade1421643958a140fd127ff7b300ab87de66f97121b18e8b52af60047085c5a2df383397b8790916103632814699eaf0e94cfbf8d304d692b0b0606b2904df5c00769e5fb3cb247f327ef8e202941c6c34e9bf8c7dd257c370d6b94d07f96cc71589ee67bcccd7d591530d761a3dc396da29661b346913713f05bc7e9bbdb8064c5d9472facf85c830fe19a4c8689c032aaf815c13b6a38a25bd57fe62930c3ddbb51c87906a0c82d3efa9175614c07491eba5a46613a117cda27b49b67864a6501a05817812958cd4122df9e3fd4144b2c0e909b2571cfaa72fd127820a8ebad8eae6ad02c3eaf34d8f35b9d6142e7e16c6d1cf5b3118eb0d50f05a1f2c04a150c3ecefd712f7a3fa826abb1c11a14ce12aa289e65c223cfd8df070566f0ebabf9c786f6dcccc955d1c1efbd8dfaa3db57c4fafdd89bf4835501a15fe75854ddc32f125bda720146a3da4b4dd60250d4e1699cf3dca1712e0372886dd705dd7060689d29f0550d7b57fee13cbf35512919e8d667b937c3575d90bf19b18517b0ccf56603c77497c2212042baf5003a4301de8a38b5e080daf58698e722a70a129b88ee9eaa2f82370e07be855c87a5929ad4234f48f4b01828e05b0e6e6d3a263025f2c978adea8b6797627d0ee627e4a45ddbff93e07bee3054e242cbb6903b4e85256d61c4f787e65f592b18ac71b59b59cf98666a9db584ca7772f3267ac04e3cd0d9ee3116a1d3a515b3b7d010abe06dcce76b3452615c7966c2da66e94f74a4efca6170287624ff7b8648af9a0e404274a27e2490ee700a531a2b3ea9a9eb376071a4e22acb69577fdd089cd00993fc9dc3be4577bba9ca7c0f9c8f9c1678d9ef8acccee4818b2387b0688121a006939b01fb844d69ec98bd918a15ee65824ad9de7774c06b86d067565a2c007950ff9d15a2b1482656ca11c06e2b5961ea952bdf84d8a140bf2837d907363ba956cc5381f3f6cbdb25868255ea17e1c9a833f49dcc192cd658b75bafb1c7db0b3d73adf2c9bf49bbd8f8bb85a2d7cb560cce66fa620d3f326274c427601d508ac7bf3c4f174bc807cd0eb5d55c6a9e4ad000b09593e3cba74b8d2cb85528cdabaa14d5f5e00dad867889db02e09c3629359edf3faa3db30fe737e380d7f604ce321c40d0bb6534ab2fccda92f4f3929b64b559ce5a28f8cc61dd037ca38656976b7ae04cfa9ace5b2a4a293b253afd43eaf52599b603aba9868ad60c0916964780c43c1dd5d36ec5064ef70160f80ab438ffc80a6ea3094e8fc199a53286e366f1875f1b75832998366f1d7cc4115a613800cfca4a69598e22d54ec44e70ef707bcb543748a9cd3f64c66e466bd4cb9cb91538318535a2c68e816ba0201b388a4d9ad6d3cbac770ff0bf527533e58eb1025f80592ed31a9b914355419c26dd2257797c095d94a1bb2d1d6e562760cbf046629b8329e6e16a377c3f4adb76a064f427aba18699c6438fbcaa51b37977518d1cfd7bc00eb5e00522533efa99d1eb7af1515f034bd757bffaafb9b4abd267374c3e026fa8e867f42ccc4664bc73dc78f16843e5727e46ab1179971e36b8268adb8f27cc9770e6b8dc2b3a3eb78d44c74aaf8b84db2bd6614aa18d6b30f4542377cc162cc168e79da6b43ba6cc956aad04a28ed829c47ffa79ee9652739da44cbb4bd9152ab8ea78da1ae82e0c3c4540cfc6a49e95b132cb6588b09397d7e05e6fb0ea70ba1a660eee56663235b8930f942d77ae94a9b25265437ebc5aafcddea7c932d72ce895be16a7a6b9c92eb0adc92776e8be123bdeeb636a562d31a74002229e918686615b772fd3936ccf9e1e97ada1b6563d686c64ba9ecf76dcc9778cb45b5056519480f832cbb1f342911dd300d577fc6964efbb2496c42f40a34e64efa7224c4cf144a4eef51aaa477e14e3f42b8fbedebbbaf60dba27e25444c116402273463eff401e77fd0951d2761b4a83887e48c016b0e13f2319f8dfc1a019c8e72ccf2eac94a83922932d899889c8946dc488759e16dabb76f968a988731a22158ff6a3e8c086dd6f197283e73595c903fbb985b50bb1fc695b72d1edfb4584fd77929b375792f6b90581d3d1a281371eba300fe790f1b532a88ac6ac159db7f8dfe857bebb86b723946517fe3caa0ea2f045c169c1b4b13f99936afaa3511bae9454987f669f708f2cb884152ddd7daa24f12ee235eee0c8ad8711976ad9825a423d763a682080b990ac3f24220491c67e90df2ac56b0c89fed8c259bc42e23fa66b4270c4714dcbfe277f2d3aec1bf060fbd0f76e9be9f2a852534de97ad78d1aaba2ac8ca73b16c804b8104ae64df41e1a028951169dce24f5262bd520c3c1c1df97931bcf1abb94607a72565a1e2cfa6f6c4960dfc914454114a6a245c2f21ba01907ff7f912f9644724c721bb061d28267de87bb941985e4d7c0fec28fe284df0ac29d966dc471665400cfc5d1ea2462d3b97b1a676c4a64ff5034621fc309890e188b4c694813a42037388e4432b0f904af71912ccb82f3f78d1b026da5b4c29d19c34e50e142042636b5b6284145e82ee530fc5aa861c8b94890c8916f7cf6213bd4d7b30bf83d82c29dc7f884d7f80c9909543a15f8e452aa6c165c64220db8a622be2d9d9a65e64e845bf648a9c13bc852f01be99f8f970e9954bf46adedf8014d421824524fd3ac55b4d9ed2704a5a6c93f32292a4fb8a6dc88851bf716942e49b53c11e1659bff23f7953a90cb4386700ebc35c07cadf2143a12d0f1fba73c2ffdd13cfe19e30a325539538195e4345e16fdb6ee7757a533fb6b9ca2dd1e56efc3ea34acde229e11a0b08a0d0a56fc4d8669f560bfa39fe6f68ae4abee549a1e62fbe00083549ad881acffcbe6ab02cb2bd69db4c0cbbd75110252eeb2fc3eded36e8b5fe8c7813b59f8f1182895da3b93801e694f7d385312a95e9418ca904f52b3bef3de63026d5af54cd62725f1e278360a9ac46bf3c41bd28785c5507330042f47b45c89cc15c38f85da2a664f9d44445fd39c7dff129b7f4d883466b47db82d6381debf76790dd420cbb3764a13ac62a93bbcc39be54749d6342c03ac111c96691ce0397ba704bd672fe9d8b5e17edd6493ac41bbd3e1dded9c5eb253ba4f18cb6f1f1eba963babee339949ef3eda611cd364b4c796269d5a48343af0c607a63f655a2a491367f1c06ff7a38c8d1a632622fa8181e0b2e811866244387b3df4c39f761bb247dfbf4d8739f1568252b8421a6b6f23d2a99ab577922ec5036a1fbaab69b13cbc6f172fb1f1de8635050c0e5d169eb2fd7fd04e16f2b15b737948c7212ea59cf1ab5d5c47ad44d951795113606132a74dde80c63994ffafd6793acdfab0b695bc2a2bc5c8ec000adc04a8edad4d3ee672eaad0ed79c221d67e0a2182c48052f41bc751b72e8c0585b94c778bd79adf40b201f421528c57ff19c4813abd56c4a4324f482db2ce5569f32d0203f401c0a33095c721210fff3a6d7ba5d174f71908b7fd072f0d419d0fdfb3314d0cfaeb7bcc20de176963e76092e7450f99641aafff38bbf684d9896c7ddfcfd485e192ed43ce20bda29085dc9f5b545ed9dfdc25a3bfdf36745b25a6800153df520941aecfa0e16fa561553935513c3d6f7dd55f86ef3b6dbcecc2e18a1d86b69ef50fc928a1861dcf4869295ec1bb8aca61e95c0e8bcdc2e8d459ed0ec642558471fb4ae1dedf22acbae887f08faae10a4baf92f01ba48df34bb3d9b59fa25c570121b12a97d34c3fc2e3fae5ea8ce15355f85cf94d0195da1b86caa382da8d1ce6d734836a79fb15f474239b9cd7952b4108d3b09879617e4c45189ab5ffef19376cd539646ba811fb8c94927aaae9347b148d9624a125d15fe4a3147db77e167364ea58068196011f431d27609d3a42ff34b07f3f73cb7bf60412efce7f027cadb7a1bd4e31b579e59bcf18f763dbf67f5c5c0b170f12c02603e56f288f38b08d98f1b739bebb40b1453152c9b5605cea38d36e989f7d0295484faf4e9feea17762030bb50a1dddd96463e0b6a9321462e6c9bc1b992e5280182ca26ffbf9076a00674ebe21e1be9a4a67621ce148f5e55423dad2765db65aad4852a68cd49d843c3474087890fcf66fe24256d25226e40ae4880e59af6dcfa78ddc815600ac7fb80a38a90709b0fd65691aea4c9cd4f8838ae6e31922ac90204f69e00b43021c97f2269c7a6a1e34ae69163d00b80ef1c76f79cdbf6dfbef7e328c6e8559ed66f441e91c8d651449937463a228f895bae3be342883f24031a42fc6b35ea982a949f8a0cabb5e02ac03ca41daa61ba153ae59e8204a3fbcfe9cfca7d4a0b72d5c95b859a46a0ed35c53e174b3faabbd53d3c16931552a6c8182c75bbc725ed9d07674f1b00944f84d7e4ce30b8b59bd4ef723b4865c65c4140df8b8f8b6969226d196882b86a121ffc7ec68d5ad089adb97817152e0b0aa3cc06086b3dc1e0b7fd231310053abe2fb64b448e9e75a60b8e299c7e1890439106befe91df26875d6e86690689d0fd0f938ee4952cdad456dc7d07b80b5d1e1c808104325e4220e03d1fe7995e9a1dfb7f529eeb1b9d0a69fdc5c0f6ab73231680698f86b22cf523b1e8b23348b7858312bdab8bb259e76da1f377218c1c8373c590c857fbe02c94daef1878bde47ca09f86b6684de61581f165dfad0620ac1aea703641dd6a078b4558d2d5a2ee1851ea02b2536cb1c15944300a21221a8181dfb393e2313907b0d2154950c133103d5f6af9e20c2536083f2e809fa07f2f83c6f680f8ec237bbc720a4c20702faca7f7eda4c2f5cf862c0e860557bc305cc70d48a40cd5ed05ed8cda557030024692b4d6f0cf26f6c9110eaec16bb6f77939306e4812434ef486cc9d81aaef1cea48519b5cce49d8426f124df77d6f5f54acec227f9b1acc6ca2c4726f8daf474677f42372e8762e5c2dd070ec4af2a0097fe8ea0f8462bb0ec8eb5a4ec37534ffb2b65f5eda6e8e485349fdd1d7e7de601d63aaee9f5db844852e970bff04622bc8120a1dfc2c0da0e2910e4f929ea88cef27415256fc7769469d902c5f73158db5dd91e83d9aaa0d226df1dad1abaa0e9b5233e242f2539798902871367dc31b3ae826de6f9ab6e8021519af6b1befa21f7f7aab8214b6206790c5d0536084178d38d6228a424fb36a59bc9776506187346e2110a63b8b4cc6b29aff0abcb5d3f02f64597281afdc9911e97c7862913c994f324315f8836a936bbffcb545fc8767bc56b5a66d6f7d5e0271d564f4e00c3ecfb356a02b65a0f1b91de87c6f4ca40759aa3106c33a67c52df29a2d825dfde50f7e8e9c98b66f1f702ee6b7f73ea41ca3788d0f3dd9f16443426cb553bd8c910401c00e21c4150a11c9e70718d03af5027890fc0a99fe62b59469cf22fd463e69eafa7b08c989d50c7c6aadb8045a882723f65a492e9a37f7b5e83534b21ec6cafbb996d467bef91eae03348f45f62f4b957e507392eebc112e0ace2e5135bc353e16097394aec9fe18406c2cdf468bc698e9c4773f7653407b1d4f0ca8e11b140b208a605e2a81f0820573c83f975ff6c5a30352cb7d7fe256632a03ef84a66879d490e4b9f670c7475f8925866ea17c1bc73a6ea725872ddbdc696d2cbf3bcedcbdc57b398e72d37a0ff06c1a71159857859f3d85d44ec185b15f309f631dfe482489c98bdd3dd5af8bedcb6edeb88b1ecadb6508d6caca83f5c4ed4e241a9498892c46575126deba7cf35fe5dc6e9cf9d5948eea931d360237b6258e1cdca217c3b2db6fbef3152bf8a6f421f679826047c10cb56c15e7f0bc918cc2bc0974c9107715c30c9fab572fd3b202aa01484f62fd3741463e8b1803a1f8a84f034b2515d6192cfb74f31182b674064fd39405084756a92c4c5bd4ee3e3ee9d8ce2f29551e8dc5c7fb5fd367ef4286340885bab55b0b6d129efbf6ea5c056164b8411c3336332c475c741e2f679c3376b91234cc13028bfb0d0a888e9c38c2070c7f4618d47641414bd8dbc367cf766650247f62ddb47d8b59e7d09a6a120eecd2d735cf0404ab74196ed52af8c5135492f5f5930d9816c473ba0eb76b77bc2ea304b89a4c2afd391bf0668a6036588878ad78a6f4fd05e2e63e6fdaaddf7064e79d69eada61b366c256bdcd437ae7db37fc2d9173d542177a39e5486bd59816498cd4a795e811c7a1fda5043a4cdf4215d156a68788d4720e7592f0ea2c850edb8933e6441ce89f5b6d3522d1ded3e0f9fb3c3a261f33ff3b524fe8b90214297fb6ade4ce623f4ec982b7247329aef1c179d5edabc0faea9c542abd2bc5ad58e8f341c44ac3b6b2d39ea49af48d47bb052cdbf8260cc8cb468b9d024fa3c829fd11482bc9f6bfa267387f94bbe0ed06475466fb2cfe0497440f66070af2540a8e7f5108e1a216984ce5d61dc0a98358d533edbb379a34bfc852905caa300f3afb34df93ab5a6713a9bf3f5fbb453d4932f4e1623b4df89445f470a588eee962df39a87de8c4ea99538a3c9351e4f796394dddf493400e6a7b890b581aa9176d0fa6ee215011146073af9ca5b69947a0f590938a327d4a86dca1092e596ea331a8b6901f9a56a1d6c41da91ffc7d3e46366a3d553f11a1a3518e9eb3f2af985d82d77c788eb49b618c69c3b7d8dc59be7c617622489d20c887fb291537e48d3c223c41602b4612c59c2e7c8d7b72e45d04b52332fdb0c9dab04ba803244381f26049bab03197fe4c0e758e29f9a9f8a6656eac3519758f195133700024c58b05a6142ce3bd610a2b7f20a2f5d8a60677246636f0cff6538fb7a50fd6e329a1635a72e36bbb2fa411c794d222d7c152613a2ea17ab34633096d5ef279bf7b7f57dce5ecbecf42ab5a76cf9b43856c73c0a70c236e4737c660466ea0010917a5084a0ca1f769ae714378855b250205e64dd67c062ac228db94462c8921a9c0ab818277274d35901a1a86d7330fd8c2a0607308a4f54cc4349e8df54e392a59eb04ab7a318275299860ab636e4107f5bf38db20e98ca6517ffb50b791e5592c3447e7986e67387eec073e9f440f2e090d9586055eb3f6f7b56888b9c49638425a6a5a22dd6fedc36fed779acd9f2ae9a89c99005d953155c6c4320d686f34a6d2154e9f9a46a0de7b11a48f2f8c8c674799bd40a1ca241def797712514c5cb9520ce3e3d07ae57328a5aa123d9cb3b7da260fec89a7e27cb7ecb74a7b00b145acd3efd659e9f17782436203d758f82f38c66b6c224b92dbda7b83909db929420ec73f9cf1bdf9c95ed15ebf52e817c62a9e6714c5b036fcdf49f3f51ee1c99f67070b73ab4c6f9424cb53729acf1925730eb722c88d5427d454dbec963b995f5855f35da0b67fce75d15d5d7603efddcccce8b50e1bb358c19e2601e9b287804a0d109a789c33d453029f4e1616160d6eef28bbab93f75667cb5f0bf2243078dd0651566cbfcf6ba3df0ef2ee577f8a9757e98f8b8c1a98ec00668d2638a927d08663a42af129006a62ab814c0a52ff55c9322c552ac35f932f6277c1aff53b0b37852a1e3c64b2917a5a8216a28f70b6b628265fd59c797d9df96c3b236fed3ad17e682ab2a2ecc05559f79c3b71c19718c05aeba68f4b2fc0cae3a0c2d93b7bdbc850c888ae5b1038d078f8050e84bcd76267a014477b80d4b0475dc12b08f3c1d5ef1c0e2c50134908400758401951f173d1d7caecf0c4e592be3a037fa098b7d9615dc4a6ff959a1d749e3fa4591f271bd0f0653ba2d8739ee28a8186b36f5c00b31409006918448d3a9622c9ee67bc91e2231913ee98fcc21bba26367413b32f7aefb2abe0342f54f573bdfee5efaaeaa3e099c62e04141418259aaf510839831a84ec76e7ddcf7879dfd4ac0a1f8435252cdda954e5e713ee18b1f341ef605de673a9fedc85337f1d700c4a43ccde96b62291889c8f0e73af0302ad61fd3417b17397f608bc90c257c0ae063648479706a491619c105a364a1f6c39e6421297489cd670daf35615fa859c1cc819b22c0fc629abce96a79d25792d3179886ac975ad2d0626fbb39cee96a545cad0e36afb85b65bde279a30b4f657b622a16c357f99bbcc5b3ce539aa26793f5f6bf5cfdcfe70bc984fe68b18a690dfdb53a0a5f26b2ee6eda5e2f9679ea92f0aa72b62eb0284a97c3ff58a079ba726ebeed124e76e07de939662c64c38f775698e1cf4ef9c93ea62c3bd0d34e62331db0ec8c52f37b4b8ed52fe0594888937846a7b0e7e26b548bd1d7eb91c8f8214895c4a37ab58952e13a42d3d5a7d588dccbb60a880085aef164d093b5b04efbd97ef9945632e66c5149420815bbe8031701a1b0db32da8bfe0a12b83f2f3022bd3e766c84d79f3cfa5da17a91107b9e5a1a7a32c209d54e8456fd5553cf9f8874c67f6ec67af6fc496f31d94233b66263f3aca2fe4f9b254e8d7b4f6937ff72b54f36c16330d8861d080c99e550ade3d7b99f0212ca311a2bad80b93cd60f446fa2548554ab425ce68e9523f0b6a68e791cd701a5a81a3beaec812cf230c95316c89be5c584ae4e105e5a0deb52e2c5f150919f634ec7f31b262d2b48e59df97e7cc315c86796e51ab9fb8344a4d52b1c52bfe7b02c08f4c527b67f7f563145cabbd5bb7e4fd3527145980e7bb327149469ff2b71f951da1a2bb8acced31a6802a533b43ffca681281fe98cf4b970536386aabed2ad76ccfc1f440861e9e2f22945c6ffb121868ee39d4d8b006e75779b726048ce98bfdd94ad3be84105ff174f762f0887c2da5f98c52a097108a20e9c0cc069feb66ca721fbc0d75e334835037e609eb354c4d5799cb11c15902cb0ac535005963905e17f7e83abe1318aac94548e7908ab88dc6875cfe2427185c8025248440b6047bbb026807f7e4ae45543faf022af1a8071d73acfc42f26cad940dfef5305f85809798b7f5aa25a838210728b52f15136478e27948b12c994295f4ea99d85e882fddf2d5fd8474a07fd5f642684b8618e386090dea4c0a29db37d710f12d905c764b22e36d079e9d0b876eb9f371e858e8ab73ca313d5be46e383fdbfd80fa4401518e0317741f2cbec316ed4e58756f543bf8b8ed8fe817927355d82f228e0b7afedbbddba4594d0c5d00e0267950968a6f5dbd4ff73d160a53856dccf17424c979e0dc504d9623c5c407fb94f240cd7298b4ad59b11164b999d7751ae9221fec071c4ec0614b786eccff5ba1f4ee7466425d3282e6936b4a095ee2d1dfe676faee098172e0b1d232d155b3c356e6748440a8a38cdcf9759595c2766635cf5b8db25e2b5ab055fc601573715241b0b6e2ea152794e8bd1ae5bdfd4ca3881eb73efb01163311f72e16e9c7efd0e0f8e46bc9ab4fe2ff2cc317717ae3c4c3f4a776a92fc115538d2ed56251af67ab9be2b7dcfda91580352c6a73ba73bcec61d659662c10f14e90c53d385b1e0421ac1fc0547f0133cd219ac0c4497b773cde389c5c34fcf641aa8fc7aa6a5b5300975ea08ded950c3d5ca4340cd3755cc8ef85863e7d2767f0b174bd4689052779083121fd30ab01e1d8a6d2cc583f311390cf13c81994706e673c1d6ebd9c7ff405b4dd8fef110ffb6ae7792e63bc0a0fcf5680d61c575cecd3d61ef64b8dd7da6aecb15645667ee8cad05ecf49fca7b05266a7b7f6b65c657ea14a4c09c091205f9a44145d82bb92c708071e0b9b2975db901caf91e00abe362e0e23a80ca084d061159faa7acb87c1f2f0a273b33485c943d97ff37b0646fe68527328af1c87a55f56b853151ece37233d06e71478b91798915a8cf124e963c438a78ec3d558c8c735890098d1e4fd7b6fc24e60524232762534441d270ea5d8a215e24ff6a7a69fa8e6a5e36d65075a6969689e471da529901dacc30541f3ea773eef3232202c93bdda6cdf89b16a193b944aac1c5e3a421700aed5f167504d29e7604c5e65b684f68a2d504d10acfd447299d8cdfc26d62afccba5b796691447bb913ae8419d7be6f239d9f4664c9d5c53f6a5fda73741fdd42de9998267f74d36f773968811043cd88800dcb79b4c7790b277afea786c1a299f6c85d72d2958b8b78da15aad1ca70a5a54b0cb7a59c7b38fed29efc977cb06b777f1aca5520dd5dcc0ec9de7ffad4ac8ab748a70dda33f62558749e3fd141ddf1b36902a1cc45c420e329546733a5a4456c664b499d86e1ad832066d3db70cbb93da06867bca2011052b8fdeb595ad0d6d86907bbbc0887755bf6d4e921df162d1ec3199a16d6aa0a7eaef828077578bfbe3e1f21c465c0e697f8438ba95af97de822afd16b2922d25208deeaa5367c2bcb9071153583aaebe0c1cc1cecd73503d2092ff295ba20ee80efefc014f1f115fb383bdd742951444565e7b5392fc6eaf3e4bfea51cbc76e637a373036de65772c47b824f6d05a2ac0a1cabdccbd5ca0cc3ebd50e30c2cfcdadb2812aa59cb8fc4c6cee8f128202169268e2ba7855bdfc9bba859a5d8e4082780c92217834c56614bfa81388852b77814dcb9e6de883ed2610c64a14869d58c0f4ef4a6fc3d0a48e1ac58df66d13d466a753c163560fac6f7ddef7e2dc5cfb39857333043575a3542097204c458921e77b3bce078fc63c5fad4141ebd7a15bdf909c6ab33bdc2ace193863a5f6a8e8cbf91645bb0c1077fadf2a6ca550fcf359b108478984ba00052e5a2b2cc34014d6fc1ca0ef6d8d5e03c7a52da97d34243d2f5a2eae9fe970f619c26e07850314737180e222d678893e2845acccb6fda316e66b4280cb6d15b1a12f8a1f96e73f14b0bdc98bb3c59b34cc9d67de1d7da045bc72e40214791cc19c86289a884108e6503c0f02361bf53cc1aa202ff836d35be338a24b06a66e8e9d71167cea7f11775bc16b89de82943b69203fe1783efb8ebcead66b17e7db3fb97a95f1b812d35a640ebf251baec686eecd08c68810bb885370875da00100d26e081c333feefccc16d14da7f9777a28d1f0fd5f7906d673293b6dce2bfb1538a4844698fc1a00a12e0263a74bcfe54ec25a3600ea3702c89821d8987c2bc983d97ea8914b3692fa86c46fa40ad569d1381357d6ccd8f1ccbd28f39bde6032c312c7ef13f48ffac437e071b9284b6b6a8e386528582a7490c3778e1a6d9f47a4f16bfd3f193a441f3d2f30362c3e2b0ebf2ee683d8dc9e82fa4e99f0122a77a6fcb132bd3efec8e7a84ed207a57702d0f360fb2506fe35462f6916068f31af6257af9dac3358cb2ac1e9b22623e647c0991ac39ea2328035390ba44a89b7764270468c476b22e537febf253b664d6db22fdf353a940d7097d4dca37c18c658f88e8fa1998c31d48bd52fbc6b69786aa0b940e02d45b0c61d4b4d3272695cab2bb08d65b155539c51b796889fa039c90f8a124f9823bef70cc19016503e71c4a04758714e8ad1fda8602ebe99890f02eefeae32f9b5717ba329e65722713fe1d33bd7e9177dc04dce8cae8c0e4d2fafde91e9a8e4b452825658fd4afab3879fa9a91c11c546feac16b892c6b6ecac95554d0d1c86155bb31f207207c49d28921221bb05630df95145833cded4a98796befeb959267d7dfdbeafe64e13183935733771310e40b751a1c4f9487917208e3dfbf02a9234dcf6da2a0ad3bab056236b5476e85c3160dfaf605d97fce7c2fac6e5ae79ca303fd6022c348ea7a8058964db30f0e350461d5bc017421358130f304a4b373ba7d7d127a86cb4f495a198d83c390598056f3e54cfadd9cb7771bd38ae2a49391d7cb2a514c583c3ced7074c1900766fdcbc320c3ae1013eba3a9aa6eee94f12f72efb4f4c33bb36a43f04b8646e09dfc5adb951110f88ed42eb7dd3eb4f3f86fc9650316bc88357d91541d1a216dd975c3c3b1d81b445f981b0d70c4dc3c7bbe94e52690c8adcd9229c7f198eb0bddc74c2dfb428f100ca59651861fb93e41b6365f6f3080a452b51f56706fe175cca1a4c82c90f97e43fd506e51ebdb6f86c7cdf14923b2c972dc283dc8baf359544a503a4a6d2abd4107838889be95ada6fb754b3e640c5079df99e8e48a193231fe58488d1f485ee2d026c76eee09bc2dcaab1a0c02ebafeda188ef7aa18f947a76dca69d5144baf1ba853bd1493319181c00a04c0c4fd5beab4692be5839f4fb781adfe8b0395edff6f70b5814c59a92fa67ece8d697751b6df20004a9ba8f62f8ff63400e387d788556f1ff12954d80392b156aef29106a14a8748cf70a1e9efd1cb081ca47b68d5da944d8dfb1f84f49fa8e576bb5fc9b748586fce1bb9b5681b1ff4048deec1a43721ec72530ff63d57808c667e9b03945b05de469008719e875628ae296dd71b01b53ae9e4f24d94bc625ad08610572965f84a3474235fc707b245c45415aeb49d503be660f8a5c32d757ce5a40a39c40e46b4f26a170508f0b37380ced7c7ee7a85b533ebe92998b7dda2efa540cd0dbdb7bb05d4d7a1f5c105db8a0635fb10e97a324172ceb89a7564ffbaee4456f93587ce73122ebc981629a5c17ad1c8fe96a3534333e0a6f59701d96f6f1ff157c82c872ffd81a59ce0129306b23dbb4eb90dade7e54e57d74df4730e5aadbbcc11ec68fa90afe3e7dc5e6020999ab88b32eb7556932cedfa30baddc4cd0a8d7841d7601575aa6c84645fa639c661b4da834b5700fa7ddcaeba125cde8d98e82ada5d01ad3a9234ab3ae6847491af6d5029f1e73a7c9f774571ecb95be78c0e31c2eddd717776a221c52785a8f6f39216656c937c524ad436499e89a81ef210b284e437cadd08ad830a1428b8238155a3f99ad8c29715926710ff9155fde7c0d6c8800b80cd46850c6d74f3541d3de7dc3a37151ea8c3749af7ada4f7b0154d4ccb822e83102aca17225eedcb46fd053458e343fc13fde57d76538cbd101ca95a92e2566042100e4b953aef8dc6f3a7714c6df5e3e648d31fabef9ad9298aaf3126594d4ee72d236e7cdb4f24ed6f5fd786ff5fa03f41218cef7a4b9bf545245f217e2222bfa969e16ed607d765430e6821049551838ade5500f666c51c4628038e908f6b6375af1d9de11e9eefed839f911fd464727528fb23e942a5060c5c85f283f66b853a1fcfebd02f19c31c8cee824d393f5293425a6f3549427cd3f71f911d8fb24542bbc89b433b3161044b9a131b2b9b28dc06652a939ca1e02a43d70d56b1bd680a9dfb31ab5e192c1b87ed634ce0f24da25f10443757a386e626a34c0040cec027499de6ecbe61ad757bc8705a825a53d94e8615d6ab0b94b5ac2b2b25055bd326f7db16e6c0eaf8b90dab00a1261ce415fed0ff751c4917aacc0cce15bb1ed71810f18402aa1b245cd59c67693aeac7093d9839a49806f0de791698d6cc232fbf47fedc72097247a777c8302b93dcfc728aa441f5f812c0309dec439ea2ba55500c1f885e62c97fc8f16166ac0101b51db5356807ae186aa65a4332776be6914c42818dd2b638a52f3eadeeecd48db9961dd5f955788a2f866f2f255fd6ad12704054737c07af0e422210604b0f58478e388dcc33393aab046edac320d010037ba6bc96b126e3c9d30d67bd755bdf0de47cbc33ccd9bc9eeca23526af53a4ad34f74e2c3bcfc61ab3b0cfd60476597f83344a92890a59b377f49ccb8fe380db1532b3e549edfbae0b9bdec8a351b6081cb6112418f3f34fe62aa574848eea7487241bb76c6fbec897c02668e407f421e81368f176aa79484cf7bd78e03ffd83b558aca4e78a8385643fc8f86b7734f2eda23816effc3ee85d23a6b6f24af53bb0e568f3871bfe11853340f155bf3471c48613343f301364e2955b2706685fed499488c4cb0ebe1c1f39132f708ad584daa3cbb0a56f6d045235df908a9452b7b16136d2fd8bf4064784171e74698437dc6ff31552ad982736bc09765a475ab1f92e0168239fabd6d699ac2ed272367f749a55a5b02c1c7349b0d30526cfb0feadc0abb005712bc48c457ed6c38680c208acb5ccfd24f2463df0fb7686ac130f9df34ffd4060abe33bfcbc51da8b6b5464ce92b0bfa7c59f1ddb3471164fa86abffb1259705558fb4df4f896a2645a0e500cb603533bf65fce4cad2bb3548fb8cf058d881a6a3b99cea4fa3da09e916f0c71ae1bcfcb0dc69630694bff37e7d74da9fc646e9e6aedf3d809a8ccb0874e7269f1ec3fb94f2e230f263ad69eb4093d9a3dca578a51cdecca91c845d3a8c5cdce5f99a47d8fe0904784157eb8e8ba902150f009b603030183269ef2853e7a8c640baa16db5eea29c6ae23d8f6ac7050ad7b145bd16cffe2f700914a5622c513067c73fbc9cac08f9ad6ed7eef2707aa6438d7a4cf033cfabc2fec8f35acd372c9fb8fbdd3ca1b62a699dcf5cc140e5c80f8f565f1255edba04072986a6e93dd8e6af9ac478f77e4d33874fdc8e999a3b8f5b2a489bff25962b2e6a17c9345f0c290c9fbffe961a5696adec33e7375c6efe358309348bfa03a5a044cc5ba5149440c4c5eae16ff38c6f02340334cb9a04381b55f2acb196d00f296ec686ba6851738260099e4fc08d728aa6cec0f41eaf34c1a73f0db2d683ab40dfc913aa7fd7d85e5f0a0b9f3700bcdc7e57a411f6cc894f119326bbe5c98e35fdb9174ce45711c230175e12e1f6c361b20db3ecb60aa3421f51311fc9d00c6d3f69ca09cb67d2e1c2a7c9d6feabbe187e35d480644589f4a58f31e95f7a79320cdd7bc54013774d4d3a780aa1b103a3e350dfaaa1dea289b70b8a926c3b7685f35c31a27ff34f2f97c2467fd7c3ab9784f85d74f774f0e79f95c349a280a541152acab69373b8e2c5b86f80fb63205cacd2feca977900f74e0ff6680f29edc5dd9e6bb552f6661f6eeb5520a97ace6e40e9f12e58ae395e3b2e08d81ceaa3fa8b4b6c1144b56993158624dfcbee7f435878003523ef624c212f1c07eae20b8abf3d0c20ff22bca9c32f4149d769bf820ea0c283803912db505974b086936c75ff40ea80fe9ed32813a96eaa311d06ee4cf0424a854ce1346fa02f8e9b181f02d2dbbdcc3d3c63b9f8bac853efad65fd5b8de6c17d4fabffb8ef54220893b18407eb201f84eeb9369a478c647f23dd7e5b28caad04cccc5b33800b016072b5e22a47de42f86eb54a6600882fec6aea051c5ed0c6527035199b7a86b91cebc1a001af7536045ec884e0f33bf95aee8b516c389caba897e0e82e3f28c70e830ac0a7989448f989d6d8696186bc6f03b2577a23f23f563154632854468b7005e64f966762f0d1277f5c2ee75297bbebf57dee0508d6801bb8017e3ec5b010fb87640f349c10898015d031fe9cff09d3cfce74e82bc7679cd9681cb6b5adcbed15fa759dce745e2c9d286e74bb859f3270e084ec9f0720802e3ea2e4500c583fbf61c21fffb9c7d16cbcdda360d1c426a21da4313d1b876a3309802219b823ea9316b475eabba39080b7e4168fee65d77580e0bc73515b1051e98b40ad19f0e46b004ea527e56efb882f7e7f9f0c7646b250d1bf506762c82f00c09dc13f06f4205df2f31a7426a604690cf5122c22c53e3bc15212a32d2c2c363dbeadf8fb549e52305b4656b260568fedd1d89b5ec057ae313c7f1e99cbdaf004fdf242b6f40954d6dcab9e3952e422c0817b4a45e5551d1fc8cab34d2e4726823a0e484255648352f44f8f9003933ec4093ff6995e4e5bcf75bf34461872a4df6bd89efc732f0ab987bc986644d2e3a5e2f447771ec0ea3b95d6dba47eb8a42678a88d65e4346859ab659eea18989daa8a6714f5cc2d90d7e4d9dd61c03198d6173e188490790d30678f17fed4b09db61ed74548663471efc1a05cc0c981d9f3002dce41524dd3dd07540931217cab091f57408fe8bfc32b5ea7a04aead474e7179f2935947aaa05a3597852c95c6578ada99b9bd5f170f18165038d476b7e5228e68bdd043345e2ca0324b7e98513a5f480c03c393156ba08bdb409808a135a7c94d861f45ced53ad196a031b3bcb2fa897135e7a1fbc524e240792783fd2ff822900fe34e283255f4522043a52fe736caddcd7cf4da9f19115770487ab95263041844d0d3c465b280a46288da13f233c8105e8bdaba2aa53c8118c0b027ff30ed15d2b54b319a74499db8eacb35346ca321dd03aa418a3bebb6e071eaabf941dd9778ccc5e1a5897a90b7169447ba94c24f7e2c558711bf8f2abc2a48ddcf145e0100a18369f0f592d060733188a1cfb991867bde453639eb8dbbe67f14dd11e28d9e7b479b3b8c451dbbefcd53d6f35963cb08475bedc5f96131af798a2de6b12a952a4c29964896db6d6827d4675aa4cc0822e0c6915b43c28d6f76000b30a6637e1048328924935ec4eb4af4e315b45a2eafcadfd73efba024200e7f3ceb3c6bbafd7f6418bfc2719220228b2127d41687e3cbdb998033343aad5bf20140103307dbf381cd61f0ccd6a4aa4820d2ddc80282ba8def26607d64c1b04497e1ccbeb7907f4f469423880b2f02fcc578c4fe878c9627023c1c87ef4f2d73d0642d5c9bd2098b6790afcda3df77fc6deebcdfa990dd60e644e26fe13b19a10496a7da6ea4443b9e4cb2d9f24250a475babad09d649136b77b88e2944469cbaaca420f0b4725599381cb7224af59d1d0b2ebada9f69063a46917afd0bd8cb370433f8546fc1be9fd2469d8c6130401d85901c3f6a2a756ed4161e24edf56ef9700ace2a35bbf3350a98e47f2ed9e4755a2bb1577c1d5dc8b61ca720e5362058ece4c752743ff4df46b7efa2c1867719d0173905490ae53df991c3f3c1780c2d78d45071e6ec9445bf9d676b6d39510c1547e2701d91020d277b2e3654e4a8484a259bcfa9bd3f2844e5ef5b20ed7ccbf1eb376e6a5629087e0b6c3a586079731cad9acc9931502c80a9d85709af54b5e61050ae5c1a738db8b651518bd359dec7bc884a3a6f626a1301fda39076a87464a45daf4a0d1315116024462b894662ae50500d81d00a70831c0eb1c9cd8545cec7bd740e7b489a5118b705d9b4ad9c6732dce503a37357f1614f721ad4287b2d0d950ecc5bc27f87fb934c4db379dfbd29e54b77cd6c4fec5b675d5e34552ebd47da7724a8fd0611e206cf56a0e0dd4ddf2849452f7b10f3400852fcbc98f8e4f35e19eec6bddc4357861d0781b229c8690badaed1fc6602d7d03a21508425acd18b63a3f30faedcb02167953e16ef2fd0da4b85775c019cbfa4471af009fa1bfdf6df3cdf998e79586942fd0bf2ac5164dd","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
