<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"085c9b6832f68d77a3fad6e119ab4afa695e36ee17931284d0ecece0378c250fc57cecaeb8b20551c761f345eb906c523558338e77287b3ad899cb4b1ffca97f99cc4100d67e77f6edf0f49a75856abec58b74dbeb7ac6750ae0c720dea2e1aa615f52c5711684c2485b4fc57e2298a81e7132a397193577a1def3d871e0d739578f5949246b2f6299afa06bb9ed4664488a7826042c959b2a8ab2b4f2489ab6216841526cd76f19687d77fa909d27a0305ff8217db0e6b7786e3484c9b65c4e7d08eeec279a1ce5949d95bb437619ec5c03ce1778be2778b3b13093b19216f686ec6ffe1d2c149275f24639707f431a4c008ff99003abace127d32d1e23a96ddecba87dd19dcedde684361bec27dd498b0e6ccb21481c058a07b16b9e1a962b24155ccf3da945a7e9f3e9dd148c182946b1c56f65d13ea2e20ec3b3e05e4d58f787ef551f53cbd66d2dd18258e4388dfa39c00efe95a92aa2cdae4875470498068dd667144ef856c411490512de05b3a3e383f29f72ca6d88763ec5fff396f91358b372ac41f64bab04471c69a16eb87dee40c03338ee1bcd79e451215c2c9840d94610975a0f467cde16c34cf8e6a775ed0afeb461814efa5ce7daacedd1f744949e87f837a9ff74dc11669c28ed9d2e3e98b816aeacd75d9dd945d5b808b327dfc32d144e1d9cdfbab3ebddf855b21a6cf8a0d9f069f359bca78d7f60aeb2f65b3937e8b5d0ea1f5cad7fe05da29ac996e156d480b3eace7f4a8e111f0dcdb71579b3e5336558e1633c5053e54f77b3c5d0fda3b5f6e031c7fbd2511f567cf06c02442bc652eadd72b4e8ff05077050f1c29ba9d12cca3951070fdaf3d22d663e4ef9b2a201aded87635571b2502f1ea6c517bb9e9dc29d5d7983009fc273a8ad14eee2f29eac623f4fe916e66fd313bcd5cdeeffb22ddd6fa1219ebd4ed3a0997118bbd96024e4f1e8f058f00a47e334fc88f4e10ba8814ac6d119e9ab5ea817bf70a0735d3a57e2679d39083c65b486cf0d4ea92e5e4f8ff182fe0e0a812b73f9b2621d0ad394483529b16c3fb7f7a69aff0bb6d4813fedc00e337c5d150433e88883567034b805a632dfbb43a1123fa8f9ffb77171756bc5e5a38e96885b04f3aaefb95c427e0146fd85fee792883ebeacb2cd120e32f1cbb7f4d865f0304d80a8c225e42ecc40115c91142d4001538e9ce5aa053ecfea98063b2ca2e2f3bb8cbcc51d1797e9a1ed4ea3a249dfc960dbc02ba9ddc38fb62fd0d30978f2939595c95b65429260c884d705bad75a1436bf9abaf8f71139da77c08106e9e75ecf20992f133d341eadafaa316339fe9c0aa600e22d0595c6cb42fe681b2ea4e8340a9e270ece817208389889fcf8abf96ae8ae9795be42e0b8615a744c31e84a21b3656de53e3681fb33e5984c8220c85f5a3343ee7f28a91474443e4f83c82c9eca92abf8f39a6bd48f6ee641427d337286688d7aef1909eb267697a12d1624061c4b5fa49e1f1826df0f8ac7202f096199954ad4f6dc8aab54c580782517325c3d60429910f09618a0d43765e1852fe2dd30fb67825119c508f64eb5250c994d827599942fb2f7c64b29c54a9685604cfcd34c4fbcc2d1e6a02286ba6fce4bd2878d64a9b4f6af070cdaa55aa8259d69244d7ac7d2acd43d20051f44760e2f877317bd232448019beb0f1c3b701487685a1c6df5eae81a209ea1cfbcd4a2b98cca68753378e18fdece107e626194c65d5be837c1a1a786b1a2a98f5f5c1da9a5d877bf2b2d2a975a3765c8c978d7f06059b1d8f6631164e81341b0f1e5579a353a04372759b7200db687f6b0ab3894dc484f1d8e4acd8b25b33fcfb41ed43537873d635b74c56cac0e357977643f17d0e2b2f16504330a71befd927e9458e950c8fe83f996de7a29abe9e8f812fd005105434de61cb5c2b554567b2a61f06b2b5aac49ae701ebe202aef23b7d67e24fc8415375cc58c4db344da5da4b67db47ee6c5a67e06410467be62c6520dc2944fa3d8cde074988551d405cface5f73f7eea1f3bda14987b9edc25da0a9b2f1ebbb16eecbcb023e0c5ebd74e67020ddd84127fd5fd3e535cc6d379582205143c1f549b3af8d026ceb223bceaee6b724eed698a48324e7d13511a68292ceaf6b65ce13526b078b9c859103b066b71a1a28583f445620849416d9ff72036021e82eb140757be13122c6f92d380a9df26a2881e716138411bd26d7517c9376a8d442c29c23824c997014fa0c24b39c25c25acb7a3fc5b997919d53e2a828226777a93b6599c20fb1bb0a68042aab9f69f5b1c3c5304f8a45d0d9215dfefe22e8c5a7e9d17b5f0f1a69dfdadabac462520dded4a5f6abc13aa4bd1a28d34ffe42470406551b110553dd539a1b8d74dcb090d5207e20a6c30d7d24058b127d8fa1b09e3d53e51b9aa3cec2b55922533682e5196a0dd5cc7ed1cd2c5b6443022ff2d853453bebf64f5e8132630c6a1090df3a4f7e0c590fe17b729ab2fba90ad2f3926de94735a0385b47bb44c74ce24af5e76919a6a3c43c3130e20e9c63bbe8542882141044670045442306127c539c44542bbb3848342d19f7e1a01746e8dc80ce6347f764ea132aa33395329663a22715fdda4674be9b086acd65d7d158a865b6858a2e1d80f0f105f92e18b2da84835f1ba06cffacb1272a5f069e4e8072a4dae4b1b5ce12f535b3a53c66b904c376afe8d446223c36717717f5a863d457825ba5d038f7ce56353f8350dde2c2d53e730543e226177fb1803155a3b0a73bef079af7caa758bc8abf03dd3f9799c84ae362cafb30f3c8a6d3fed9d92b4a880a01eb99f5c7f1af8571068e4dae652abcd85b7de5d0e105a32587a594fe68dffb8f2ecc8347aaa9f7490e33b61cd79d1e93d6a4123169ab28a149c8ddc35d935392ca9010aa3f239555c5fff53b9455fbc423d27bd263626a645573fbaf468c14587bb504171c9dbddd2ae7d96a8896ea7651b34fac7720b3180cceec02ffc97704a2a1de5594ca94fb357bbf82e17704af4427d1e1cb2be67033d930131c67a1fb2a40f3e8c53a9b7043bca039c2a4bdde56657c3ee8d3536fa6772a026a709d6ae42f8e7a956c212c0a99a398722aa97c5c64104ce33bcd47c2c374a52f93ee4ef2e2a1f788b28e84ce1a1ca7acd734af035e4eb7ef2f3295f71cebacd74ac403df1d28361c060471daaf7e74c3d51c5f27ce74f4d07aa8c3b0dd3360eeaf518639cab3dc9ba5f7933b5463e7603779d756da84bbb9a87b129f2c3a548b5382c1ec0d2168baaf102c2e831c9726d97bdd8fdc40c74735d830da5f488b3fbc6a9bd34d083a853c8a875597717f6347242aba3af9f04d89ee80b9a25ed1364902a13ce602b8a77cbed6bc9c475ad2ee1556a5e8fea06a3ace7687d71667e6c2e46114a4813cc1c26af779f6f7ff219fc4fda1a9c571819b7d649c82b28edcd224528b176e0a057de3ef5d83b982c5a809a4622c8a8e666f2692de7d43997c258cd809c71a7e751e1fddf5e099d6c9f3ecd05560ab8c26780e589bbfed514bc0e9b7f8a1a3d8d0c6e3eaf56f307e82e44edd961ef338ec066761f28d6c1a1279401093419c69ae0a96227fb75250a1f715b45c22fc396b83a5b32d91579e07eccd2e4070cd3ba038094ddebaaf0037dc02d3f160fad213a70886d3abb4bea0c0cc637d3b342239ea82160ab661ae7ad405b1a46b97b96718f9e853425966ecd1a5e4abdde72b94ccdd2be46f8cd9ad0aef078385dd015c3602810dc7f382542f4d39e891842deee97ef96f1c3b3d1a79d04e2845235928358cf764738ce0c39507fbe3369a3c840a8cadd8fab3de7bbef2290b9b6123ce1f46c5bc8869aad7780fcbd8310d7b0f4b46e5ef1206b76c6b30edae8fa7b4b846834a8bd993ae02a555cbc39d2b0c6b4adb6facf2bdabb3dbc4df4726ff08305489c665b3f544bbcae437ebb086953ca79ffed437726543b0bc83890aa48ce6ce9e9439611974ed9879757a5012c5c1654e8a9e77fcad1225f0e074976deb0f70142b2d37369b5de63b3110414ec8c8c2e5b523f91a78c47e8f10312a199bf7e464b5a08e3b44a29a876506dacc0599c7cb778447c213e5bf47fb95a5f4819584cdc6e75caae4c7e1ab7045fb4bde9120de62849363cdb9aac694be3f4b66d241b410a23c0fb8208bc000e27ee60362204c7a37ff50ee8f3b2af42e7c76259e9ae006c8aed6467aaa8070f16ca7be16fb6d8d6a9142efa2d696bebc4986bf77933c6b513fa4960d203dfb511e0718b849dead4fe38fb9291e2ceb847efbec5b211fd95d6ca5b09fee01ebeb2b45e2f9b0137120d0ca0175494cd40e1b8aade800a13b53b3c57abca75183842b1692e50cefe05aba2f6afe986f138fc339cfa00152d8ff6b32adb8c1a084a04ec65f81640d72b3ff1f862bfce4d22f6c1410e6e147dd5746f4b0c98b1dcafcef8c8844931872b1b1553e31c7f5582d634918a54c996df3e062a0e9abfcd50e55327c854995ae7d5ad5bf40d385d177b19680b9404c86407ede9a5ada3b48f03326d3862586a8ff40072414e914782d0796decec78606d47b197a29cdf24aac365ddd130a980bd8bea447ed5fab442ce83e7824651325f12ef63a9d0160bc3d3c92518330ff526b5e03a339ffdb887bd1a27a7daa72fa352de6ce5b33227149122b36e120f4f0c65e7df584e60de06769b47c7e01dfde634293555e945c320f55e02dde207b226a9cf588fd39316acb41ead875aab52e1df5fd574658b7b6f3c1c9a7f52500d87a29425aab3d50e94eafb342a6185ec70283375008ca5bcfec0b28b7927ac96efa0f0dd11f3c66a85124b6147c4ded222138b5782bd619fe958f17399d71505ab562264da9e62f0449855ffe98847f6cddd4e6f368b2a1de5573dbc14ebbb12e644eb89548d8edc9e1c0e5efabe4df3bf82483be8a345bd9f0b6c06de84e41f6f409c36d64963934f200969175759dd104244e91f26cd51ce9450fccddc2e88b2a534811a70fdab00b3f6c7ba74ab9c79eca926d743bdbe082aa6a489ffbc51e804111f58130d9cbd87d1107e599efe643cb29bbd6f4f0334a05517f7b8d80bdf603c6c3bda6f13070836dae7894dce98f0e3dbf7a46ecc8b46472bbe9df4dac54a25372328625407ee9c32c9e97eaf0e10bec388bccb58bf06c84403ba351af1d550e7ef9e38de8fb5880e8d3a103856a767b4c7676ce38b6cf2c56419198f2489f72f96089f09625014c394f536f3ae2e235735c474af5c030de3b08abda08b7d7a90075ad8f72df8b08408c8d3cf6a54fda0622cedf7cfbaf3a7ff6b086627b0762a934267e5d3839ea0f88d0429af5a54d01574f5acab3415cc1d06474e2eb14cf668f3cf2aa2c25e4954ea12d6594fd4582c8f75c31e30590ddc258f43777aa8a9da3a8ba24316fbe063007dfc6b83d5d286bac03ee6493fd2323e8ea8a808b58be7cd4a4ef0aada41616815a782e421b11fbf81a94fa95c3f840bf5b1aeb9dfa32d6636e597ff977eb6dd9cf9608b6f942b7323f138dd6731c5a26a417dfd9b0dd2040a9d4b94936807036cfb481f809390d2a02c5cc6ca6cd52f3918eaf1a175994df34d0a75dac50f7c124ab60eb551295e18a8dc77461540a943a5444b8810fa88a49ebb4ad42a0f335ba49640435f9180ea7d470a7483434670e60a76a3d3ab8cb4665f87acffb0a495a93fc3beebce87a0ded4cc2430940dc1f2bcf170627f4623011c4fdebb9d4ec1ddfd41f9d3fc65d9c5da772fbe056870009bd6ac8bcd4203007f8c2f0b5f1d3b9079781e41b59e9e4446fd2e55c838372406f10fd9023700c7fcbf00b40b3df8f35845bca0e3c32f335c28e5bb6efb2096ba03ba429418ca48fd08a98b178f85ee582c5f1e4d5ea9cddfe9b5a62fff08ece1df1e58727935419bff9e5c8e4f6a994e36e8f82dd17154c50f5a6346cd2cf1bfd94295672502df71640b1bdfbf1c2d67e0f5f6dfb2e6a972076a0927ca2c6e18db2353bf6514f55243f46db3fbf99392303ec25881d23289f7f1764f9a2d96e77d95a98e2d4b38635fa4a651fc220edd44aacacfef9f76086690a3d05dd78161c9cc847b5d71a08afe103ce75863ab3f8761e06873d67e1de57457af2c4edc5b5eb45a42e481afccc3dd015c1135689885cf7e56c7aaf8b8437a5fa18098b1680d05615e3ab51ec675ebbb896b58b08aef4dbe7f0c2296dc546494744e026eebbbdecde97a08451981af7149f0b80a65c911532fcbe37ab892c3322b808cfa6657e829f5220687b3d93553d33707af1c47db7baba33330b5b024662d4461e7c3628143acf23640cda5ad68c348c9826e1ca374ecdd20a5eaae0faafd60399b1356be0f65d61d12c8978a2b5027614aa290b12eee5231244ba6fb74387ae1b5249ca444111e9aa22545318f25b49c4f473a97f738b8d1170af71d12871cf6b836846b7a6c0b5768c0cb96aa87da31d61e9db13c308b40560f2a013b827c8328e230c66e0a48f013579ad82277354f5edaa9f6b74f9c07d5389a00b18aea962fa1c08c234b7df472f1f877040a1346062a8802b6be7ea891c7fce573a5ebe9f92622104ab38fc49890f603125aea9932c2ad4b2af984f4549c656f183b71e04446ee61e6b7f1bd1e9627c1ec60e172efed8bb19f70a61e135496adebcc242c73a820439e64acca5804eca8d6ba37635cca165e03d8b76c1019fa33550aac455df079db61b2427240300347e21f539c025bc9840df6b950c64d638b9d4e950fdf1b7c6a17441d9f022db105c1bd1aadf0fce983bd05ff0e4271c7958a80318bcaf8d19f902d56d2f3b131c8d5dfb4969dfe663ce2041428f6af17245680ddd39777ea6c57a6ba802c9120281bbf0e804d33b4f6bebc6fdc6e8a8466ce832349597447d8f59fc6c7454b5f6843fcd9c882fb825adf00a4a45d8b75597d20cff91d5a831e85ac39e354606f8c534fee72967effd5b22712539132a9ff5f611070208f3cc1484d3429b23ca1eb6a572b7389cd5b5cfbd8efec7b14cf5f1fde83c5dbaa3b8538829c240550b740e99e2321c7095845cef5e05002840ac394a47a825484cb40c11ffd60800f845512c472f5bf1f2a49476ec99781a1daf01da81a2bec5538ec3cbeca74f684aa17fb360c5fd8a2eb5cb58582909c634436125e840caad6dbf4312051579bff7000ff55d0cc011ae040e6ef6032f4779ffed859dce6cb928551d567e8bc064cd0da701240e2125d7cda3f1a87c22b0809b7dbdc1048de7992795490764299db7b23fa24bae04b4a5d90b59efb0695abbd3b432e58939f0ca847ce010189b1aee730d2af7d8cec2550c07b7d31f5937cfcc8ab4965f94f53fdc386a260dfa55e28adc14fe561fe6f9dab77326852ada11bb1e015081e6f8bbf47767aefafa48c516f3400e165b650bcc4ab35484f9d748264f9ddfca86e136a6996c0d0c329784389c19297f51d2a9f7e8b07516a93c1170283c213461744d1cdd0994a06f984a34e84f428b0d32dbfa2a9ff2afda5377b7a84e7fbbb5e4162a08ecab84d56edab670938410a8fc3498b0cf232d86c516e572e5e7aab57e4973176a6935b805b11a2b41e2836e4fcdc8ee2ca30e8f7d80f2519dcd702bd07c76a52531dbaef46f694b06a130d43e6c2c8bf252c7b20028f2d8d96e9acf13b7573cc92e6aa2cb30f8d4df65be3aeb6cb8ac5aa4bef43651f84d393f68cc37246e8fdd572e23279704ba5208544cc0b483011a1be983e22e73394d3692b976cdefb57569210180af6eb24c1be80df61ab2a0c849424bffd7455486394b9e7ebf41b76e818dff6c083271ae7d91a8217b338aebc21c3a37a9d861c7cb0b47ef30e45f5b052c8d3fa015b3dd7d4a444899e79b8a553b6dc38be03646429f070e4bd9d6a5a03dd9e851817cb9332b0bab6b8c75fd768e55ec236043f8df732e1486d21e555d9a218cf25056a0ca5b4988cfbbf8eece409ab8dc7c7201694fb858260f5d26e1284590610262c33dcad4dfbe1e7d13aa3c0556567dcded79fe5e0cf009d7f600d31df8d2b1d511674b7b7f9cf2ac62fc334487757cbcb70c5231ceafbf60596706be8e6aeb8ed46ea6b9f89a5a1a2caecd1204c0830b9c05a7988b05181449bd07f88bf50ad4995b8d366ce5a79b0a703f65c99f7b469aa133f72ac8298c55fac1cad61cd111e92cfe587f4489a71b56ac9c7139f9b7a24a959b72b57980be4be43ce3a5b35ef189b9e726ada4b4c4a2381e87fac758d5d1e70f5ffabe74d72b3eb1f19d4baa411f5813ac209bae0740b2d5252e89926895a1969e465488445e8c008561ecf6705005298e42bd7dbdc648412e48f80533859891ce029b36573f7acd4ba6583e36b213e3ade7c628be4ff7afa28693709f6f863bb1ad7c561c7f1ff06ad5dbd35e4a5e1b21fe30a6f7d5aece3b5065b593bf28b81283bc4f03bac65ec8c92e03e3ceec583219d2b5a30f292153b95dcde0c3204601fff01fc73f0a6d4d74e228f89c00ae4f67e9b44a2a3b16b7aed46273390e2e7ed276086ea7daf6df01f6021ef0f0b34149cc299d1ed011b679346dfa449b2dc2bb75c5eee3de04d30132ce0899cf3aefbf4b942d663b3233dee1b215b059b66f4ad29b30ac19063fed48aff35a1e31a600f2406e06bf2ff7982adb7a3edec90f53d884c1fd218a820e6e9817b928bb66bbd7a8227fd5db80c7338352b40a1b18ac1e98db228156f4639f879d6ff35788686d511800fadd93731147f090a6f2fd677426a78afcadb8f58115e96b2acb8a204043303a9f2480134d25ee5e6c58df2fbf87f34eeff9da4da2cdc7be46642b33b1a9558f410dad7de3ecf72afc83172ade76632db95046610dfc7b51b1b8c82292badda4c8a35e364dc07ae4812e30d22ad1bc8f435c528a602a3c9be8f73b6a540225d94f67963fcdd90ad15d41c9e6eb0ace19bd27f7e516b6e83811a1d451e6dbc527b444bd9ebcebe28ac0c0af23005718ead36ae456f1d243fbd09b78e62784a92c948d39de76d8d80bed33492839032c07645345f892a99b61494a49be1ec9a0386e8247fbe7ad783b19a29ea1f42924c78e0bced5f2ad4a71bbad489b3de4c982b23bc73e2481f34fab8bee370bb039d358f02c68cdcd5e8a61bb9cca906a754a4ef5b2a312d2a1ecae1c8d61b6877380e1102ea8d9732eca7eebf4d2941d3ed5060f5ce877dcbfd4d9bfdcde6973634bfde329f23e442bc1025967c366b3b7adc255c6cfaab1d2487681b58ad6a7829fd7835e05e599abff6cbc795d17e774d40f5ff1a4cba0caba40dc1aa8443d0499f62bda754012c6ec03a086b84a6a6916feffef1d474cf47d0587a92c2ec913755a4859bd69e041ca88f6ac0105c43119d2a8050805b1fe5a924130714384371a3a0294b7164d7bee0fe6ed4ebd766633ac203754574c90ea03b5e848d49eec6fe36d2767d5e87e7a97f107a88696ce1acaec51416138474ea6d140ef3c8bdbe5dd99a072a2192442e368c2a10a7fde917bb0bdd567412048680f87cebf5391911f9afe01ee5f24d1bb4450e57286919bbe8a612c715fd387a0804e83ee98b4a12d7f2484ab52b12b4ae403675c5221365394eeec4c1fedef20a38939ba6435090819307e84ed4b98caf30884c7ace15f8309e5b5a116d5a01cea9af6d585bee1f7caa20e7ea3a3561b6a4b77e5f0be71d8e9a414668dc3cae151190e76c96477503a309c6cc0fcc6c4df74094328b4ce73ddf2af730604607ea7f72982394e3005d012820c1af2a935524f7ae46ea1f17bacc6033ad927836996d0cf8d84c9264283fdb1e16bc23dada28432f515c29d87ef2ef83270824b14dbdec3118fe16946940d98c458931f7dd193289a7bf1286661993ebc7114b4aa6b5fc5564727fbbba5ed7ac565bc1e90ce6c721d9dcf41cd7015ba20e991ea97a3f9972971d6605ea29acd6ed68a7caec655d8d8363552c67f6731e844714f82d6fa9c468e5884f84a5259bde5b9365706de6ebec5df0012ad6e00992360652669f2cdf814e619a8503f8aa10e093c898c5db64095d398487d2d918d65f0078f0fc513891929547a316b0180fae604f6f71745312a8e5ee74d9afd3275b05808545a237556d672f6e81fad26a982843be2a019fa2dc27bbea8e867f50361ee9fabd739d9d4976dbf5ec655b11ce773664bd946cf41496831f740dc4dab942f73898ac0844d813b513e7969a2e26829532f5dc4139ca078746c5b68e6ae69493dd598cba543b1fce40fe13e4fcd2dcd6753c4e734edb300de32048f59a8f821e543d963b97775e8905aa5a875997afdd9db00293a61847c90a3dcf0f66ae04a318a604fbb55ebc6aea793f92a7d2c3d6bf6eff4283be1bb5c3636ea23144b5a275b6c384abbd08b4a21cc0fa6b37a9f54d11f729841ffd493ab8b4a056b65944b6c46840d3ccbb71ca5464946b4381a657333c4311f5d52115857fc9ab30c011a7652231c4c56e7afd47eb915fad60babce6f8a58bbd0aaa457b750bcc9bc51e6ae782eb3f3d86d84518a05e3651c4da64bbfdff1e18d1486d436a7fc50e9bc1fac1c60cdc20b72369c891c0f7c0105a09e093071d9ea354246716376182433bb4a3c5faec976b5f182a2fee35ea40d8be2cd30ecacf116d1b16ac9d2f2376fa639e5b40d6afb22211e1352e1f496880c952b53c360085564e379e85f01e5175ef03ffc164fa1bdc488f3908265d7c7cf1ba09d67a08fb1147f4155f56f9aa9c57be2575be69bb159a080946312f4b376fd3d5b44fea0e7aaba18d0c2d933ef7f8d153ff25a9aebf309a865c80cfdcf36997b41fe07ddec28ff32edede9d51e71b92f567ea678afda6e818ce41c2f2714f359d5b17d6d99fec958b3e3944cc1e69943d89a2314d146598012532d5d58a9d79bd5a498a58d0f0b38db47fb3e2598fb27d89c9a41b388a5aa4fcc4b9022a263d17d9a8efcddaa88b16d4a38148383f577684b14282f7d60bab8b55d98b86d3ff8beda43dd72cf2de057cfbdfd9bb1a9c409e8fa1b0f01a7430d5e5fe2999a394e9c5315b892581aa38ae1a1435b5497ced9c7e0d23e93ddc60e4c62099e8d452c379147372c74f84ce06652ba214168ecc5cbdd3a4b022cead674feeada5e71990dfc5b86952545b86f9451affe75a86bb718648fcefbda10cae5bdcc1fc2777148aaf0c7f557f94f261bd957cae13865d7713441ba290711c42f34567a048dea8327e55c8edba47c3e06ec80aa014ae3b631aecab9c49b5357ea07d25f680ec83600091be33fa7cf25137312268b1a751a15f2ffce96813038169ff60e1588216dad846cbfc0e2993d15f6a68f62c89fe8fe41ce1f5d7f6390d48829f93133a9bcf3f280384c10f407b22c286ab0e674487d5623f1b0409884f5110ce5404971e5559aa26d7457b70dd50d93945050ac9488f01761436fd416ff1fce42bc435df5a66ebff3303dc63eb42c6db05703e809009b78f3a743790276f6d738d3e1ba86a5c704cec9f56b3bb650f4d5c18b40aca040c9dc212dc9f32955bd1659ccd802eb70a5f83d45f4e9c68721f71c290c01239175f56af84381451e2cb90dad158911af4ed76c219f6a00bbee7633e60f138da58173e2f35c4c86b67fed44b556939ee63e4e989fefed2fbc1c8b7b49ccfd19b45b0588fe51f0a1df42ae190368ff4961e58cf8ea766faffaf29b5c2a1e1ac2da772b20b9afff52825c6c1ed149d8225fce44fd35193c1e28a64c4bf7cf0204ddcb3597d6e5fd02de04cc59574da989a7511ad12b383f237cada1efc49947d99f191e5a8a4e9722d87ecd4a97eb44aa56d431b2526d599976aa216026c339abad6b40f7436d0941e296e474194278b4c3a1ca7bf5380306d588cba9062bb3c4be89f5665bb3e807b7f8de58d724850a529d29d7f25583c43e61ee5956b0f699d5a3a7e9148c2d01d490404c57c091a9b581affcbed397dcc742ef8ee826c7fbf3ee2ee18bf7ffcb6b7468bbe62c64e0a459e8870348e57dbabf953d1642435d8f4b681122ff4b6cb332e9b50826fd9028e43a75080836ff725fab654d82aafde605ea5c1579ffe3c348d230ea2f79baa86d1cf60ad31ff96acbacc759c698207d197dbaa5b6a2c08d4376e73d5754841e56f7c248ef4adeaeeec7688cd12318d50e8a018a721f9eb6dd8e3d2cdb673785b4b5730ab8001b15bc70f2170eff5cb931382b8cb1ac9644621da380648668a092e6a75a2fd8fcc51ebbc05191a6f5abc764a10526e0c834b7c8e7f56f36cbd550803634d28a9e2b9aae4d11e45a7492f46a70b72c4e5a68a49e66904fde4127fdd53575e981b0d929ce8a6d4b36d29bd0ba4b1fe68715192615610ca513940b709f8a811f3abb9d3d53aa8968be2d1792357f97db5d6b4ac921dcd04ce2092e330f6c210bfb875f8d9b102330ad9f9970d5a44aad0bc8e00691fefe41c9d6af83e9a2029575f44608b7e0c148543c5d3ddb905954bb682f5c8211e5f11ea38ae782ca0bcfeb9761f192ebd201772d07f5ef5645f108e39cbb77f5c2bd2d5646f4ba6606c4cbabbb2377391b6e54d9aa89a578e1450ceab733f046c78ee62284eaa5cb8d51bb281b5516719b9dcfcb338aec24499e0ceedb64df92afd261b2d48c852cf1e7d2f44cc6deb5421ed1e7c9777da7ccd04da1d08427eed7ca13ce99e1b40d1ac295ea65e13d0ceeafa9a18b3662081a272b3b4bd2c58767f8df7bcda19048aa5ea84020487ce71e7deca42fb18d40bceb732d720abaf4bef8e60e713e27355899aa0be7a7357d3ac3c4424a6210ba145591db11bb15cc7f132c8c68f80c21addcb543cdfa8c8e9045d9d1a4e50edfc652f55526913f66bada744033d45409c18e544144a20bb895ccce76bce1f8d2f18a45fc9f6e74cdd3b82889d297eac1c8e1145f6491cf85e3f55fd73551fe063ee8338f2ba318b3328856499fb62edc3ba33862d99a8fd919085a7d253ded61927086870aeac761ff4f090e5e453a9856aeeb87a84b741b5244760eafa302c31fe83312b864e20b14bf2d6a35ba1135106e03725f2653c19fc5a2ad3d650d2c74f52ca4946b8dc4e6e5b659d5b649740d352693bc8d9fc0054862f63b1099e549bf5fe6b3fd898957e0fe224ca36b5a765204837eacb8c7ce7f25116953ab8aadd81e363eea690184d083a82f568d51db9af7f8bd669b5bbd3e662f628c157d0af221a3c6063bc2680cd7c2cac22d5d1f436fa1097a1043eaf764a86a551c7b4f978667a68c42871bbe617c4387775697dc1617b66589255b7714d9bab568921f0066faf76a0c9e2f9dc437e9167e3fe9f7105963f25f7779d77347759dd85dda4b77a5392d032df3dbbf95a6ccb2b4c43bb5368fca52c6d7991e82b0bcd051bcfd273337aff12be58a1baac7052bde0d88ee9940a463c3d1355c175897d7d83b0c2a8a49819c2646e58984efd30f3a957070bece057fa3d6369a712419598dbfd149a62d1d77110b146828ebacbb16231214724cad03527843c0a8f3e2c2a839055ee05dbd486c81a2683a8f0b89481cd3d65db5f6b014d76d66b179c47228e870c036c9cb78d2bab715b6fe2078633a46356a92aca23ea92d9318082bcc15e7d3502e58d46de1eefe77c194e57db923b55b2e850dd754cb94626660a4163672e33df252804dbf3e0548751eef0d9ee05ccbc36cb4a9e72101ecfa59c99e2477c1b3566a06616094d3c542907c0243a9ae4ee2e7b273e87056fda4d1d100d9a54de119fdc7bbb7c29d148c1ea8c1b5f5b5494064830bac440367842e7af661b05cb0aee3a18175bbb17f2f81ad36ad3d65578307b01adc06a661fe4514ad95fb436566013ca17a278760993bb69e3432f3b4811d5f0e9ca54d21c92fc3a42f46f4c669b3101dae9d52f2d0239fd82cf5297424ce5d0c8de84b417cdbdbfe1865be227cd79fecc1d68e4113b7ee977f2f4580dd04b27e34652a4c6464ac6f2503494ebb1b149f284d36cfba646e3e6f616b6fd8ff228cc640f12dd33f131c88eceb7356413e5021cf12228c5205432930bc57349ea4420d19cf84d145ecca12e7f016c9b8b5d3545a7123f846407eb4cc6c3c283955531a0ebd6a2cb41090107f59260e9dd8bf18d0d24eb9dfd4b953122cb76701411d267650ef76504e0c20590482f286db5876e764891dc82791b11208c0e17c58c01042ffa9a9ad4f11ee79ce048fd0488f75d7ea48195f257655352e5b37aa24ed3909b6bbdf71e7bfccb534e381412ab78cc57dae7c59df88c165b37127eafbe94de3950d7c52882c2ed7423f3ad7e64c4a0438b49cd866b8d8d64cc8dee46e4492e77ff629f6736ca5cd72eb96df3e0ae099aa771a33348934edfbd01559e3ff8fa5fbadc7bcd15f992b2299c5c40a36cd5f47b33adb101af15abff40df767dba14f2c87f590299f9cfdcbaf36fa0762a5a68e8bb4d0d42cd49f781ff50163752115c2427d28c8b09d4ce3fd28faf22c7fffe26afc92b5d300ad52eccdc655e057a1f8e9fe5a54b05f28bd73ceaa3f4cb9e00ad481778db0687113a8179b70ac4ea14f7b597106f4d47e1f4f8aeba882a32806f12d7b701e03c409fcdedc2191db95373d7abd841905430fd3fae7ac95db44e4c10e01810ce551cf813ec8366e0a667ecec35a59d0da96b8e42f200fcdeb46f948c37a4c837f9b59ac67c63b5a8b9e389826e592e327594e30c741cb4460e59b4b2f572a9cc30b4a9f148d95f447bfe90c5bb8fe3e3b931345e677de261466893dadd18fbff3452df3a7139d5ffecaf18d26ce47409b1c0ae1aca5d496bdb385bfede0c56a2b685d6fa7abea1a8a0c7dacdab7b38df94d2bf7d9f4dc33ad6b654fea2bfb07473e2fd33dc2590793edb70a633dfe4725ff17478e1110894f6d47d52389267569d960fe0f0ef36fe2f8794edadcd01ddf629d7e61d4e241b1d00d1c9d4a289bac64721caa7a07b291e0e8ac596d27845ef6fc9dc8b21c44e195ca4fbc804c41563aee828e0b71471396ff85ea0811619ee6b5a6175a9692b9be8fd67b277698c956f50c07173dced97fe518cde575cddbf6eb829bdc108fb4e72899c563cd477d2a0d83745cfd0a87707f5e74785ce6fbb18dab43b0337c564c2b78cb126aa5baf64bf256b092f79b3ca18423f4c4cddd1ec316e96f75d788cef4c6257385421238e44d16a75fa37551cec28d3eafb2864cdf98e48076de422801600dd84684457c75fc012afa80b13d3b228e6e34c228ac41f1b7f8cf9c9aefa319cfcc2eb753b3903016983b113d112db3e20cd38bbac6f16c26922bb582eb422e3c2556275ef24e7e12bdc3d6923c392c20934450401f39887318153f53486404686ddea5a84d91f1820e80c1263d158ddf9fb509eb08bb15f2fb6647770cd39a159bb6ce6a0f19cfaee268b6e38835f1c5306e3c2b2151e69c709a67ca80f72f9240cead7734c9220928397eeeb3fabe3e599fa3d6d00601dab1a3826c3b33e6d956d6d875203a4b9d9ca931132507a564171fe52058c3aad91d18201b31972f116821f37946109578f457c9c0ebb21cec9b7cea0490f8841b6747058804d1365fc292ce22c003347c1c93ab0bf7a3df32d6cef02c349445b6b4a86929ba9a944a157318b744cdcd6538b3930a57cf2667196f342f65846f7e6e12ea62cf0a08d49276751ef7ea5fd7bc57e748a1ae56550773c24e846a9487cc80ba380b4817a60f27cac1dacd7c088197d4a848b43365af660788e638c3e83c834a9479d08d1e104eb2c66e7ec87691f43a01cb67ad0cc4700c9b9a05c18b9f5072dfce169e6c647ffe3bdf003f19674f306c42f7fcdd56716ba4191e1a64c97e3c044524d052775932a0aa2ee40f5425144ab3e3d06bb715b1c7d9dd5872fcd19e789c881d4c125f0c30ae5ba320ab10e333702fffa4ec6a27f20fb8e0f919fa6939d3a9c001412a53b76ba4d2d27266cff7e394a4e17b1010cd08ec887fd6c84e4190a77295c04a0ff172f8d2195248e7a235752648a4d1ed4cfda68f7af63d142cf8ba834ef481cf3d99707a69ee6f160743631708e7a9354cd3bba15f4932b3ae41d79ab4a4ec935bd7d9793ad4c88398f881b9f2dbb510aea083dadabfc47215e9f9b9b5177d58087edee654c4600114429633efc1aeb1a9017a71bbf9d2589c41e7d2bc23d65b3a6657c02efa75f8b11b0a202d9eac01e767680c9de887723070da9a09924304347e007d1908c3befeddacadfb64dcc8ff4234a662d109ecda07cb0ba0570c4dfd79d9a4e32ca7df63aaf5a1d795ccae2a040c50a1af509c73cf8087b59076acefd6d19e83b28e08fe1122ad1c3e953394f882e9c869475127fb9fc8c75132be938c32302256ee4d59a67e7ddfa2d811484321e7ba553eab93930994fc862908ae19a5cd0f91ebf5f36d53172005051124d636ab82d1dd6247fc05bd96f2f87ca75f96428175455f58973028b7bacfb9ef132df457b83ed1ae9a8d4d977d13d69d60095004cbffedbfc5909be3494a5c2014bb314bc998065db8ab2ce9f442c2238bc5359b739698f5262b02b54d335217ffc5e2379fc24d1923acbd2f7d1129110ef2492ac0556a480d0c2d3dd88472b55fa72a0b54d8fe2cb89cca8649742eb19cdd25d40c9a9b227200c00affe8ef454b12ba2310426fa86831b94c3f91e5140ccd93aef69bd70513c9e33e4342d708353e2a0634283df906b37122d2fb999a995950bc38c1e87e72505eaacaa7ba155d0deb8e3fb51fd55c702253f0d89c4a3248fc49e3e54c97099b0c8acd85421a6d6919d8e2130666a704b9a4b280e45d01fc62b511f149760c22f3ad1f2d7f69df0648becf1dc73864a36003cb804d1f07c977c1c4a341c59d7631182a1283e3f1fcc0729fe6a4eeeef2472a18a58af923315cdeda1cb97472e38eda23395474e1e884a61b407576a418e5bb72f66f292168bdc397497fb1c39cf862753675b4fa40df7ef9b0fc4603b27a13cdd80e3d3cb3046672da6a429563790cc2383430586da6b3b463c72bfaf88e834807ad066bc85d667099a23d4dd1a3755b611ad03b51deb212efc6a03d66e0d3a048b9d3eba60148aeb9a6210e0342a70f2d442b55234c976d13ae5eac86d86ceb5747588cb6c52afe6746a1b1bcd72a20da21e22e13a7db9586c86754b5ac0fd8fd985ba22287c7c86559bc85ad2d7c93b76c3bf64e7350f77f48abd62065802b51bd48b0f842e5a0e42ee6f597e57b30145e19e1808eea4d04bf8087a910f9ecc3b3ebc417fde2ca843c76723a3cd592df814ec36a7a9069a6e6bebcceccf20149f2041c23fa34f90c38d6b0c82a1b96a44b16295c3425ed43884bf83aed183661d5c043ce05ad0db8f70a9f80144613bd850bdb39fed8b82418047339cfbc29a63c6b3d74bc94475fa20aa177d3301c7f82443721cfc6246da28379312fb5b8dd9110860c2ccd45ff568db8298beb427d6c060475b8ed8f2f0f07d28c6a8a4200c727d3bb186f064129813d588e77e1d15c0be355d02c713f236af764658f637a2575a29d82d9198e263f414df4b54eeee8504bd594e7f8a1df8cbd06ec9278be885563380d3b9b14dd3668e454321597a236214d2ac71dd3710c5a2804ce8f673afa8e19d64b5b246dd9d10c870f69fab17046126c8cd6f63671bfa5a7e9509fa0f6842884b3a034e33f1c1ad321ceea574aee41ddaabdf1f1b49319ae77479da0ac3970c2843eee637bf8b85f3c4e521fe36391dbeab39da6345e406f9eff765f18bd07f6069c70f67d6baa27c556d023505f0e4e2f10f317361202dec5c1f0d93ade5f01e00836e6d5363f0d0e73c6f897fe1b0470c1746af9ba057dcdfe49f8b9f8716eae5c5011e07458862ab95b7b22109ad04f509d8bb21f3090465ba9a64fd0062e313b0da4a01f148bdbfab8576377993976b6145b765c87a65667fd864ac400d0661d6310996cd97b984625b6cfc08354ba12bfe140eb8cf9639a714af81c21a44600e3ac7e46027b170ff1df5174cd01b0b70835e2fb314e661b9387bc37f2ffbfbd6f160f935ef624590891b1d447c34daee4a095b56974ff6222c2faccd3d9ff35e028517dcb3df505bda41e7ae6adf545dad045cb642631a1241006e50505fa22a5d6337b08111fe41f98c39b6e1fa8e16f5cbeca4ae28c6da0ebe1a7a385b72e83985aabf57da1cac6f50970dd87ffcaaecd1744740ec7bfb00f80eb2a568376fcd861adc0ed7690bfc099e4c107adc00d6758b2b1eb52e233abdbb70929cf1327aba22ee75c005638f8efc1f3a414b0ee36505100d2488c3de0b95754b4598a513ed6a3eee328f35f7b971f63e9637204f39c3c6fdc805afcc8fd6ea799429660e8bb2991133f709d0db116093dd9f3806559a939ccf8dda848318e56f43632456bbb04f3c69595b5bdb1ffb4bd664cbaa3855e0f650f73273cb5a0ccf20358521424218de230955187016cd04f24f8ff5163ba5e04605532ac4aaaf4700830c72860ece1e1faa4a247ab633ebd1ab8196fb00d69127859e21ada2d0b931922436ff0b6a8eb93c22b7c54e251817c5fb3b3532e6b189227b9dfb08b294f45801b43b2864ea559a171046c0da3537e35edea1174957c405c51d9a2c767d31e4c854f34969c7ed4146a49d42811104d3aeba9c46c33f72a226779ba2dc5013876587d98fc4ecca046c5b0068c999e135aeda30e0068d4baaf62bddb8a06497006afac3b70a9ee02e2ca07d3c74666430994ce974523e54a05ac0cd40357d213c1f67b2655018a9d0fefc88a38bccf08a7d64faaf65ebfc6e0c4f26ef69a6f0b05c5381ece60efbc3d6a0e293ca3df5233284dba95d69d42619fcdd5971d5eab9d9410a0bcc0f060fa698d7e0dc3f76f1e8512359072be0213e5d729e32f0cb9f8104918107144fe46086058f0a28461ffde39469fa52b8cf21dabf966bc6d26a7cfb037ad52809386bc7e6354148642f99e0b65fd1f7a499a3119b9ecc3480a2481031907f76c88f4ac7163943ee08514d361e8c6f2effafb2ce23b6cb76d745be6c0d7e4407a717e991d93ad01c97f6c74c5d45d5b17bfa23dba56397fb8bb51870bd5c9b44ced21e59ce3e1e8e83ed6d035da95abefc040062f397f876ec2d317bd44b703c9b887e15bbf97ddf3fa3e2edd17e803741f9bcd354338f6b8bfcaa2a8cf60ad5d586f66f152a57d759037af2c8b73f68e0d5c6d6adf15200503450f3e9b4c660b662e70f8fbd9695742d4972262f43a4f183feaad4d2ddcaf7139f9aa826caa95cb9181d43e66c0a6a9902f25eb431654080d54b9c51e0d8ba9e278b1c55f51fceb232963d618dabc68039c05768224290dc180a72a8cc908a5182d7c6d1a3d9a7f1c12e5ecc04935705c024a03b7bb70904be9160d8ca13c17f1a57c5f2990b132a8ea68c054d670b53c661102d537ba1967eae8d6e8c30671b1fdaeceab0e882063471b5c12880a3fe02c8b9878612b9860c42b6fb3850568979563f6f4a28f242ed18870c9004a7b5cf544bb6481647ac27fcb1ddad","isRememberEnabled":true,"rememberDurationInDays":120,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
