<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"9637e802b7e8e28e42d48399f945798c58d61d383c8b62593695bbe38f392afdd00945d36c080fdd5b7b6b82ecdf79231d3df8c5bd6af9a451983729b3c743ca3808ad994d064e33ac48b07882a7a9c94ff6671c86ded37c5381a20755ea0ad37cdd401064fb62cfc14318caa0159ce751fa2e0d40d32d67d3d09646ae375b33780444171ff81e97ce6e87c2840beea65a4b5aee602adb2a23b55020739fc63ed1ded6e9ee9ca2c2fa773a14a6cc2e7ae9e96d3ac8fe829bf64bada41fa6e708d33a4627c105a7dfdba1c4a8d0be6a757f6d2ac0472f0e4b450d33322ef2d10798acab925e7cde2463108223d0dcd13118dbda8264c69cadc60ca9c34c5c255cd0b42d1bf61a7dae0fed66910949ad3963c0fe6b5bc02d4825c5b17de8ffc35a6f7f871c19f406309ba51307d0e9af2cc715494873a19b47dad4f070d11fff4682d508e5ae2fa33c08fba30eae2e57acd2c3a95d8d831b33ee08b209472c555069119144acd2d247a584d2c52108863c771b02f5610c740b49cfba876620830c3e57ea112ccc889c3a3e52c60adf01cc644f617d016a7192c9eadd92c9a6ac63638b612750f77e5a206247b60f41f37657cd1e5b6ba881f3ad77fa34eacdd3439e122c09d4951bbee83fa096289fec94bf2fb6fff63de95622f156b228bbf2680d6720b8bae02ceba62d8a5519a318996d4718b7ae9dd0ef7770269f792c081088a938551ce20ffc9bd75bb03ef108fb4c0987a5eb9fddbf40d6f0dbc4b3bb241e81c21f42d0654d0054c5559e9175f1a27de37ebf6411be612c9ef812a607776ee7729c7adf5e43eec5821bcac9dad3b37712b73dad4db86e38f3f395853108b3025e9ec85d2db71d4bed6f3757999bc615297347b719840a163c4b7824d2adef39bf0f94920ca277dfe2ac3f82701a8185f575f04226c37efc95482758aed60345aa5d3a87eb4b719ec3b78a01da71047e793b42b78edaf219f28fd77aa45e35dfccdbb7bd11691ddf2a38d36c58a0e9fa35db7e9d025ea65b926baa472742a550030fa7667957a46f68b9db6cc572adeea22bc794e843103cdecafce5189846c6caa1ffce9bafb4406bac635121c8468c2c6637e8e223b816d7f8a94daf8401962071fa2e6ea98f4b376a72dc03bb5cd075c698d35fcefaf47eae75ac566732d8dde5e373dd0e6952ce9efc7a05b70a32150deb8e9f046d1a1ee13e3e35600875b7fd13b97a78d381891808b28a72233ae0998212cb9ebac5f388d46b2c521e59fa1f9dd8857206b6f82efdb0f823c0bef9d3845b708b40ab7bf06ec82615824aeab99d74b4e951dd9ea4ebdb2314bde3a4cc264e8fad34df378d34a3248d6b7517c874794de0e64c944d9d88e5433450eb3d627aa69d50db09dcd29a6ca1f49f4c34fc41d1ad738741e3a077f37126eb8cb780b75058abf5103cba56ddc6a85b61effb677c44b864a790aaa64cbcca851b07097d2241abcb8d8a89f94e6e022d9e15a1d15eb75f0f3c695adaf1f36883c0e92620843113548499c918b07852a1b9f440b97c19ee6ea57b694ce4ce85af41ab28871d3f549eb5b831e7abffbc7fee4f657ed032eb83be4a3527d21971ca3621ed28d0346131967678898660bcf239778503df27d8a7e84b67ed45c20ff0ba83d68fb02b3054278d3c69e0f05aff934c6bbde14a0fd0fbcf2fd26cdab43f4142e1024994470825d178d81e81a2ddb4677219baede17b4a1d629c69862c0fa236f838ea9373d0eeb5ea8a27264617966e80092a53e902f295ab3c775d7b021ce34ad01116d99fefc2fdcc8bdea8bd952e94f31d489b209770fde652d338a8aa964d87f45d6ee2f767605180c594a54302041c3cf8caa36da46f351e91979e153cecdfd709aa0cc1a5bc1d653d1d6941b17f1532694ac70ff581b0ba5ead2edc29c73fab4f2052c298c1dfb845bc4be3fe55c0969b6c4de7b000456afb8cea773ed96c2c2eece9fcf15faa19c58a867a6587aca8a49f42de5b56907e4cb0733114edc7105cc1933810910001dc078d5704a06478d715d85bb86a35cfe5ecfbd7ec0810eee772b1c2770c81916c7bce827beaf132d0389d7dacfde6f438b873d28731a39845d1c423fdbf792239c6de783e2a03f99f3bbfa934c76e0614d4be9935fde65bcfd1bddf44065be203a33d59ee2d445410c4ea661dfb0f2f0bacf2b7ba51e37d68189bcca0e25c3b0e76753a0e51f4626e9a39c6ce8ebd7d264b8b05a30d6fc074c00a3bf9cb7f0ba90f0e4baaede7dce0bcefb8a77d6338165a887136cf83cd65011682843a62dd0611762b26b13f9e8760f02310e156f65a714f799dd74e89209ba0106684df451b5e94e16b2e5168a0c8aead28bd7e5249a58bcfc72845b6d6366932ffeac409b327a1d7d69fdb7ae3b74f2fd3c34d6c79d9acc73eac94e7c082977ea0b8c3d7b3f3b27d4d2ebd93ef1c1989b625ce1e4eae9cfc73adb0cf3f8aebaa4b9338ff914299f1ef4861c1b16e145f8e4f3fef53e631f6f7c2d5330eeb0b0910daaad63c72c6f5f0cab178619c852b72ec6b19b8c4997efcfe3489db7c70f329a6cefa4ce5f476497604b7510a034193e8dbf24b8a8a01820abdc7ade0eef37b7b8e52a54542582a276782edee912cd275f4bc951217883597afe7782f17c04607962298bcd14f594dbfd76f61f185610c5590aec7d60f1d7605368298ffb0e0465627e93e9a403316f19277c9a5d59d5b2a9da158428a9135f6c2cfc91719012e85e6213178782d963081347450f767b9d385a29a1732a45c67971652412d87755164dac2f630c64d2cabfc838404ed58cc16b9ae04593a19b76c7cd33c79ded463c52c2f75265976cd534e765d601295cc62de08b9a7b7a6edfdc4060c5dc1c8e53bac75b1ad835031a57357d705b0b6f3839ecfbac2e07d02c64a0cde9075f2bf9741f486d23b364d3e2374ebc24a3006498e3273a00e4fa9b9a7a00351c6f577fb2d05f7382cbd970ee09382028ca8d6e8af7da263398c42b06bb2ec6d7e407d6ae3d2bac3583b0764b6185520d461e2c27ab270b801b3146613a6b8fd1eee30d72e7531c47d7a21847a3e284a69eb658205080b1154daa7ceea760fa0166834b08d5b68686c4a6d8428857fd866e6ae2b4d16c739aa9fb89f3156c3d3be67f8ab1989405789402d612c1f9c581a4c1d885d27a502b34bea299c35ef3bb1de14123947b9b95d412c468a915057c7411c1687ae313289ddffca20a33a854365c834bd1c06bbd7187600aee10ca34470bf34dd9beeff94c0aff70749220d0e179d892ad21ee8ad72be1ed87a3be0e1dd0f2b62683376d88c169ee367091a8b214c9947e063e1713dbf6c04d784f614fdbadfe2fd26f4f09542b71942cd2359a9608650edaa75783e9957468c94fc7f0522f4b0c9d756a3f08fce7baae2265c862540d028b464b9718fbbb2b3ba50d740b34fd34e18fd71ec8c7b95f3660828c0e96271cd1154473f7e6d107b03c71f99f514dd4a5a62443f3829bec4658e68d076098b6d2ae6a8395ed79fef9d55c0a50a5aa42d426b781c02146e7e64c0c499b740b5211ba1cfb0ac424db3159fa1e75464b2f0fef38a76c9a78001bcf1a0ffe4c31f13c68bea05bc38259eb206e340ade82d2143d637e0ad6c6bcffd837f6e0997fb5f184e3d8408e11c741aec28100e0b7fb256e023dce40179bc8846c46fedadcf6c5670d889b682d37642c10d2305309dee6c70772cf647e4a14d12134b8dfda9b2d6076596310ddc5614513448fad50b56ca9f933f24fc64230e6f850cfde73f9427304f968c6b1c6025f04ec318325cf05744d2dfd5c322c3317a4ebf3a62a945941f62373361e9e0b56d9c311d9886e26cfb2c32d5a4aacb0d2b4e6dbfab06291a586c59081c9d2de0a69dea0f17d5b19f26cb150acc20015e9d6d91761836defef4502245a213c297986fa60d49babbd8ba0c3382d8b7e64cd760fc4930cfa10501a47492ad9ed8e288d8111dc1b94419c2aca4962db6ae9e258b77aafdce7815ae22d82c02f1b51490dc0aed878236fb8051ce4a02815a637969895dc41a048f80653ec89837144afc6cc7162d0a06e4b166238682133bec3e31ed63a30a4cc990b43c7ce5e470ec73ca11f98edf11b77186bf01f31834d06ccde2c23b20cd2a7a359132dab0fed2532845235e1871106151335342dedc0288e50ea302269eb4d9c9f7e17be7d1b1af4cb136ba414275eccfd96fc61a00a67b085fc56c87531b7abf690acc315cfb525b386dddff0807e27a33e87a47f54f1278babbaba5b51a5df522d1379f49e68626d39bc9a5f2a3635f9fb8b3aa8d2ae8ad0e4137abc727c6105ef28503abde2f4b69c224aee400a86095a9ba71137045b8863224fb5913fbe7bf4cd70b6646fb9e8ad4c74c196671b71e168583cb1cbed36291571cd47b7e0c33b9fac872dcb097e9c91ecfb9094a3d728694843f3222d808e554f2792cb3682df33dd6f7a79f15983645d8e8101c869cd58e2c4efedeb7be38cfada99adc952d3345d18fdc8fc36f8f5ea9b5611e28c1db2ccfbbfd3e3d27e57f9f734f16028705da5323de715916eb892976a4802b4642281dd04646e6eb3743174ed13a601365bbbd8f8ae6ac6592deea2d0ec558e98d896ec006fe7a3cd6bbefb95a7e9be7a7748ef0e7296a5d2623ca7d60d371ced86002de5a0fc24185e9eeed27684dcd321d8910442ac306358b76c4b71c1d84f06763db8db91ab7da04d9e60d64a51fc0ed78e5ce3a807bec1a8596344eafe6e0ba4be73f8a8e55e570ca623048158d67f24fc95d9bf559667655cb2c47cc384551cf5734ea3532f61cbfff1d1189652c8fe19f916d9897154711b5a53db94bbd540901c3e395f3722fbe22059c33d0ed17d2569714fbdc200b48ff52624d4116e7cc67732e0a0176ca588d7c9b093c316ebbd76e0f84226554487e34e4f4de36ad9c3dd3e286f68b7184609a469c41e33f0b7866587e042071850a24a90d7534174affe5712171a1011e321a81b1f1526b5a24984aab5da5fa7af4a0715f7edd5df3c8e790e3c974757f95b48115218826a36ee7c4a0a9a3305f2e67ac192210a7d0842d6b0e862bfcbeafe6a7826ad79494efc7e7ee72e9dbf589a3f2534e19ae6c37d8bd32e34fb1ce44356b646d4371730add2205ada16abd262c8333890daa2e31fd2c22cbf11b351397ab0621f8f58571ce43ffa8e65816b75981b1058ca51b32a74caeff7a1efae2c36e0f1d10de6512c5ae2ff4b30c71d02949d937dcabca7d8201d3c85cc46e05626b08e1ed82af1fc7623259914d6af640420fd49e6e0279c10cdf0225f27c615026466e17ec0c7328e65772847887d2142aff34c7ed861305c49f4ab273771ac9773b01bd3cddf33982cf26741b2212f0d5788131307f08f185ffb4da73656033f3c9f69e9b5f760d7b962c80f22048e24b871176752e3bdc9c4cbf2b7d8653e2b37b43be9c752d17ba9fefbf3f9a147a070e0b5fce5093c0f65c35cad803518712332211e1ede0ca7226c55783afc3df3657c34e58b367c4519c5382c146a2886b5360283b45c81afd398a808084f4174d5828783316ebcc6028896f43b6955bec92ec217333670c25a335461469f622f09e55283541f8a806a1f6c8e51d3ea93f0722edb6d6f7f30ec78f528488086ff7bf512395775b590d176d91363745e8525d0bfec865351ff50dce05416cc15f79b20cc22fc09b63559db0f7cf034fd58013ee74bea160d2ba50f116289e88f43f41f83d9e0856db04fcfd39adc4a9a1db21b857b3323a6a85841c1a76a16db34ee1d2a1608bf9474df970c581022c61e6b847273924feb0ced7db8c8a877fa95a0a26a553ad763739f58decae1849a7822493439d2d3490283082d389ad24dd7a110ede80c7a4b1166e5935d9e0d3e406485396e124b653a5e7cae17bb27b511cdab7a0802ede7cd37470bf5bc37bcd0d5177c5df4633a39d44069301c6ebba797cd059edd33f7b167789845e6641c1a06216b51f4585a0aa9de58d934d6ab2bf457cfb0fbe5a65850aab644ebe4b02164bb5578c463aa86362bcd00c330acb4f0ca18ff3f9661796267adef4d6ec0e902dc8ea16a9e1457e24fb2382d6fbc84bba626a590535827d336afaaaaa475d76426bceeb7df301248df221e9f2af772d6032359b1ebcd9451c103e6d5c3d7c9fd8546fe854ce760bcefd963836da0a84237018b076b9d885520c43fc353f8c31d8dfa18d729ef038089a84648e3801b4f4017259195b4090991e9cc1826c5db68312eabc3150fd1098dd6220459e267ebf54c801bc2130c494fbe621c56c1f857d9daa8bfa9d165c201b45824a1c29c43ac9c0fac154d590b88134a0c41295bb0b0a23d04cfd25624cc9b65ad12658dcbcf0e01c1166f2ef6965f4eb82945d13d438137a5b17bddeb20c51fe75287691121ca7b595af9badf1068824bc0b442215f10a9de80f50131ab5c7f1b23df66af0fc19792f4975773a86ffc0b836e3164d1a39f2b4bc3cc82a0e87067e572562312b700d4c20179e4a0b614f38d9907f1ae86863db054f1d2cd25373deb3d89b85787c3a3a3912af37b6fea1eb3a32cc9c4acb4cdf6248a1ef555d8e62414231a3cb8902dfedc1076da23d30b51970278211d7ed34279a51bc20470fcd0104eb0a89ec1dbd3e03173b6a2ebc945a89e8e6a9b7e5295e08415e6f762f9ea8f43c20388a54edaf334a3b2dc29847da601b9e7a05f0a68f9f032713e0172e4625229db42a32fe663684ea977bbd91cf806e830600e2dbb450a70efbd3c170fcf18264caa07f64d45263e313d4bac6a3ce135484085771b1e3c730515fea1e8f471586d81c0bdae1dc25a7f0d4eccf608e1947e1aaeb82f7b4a9e59b8ac9f1c50207bec9fda62719f407e627e95d05bb75b1460e7d77cf1e42174532e60f8865a707151bb86709fe88bbad8600dd1a166a1d6740d10aa69ae17717e86279d7c9dc024212c5c35a0860eaed577f82b64a89152e72f6398391bd455cc86f15f4a1e587804513680635d4f29a886a538012e7f4faa8772412a27fbf00b5c4ecdad2468991367c65529fdd35c49b1aebd6537378d9792feb0a4abcbf17915625fbb7934e7abd3bf123bfe28511756f87af46db2b4f3933fa4204348230aac3335f6712c752af301112d71f33f9e649cf0db22cd09e3bfdd236b34855e9f062445f10935305a763af54c0162aea1420ffbdbde52479704edf7d5ff5e6b665366d31f78c351ea19488618911e6c91b38190816ba01dfbf403756d84bb1cf55473d3ba4658d2f670ef03373e52b7363cca4050bc84060e504a898f632f8ee58e6d7876335b9484949c1774fd5473d2b49bd0dc077c7be72c4e5f9bc428b657f76a5314239a22899528b8c74b77a6d1e3c2c940ceca9784f42c78171d1a34cea80a466ba8c131e4303697f99e6a533b97ba28b29bed97591233e7a904f705cb3b7a586fc5f757bbbe05a4c6913df8941af1107fb2b6bb7026c50a4f94f9075682972331fa131b4dfb355486defeb8ec050be1b98f29284519bb8a1c400d782f14fef4bd5aff6433ed9a175aa935d510515dcea9ea4be071bc31f0591cbc376c1d65d15199c737250600a2271af193827923ce0b986b24a1cd34e03633d68d05cd7ee12410fca9bc60229709da700881ade3df1f3dc84cdde8afb315d70161245086062109bded8ab03686e432393bf0bb3af5b90e94fffee50cc82c2f1fe5be0656f100f3d66c1ac2266aa30c09db4431843071690fe7dda23c5301b5d104ef894b79c52787bce7da87c7d62d5cce780299170ebde9489179383f772b64b3c97fdb6c5273bc8068ddaf5c19fec50af133631c606881f5dffe55e3af42cfa79f585f55f67081fb04742603f6c5b6226404115f17927df21dbc6d749a2fbc76d6089a058cc873bf58507a22e9e92097fe3f63057ff2e50292faa5029b60589be0a397f3534a1c53cbf4d90aa2bcce379dff93db6a70a32ab5e40c578dbf91bb930ac2ed24cf531a4fcc5d64b397474708e00a72b53948f3b58f5f5df63c6d01c2bf213f751772b6817692a4a9242f7e20934983767fead7847149297ab10b1466056774a67c1d405b3491c83be8389ff68154064648b23343f1e11c695c53eb6f32a48645bb484b17abe05ed194693e0534e17eb503ffbfd8976eeb9f15ab5f4b8b11a1bfc98566066802e437ec576cf3cee08bd53625623a340012fedde62c02586ed7e09caa649ad60070f61f4988789d95d8638a4459e1829e6922915567dd0a282d9029ac2cf9bd5dff7eca48d9598633ed72210fdfafa79fd8fb86765623e44e1c91248729bb8b729264b20a21babcfe058717e2ca7f69384c85df47c5f94981a5721c3f581d967d08829f40cea1ded0e262d8ce6c1919d5afb94770704a309ebe96cb93aa929f5ef6c6c5944feba7a2a60edbbb311bfc3bfac7d86105ee09262b6c37cd497a18a254fa23025748b71c5a254651233a14bc69ad36bb539f7f71cc12a778901c8050d559a2293110cf2861666f64af34756ada3682e5117b634d8157ae110fb0ba6222df2598b59e1d6ee05c02ad2f98a493ca3b106f39d74852b4ac6c8f29fcac9d26fddbed2709a80ea25ecd7f86d70f21ea60983f2a35f8e8ad71c2d156c2133bcde1f1be596210c2a9e0e2d9ba6acf704844363087f6e5d79fd91bd782027c1c464345d444118fa66fd96af719ee749df505b1ebaca70f96a54b490c4a3b16879bbf9006837535dfe24ebf1d3a484f273148e9e6f3da0680269ec93ff455bd070a4b732a4ddbe009ff2d8011191fd2c883676ba8f2a81025e6613a01ad18d6a8890f2c5f9cd83166d17c757c653dcc9b980c1e2b51f3061844887971d7f863aefccf92aeb92f017b19f0f899e189b2bc1a41d307ff016f0f12d52ce2858467a706abc0e07b06a9d8cf0341c3d8d45ae105c26b900da44419034363f5059e82a814d4b2bb3525a689ba9b6b129d82fc7e5ea6d3074a64d5468c1ffb7f5a30351d25bb26a303fdd8b5d7247523a7e24eb8cfd61a7b704e169799a77345535471aa13ac7435182fc18ffda382a1aebda0a3db52fe349a671f34ab6305088269a3f752b11253d2768c1b2c08a4e36c8f48dabe310eb8cc55514b2448c6705720f374b8a08b9cbc72cc95705550b7c77fab660b2e8b175d86bff66a1c2bb144bc6757665e502d31c1a71ee3b29089d808985abbac6cc7fbfdc8672bc6acea624b75a356a7b78917c0ad6d49dd402e45c79cec2a4d751df43f7f467b1c8c5188fa53e26ac1b8d58322d80d4897665dd3ef69db84fa5598366489a1ee9129dd36bbadb6c863b8994971eaf76b391f01d74b7155cb261e4894f9f53d4301a747485b951b1f1f570563ee2bd9dceab680e97ba373b1b3127c28818901615a0f014befdd93e84ede79e5e58ea3199799fb9ac92eed191ac22f0b261c1d5d2eec8f1bde7592eb69c9509b6f199110b259da253d6b67e48889210b4f091785a825d6b1c04a40065e2e21280f91ac303817d1b14ccba7ffb25cecc822bad23adb5afb0e8261c048bfc2b362540b11d0c9df0f824668457069d66a00e36c3862a77d60419dab8666f882613b92eeceecb18b44fd9790c473e79f90cd85ba8a9ef375e607e20ef48fe92f4a312ca840eaf9d0816196a0844cd1eb5f7ef5a7082e2a927420863526017fd8d24ef59ffd588d00535b74c2ea74f9b2e7d762a2decd9d0b31202ae67e9a7a1e7e3ca4580a4f564af91d1fd9be1f391888b262e2383531b989b14d8042c15160d9b48f6d3e47e1d11733950807e0b18ba4e02a8be707cfb36500e67880b6c51a3171ffed78bfb53af867490d19cde290279b0fac252a78814cd5352425b5730eafcd2898b77a05faed64cb26f94190984168df299f2aba594c9a1aee9b4cce8de72dcfdd5d3e57dc9f8755b3d61bbac5d749a047bad122aa92fd8531aa5321ab40c7f698f3f32c2a08f59c7d7d2c062c559907b480bbfdbe2e6ad2e3e8a835e0c41560c68a7050cfa6f1571b74678d00f2e9a5c1a79884061cd3d95b8d17851a831a61bd56a7391406db491d5a86a2954f993440acd1cb8fc9923b76b01cf8b0c7d33b324fa6c3e1b15ad7be825f0b5ab63370554c9e04bc6fbd45392c9236468225f65e4eb7bdb86c2b157b5d5544286bafe85b57e002c423d373e01d0afabe950bf766c1fa04ed8dbfee6349d6ea3357623b56f85bf58a530fc95e834577a757cf40d974070e2424186064ee0b228e3ed573c442b4c0bcea833064baaf9b570cb13c40b8369a196cbda8838b102e400e568591778615e23bb347664cae14805b54dc4d7778f1f30ee9c88453812f09867a7ae2eb58c7c1e5ebfe8d4d813d6b73ce17c5a509253846330305fee25da535a3dcf05931feab9cb72c4bf9161d8f03cda25814638ee2ff987c8a57d4aed558ce9f679c5bf165777c7f39f4a59cfd9dcf4de6212b6c86b716dfd470811a2718c43c2d57b37bf9d5a48ddba2572f52729a098286de20103b537daf8cf669f816a711163fbca3922e9704b308330c3d6db64d0d24862f703f6b235d299697bc3b387b9a8dce794540f66dc64194364f679150feaff922aa73954af9a02ac0af9aa88b475cd756fd9582db9c17fd2cef03e6dcaa13edbcab94e9e1d1cff992928b40c53971e67a76aa16b18fda9448b8aaa5084b9687887d4f57b7336af0ad9ba9958063462c5bd00095fe7a2d141419634d2da1b5f8782855b97008dfbc924246fa004d1330997b80eb931494580d3064337f7ed7768a579f35773a5054789245dd4cacab9a107ab13e2f25e9742e9a336c7c042b348eb8432f47851f9ba1472debc29da9cf4edbcb384dce88b9ff19256f88db264a0e2341dce269fade1df626692e2dfa93b7b211f42c44738379878eb597c884df82a3a1d4dd80f4d85d334f2ef479091a54b0a0a87dbe26a5e72ff0e207d37daffb8a9a81f780850b1fdbcbd9e7501a2790e47e8313e3f9838603886aa6c53eafcb0645b8804bdd728756379b947b18e6349a321e452eab2723b8120aa25142a60c2baf6d13cb4c926b9d817b891ea3deafdb24c768b7cbe3646fe8ae590a331cf56e9ef7abe2b531fefe237f3c747973cac3836882988455064e1f04bc5a923cfa1d8909aa00300856aaaa25557f1d330025e5486dcf8eba88fdf43cdd642f3d477357bb03dc529ba3abda80d4dff80d121f151b5fb3dbc27d646b74e06fa5f32fb8be78937b66b0467a53ef1f2e953e338116b3371b8108ecf9eabf0e889d071e0f7c328b860076c15edb8632bf4fb4db164aeb2dcc32d1b3e1635a872b62c8ca7aba5bbe900113bc256eb0186b15c262378e16b8c3ed5d3a6288776e7d0974112ef76585ee6df19c173a98e26d3b16b08ef36840775dc3fda9418f8d82dfae9e96fc2ed59ad6338ae3d518166dd45b257487f47b8e6091033826e0491567a8c0b7fba73b87e127824fef59b011b2790808bad27ab3f99744ced06ba88dbc486e568a59955892b33e0efd1a907694096c65bef689455dd3bb37577161324b4f53b8ccd0134cb0630adc0d88ceef2af2869956250608ee6013b3f4271e121989d9a0f94a2aaae706b173f115fd77ffa347f6a25cafa3f21596418452304ba0894fe41d7cf05ad5870178b1c529308021778b9496fc195a4f59d7f87bcccf7b9de9c71b77dd4b91e81662699bf51b0a5f33aa75c9dd7adc1479c5abf6d70bec163aa3c7155edca6bf4479189dfb6ae7f360e2b6fc4abcbb7081fbdaaa873bcab4366e8b644701d35fc4df700f1fef14ba0337297d4670b9ed709e82dfed790fe0eb3f44a71511d3ef6a8feab011a6bea302458d81606bf8f2eb700bbadfc35e7c20b0c14777ff8baa948b7edbde7f41ebfbcc658113f88fc9e12823d28bdabcc57f1508527b4b29d1c2f4902f2576dde9d051213149308b29288b881a9acf10d470aa9a2c22a57517017943bd19c7fddaa8726b1470be7e3cdcf60de8f5aac7d564a0f1e9d58a34dd04e9c9a6fe7eb1601f6cac759588e0d42f0fbed3249ba1dcb14be8f578590ea81518eba6177b2d9cf64185196c3d39bb5146886b9c8c78c4e0774e957df42de677aa682fd03a6915b8aad073a842950e92d546e2437a874c83a405d0fe721b4c1809bb34a8e6b7fde1557e306578d62b78cf66c298e71ffd9ce9f2e22c4a0e16f8a4bb98b95d3633ec22260dbab9d7d1587503af71083a156058a9ad04d24465f65b44204b227b353c80c2a36f71e8e0b6a17753e3d8aa82e9d7fd6c99b82544239035dfd87a14aff23db1132c55457a427e1a3688b9c03b68b472b88c588bab2da35c20a324a8689504e56fb01083bd5fd979d8eb5794eb8798a6882e75532f8bf68bd79c4df1b641d3652972babcc953bfedfaaf651dae7483a48cb1336ae7f46b0188494d024be7cd313b0132bd00cc06a6edaea3af4a8d22bf44ad6253feca1a11d65a6663be3269131f46f647046ab788155f32e0f9dc7122b633a5cf8ffc9288b3d789b9d7a5689328ec20f8a80b2f45a50e27efb26acf3f73c2818009fa5d7dabc1d66dfa171a727a8398191c9838903b617f114429794c3b9baba976876ece3d599922cc9766f676644d4035b01eb879b831f87ad22b352985fb5a79c6701ae59cb29b327aa2a43cca3b00377068b8922563f5d5cd7d799fa742abe91b90ccf93dad04ab60e643254d707cb43327cb3f877a13e6f21b963f51372d2119915ac9174c57bdc9827f577ccfa5ac013f34181b938dc8615748a814840d37cdd18a15a77f6c54ef3f57d2fd1ed0842f0b6096899d5ee0436b1403b05d70a3aaabdfa6acf6be6cc0b1792b708ad019c096d36542af50d144b6af17eec6001e2352d0661ef4221e34abd344fb94d5320d911a0889d666ee17bfe4932fcaa3eacc9fdb2b381a2e5f4985544b15cf3e0b778cfb17361d5154d05258d05577aff18cd048af315999e44255c72e478f715f5c28cd2d5699f4f73b1324ce94d038324ea13f254049d9c59e4e53d54172f0a3cd3636c8e76a09c44d82fed7e2db4814012558a07a6c35e602f6e84c5847fd1e31c894fe07c3cdd8b7befc97686a0b1e63e75b4c27aca8b2c5d80fa9d2a15204b852cc05cdc54465d09fa1483799cd14dc98504ea4a953f221f04556446e4085ad657d71b844194a2256e01861a924c3c8a1b48a05fed0a924ba080fc8125bb8d4419445617585eea300d01a491978796a3b920ffe077e0862a50e0f41f6f76f17d46482adfd2ee2e79ffdb54a935664a91669bc91914c9ffe983fe292c6a322f314fefeba7f96ee8498b7627bc2839a448c00af335597ebb57d5c579a8b40493cce6da1e74a9119e477b7ee78af2c76aad6790f3649a4584bdbca44f00e2cad879a2a29027f53b56d1f1df5c0130c6e9a488667da5a399cc2761f00ba14f27790e2f1b51bc74d8a6e03419a9071774c2f840694c065ad6be2ce449ee4d259dc5c00f4e888fc39c95a3e853b698f9f9d7e8d733e0926c684471a18a41d55eeec3799dec36cde825e8fed7dfb059057d138b0ad3c1ebeee37c737c78deea821daf6acb2298af113e54f0b3c346b715040da177724e99b94c3c4ea5d1bd0a106ae207a1c5105b4f40eb94bf0bd2be32a0d42ffeb6b519e3d523ac0dd792e61aab2002b5e85d77d2d9a6b74f672c1158c7b10c5631e80805bac9a2d8e7029b99e61b1b5f95d9d839b82eee084741681192083ddb0aa180bf24351258b7ae583656890f0daa93f849e8faa7d3d0694863b1b25063944e8c7772f29ce7b9c12e00fa4aa02b0979ef5b57c08642341b835d2d3e2e1031122d5283e8541d68aa9ec522d9ba668b89e69f2b020903fe6785939473f37f3c3a8c40960583f364596ebd27e02524e9bcb87cd26d136c0daaed6285a37a424013aa007a5b60fc2156a4cf14a52dc0baea57d250ab7485d15c78a7c0a84847ae6795b8683b157238b1096138f6655dad7016483d87446dc1b0a1aa0808617e9e5a1db77215c627f6e19a458d6ea404426017358f013cce34604adeeb08572155c62f3818b19b4ce4ac770137b6f81f7c5d41b4cf7b6b86ca4c77b51d539a81c2c174302041c173f56cec1165cb30130772d1862fa9b59765c21ea7df31cbc2e3fca36aae8997abe5a5f4d34529fc8d1902262a1e2ccf5a488451749fbfd8805d20bdb0ceaa614bc01a288fe7c5a9f0afef5698eac145d11bf70a1dfee91d7fbecae6b05e1039aeb08ba5ee6e4160ff71ed7def6178082c938e76e3f442d5e0b421e2fe88225719ffe8218bff74a2fd4754aaa4d8154adfc924ec167f6e2e7d57256a294cfbf23029933d73f5028bda6019a5a2b677c11d707f460a8683e89e3c56cf3314e322a932a82dbfd19bb02425a2d88e955d6574a545c7e9a2851f79ed6788596bc8e034290b50c9011e30e084e56a211075edbaad9dff5fcd6187755e12bd68a21d4f0d0c68ecbf8f418915b4b71547efb3af61ac90fedf424d606a9f9a7a8e52a64878f28b2f1a206f6daf0794e184656575377f5ffb19ba2ee0f0bae552f02f49717820f8e3bd2c381989212039184992ee4a4950b62e120a1ff79678df3bc3592753a78a73ba1728040e8387735934b20fcd4fa96da3753315b657b6db99fa0da2d94e6c8478da83425360bc99bcdb7b4cb498f86e8988987aa04fd740f2c46a25cebb5c88ede0221dd9c6d34ba411e5cc76a9aa410247557d410458aa1c6f377bfc503fc3bee95fd020750793498abff81eea9d483d9e3af00c91d043b09cff2a6ad500777324b619b3da69d81cce0fa7499580ccf28c25b9b8b22e168ba77376406bcf3a81343e59ccfba56bcf627c8549560bf6aec7944127891a5d25e32c58079c0f42ba4756757a73836a6a42ef0141c2efd566e0798f2f5c06dd59289f8f767573a4c815fd130b84718ffdfc6cd7dc0b18d82eb45bdcc4061fb5e3f6da1ee1efeb53df31016ed208fa0f9b456978161de8143f5f9e62e425445d951c850ba28b3b915993456703efee76df181a5fa71abc64ab14e401eee2fe8c9213a7cb8a281429d68704c273bbf040aad743ba3089c35c42f73754e0e625e493017a8883623d047b440c2f20d7f1818d24b637365f0a9363a0d4406c57f0950b12b54c7a31e801ce51bd3fc48728ed9642c5d5cf85955248bc247d7e28b501b42727ec2c83d9a45b79b5cf9f449b17808fc05597af4305cadda7d884725ac8c27cd21d2dc3ce9850fafdc21eba0eb4816b7ae86083b0fa2f00b9ac1037f9c8e47656a2e891475a76fc6650e3b1ae9489906a2328713a6ecfd025d8f4da2d6ed5ac858917af61aaf866c4dc5c4d2e27850a453b6c7de10cb03345dfba4937989b5d15ce39676b270efcf7d18d119e89b5a2a2cd22db7ba2ef44c0353854d595dd563dcc97d42e87f3a53261f6b7ecbd591a771cb8c0deade006276807674497452d76eefee4b88302db41d514fa3bc4d35587c6981257218ecb7eb02544754c17c1af237118b78b44ccf123509c23bd4684d069dc8082221e1484ef2908c46a119df2b5ad609939bfa59d2f2bf9fe03b892ff834425f240c66d47831105d5acbb5821a9de817fdb4815f9e139795ceed631eba693d93c5075d6f0344162b295e1d5ad2b6b3fe47fe5cabeeaa2fedd39d7d6457a148ab56c8964a767d4c36681d7a0b2916cc6ac7cb6bb5c2e9653c4196e10719003e525af716159de9e513e91b0a64aa1e989658b5509b90fd2cfba58e2f9acf3a45dedf8f2bcc6c59e75368bb15db8680af136a5fe9fa4002733d7a533e89fc985d9143da0ec46b158542384ee925d08ba8049cdd0710659cbee360b5930788a5aa2efd746daa704f0ddfae5ae0a8b587f730a172d3ca72db55c319367e6e888c4b22d973eb121fc3390ef5a5c1c009accc5fca4f50ce32c49211ff18b9ac419a0357e127409a78dc5982d35210b7dc03f7fc38ab0ca7448408691d1b61bd3423502cace07c7a9dc4f5241a3486f67078c71f3f74e43bf4de456ab21cae663f368f4e53e05bc48e7d7b645fefa9a53d7578620dea98f5a3010c73d833d9981f22a9e33242fb91fa4ada35b732754acadc75906de32e4a716087aa305bbf498fdfb86cfcf7a154f7c2dcf392a14845ace40ec54beb5fcb3bc1257e57b99eaa1837a2bbac7661ff809085eabc7806b7263055b52666a9414f36e827b71ba7620a8eb40c95427e2d932f153961725c8aec3e3dd9f877d22c580f41dc1cb2ce533ddf37f70fa72d2257bde3284cbf84b7743fa1669b634a9cd35741ce5715e60db63b3ef5326eba6a460b7ef915a05ede880ddcd35b0ba635f007fb75c904d0be5807900437af1421b5e916db4e4c7f04684d373df9e465aa06df50c672e9f9e54a833b6906bede03ec5594adf984c054819abe6cf5342510165f55973d578a51f025227cb97d1158aecea8ea3507b6984d8c83589f47ddacccd4052cd8ad2b6f3c0b8bd2f1718416ac71705c85952eb3fdf3ac13bf0d405874c2418366049cbebc360a0aa3ed612c97619e92821197dcc925ab1a6c72454ca88efa4a0b5e1c590b482c4bfed2bb8681424d45788d6813650bc1eed540e5e08beac84b8aab7c81075cfdc62d0596f3efbb29b045589987b285d28cfa5edf85f7bb8152a4c2ca599c1a0a90d79528ec1786e1c77a93cce85d2107ca70dfc61fd72b83fdb03160c9247881a8d758630b26a513ca28078ad500ffb9f9c3a295e76118c14091128221873067ab588b0966a587ce6ba9fe3dd05bc9946f617ed7125b01862d3df5d79265e34aedd8af98847593f53416ffec7f532c01f3241a27154dd21d83c9184e0f1f8710cf83ead07d33a1f22ac59eb77e28dc9bdb1b6d0763e84e66a3cbf084e29046ec2303dacd8180d94d4f69edc1feec0443f8e852854dc76e1498bf68d9530e8897e074c33fff81106f4ccb644d77f9601d55536817e61615bf3b0a30376672da0a1d402770a89d38ca81ba0ca9fb8643e53a5b56ac6869250f3c9e7329ce4108b3541c99c91a9b014187f9733afd13790bf4bbaa002677dd709d4220a52570b3cf8c722aae9ea646b82cc4c14cf01723d70af88ed691989b7e11cc45509f87bc03f839f5928ec8068a2d2ba61de6e47bc3dd02c1ee67cf47927bd92524c8d08b33ef43f697735a66b37bbb4db4fc057814f6d05108ad15c259328d33a47d48fea3230d6dc8463552feb6bd7fd052cd4ecf01f010d6b2f1816a99e199014cd61c94ede43f8ca854d78ddb4c6000dffce8635b7982f9278cbc0838f6f0b23541e993f3fbed88722202a8b4da41e522e7334275114358e39ffb50cf28f3ed2e989485feb48c59febf160f3f0d3c995956b331ece39968dd6993522cc136e95020c576846b6a91df9d6e879a6c2e141e2b2ffbe9409c41b5e317853af1bd60d8de9d029deef1399c464fc24dcdf251c9c072c5b0c1d29c3a24d4210bcddff6333a4e7bf6daea2895d2adacf5f6424a7952a6898183740466f55ab4a86919152c167f03c084b2374dd163d3cd5ecb7fe93d3d5b3081c2ce81e2307cd74f66f79ba1c2a2f68a370625f6aa5071b21dd515a51a65c5218dcd988a33b5bcefdca48ecaf5c2718bef42cbc6885d56200e42a1bf9abee3b7bfd082351be50565a45d4131041145e3264e9f696b85a384440e400dda4be96965382f5230b1cb440dabd496aabfc8ebd50ce5616b645db06e5afbf76b076a7d8fd4157be215feb1a935b7426d8b38892a58cb5712e31a0f56d79230d2cd88f8bc1c8e35295c3ca5a7fbd003bbef4eb8c612901a396c9ce0e3c193ec2c8d2fa2ec04c17c6179ba273bde645de8cd9b33aa7026b7030bf18c94b1e184ca86ffb0b707ba3ae5195ab5d078d77b27cf5f121bc38e166d9edc1e32f5e744cbff4cfb92fc28ed175fa18eb5471ddc6dd6c093db5ab6c87ecdeec6b499de28bab4c8ce43e3b46cc440a8bf554ae719d4375bd57832d6799f604637a90dc9a94c19b85e3aedd6deefbcb7df46674239550e4546bf7ff56ebac980c756cbb847c047aca941d2eae647c2ae705953642e5954c52ba98d471910047dfd8678ac1db281a230af97142cbfdb0027fd6509663dbed3b0c1409ebb0f781fcadf24a3a8ca0aaefc745d35ff2face4d22055f92f10d61e3dab8119b0b26e662bec50fbd84a687ef111ef401a9dca27c89623dd3d5042f2fe599a504f1f8271cce27b070b1621e82f1e2c90443955bc879f53bb2bf8060ecb26881074c96b713a76cbd3660964e93241bd4030c1e805fa112d02f6441162ba221daf16a16ce147e04b699c0a1058982ffa761c9467f047dd52ee9bed3e685bd1436f2632637a53d86e4733b1be708241303a8f1cc7c8820817f70c44693ff7b85c20b2dc2863d93f6b988edaa315c31062461bc97f5d83908ca72d51b5ebd44a8a9025da055698ea7656b05dd8d3a68565cc1e9ffb10f4243fb200621a94887fdc85bf540761f19da9124584e238bf19e3ffdb981d1313dccdfef0b90361da455d2377768e45583dd06ce4745abc2505a785fbbc340d9a90145699b6a4c247f858148883dee2b72a1f3f3d8a2559dca4e014b94fe2ccb2a68e3cbca935bd1758c00cd5aa18fc18247c43f652d3c299e30fb23cedd2cf88e49e3fcb9c3429fb426a0eea9a287807afa2dd6de0a5f54dd73cca7ad550a35117a3fd94c9e056624a9b045ec561e4d9c4b3048e6999f5b7c63be373e96dc2486bb5d864a0527fb72222b8bff45b31b6592f6694493c6c9affc689388bcf0fda184dcf1f7e060405d1b36cf6f9561bdd5cc80ae5fa69c534580a206514d3fde18b3227b5e9f78e70e604edddffa08e0f6d6fd832b322b31530ea3e1045e48388a05d87f8fbf9666b048469a4e9ceb7bb92e7cc7edb9dde0f483124a067a24f1cc8dd6293ceababdbd033f2e9c4cdffe8536aff4a8cf2b6b5bafc2e8f26d31c55945cbb31581c68dfd73e6c50c7938222373a9b15c825622b7579f52161e91830792b6c59bd0ca667160c68ef62b63b546c66e536380a6a2e6f0bfc0fab7b24bd9e775c2453e455897b429e52b4af5f484c9c3b088ca2e3ce80a15e771a0c2b74d6707f4892f632878d46e98bac02beed344340f6078a85811e50910263604e31c590773284b5e087c12995be7b5102b6dd4538ac65e768acf5805cb116e86f28923d61d08b384c658df683a0b3914b0f0f83e56f5277dca119912b70216978bbe5f23611ed9229a7f316f2f8cb4bbd60c31234f0511a94cd915a1d0426c1ff1d3c7c87890c414a284ccbc31a242f520eac931a68fb18ea6007dd391d7b56d9208147ddd930b891291c1f2fbfed99943f27f8f2576e52db5aba38a6905b48fa1bf9ffcf4aac768545f8e7806dd18a00427d5f812487e92eebda662b98a0d62d7b25deacc22a9d7852cdb7fe66974095ddde34f2e9fdca26c1c8ac4d1b64ed4837e155e411a22eb1083dbc9944417abcf21c927be","isRememberEnabled":true,"rememberDurationInDays":120,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
