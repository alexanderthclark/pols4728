<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"f965bfefd1546dc1b382d9f94a034a70934cbf2c70d19fb51bd1b91f2f1241b293bd79b2e7ed1d265f6674a8ff7a0e9c2f74dcf00d509fe82323baa1e5010c23f9166e17dd38cfa74a84bee7b5a4a4e2770b641607ccc110fff09eb3eccb80ab176fa52f8f5faf3729764222f5bd049e686f4bb4568f6c143204f3290ec8fac5d35c2d54abcb3f761f13dfdb989ce87153172744d697e994f8e161e71f99ca5a79a6b897de54d37a5d3b6c1b2cbe63fd728652faad0273ce7bac1e0f920e73e75a64fd52c8ef370fc4de54c0cbba867a9f6521381ef963b74d01e386b9b591d95fb62d07e63d47322ee2e5de6f34d9bd5c97fcdbb1a4108c02abdf10d99ff795df4a68a0ac4e99eedd970079f49fbcbd7734c5c17672e14cee8d816298cf90202a304676ba7d5197506f29f3f30c85779c24f21b7acbbeb5725ca8e75dc906148de1af6fdf6e1ece91afffaf88a6731e6e590865dc803c48f65a2476e26c01873ffa4d5a473b5d99f59ad6726a11ab60ab8a020b5a97cfe671aad3b769bf51d08c9c52438ef335a0d3116c07e2948b236f3c23701501d100095ae6129a13b787445014b0b184200eba4b22f6b34f5a4048a88cbc908063acf7033eacc4558fc60612aa010567040343407cdd99b35bc823515c2232be44853489697cc35ffaf6c0086a95a02ee9314908f958a5f309ac28045a2d3a421296a1503ee4c800b8838f5e5c213aa2ef19d3191c0fa376189f93f319dfa4946119068e541aceba9f6b1c2ddbedcb53c87086fa598e0fe9b7c79abacc98a44fec031e8c6a50ce33b035c220c573a5d50bd12ffa71df3ce91e0cb5992934fa9dea36598c03ed2e37619cfc726095e4cf1f33721d172b0ab4aac0a2055fd3446be844413ce84636f1cd9d394f3719648d39c7f5ff09c2caa05455edf208b7a533cf5414035b345fc90aaed77724656411914825f7dbda2314e97fbf370483041259b16e556db3ee40655f7f89aa9d4353354bb95492105f509f90bf9eb328958cfb1224c4c11dfe873bc5c6ebb3637a23af0aae070cc325b6988e6ed9f86ab0765dc9788b2088c40f060d7e71a824b895c4f6d80d8f566b918c8a614d7cda2f23bcb2ff7ea677ddd0161c383b917ed4ed8c4a165bfacaf0738970bac0c8d1e0560302746ed6e51da4dced900c942b595c0f6536ddcb16b7816436d656ebf955f75c1e0773f17fedf6952615a8f614788a49f82fd64f1b6ab58e1f6ecaec7af1865df653128808abb416aa6533216bf3ca29754ccc6baf85e79a7b6f2ec93b8c73474a8e9731976b0f9abfb8fe4ec69d1132b84894d05d62ed1379428d35fd200e966531779e09fe3dad59c14adc44c36759c727d71ede9a2a868359a391bb6606ea6d1634281cc1f78c96482a874380b266846491616138510ba336eb209795ccfdc11c9e727b96c51dc97170e014a60e721ad66f07aba45276adc885e0095ef5e745a761997f25692e924f7d6776a2c90136a7666ada54ce953347a268036fc768bdde5d41698e76ba0495f4bedd13dd0e6f473720dcc440528aaafc2f4df23dc8f4d6864e5d5f643d6f0c8531445128adab0bc73fe237e2ef2dc5dd78dcd5178340b05f17aae78b8d3023621e44327d6c180979d5daf1d80ad6c0d08fccdeb2b4002658377ca81f24591dd871f1f3d66247390bf7e499182e9f9ff463ac5af6b66d1bb294ec429f2310fd746af2a91b38fc5d8d7c83022b9eef96f03616d3399cc5963ef76a1ef5eb0805f837a260bc6598a8366bf822a0e8979e2414c03c35d13add54c9822335bf4297a115d0a754e0183193c5c5db6ed7f381536edbdc5b1cfc193d6ba0513c366ae14c828fa93fc425350588a44a2771b3d7cc8a9f81ff79e33582f31ae726f01cb35f8105c3ac4fbd26f1b10ac46a86478fd6681347362f6a878981641bb58baf2283af1646573ac0e3e0cd3d857013bdc47456d1a24cdba41b7f64b86ce866250ad484a9eb8be553db7f24b664dd894b7154fbd102750174df0b1a3a45303a317692a65babe2e70c2a68cb36c21ab4c2a514663809c7b392be02f25b2083ffe19883293feb74a1eae3c55a159b9cc9ee6159381b48548b69ea666295260acc8a97833e2cf44c4e8d12bdebc9c6530564e7a67ea8800dcf919cdc1b97cc8600915adedb9b857c8b9dca9bad7d39af97851e3615ff22667da74cf8d7ee510fe23c791316828dab3626a8a468a9f3df4b508a83f4bed154d54a25d8247b4d1710be98df2ad364cf453bbafb5fb94e1315826e0419a1e6200b31a098241f6c2e6af827ebb423c239921d0b5edfc743276cc660d77eac765f2f8a77ed732df3ef86a6075443cd5401ce4e9b2eb514acef71f4a4b26af373e1b6c3edbfe84cf8763566699de6659b993e500daf605f4cf275168108fcfb8b6888a63842a44ea486b95b9695d9339a042024110a6eabec28353d3aebec7db765b9193a548e2e5c23189eeec11d92302a9d9ec8349f372cfb9737801a2406856243f13295bf49f9ad976d8f0617c5bd4ceaf0f84edcdcfbeeb4fc9e8fe7f2d560432d03e6535f1f3004733a7ae7ec2a2049f49605c008d814c1e9e83074fc2aaee67e114abdc1e9af021c659db7f0a0e8305c0fdb7cff430fd264c81d03780309b1ffa01f6b265e70337491cabc63e5512ba9aae9fe1f0132b534485b003f3a7f0e62554ce86361bbab924b162161b5491cff57fd1b3695d033a5b6b400557b699a1d66fb09a084f466340f1f6c30f9bd57ddf7a47ea976e6f47b95d1eb067e1a7a9d7c13f7ff99f923273d38ffd04c4e0d089860b48f1cd15c0cc69e14fbf5263509d739cbe13dabb2efc8b4dc6d8798773f883025fda9d463209726b99aa6ee88d82304d4982f7e5d9ff7e6c4aa656027541cd5c582e7862ab082b8a80115249e6d3ff8322e7b11c42ca8e950c5fe2672e0d8de0757424a49e0416eb8f7a1b2b2bbe787eb6aa2c9f947e7b113f52a5b6872fdf9e69699e1d86536593fedddfe9fd6f66ca24cbf0c672f8ecbdebede61c6bf315c39d876383b93873a25529fa41f3714baf3778289f001816ffba245c40ee742f91fa93a4f8e6bcb9c8ed48a422b2ff69215b5c074634a71f8a5c8303b149e40f6ef547732a2d08b6232b429920b22ca9a26c03446d3207539b698f88e1b8f47dea5ae77ae93b344bcbb35a376e4b807be9765b26fa0cb685006c4b77479be458a74f3f52bdc8b0709e5373348ceec9b73cd9100bea233e588daa553431884b25bf19d939a2a8abcd5741e41c3e126b1e3195ea040b14901c7211740e4eadd382e0d1a01acbc57090c8eabe87acb583b52e3bd46b4875b62b98652b14523a9cd0e88d4a7d0a3657b05424beeaf7dc0171fce4455f94f096556871fc980f0b138e83e49b13c34e08d97dc9111261cc5a49ad71392d6da9b63fe625163640ced59b056e741307dfac7cc36e2b69f6e8c136ede8c423adbe3598723a392e6f0d37387e4c1de252f3313f9f09ae3b5c321249cbd163c185ecffb88ae775ebbacd5dee3174a7cab5775cb81d61e46300619d7f2d499eb9396e36edb8d7b5fdc552f0b2b4f1b84581e0853df150f509b856bc868ae02c2c79643d5bc6fd2dfbee9b98055e260e918e37400a1e706f95bdeb93d22821569d5a4cef3556ac0863d07dfe91a33bfde502770cd9f54a5d5cbaefa1a9be3a660bb4d91e72f9bc63f00cf62e40eae43070907adcf712783ebc5f883516313ab7681b8cc198c484d014d33babe205bcf9f3942fb191f99304b0c00052b55a492a47ef4f1e6c0e864974f58beb73a6233d7e5c339ffe1cc48412eb20ca7b4e47787647fb2c2b11a628fb42edecae4384893d27cdf7542f691e692b238ab527fbc799b8d12299c02b91135ffbba1a7ccecf2bc7592f8940d2102fac6409a51d712557d917fa3f65e2b64d0a5dd2e30a33fb243920eac44e261f705630b676da5563961176275b70bfd873538dad4603d00ac4976ab299f4c340ae2e75eea1d345b24db19b9724412cbabe25e03599f72721273f90451ee46590af94885cad4c149e83a75a1d0da95fb49154693194ba847c1443bc9f3403d98784d513b69e1b59d97a36aeeb4dfc602fa84142a917cd7c8d370e608a304703c5ecd43bc7cc78581ebad5427bcb6e4bf3b93ac1ca728fa9de80a749d37d15fcd3759cd8b2d2d09c7f4f74d5ffbf48b539a8ce0e0a172844ae3da9576275bbcfbc2ef66f1e1feae4b25e036ceadae1d993542f595f99338f0003bc50afae70110e5ce9330dabe767cb996d31ff2afdec5763c4988c7397cba4a4a7a00b836ccf0d92df42d97679cf2f90d9180e6d713ef1bb8ba9436292e4bd69261edc614fe184475c6dd4311185a3923a15ba2551a5d70e840aa9b0b40ebd38bbf324b06cfa90e63203d44b4b8dfdfc98e8c59713064611a7edb6c3dc2ba6b7dc47ab850a068b77415b5d8ab8214721296715bede5b47188082543376c4d628802d9d6d0e52b32a613c46635f601e88d195c731efb552abdfb7422a144a62e45b68edd6748c8335cbfb24580de55b437d6ec5bf450facdd58d6ff1d3cec8fffa6069a6de54df97bdd77ea7a51da064b7850f61f91c7c5df512afaf7e8543848e164f04e8d605060b9a156583b5c7a59516b867a0e6340534fa9b6130ee13c86a23ecfdef26ce61fff47f8ab0fc467740763a45fcd93a8458e33da3c17f195c654c6cbdd4cf362e80742f40a9087357e0c7c8a3fbafbe03ff1658ab6bf24b3fae91dba0d1235c3192a45619d550f3335f0cd4cd51d6e247616dd5ef3e1680f4649785afdc62c6df3a5723874eff6e303007f0236a0f02757f0fe82b2c1fb29a1c0cc6672035cd51058438786b859e5247083dcb9b05c9544ee404c63137fc223e4beb9ba057700c5542a1eb89967d7f420a2ae351cf7209c652fd849fe43d2b8abd63d020ee4b4ed9166a82c0562d84296a73ecbd7e95ab5efbf76d3ac052d17e4c4093b3c9cfb72a8da4ad5a4e763ce39a22854867298006b3a48339457585ba5ed76e032ee5ece724a99ccca6ed2ac1b413464d1437db60ebe2cba2f09a8ae0d59cb3f5c54d878e5f5ee3b0f598bcfe250f51c8e21b8b5413e1ebfbe8439949f0ac89e087e9beb8a384c3c8d398d1e4dcd5af5d47107c3578ff1bf45ae577f392e76fd3dbf6b46ce7e1179cda74fa766654078260464fdf948e8ffcac338cc4b1ef04f47667d5428d9c05ffae33a3f9da64bb1bb03b081ae705c45c3dc9b1b0109ef04355e2bbfd39ceb3962a2a9b09e5eb344a57335d1bc3df0e8fd86a35927d11c0f355da9307ce422b6c92a1d3c3079bdc1e24fd8020200a40634fe6c2196533f4dff2a2eb9c1812b1196f47c18da5083f8252892d353b3a2c17b43ebb5fb235f1774aba7eb5433301f57b960440f5d0ca7b8e3097ed437e81752444eb14991ca47aed2c813153017163d8be791588ca0ccb562a9b93cd5510a3eedef4de063b6a297a23b0c46d8460b152f4205acd6c81a0cf9dd17574f8d3637026c3be147c1f54d12093d6790097ff1ac890b9acb28da55a248409d024af1a24e071fdaed9fb221f12aac235a7fec6b28904ddd3ed288f735200c92e995f469ea4a664c177a21ffdb1291ac6e749554e58b5ff36eb3beaf4df05f03cfab802be414608c08ff2ab56c77cf7b9c7cca6e1529f4755342909f6c647c4c10f8189efe1d444acb74d242b1da1ead43d5c7ad26291f6bdee83892bfcf3f98854f24e72c98459bdbb6f7d485a49976df0d51bdc0258ce45d8c44278b920e9c846c3a6fcf4567c908798259596b038e0365e56b67adf8b9f9a5fe1abc8b30f9be12841297c21c1ab30f8810c6814ead71ed1abde0a65bb8607a0c616eaea74fc0d89657b19031c6a22fb8329a957c5d88a8af0fff71c90e8c3133135e40201b3322322c6ad0f39612cb3ea9ec724b444000865666741bc072532abe16590090b44da38dc822dc36fc84fd75c99ffe1699adcc998d2ac2748313e7e45ddb9fd099f6000fb7eb7c67aca30ee767c74f10070fb308468b5e7184db940324dbb8ae98333602196d537079586288867716b07ffb5ae5fafc75e819d4217b64d1c27809d301b74b2a95253cd6b01ec30c3e74fe252b736631a98d88bc8eabb5f979e5569c485a4e378b811fb6153c5c6f8fe3bc35a85f49d74a378df9c03b197bd0322e0cb5e0d4942f24c21a8fe3fe08b6bc1e7d768583ee62767dc72b3761a4a6aa02c960b3dee236db9f53ddba9a1589fd97f926425f03167d6d53ebcfbabd8c173f8a6e566353ae4e0db6de6a547dbbabe049aeb2e2aa24512af6638a993e1ec4301e351d03404afa98becbf9b91b1d9ca9889c009ab47000747c23771500e73dc6cde6993aa74515168ec6ddcdb01e8125e10e372854f22fddce146b4ea54fea24564415b156a79b9c5237031b750525edd0ec54be10b2692902bace8766bf7faddb6cb614feb63b1760c62281bfca90823d5c2eb9aea799ed525e3aab939c44d99e447dd2316bcbf5c2a53daf3737deb7210b768b7c3a5ea72783bc0345950dfde67ab3fc7c87a2e20fcf0988fbbba6457ad6c1ec49ea95b3afdba9c3b92a095f3c84024d3dc4596c991d327b49a22d479f10ec1ca0ef77df2a19359040184e5bf6dd32cb09d165bc2b5c97a94847306b34ea5a26ced95abbf42d76ac5f16aedb81949a9ad2ac6977845af6389873cf9ff06666bfc19cc6678fec82a586963b9abde4fee150d19b568171c7b0b50e5eebd8a1420c75c95a8c2986e5e03185261aa620ee725d7f63c89732ba2e8a3295c1d74322b0c64907f4af7eb8e6dde7a43faf6d8d14a006686c7b4fec39b69941929826bed63bb7e9327fb4beb3bc702eeddf70d152c89b25ac6411543be30dab59682e13c5ba23be364fae50228862c996618628ca0d62c2d227c0c2e5369ff03bd76d85a4bdb3f5f799a37e1ef8929fc8f9c7775431442091efbf63a484f9c7b24f815eeb13cd35ebdac1264ab3edc79ff4989e6e18580c771ad8d133bc9e5016323421a9a818ad101619fe344f140292c5c376fd9701f03e66534e141a4099a273a761183eb9f9c436a00a57d837d822585f69d70924f2a4f7efade620ef25263b5fdc37f3589b6b5091557a7c80186b8cb6d70ba5fd08ee0a8bd59812e6c1dc5ef706639cd5b94bc9ee2346b23e641ae9bbe67d24779b7e08aeb96ce4d122fdb50509271cb8ddcd85666c2bbbb0211f4c6e907d1433d723886575df5de94b2bcb24cbf07052baa8a3c4b04716a90394e37dc5d7c40aecc6b51553f8942de2ae8174f815520e9387be30563af791f6565143dc2d0964f48ae74665ad3ec3173b7b01b1b25776ac49e73abbc9c676470be01cf495b3ba8ea2ba1dbeed2222817e0e009535e269345fde5049ec611682e5573637fc8c1e18fe382e44822de7ccdaaf7a4b881ce7271c9b40291befb33b99561be7c1a7b8c6540f44e875a7982863de34fe08f9cb742a78d146d16e1ec50bac6c96c5637323f30add827935faafb8602ceed9d5106b9b309f53a84cea111ceb4bbf3d05f397c85bf7964683433dc7a00715a0d584f399a4936c26c1869bd4761e375c2f04a708f9a775af763fccd0cc6cd8fa71213618899726f8f5ae9e3bc4b93740f5f7f850b3760878248b7de2d42e2f6083304b4fcefa0a3ca44da14cc32696eb67b79de31578c16680d5d3d010422326215a99b635a3aac41a61dcc68e1b7485c061878524e4a874d458b6f16e8cc85b8196108d71ef984f38d1934f7d9f78fa4ca9013ceba6c8e05296efe0655bc82e10fda282ab41fcee4b98296d7503db2dcb866bac84cafb731be4b8a6b85f353c1dd4096bcb352609fa0b7ba51cc6f6793cf28b245cf52d52b6719ed3d49ca0e2d8b1d010ba1129564236e0e2d3c7e4d181bdbfdf904e4161d4d34aa1b677394e5cd9ef6e864800ba1b974b3a408991b9154f88c0bda2d144363535421b20c14b4d1b67518fc002e2ed69ea8de3dc2cdfc314f129d3b3d44787f13a43d22c461478edd80557c6dca6af9ede507fcdf2aeb7453c9bf66e80b2351a086d6711e15694605f2db44054d9e7a09f04fb4a5b613fcf6898a04af9501b5e74231e91f51714005c1e150ef4f0e3017b11cf9503359ddc5a16e70cc94cc41ba4fdfdb28f54b9c68e2ec659f598e383c5bf0cbca51bc328cbea2ff7534b5d61b886c058eec85b75be6f48949364437eac7e4d25f90fcad9814e976d9a2484432601d3b2c52a4680722f068edc2cac0133222ebcb9fe21d43136e01f5f1e46cbf891f55fb3564f84324f7dc949dbe0b0bab97b1b66bd75d947e1f05af7d5b302a2752d26a22713bd964fa1a74c57a80655eb2ef40762fb631843362ad9a4f66a717e16e5bd4d8438e82022395a32f434ee7c787b6c125f0c0040ceddc3036eafcaaa25fa40ba05a0f4fecb5bb6d382c0ac6edc7cafcd5b9fabafddbfc64bdcdee986afeafea019bbcf9c57612d517007e3deb52d276e6f2190a18e8b0f88052ae3e7eb8540f7fa608fbf404b512887fc6cff93fc7542923e1957f43cc4c8fe3d925497ad29121e55801fa5180023d54939bcb241474b0f72d86b3580bb5ee36d10196054588b7bac52e37dcf3e71ca4d510a1cf19b109afd0ed891298b8cb3aff932d14789d7991fe9f0846d1685fb05b3ae76bfbc5d8843c13951f1887aef0ce2edea632dfcd7fb5b6dd99da1f420cfb012b6b3753a9c17c3b09e9ee349be97077f129f466970e7639fec47845481ed9f6a8985beeac12659a600afd22376cf188ad8fe6af7e19e5bd6a6cd2f50c8ae753b748c019c7840c4acba5bfb1ef509c0b844f87e331e4d19dad4393f2e3224d9a550dc1c6a22e318a9cfefd86befff6c10ef840192261f2f7fd835f11906f7fe8d47568093433e1baa23a6ddde3d3495c1406de107377293108ccfcf0f42a7c8395ee514bf0137a77f1ab822eb14ca699b94bdbc1baa648da0dbc49e30f92258c18d71b76298d5370f2fa4dac9cdea57e131d84809a091dec15fc6807b3adb4b3140616bb48a51c460e0a050de66f3ee0e0551cf5fbe330d2f8cb17496eaf94876bd00c3dcded5bc066151da2ac89219cb0179a7674fd28431e94bcc30cda1504bab999e089b3a4a761df5682c7296bf40db955a2ad48b74192537337df6bbc14b05b32b7d00c98d0093f465d4788d63793ab96f3d17e65f7564d7760b8018e456970d6c2a5bee6e983fed90fae010b9c0256d8297f132260991b49e9378ee0ee593e76436d74acc9ee94eba6ce39bffc8ac408de24f076d9407e7a6fe85bce8fd9fa0c55c01e879da3d9a6a31960beb9e21f8e4ce128473a76511504ccca0685bbf586a8c220b5883dc21de0a27e7d61e4726eb3aa6e114a33a9f8cf4df11aeffa47adb96275a9ddde485a3c149bc45fccb52b80bd3cdb834aa97f4512237764baf74c3111ca15b264130da12844687c41aed3df2fdae4c7ae85d9bb33d51698af38fe3bc2df32a08067806bba7966eb3a8cb36033f952f2a6714e20d726d2d469ef8293d2461ea25dcd6ab41d752f85b953671d45a03cc8ac1e72828f95a27282f66c49eb823eda58be4f9ae5064180b222c1d582efb4b89b6b419e77ee9898fbad4d99748603e9371556dc5bbaffe6cfb98dfad88df288146287d9d110e3f1418254343bdef0361184c61b104a58709c67d349b6d4d445303478f8f82bbe3c94f09198b5048d92dad72d430d78fbc21226eb2ac524c50ea76abcbf57c010fcc3a71d1e5fa79c8e660388aedef0d38d9858a6f1bef528acf607d84217524d54f47b3f7fb15ffa9b58d30d275ba4dca10989d66e2022cf4bba849ac803996ac96482d6b7187169f5bf54a4f92e70fe9b3fbdadcc0330bbdd466a06c4ac43658821ab792cf72aed1c67dcbb3b753641bd981ec09e65dd3115453cfca5e1fc7c402824adbde0e8451106a26606481f88ee0dbf53464ddec4d230e95c413b4f60fbc72f664362a8a493f5f5851c76d180111742ae67e450807da5409bad979bec5a4ed5de1ae259e9432a5253ee995a24017948f6d0ff37b99cecc987011efd657601b6ffdf54c23d05c8d41e0a402ca12f6102058635e2bd6365f4eeff1f229d448a72a72b17cefde24e9d834a141430593a905d3ef923e9335fd7712b450025ba5bcb5007dcbc760f129df22ad6abc11897d96dede2eaeeb63829ae450523cee38785d04739fb2b7c35d7da65677e9eadcd2b5ab3c457854f0be7ffd42af7d0452c0bd45a23542a9acbc6840ab064d3bf831a1b01384edaa3b640174293fd250d16d7b76d54ae27f54d63bf1d7fd53f019d48820ca5175ff98598f194310b53c63342ed347b65198d02fc061ca319249eb331833927b2203c40804cde5de553bd96b3c2e5ac35c150b0c2f1d76aaafe454f31daf5b76b7a394f203a76b74d610a1a70005aa02f33f5ffc0e5f4bf51710c8bf648ce466041edd8a08785877b7850c7b3f10d5d3372f9005f7d8180178150f3acd04d2adb4a2ffecabb79c07868066ddcb74a866b4eb0e8b140efa9a338e64b9b124c1295b191fcd62a7df60324024971ab0729d2048fe523cae18baf1f9a8636efd3a9ae9ea9ce17e02e88662831a90a47cee3c5fd17f6e1afd0fee7351e76f86fa8a5f75a2321f4fdcf570b24134e75a2487e23c4acd31b65bd4b0be7eeb725c25a17bf7f9569a8e83341ebbe024b741669db769a4ab62ffdf4c3000b504f6fed6bd3e3edafe3e215b4355586c0f7acfc922e2c9c7e2ea7b248dfaf57315d46336e05d24affb276088092fd18ecea50ba16751f7cb5cddc3761cb6d8a96cd69ee3411f4e7a06cc2b12e6da3350e753d2022d2abd107c5c84251655025fa5f754abc0bfc6dfc6b65c5ed1e46734cd050e290dc9c88e747a4af02df7a28b3f3f51e9836cb74098fa8820cb4cad166df7f30cbb4c0cc2ee84eacc5fe91066f40834c5f3e7d56a76c9adc3b8ca44725a5f44e1a4f7ab6a7acf20604e1cedcef05be935f3346bef6429c77eed573aef804cab500ecaacbedc13ada99796e9dde04dc85ed90935347bdad0bdcd4805670121ea4af8ddcae20755b0eb5261ee93ef160feb32051f256000fd44a6c95197c51c8bed57d104593f51f0e068cc21e7ccae4bbe00d158e016cbccd1ddad863c1e4190b2efc657c560da257b2516213d80c893ea9f3100bebb5bfad9be8a9ba0bc401ff8025c5207fc18548c4f2d8cb59b995de557f8626c5aa96e07037049f6d3f1e21086a23350889fe52acf6fdf3b5f9cf63a0f3c2819d8f38ff9d22c059601f55d24a9ccae78022885a73ca3602de370d43dfa8d13bd825c48b7f2e7b1a9b0374131aa910d97edd506ac8895e21091eec7831f80e7ff5f10f4d129766e90c138ec05449f87eaa1ca15f8cae6c7edbb7f55fa0afd94a3dfec20b506bfdd5b261a04d585999657578e2d37214d98957931605686ed25e4c97e8874be56a97b25fd7b07b19d158d62169925ac5bc6653fbbf93bf3f75403a8c2f1724195d916d4ba1c99777a46b661c40e37696d2f1812f3bef71e26ac8de26df811203912b5ade50c6de6166fc2e297eb0e48f477369c3fad1356fd0d783fe5c0e12300ec32065e6dd1c225749c343986075d39369325c5047b0517f8968ef8800153e9d2a1f64fa791d360ea6738e6522cbe3e407ef38d6d2b33e9b57aaaa255c0f45277752b55631cc54b692146ede06604fc15a6a1c9c9f8452d8ad440eea27ad8fa66bc343160609007936885d7bda17befbcc93cf7c8028590bbaa17a2e66f196a49f1654db240ad46ee3af76b038dbc53e3a8173f46f4ac31aa2f756417871fb5017f897102c745ffbec27eb4961a714e52e3e57f80d5d3b87343a221dffd5a2034bcc380d0e60321c3b28e14d31323b40b241fdac1ff603ebd6de0d9936e688966777c4dbf7f0603d196a3ca1133419aa1cab7fdf783d80739c68963f031f483d740644cc6cacf30f452726e2f3ae2913f59a5e59da6e4b38bdf5f99d907f3b8aa3925b75113093949974361070f6c3fa82bb66cf0a41e4621c89cf5d6dba544b453be2a4396b466e897a847995738f20c4ef5518dcf0173c13aa456f58eed22d7953d204ececf05bd79ee5ab9259d9c525a72d8fde5268cccca912aa768310956b1556cd356b86a1200d3e8e4c13b1e7816bba3c268a34f098228f088ddbcd215db49e8cb70bf9ce4200e856ec4831301432d0022db2fb488d1c58aa352d7de48f17afc13c9795475c67e3555cabf020f1c3444da44d07427a64e99efcd981c0367137b4e79958d80d235b07c837e0bd5a45966666e19242c12ea17840bce6da3e1c4ec0cfcb03288b872725fe34894afc9ac001bb71164fad815f658647703638a2daab91e3dc80e2029fe469f149f169077b6f787e5ffa00958b5c94ae89c18534ab96123b3fc23e6cabb40e96c4236eb18541d1696bd1fb8a833fe0ae46f9dd1210bd6a7115cd6844fc26fbb71597e762c82dff1687effedf25d42bebdce120018fe13802dd9fa2159148045647983cd48267cee086184d55025ea32297d9ef468b8f52d1df3bc345f24aefbe0d0044602e554fd4ba01fec20a6bd0f56eae4abb39efc05fb983ebcede963b64085823b7354e3e9ca1fb812f7782436eecad0f0768dc3970a019dd0b01619a28f0132dd0b88a3ebd8ab65fd503c0da265ab02d22d204d29ba1b4d5edfe91e22b724fc0f5a500bd3cb68f7f40d51c3d8f06bd1386c5a93e2ace07a36e5d2a3478f4d32ae360c671050b0c961593aaa828c09f908d519d6ee843ac6f524af08a85d4b08a917eb980d746333f7341d8ee048c955e18e136a0879b50837066a35ca65ab943c3d9d2d9f10d982b05ff0b375e90652b9c4a9c6f5dee0ce8c99ba6aaa9368491b36322c91c8e70a6f8949dce3c795757df7e3213bfc3034580ae4bfab46ac88ced2dbbe247e7582267864fb8b729d238ecdc0d994fbc752672a4b73fc37e7bba4112c6ff718cb3073e6ed829593568f5867aaa6b3d04e9b5eacf6a610fe7f70257c9675aede789cf7bd7d2793994aff6862b7915bfcfad90d3f0d82aa4914f3a39244683866999839ed36c422b60d540f05419fd140ec193ff0e5f90912f6cca5b11f98d08556f679bd64d00043fbcc4e6808743eca4afff0d2db199824e00dbfa62062f7628033f56eac2db86476e4b547f6694179083f58600a41d6eb33a406974700b9aa1a79653901a44d466618170d1cd545803da59d7a247fd2b3a62e32838fed9fc247102ff6c15d6941828bbb3d6c9f5c2f498d57e5541990b06df8c2cd6d19d4dbbead0ed86a9c20a4527f87c9c558a9143da06a33cf69ccc0974e65e1bcb6887041f62652dcd088998883c39798001c4200781759235f6d9cdb07a4b451667de26aa391b3d800a8e96a0151163916b20ff8ada683e27ef326d4e4d84d32f10fa60204ec7d6b98b297c37c01d1c04c786941d2c3c6c80a2a6f561ca5514e291e3bc8e86f54d236aafec45dd250b74985caa5078b717cc14f868c7124d445aece7c6300da289795f61b5fd4b0c7d2fad2e2fa93e1583d70a947f48980da42018d0fce4366a3693e318eceac511a52baba8ab5f813824558e8434206aeed8a8447bb3c783322930662254cd55816b994293c7c5b6c3ebd9963287200d9d9af5565e23803fee566e57d26e9efeb07de3e68d52c37e481e595a69017a4727a2e17966c573598d97f8f843125df5f06f1ad9cdc52034ac23c9ebbb22e6495589ac3caa49407207271f6b6a00536347e5e31cd26e563a9ea2d355185d7b592644947011681d53b433a600e00ce11c67c3929db6b31d6703a09410c5dbaca9d6544bb7aa28f32a1551ea93720e7402203274042defd2cd1ce9e1eaf49a9430a21c809f1a88dbdd8c67eec14d978288fb3a60b4f14e705a0ca891d1dff5e7b0c6f36ab9c03fe326d55a301838b8c30cb67109a0460162b95c7deaae01906ba016aca4de4a6245f2f3e3e3c4a7fa461ef00d3da931ca66d59bf87ee7d43afe63947737fa119796d60ea9e63a41383e72b98233b2de18cc76ab06f53477f4601d4f2fcc915cb9027b9dc4fb837d2e487b300b84999e5eded0f05c319d6860793c9c150bae9312824510ea54d0c0752e075bb87b928b8769a68651daeed415af2c3a5c36abc1970f52de8979e9953d135c84fee83b72d389faa5826b294c580597fa4dfa900ad4af28607c83f17fa2eaaccc9939bd9e64ad76d8f0003ce029db119f11b8be3b23c0e6285fa77912ca1349cbb7690c835f651db4295755f40560b6a382b2dc4b544140c5f996a76925a3493540fd88a2a30c4d8beb1c269fc3379c34988e6c89b6de711f3143bde29bc355f5a4f8a574adfcaf8d7bc5143d9bc37f2784d867652ad269b195e29af15001d1c4e9e17669cf895df9fad81cab772ca281dfdcce9ef5fae99373b3498de12fd39fd3cbbddf7d07a8e4aa0769f295c507411e07a34caffd58b319d90283ff96c32ab7a8c061e876beaf9f5fb04cad38b842359e7f297d4bc4f2a435fcc69a1e4cb1d99ca39c94992be2d7e3dc407e217f4303dbf6a6de8f7a801405941b383896b9a709059801b683394ebf9a9d4dc9d4a576c6b132f6de7a314f6ef5566012169b79719827bda75e58d9a27b31f3d752677fdc017faa2e7162c8c57dc83aee12bdbd169c05f5ee4a4728c1fdab6a84d2fe9f6c48942e7331e47883ac7433095d646d820cb281333632f6e433391b8ad540b133696b765cc088eb7685aae2851630244a37d759cf27af7758daa1272ee61635306f6def814c165cea78f047c64c2f9e088f9cbbc8be408e5a2304c4b5e6369d418f2562b65be3603b58ff0dfa0bd98fb1a2f3c23f01c4fb8d7765b9715308c89a414970dff8c8fe6f8bf9bd3be949cfc16c9a4fe306fb59b96908a1e42296fec7703b1eb774314b375902dfa95e70e9683fc19a3a28c97ff11aa578048bed98862500a9212a9f01add89700262b825d96e5f267ba7b69055d965446de6e82ae25cca94397ffc9f7ce03e34233cbbf1447f737760926b71bc5be08c11a9a494cea630ff1eb8b60e4dbf3c9a9ed2b4b4d8f19057c92ef365a768ba0733ccb275e6b303dadd074da56ff5648dcebd90c85e8669ab298f0041cd872b0f13baab0a7ee5fd893736c54d9054eaa3e07defabc8298c670d2d8cd118d3a339df539fa5ca6237502c54e7424d9d581d0b6d956bbdafb3c839bd568e3e6c277ccd1e38cd1202d0ecef063b16f66d808538b19eec79cdcc0617928d22c6551eff9620eaab8652fd6625a6f2bf958c30b6757eb22e0901b6248acb48b143f8fc4abbc3bfdae8a913bfc3d0ba42dac7264a5543eef784be35dfebc1edb58b06bd5fbd8b793400960bd4cf468e4dd996c401b86b27e6cbe0cab8535aaa2c9b632c1524a1d350874ee44f350a3a8cb608a7b62f239174d81193eda061f92fd77afcc1da14242bb8980c0856a4bcff3888d121f9b2932fbbfc047590115c1bda894847220978280065272cb770eb25e9b5f83b6e6ba54162161d3fe86c0cac4c19f77ac8fd8775599dc761b77ef366a1911d2dafc55b3eca9c527ae64275fa52058469c2198da1601683e61e8826515fbc46fccf741e7a2629a4d89dc48222c4d083dfa66a2599b7d72da0cb5bec98c3a0dca28fcc8ac425949fbf11cffa3e973a8b5a65e66bf2801b23c658d1984acf60adc5e77abbd819be77f0cc60095c8105981637dae3c2b850f5288d23ff388d546a352038b236185568d02230a72c912657c3c6eb3cbb188abaf9d6ed6dc58d23f801abc077bec1c8acc350e9e221f41a711cc00afffdba56934947c4f14dc32adaa3d552bcc30cb9f8e22c68d83ac090c4aaa49aeb7290e8bc05a9f00b472ac943f8811f9bad6488167795a25b48bff4c6bf1f866b3b66da3fa6c5199af697d72e83a33933f94d996bed62ec7a7255befa5765fe84ef3aea14377cac2632ae06969ffe688bbccd704beffcb966cc1a0198308b3e2a4595a26027a3a71af0dbb31c784fd18585b064f8466c14d200e59f316000e37bf0e40652af134f7f2167d89156a9d680f81d8a4d228f5f66006a437a2f2b1dd457d042a0b03e5b9a1b65c1faa93117974f798611e529cdba458706a5ca172be29b44c29416b141bd2c258792990c284b06f595e5077dae160a45e301126dce67796f46d63fa323156e429473d1204cf4f428947f4bd1345ee3ebaf0dbbb8cb8e3697885d55131159c29ede70f32d568f6e8a3c0e46a320660d3786fd63e11e192458a87250656fc9a74420d35a8889dcc2aa32adb3a8b10c9daa99e6982d9e06cd6c5a4f89820047345e1e40ef0a7653e42d15a7f98984c9e9f6fde7b0eb3e737864a3102c933d16726570dde37b6e8a949b29710623c4d2aa7d911f5847d8967d185418a5f718f2557ace535bd6035b4ee4cb6dad86fcdeb4885d7bae9bf79c9b8eefb92e802855f5dd179715aa0528f378e8eccdf0b9de71b81fc20cd97b89a5f56d8758b190d61f25510e52f31791080892e65e3dd0d8ea3c635294168ccc707ddd207155d1bfd09a0438222db60bcf96c0eface007c969f09369de7339dc4eb948416015098e04431dd0f77c9d06c7e9b4cb1ce7c46592ebba04267b3c675fa172319683115e4429d69e3f56237bc827ce53ffee85924d30f2ec3cbcc3eeb7753eb9f47d5f44f19ff9a9ba20ae9f21e8319fd58fa50c65ad286ec19310ecdb86685751a6ad11df18ad74f6dbdb4d1841662279ef511a3ecc31585b5f722cd1ddd667639456d65a4839d8dccf3fb6b1ac7d39aa767d089a6aa6ee6592b6cee00d128788c54bd142289ab37f57f7ef492863411c7cda66cecbd47bfb773765da9f530d969e4194fe2bd33e527da85d154e19c99afa462efc8f40fd70224db6632858532437159bdb586101edcbe73d09a6172b83eaba7d71059bfe11514241f02fb4d06f79ad71a65421c7a9f7b234ea22de79f498598c699501b91eefdef3b32ed0821fada12359c20b15351d434499cc9fd7ae3aafff02e0579394765ce796f77cc8adadee97129a5b065df7f8793b7f97836cc837396b7755df6bae1f18958406fcba7535946058425f6e7d56565ff124dc49c776fa20a92424b975f01a2c2c1bafcbaf3d5e3f25f16c9252ff26dc05bef2442b9ae7e92c30816d864445e6208cb293e55fd1f95216195074610633335b1ca2ba95d92f4b9695c2aa1236b5dee89b369171692f2bae9b7f18b2dd31c3c402735c639b2a344adbaa68cc72d4df4cc8c7bd7ce32230f006a73c50d19b2cb33f0084806b52c15eb7b3fa5d0312772569e0623dbea66ab44f544212350d3932dd49e8512ceeedd2b8deebf2ea99d54fe62e5ad6fc4bba7be32f176505614174fe1ca0e837802816fac3f77979b9ac61a5ff9d9c40cf82aea724fd5495679f8e8badfd2faf74101212d8800bccbbc34570542382bc52df4fe364c9b91e6b3f022fb70e00aec81847e160c936db63334aa075c293c6bb595c4f762926c628459c95a3b59122fbf12247f532c301c068b3187ed8ffee94657fc9f32082429737097c9d0d6b1237c617e7f5af941177b2d32a2864792f1f6c5bb8074ac24f9f29506a9af7a2213ab87425e753028886e2d358bb880f2a49841f400b86e3b2f98d74b8525e63a040885ad16f086c7f547d999a74d13b3b65cbe16f374e659fc6762afa05bb55ab1017216b8536c104f4e75914f5bad2b1646608e2027f554d7ae17153a18c1fbe35b50f47102b9c6e8a73933af13c90b72f31d1b612e35b158e7c2e9d5a48772c8859c1fe62918497e049f6fcf98b1e32335afb2060a125bda87d2f9df069fd1587e42f5f122bf1e7e7319d99db132c76b99f2750935b5500a50069075440850396ead49aeac248d1df2b5e2a0fa725c1edd8cf6297d1450e152abc0452c2a8aee6f84810537fbdf6d1c581c01ee586f49a3c571a1250a6137cd3698d89aba77d4403a27141b432d175c93d3af50caf4bda4037923f14578c00f5c0245cab1d404ab00209f0442df988f26f1893cbfec6b02c287300aee01550fc211a28377bd5301e75ec96972a38fbd592c99d76146c74ccaa612f9ea9d65c867347f872f9d9e97854e2c13f57e79ffb049c33d32c902e7964d29758fbe09406541acdaf4272c73f472f652037c4c194c33ac8c1b8b52f510f6c0a95feacb268eeec82c15d69ea83b234fdec9eb3b6859455c3db653df53b34c85aa81312ddbeb473138b843eb1d7301cfd3622b1807069200491ea2bcb16543d8d52480acdf087b25976bb6350a490659a42188e9bcde2d8db62be7b5054b0dd7c5b2c5a05e5a187937124911e3656ab4cb344d993cf51a9da3e17fae47e69bafc5a6136023313c3dc62dbbfa2a02b2c399a3f13db964db860edf0aaa7a0dcf30ee611f293d47be6c593651d082ec155a96bdf02709be770e6d64b0c641bb0718449c63d3f3c32b2d4defa8a6e91019fb1597bcaf2552308cbc9190886fff18a7928dac925fee5405285f81ef7aca0315d5d259637a75f21029ea14ec7515d2193f965560c1c9867f5af99ecd73efac77aa1b507ed3260e6abbd7f4dadaae8d64f2c3fb7519b5dcda9455bc4d0287a6eccfd1c93caf4073a26c2d050b37ee767c37f13a88b774e69e4912b8391db4e59dff63f99cc92ac0eef120bbdf0b994e29e7e02084f04e87652dafd7eea8811bb986bcdc9e7a8622374398956d6415164cf933a5ee5419e7df179a67115e9540ce497b9defe21993ac40ad23925a4279631c4456f448921de62fb068cc87b90c89ff2d1ec84fb69857cabb38fd34e03e8e9f8c8095dbc885f9f4ad07a459e5b5e0fdea686850d5d97d049dbb6da045abbb7e395f19282b9438082642ec39b587bef95790fbf18b33be79628453d4b11ade3202eea3f64c19b0cdf2a8e49912fcd75e80655e0caa1b230d893744d44d455abb1b02bd735e94b5b1e4f50a7fde468d9672727ed04b68577748a77b6a5fb276164cea3a5ff491e49dfd9b6c953a38e362f818507bd3b2449453d7ed822498a4ae290911c9a689dc1a198e8007bd73135242da4be5edb600d07759a7ed347a8362e9a1f74be6fc0c4bf762272bc310dfcf0e110cfe337a21159b25586ce743e3ec004d3a96daa2dde5aea93ce8","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
