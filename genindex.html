<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"47ac54288193e06df50e26f89d8c044bd642cd45e2d6ddcee93b83d2a0efba4db8e5394b4b17d0bb74dc04296944c781acd9533e79859e2ce074f463eb7477eb853f98ccc3d1415872d45c08a503fd18d9a9c6c2935895905b0773449c098460060de911a2e8ef6b82ddc0c07616d6e47b7040e449087b0d86b6a7630826678d71e9da253730929d777c9a3a04b2215240236e8649edefe512c6f92a5fe29c667150e1ade6fc25f9c19c5483e71511240cf7ff0ff2110fc3270a1b352cc7917fb955651534c33e51ea182da44eb4e773c24964532c761803d5c3f98f131a86678962c2809071c1554d4514e2b9840df3ead2c3d488209a0b7d16c33e623f6bb9cc1bdd3f6b605a727ddac8ede18b33450941818716f0107bd3ffcfc660c95ec2e5b19a44daebf0ca78d73dc3c174aecfda23501511ccdab71a9fbdfe26e2a845016bc09858eba0b5882b96b3a098e3a3f12fc28e6e57e63009cf4bec0b3c995ab7ef3ab3c230ff8e005c1327519ddb801d8b983e758f03f6b4ecd26e43d7c53cef6f97b71a0c338f007eefb44f433b5da9265e8ba0ae61c128374a187d3911884bcf63a8e3c47248408785188d8fdb600280daa105c72c459a5b6b87a075677da938242f8671838dba4bcb32098f01c006b4851b79b938960daf09910603a47533fcbd21bc2da7416f1a94133199d52c7a642e56934222b132161ac4a55e3558cf7550e277e05bb0e061a9dc4c9eab8acc7c00da3f5798f8f484d21fadaa2c223a79cde09bab50162e1c253110c55fda5ca59e7ac14a064a90eda965f6518c67c04ca6fb3d82b50548f7269907b6762511decd08a846d02da8d47fad3d02bc4ec4bad1120e23f30c16372d9859699649e6a352eee7334cde89b343f299d7a786f420826baddd95266d5dcdf9a49d407bc025a91622612f46c7b16915e300e1a3800a7c6cbf26ea6880cfa7eb38b978d3c11af376b9a24e91e403768d8d09462c2783473c1d9983d068225ea2daad058056f82344afffc30c981974c7a9a99760aed596e75d592ead5026502b4c9686de9939f01b8e865c91e6573f120df26068fa99f8ddcdedea6fab17c97b99dba24dc7afda61bd04c36a023ceec4f5d25d52591c57c750b6fe50c6fb04d53b3326681122d2a4831d0c1646a81f8249d553086304a157acff1a71f79a05957d2c91b71aeb3dc0a1586fa1539b5d370d3b442626c8a02ac505ac1fd58aa30930800fbf190c6a0dc8162ffc236a7e388e1197e3513821c8f0ad697f830e60a073d1cefcded6fe4c7e8e90b4b515246485e153754b7062967eb01a51597d1e0c2cf25ec8776ebe4fd3a64a6c3d40bb6630cc0b2a0f5f572be56efc32c3014518fbc58b9c2a5039f3b7bc3051bd89f284cb899635678174a0dc96bf8e214e393ed704e4719ab81b92f21ca4b20a0a5cb746396398b4b814f3f9d888ba0bec0dd063b4fe1fa7d3c2347cef4344e4ac40d41d37e3d7b6a2f212eadce1e2c1df200b42a1e9c690addc2b43cf760633092dbc9745366ebcf877a818cf47108775ca9f6afb4b2f728c456ea85606fb904fcd65e353e416570142ecc15eb42dc5b0e501486bd55d8b9bbdfc9b2629b9aa1c29626f4a8da02d984b730e81e8632326ee0cda230a987be655e5fb372ef7014743f02d10a4ac1e70da6b6ed67249b002a0bbfd7adf932f52eb7ac7ed66216157f662a482fdd375113b38c2e179fba8e45105b247b5a0ea78707018b722fb72e5dbac7d831a0ee8bdf5ff3b9aa0018f06c93899e972425c80ea6c236b16c3902a7a519f3732597e7262a5fb37d5a86799e466d2ce22e7c51659ac3eee4df56c54a29bc84501a79e35453d469e18a5f630784d0b8eac0949d9ee325194b67cc663540ae6a18c61cb25904feb0ce796ff38d1017b5b5cf5283f956358c2c5719a0d8d69dc6c67c5058d9e95ecfccea79f4f31a6bf45044453ee1a69a056a34f6b6a4bdd1e04a99b4428169bcd74dde660c92346e4cb43ae36137c0e1b2bd1c6bb164d1e401f607bb5910595f21aad7dae990e98f288a26e294c15bc0713ec48b8b070189dd6a81e89973953bcaf74fe7a6b00c6d70f7850e0d449fc469aef5e6740151ae08d702dc66e6e03cafe20ca190e2ff3a8217074241c6cb947fc61b97c6a908c27506e6fd4ed361446fdbcc264ebf6f80132e099fcfe3f2d7149846f04ffcdde088103be68b3b3de126916969e64ca88030a831ab1a5c29416ff7d59c70c3fd3265fcd2a6baa54d3b7be3d951de653041b5da7be6385e691ea48014032bfd29606978949287f612d6fb8fbbcbbe44869d82a315ce4729ae5d0e102d35b6034ba31e93444d598e6f3e26f4db6696cf43f80a624a2701d550fab8112ed4109e486f4ca93f2b57312fa48230270347744c71fd9e6313e3bc502b24400063870b3609e31c41a372af67b92fd97f9362626c781e6b07212577774b350ba77f0695a83f68a97e3eb9867219187ed22b9e6a219d331611b3c9c56cce5c007aa9bde377690473c1f830781d3f0d6934fb9a42b6a031816100feaade83d9ec01245cacfaef36f81ed2f3d8da77115339b18e940e7f2fff4ae42e435e4130b4d227c5fb6e79a6fc0b9ea287bd186f48639063334830948009f897ea704432ce58893b1d0d9ab2d3497ee1b01e742f53466445b47a3d0e7127aeb4a6281fb10c2a2222157410fed6e5640adba532df9f41f6babd9aee0151773ff1cdfc41402bc696599e417e10b1eee05b3dc79ce8b62839206a078c5d80d6a145512df4d6a563abdbc9cdc29c4f3e731b533f24a1a4a6bce321d520e63ff038265a100bd7cf97a30824aab528ac7f77a909d912b202a3454f31241b89d0ea4d799d65734b9641cbe97754d753a3af91bb21699aafb2dd3879ffc673c4cee114e48b29df15baa009f29a886bcb9078701d0b9b15278b2129f037bb9253d22f1c9e49a2ba0d0e2f4d98c4f8bcbdec9c85f7aa457ab3dcdd0b5eea494170503c51ac8c83073c71ea70a9efaa26d4c6bc502a6d23f52373fa0862f522da6b5a55e585d80a4bceb7a7a3e1543bf31b7491661a549f6e0453ba8a4ed4b40982166ca4769717e577aa01f82553c15126744da1d071c5f8460b6ce49754de93b0801f21b5bb4df5387a3747d8d267dfe0c2f6b2a3ae04466aa476014c167bf1f9df24f571c713088956456481489028857118983c66e42b87403b9577184dcd1f035e7f0adb5c6d29e100bf5bb1cbd6511d9a70030e3622bf49a05ed9aa42e05b525be9fe3321070bf42c7707328655f57c3b21c5055c46a2ccc03fca6bfb8d73af41b919e373f8213e2f2779885c9a4c9fe037e59f1c17407e91cba0877afa83e853f99f1e7ff270d2decbe6143006f237e2c0dbf4a19c609af4e1d11ceadf810f8aa4445d3a4491d3058b84096f290dabd6692807c098a72fe3888e8c8b3ff4cf740c88da701f72a814944e1f79c05bf8a710b9783add0fdef8fbe2f8d30eb2f9a0c4a0738fc7a132d0acf300c6d2294bea8eb10f6cc970ea2d70392ab6279df31ae4fabef4e05254bd519c5701e68c8572ab1240b28c993b645c2d946a2109f26aaa1c1dda2041c57d132c37858c1001df7da7d713d361e20e71966995a040124de63d8ee7248d51d86a3a2d5797473bdd530567c648cc89bb0ab11d3774e7b011c4f117503e75e72752ec966b99729d91ec2a97e3d87d9ee0c09a6fa00f237e7210f1eb61f7c8b997aac8fbb25f27dd5aa7b47d082510934b7b2ff1d312c843792804a24d08558b966cd284223e98217689a163aa023f0ccd41bb6539a048c12ac5eb1f9150f600a6a3f43262c9d52a37c53ec1df8dfbe99011f8c6df5762fecc855ae17ee37e32b39b71401ade1a5afb9313cf80dfaf01333ed0c9805519b9386bd0616f31ce4d85f3c8a880d379af5470743762d28d1a6627e79bbf53b6d49fc6f75f80f728f82ac2e2d1d57018c6234033711962071704e8b5984cd92da1673a06378b33e8f3621cf8da2f66904ef31a624623f63279e356c5c5a1edf30031c1d3dd3239fcccda08e7f48b5e8800bb4d799c4152bdf46aed1248a65a9f63706c6a1a0da7975b0b6994aba5911608ce840d4595284c62cfe5097814ae0baa530332cf5812800bdc6770fb7ce2b02820281e0106cac17abc9ef64c0bb7f6d6c2462388b8151fec8cb660a8202203db816eeb7437621becdfda77010a1ffeeeb06417671dc8673c4d5d79d4609d773ac45dfcec3a29421acb9f5717f6a9f6821166a03f3bcb4713e35c2c652a67044c29345cfad318211dafe7e9616320c20f068064433f3ea8a6ec7ef1ec4e9c1d6e55d8ff552da1276d463e96fd0b1886c2f5f7cacfbf68993e23ff39c2df8b9b5ec5716c910f5e44cf18a4a58963de09a2a1e9c3df828fabf906a88df3ae54bf64cca3f08700d749f7989d5cafc21bc6d87d1a893094691827951bfcb56a717962b0514aef4bd97e4d9424864d61a8a26e09aeb99abd6e16067d60a6ea46e49697a180fd39acc618a4a97f98df3e72e579b80d39d496c881c745ba9de04bf89c456bdf0df6b521ef7140c58eba685433d30db06da7e9f3e8969f0f459727c049265f7c3fdcf2006bb70d6442a4308d98779b6e8f699a85220399c14f0dff927702670659e93f3652015347d9d80485a38e7661577b6c3b4d6c5e6ed116d17bc6d89d24d384b22e5f875797cbd1a42407cd0c3be3cfdfb034dba64fbb806ceb18fe6ef0ab7973fe726a6b293800a96f5b598bdc58145c55747a8fd7ac9e0e6220c64435dc978d8d5629c81ed45c9a1deed1590f8b877a801e4f70eba6b4f8e8a65d5b27b2288351fa3be9edf72c4c833ee777481e6ca68d26058ae9406c47067dce0a93539e0b9f0f6a95a86dbb2fefddd12be4ad580c21851f013428cdc4d995ce61a4d28ca1b867a05310407d32acec55c23be86a30eb28036a231a33cd8997998ed03a1f04e595e04a71782bf58e76a72e5aa2533fae30b23b9e264e186baea31ae3f0674817851280320919394e03eec969d57335c4b05d38b3a73bf8874718f4990fab772d54efe94eedfd6004772017d16794f750ecd1ab74cd9e8858f655ab580a2f78f0f1ccb7543e029c15daeead4af56b95bf5af88af9dc0fc52c947d4e5bc4b2e44cb342c54dffc6fb62aebfd6dfafeaf9ab6aca7ee827a92de11e0b19436debe6b58a73fe81374417c6796450cd5a6d585fe3d53d4018fb0c1e97d2968176febaec8401607a6feb216c5b985c9279809c31d80755ac26b8e3027fa133f739df3335a28ff8e8f9406ad45bb06e17848b4f00153b7b3a80731e222c5ec151023ed08eb911791ad7201c648ecdaca2a6ff4c90ca5dd848a95011397d925c51d9bf22640ad8b900f832b0daf1132423afbddfeedcade2afcf044b45e2c759a15630cbb871b8cb4ab6ac547715e85641237033a80050c61a854b9f2075b282cd14f09d009a71804c9f96fa822140b93e1d0a432504c7356dd00e0f5059441622521b6300d8ff95f50866b8338f8109c998d60cbf68b760fb60676575d1e75fc2369b083b6712dec3e994766743a22eb98a88cbbf75fd56812e5b29d7c50ca55e660e1adc3d6502bf7208f4b008c4d305a7e8b9a4a4b5ad48bb128c4a17a6ab9b8bcd5e0fb0b64ca6e5b452dd1e55c15089e15c939ec4ad5718fec3594dac7f05956951148a7666502951679fd639bc8b0cfee127fa8d40741608376cc0c2273804dfeba5a472dcce527ec6470953929b2ed53dee90a52dc599d17c01a97c09e0cfc664f161c9ee3236513c966e8b4f43c360a71a5926e2ffd606fedcdee3ff51e43c343610d6cb135ccb7d6565f43fd6922538ec5556e48884f79afdc49af93f99eb7b18d8670e56726d9dfa3a91b3f6139d41d7c9e16677e274b5a593a81338997b2c582c45ba94ab414a5009e64ec348970b79d8c48f08fe9784a7bd59489226a9b25a16cab807535043cfe2438c3acca20b283afcdadf6b9c69b0ed5ad79ba2973d5f748d8cbf123ae4d4559ce032f30b16e8457185a9de6cb4aaf11ab4536d2e1670f654a40734172c4638467944affd90d5798199f8f9c66314f78386c5c341a2e1931dfbde448a8b3e1c2138497357d4b72cfd786a06f66f0465beb836093e44f72b602e3b40a030d5afbb9b27f0fe401fa540a6db62d172572981b9f4d4e1955e3d15382094e618504f1fd4a99c9840933334d7521b543c3907e12a962ff53817d6e7f5a04624f4bf541b6248f9c45a04ea37c11fea0398a83bcb429731473bf69bdc70d9dfeed55714eb5be1104799de7d112321c0773e7d3e73628a7bdd371c05a64571785d43d0e46fa826ec69e9528205a290c9e329bbdcc6c245b819deae24fe31f34c980e72bc7017858b9c8c39a53abd838e17d3fff84d9eedc7c0908bfd59661b0ad8705d03d9cf7ee270786b52287d63fca688f97e12c37c0c410f7d0772dbd1e1c391402955c5cf9611296c490553661efc73db63853368ea77d62340871849572afd2788cbf69ec2521278c68abac234987d06352c5ecdd9a8185448c866668635da36e12c0db66c3829f407d6d225e0b18c00434f5726cc3a8cd58eb0bb8b8f04dba9b16a6c10b1172a7a03ae8f2b7bb253983b86fa1a9c931e8ec7bdce6cdca20023773ff96204ae06ec290bfe659a8cab4d78a79b1b7c26a30cf7d1de2a67fbcb8a375bb195af42dac63205a38a6b4d1145384edb3ef935bd866fb868519bf363fb6423b31ec983c9aafcd23693a6db2ea95241827b6947e00fdd60350186a35672a71fbe1893b1d5ae616c125a174e5c83f1b0b750de367fd306ae36d3ff575130828bd12175fe3afd5ff40b2eb9ca34e05b18e558c997f5a4730b05e87ea02ce4df48e962e12a303a9aa7ea254172aa3403ccc55e13f896eecf053d86a4871d8a264c07f3cfbfcc1d838b031907ac51a2a8be9705516f2c20086b0f6936750294d965cc4abd796b609d6bd6f3d993dcc4782394ddc474b3212398ef59d585707405d81b0ca01379d8dbd38692c62ecff7b85cdcc970d34d7b583e4fd354c2fa4d9139db0eb926a48c03aa80be6de05a457edf6db178e50c68119f81f0a90aa279fe426ec57c5eafae09c56854eb1ab857916b594e07939a53f5f25a5201756acdaac15c8476e2c77db5e4bc1a456dcb5bd7b8c240c6581717328d44fb7533ad96b0aadf5f0789a12c84b42972f8d144f60bc96039d5654853c943847dc7fcb898e6348817ac96e2342c5177b053058cabbba743c334ce2b2f806073e9281d5447f6682fed5805663419950917120a53bc62f10b436a221e11684aadf7a33367914132af6003a4d9e9bc3dfab8390cd747d77f854794f652af12d0f81b11bdce3fe2d74d3f14927b1cde2d495f33098fd7e30b73cbf5904ba156f7bfcdb1d859a31f5627a7fd1bd9381cbc46aa2410c34bd6bdb90bf33f330a35bf9340ac03f93e4b22362330c477511318ad03d1c62cffaa6a5cf2499cdf8ea8f007f2449e764ba5477ee84cdd7f4c026075ee9dbda8eab323797352e25b47f1fa9eed48471d2d2e1ae9fb80db0cf5690d88ec101a08c52a1141e854c15662fd4fc932149a38ce4ce1fbecddd54fd2032c648f9d537ed35d3e1f83a3c58d082cb399d3281ee12799113338521ab758e6cee2ec81077a7ba863301b3deae1e673db7c40796b2c0f807ec82240522bc037bb72be9dcc5eecbc2b5c5896eb845fbaa61b3858ad68dd28b42ed540c87d68800f9db652211b986fba12ee6e313eff54b01e8ada437d42ba9cab2492e0915c80ecdc2a740926f1786454a0462ed63af243138f6233490e0388679fe0c66b3b807d7149670d0627c1481a5d5a1fd2a10bd9265a285b8757817e1ef9fb90a0e81fc1769626b7ed833dc005dbd45462b20b0198c1c6893688df9d1323a571c8cb98a3d527f2cb3fe02d4859f7c45622702fef75303f73a660edb87fb933beebc0c867a425a4ef50b352476f4fd38bae79374500ecff744b3ac9b0d6a8bdbe7452195eef8d09b58840c3f511f2d8ec7e65aa12f2716df25bed68fa36f8d59bdca9fcd2e0c4b159575a71ac4fdd116322f08512678a9dc9b8bf1270c2879ce258e84bcd4d96b2f027d6615fd96c6060b236a3d10796c17785c72e2d67b04231107e4782ae4496b27b93f5eb271fd365b6e768a460405ebc66d118510a461e001aa1617eff1d936dc19750faffeb417a74f9180bf14299c108419f07eca73e335b3f6ec48c0895815b2b33c475751b42e8df4f96be18797650ce925c63a8c77514cd8dbff5d20d0686cf2e7847d6d66ab65af01f7fc1002a521e5ee48ba09317765eaed7aee5e154bbcbbc3f10ff656447374378b2c60a7451e456a462f8768f8edbb78b2b53af4188ca25cc49820bbebe5bb5fa83597595189cf88c4ebc1e4347cac359d89b89992c68016ce84a90d51c6608675ed4dc3a56a1dd311019cc197776ca97e81f8a2832f181511f4e98a4e26679f30f432399ef5827bca9e9e43960cd9b3609208b94598962d184aa57d4bf23efaeb013de26b6c29940ac02071307a242850987bc05d8d6e76929a8358847be14cb1325578035b6739992b821cf1afc75ac675bad7f761942c6b7e6e8a5e833aa5a31b2b47032c2732ae00d0eeadf22fc2f5442d70692cbdef93b45c37230e9002b707feefa19245b2de762ab1bdb16730fef5a3d00e42e79b8d8f72bf41070820ec82228ca2f5f10856924301024e2963f7fc99e339c35722fcfd48044f790c973b41bde47ac11de9f2529d6934fb402942a4dfa17909adcf561e3b7065deb6e4ae787dfac9253d89d4347088cf7e18993a07ca4cd8a5f267d1a3fe6c34656127d84326154e1646a45081404d914afa1ab814471eba3c270f73506ffb78747a93e3a182935a7e0b66b3251acd7f592d40d68d6faf03bc32700d5dd57eb8cf0333d6c5feaa34d313ad7e6a75702ed247769367eadbff215d2be5875892ff5edcd55324e38a14b338cc92855f3a95c79cc5e7ac08ce8366d00b2902e4b1b047689e7643046720f50958e07e5788b487c161d2f29745f1eb390fefa1ec17b138bf415d6fc9cac63b8c83f8072f8eaef96f86b4a9dd24479eb8e7d9163b6169e16ed45134035fcb5dfbd464526d3f1125aef5eac105bfaa07dc7ccc3e1ec1f974c6ae08465fb02493b7b95de2032948bfe63df2f0818cfa133394de03f012571ebd17fc024ae68224c238624e1bb991c1a723e2f5b240168046fa5674c76c5a7c5f4300bd038db98e358b89e4769674d46efffbaac6ab9ff243363e4336dd86b724043b8174d5872603a39bee355a2b583102e9d8b7c548b188f912008facbc0fc4e4449c8425e6ed4a0943a5f8fc8ebf04c0eec8df5693e2edf586f5116b9e001ce81b94290fd08601d9b99da15073b6ecce79705e16ab8dbe96baf3405a57d0c232eb0c38bbffe8d8049b401e95544a0b0925c0c9c0d663bbbe43d2fe2febb86cab5e6134d7ecd9b655f2ac47af64a9fd53e97925fe688dcc65389fd71d119d26204d9cf600c9d5d9d8ddd052f10bd48b923cc804174ce5bcae3be8339a32a12722f18a03279bcccd3f3078a5d0e23012215759027cc777366b59da66395ff5be1209ee855992195106e00caddd4675f8c517218d610c3c87a67e639f567d879d80b7767b9a46d5c20985b018e3143fc6e799a9b1b679d9c6481c583c976907845e53bc2de2acb0d1bfd4ed1f15dfae82f6fb34465e87c1fec0fda0fd21122edb74ec7c2ad7a08794979f2178e545005c737a3e994a1d170cc2db865b291aab36bffbb5d408c083565f04b1fb5e70fbd7bfa44434ac4d58809480679026d4fab9c34eb20caf7316950016c35589be308f848aa1db6021f492bc02f1e1ed0980f0cd1bee226ef3e7d43b21671fe0ee52998a31757036b55707d3ef26184e7d9dccd773a8b412c426b6d32ad26c7c2d4a07e6c5c715087d91d61f2dba5d06f9b9d0c939a1f6b53bfc2f505a55b0969eed14790efa41194b3b48b1833c89d14fba16fe342566b0273f0644a3706cb6ecb98b28a8dc302f53fc78f5173988aef19a565c3c7346278bcb0b5f3610c2b42c519f1d3838e2f9e6f797ee99e48f12c4533439390e7f1da25de232f73a189adcf6199be69caf7e7c4f9d97529988dc64e9542a90a64b9800469e5f06ec6a74c3743f49ee0ff9846f557fea4465d44d59fb946ac0f24812f142cf0b8a6b0b12be06aa8d996137723bb0a2a7113084d670d1f15e971b598bd44134a9787c84643942fffb595659c4ffb8adcfde580c13fa266fd868186cb75936aa7916985c49fcad0e49490f39a157d00432c34a8f5514f9f27957602f3492b4764173df501753b420febb6d61cf53099826ae18dbce35fe888e8f73d95737a4f6c9964ed761be849544162ad49d065dbe1d6d0bc80846115de5e2c5c29d7becd2f48a0c2aad42dbd2a5d39cd866912fc5a9b8e4308d5fef4c33eca6ab235066b73fc1f8341f5ac05dc2451bf2b5bf4119824b260945fa782b30848604388653d1ea0298e548cf0bf9fb882352ccf318234f93e98fb2bb5ca326f3b99beb7ad3bea1ae37ee2d91b08650c1398f0c4d33f403e9463d2bc78474bec4fb5037b25761b6f56b6204405444cbeaef5871f3d0683229b817d48dcb80db5fc867b668b85b2f02999ef9530c0c3c1bc502a5881254835f5dba542f428583febf5174499132a83fd8c877a916a5898526db0f9ec8a61946690d52d8d57c3524de5623987141f06f2b4b18f808f094d76636ac9ba0753934580f0f13381a0b963e4ce3a0619ff2691123ad23615cbe99d175fbcacf5786f67b192ee2f48d55ae9daf06ea0faec67fd54116d8fc6fea424f286b4dcd8e034af7add715c8fc85b96c650db18356f399445125d6257025bc793f5f571c6da3e1edcd55f85c7aaf6e2ee994050575625fc1c1d56b4301383fd567e67c1b4e1aff203b1bda2baccee1a400c7c53e023c7e8045107f1e644b0d71a633fe30fd500a27622f0a13d1203dd946a79ee5d5f21481435a97225be4f717bc550347c8f95204415dee6bc17e8cc6b3ea06ec1a0deb493c71a83303913ebfad994296259d2469389e189bc4ed1eafcbfa70ecd89f85109d7d98dd879697a44ce5e1ad92506844f90d167d798155b2f0e98f1732699498d8e204094e6150801abec715f41482ac3610711e0e6b7a57f0060ecc2a2bc1a5ea6c6001c095287c89cc395f1facdab3b0d2094478cb1d1df24fe8707fb4d7a3d4671580ea25667988bad6c1119260e2a27ad7ab40b1fdd0c3021a7c3c9f25d498bc557567af5cd7a6a6aba38d8c1b891e2525d73a9afd4ca2d8f8549d3dad6ec5ea433591a97877617c01e56eeeda2024ea13260f319638c389ad419d8c39178cbf63060f6cd78edd8a550313680f629b2791ee25b6bf5a24294bce30bc154f886414e8ce4a5d233f2c27e939b6f00e018d8c21b64556070e0fe2d20e6e610358dfeef18d8f1a686cc1eec3f704f9634d092a1cbc66b6ebd813883bdf722291aaf576656a16cb0a81311caf935f8a78c3a702b4ea8c1c495a87f95cc1f2a8c0d877cdf2cfbcef1bc4ed5c1e5a158720c63b7c51fee1534373267b867586ccc7c5060df2c510fc4efa28148fbbd3dcfc5adfa2d56da0b9b2348a593784b600ff1d4e4c72fe87cc24215f04ae11a49a1e46ae3e05350ba9af0c08bd7021308043d68790bf32b4a5e199682c08954bdb6f641cf4f05c482901c27fb0b053933d1fff79249a704230e2403f5c8a9c02c37bda7483be34922c98cb4a8fe3f5a3c96a6de7294ccdc87fa7a7c77238e2d2b9d8135a9f9bd22e020937f5f26fb5d3ee3c42c51bf130ea95be35ff11d3bcfe1619c4d895b514b7c8bfc62c4282ae0c8d9fe8ed19a02b71d925287ef6bdc5cb1fc38990aad8fbf3f5c582a6a3e8dd54774c4e8db70dd9f88b97e77b5d16ac7de76d8f5f9877625daeccac215879ad3b2a29d8ef5b3ccd91c7f4fde8f87a94e17dae6544e66d1feafd0225d845d7f44021d387611402184abe823667264fca5c70991a86d1a6c6cbfa1d0b37c8a9ad5638702072d28d311763cc9dcf89c2a238674af670de277412d390f03f3bbb6087c86e11b4ed54f3f97dfc20c292fdb0ccbcd4011f6a73dea062055ca6bfd1544ba73c6efef3288d8482698af7aec6190ea3936cd4a330faa384f0fc995c8dc93ffdd6ca3f71b2d1e1e9c8b7c3d5275d7fd6d8aeeee1c47dc161553e3f0e294a4ca0d409a1e727985b7b4af43c50b644e533eff84bb6ed6601ce038c226e8f934b84610dc22d96b53c2c389a2430c66cff482ff95dc11d944293e289ac6dc08f177e58bf93e8e7ec39f255a39934042f62be74a800d8757bccdbbcf9bbe13bd23bef07bec547e644379a3a64142b0ccb4c8e70d69e91a97d7f75841c5a9fc1195dc06ef0adfc8611befa7947a8eb1b24f91ed88d1e62b1685deda31563d59cac1eb11f8298bc5bb9d165575306f7fcc0609af9e63f35fbd492987da9c6c3d26a9c4ddbec43cff32e236b9c397b3feabf813acc3794ef72cfb3c5008b912270dbf87d935f31591e6613cfeec0a766b25bc3032cef7714585aeebd04560c91d6c8c38e4d48c4d10f264782a4e59fe528b7aa19c92c0747911131c79a806f002746a58149c4dcb66a71b7edf323a4b7df53f7d210a590eca9c9ea98306bc3b6b246284fac247f6bfe58426ff959df3a8a704a4b08df3317ec26e7878526014afb27ced694badfde969e867f1539612d29bef4ff8d2a9f386a7c5e5a25c613a52fb82ecc54463159b16db8c484c7d8eb975345ab48175b4ac8a1af4fa64533fd751b6382b307a9980b150dd017d33b2c0f9df63e2aebb50d0ac8963cbf586021d70c81289857271dd80af31b212fd2e53ce84b30426ac68e3ba0002f05ad36fa95fdfc5c703b18d03b43c0d13e6467c694f73ec1a4472c15030c7cc6f9e50d42bd056439c8fbb954ecb5fe46854fd59eb56f7c52e6a69f27bfee6dd9d59934b339f7cbd5ca4cfc0e010d678c671db7f05c820da0e793cc7a1daaf31c635a71418e452d2198dbbdaae0a5aa63830ba7ffe377f74ca0ebffe7a043314c211f2bca7a804bf5f86669a18479d7f74df098465dd3f5fa870457d83d06332a1eb3efae24b38f1415f36a9e05e476d75a45ec30c763b780b9b23da8810ae1bbd7f10452b41a74462c72409e3fab18fde9757ead0869ec4d1b8a0f6181694e70288d490f5e3982feb6a281645cade192620da2696338a90302169398ccd97469621e394366414fbd050224b752d51d98d5f60ea34b21ee831cfbf1ff2c79d573df19a4724483d01e5020a3b435508eee8b6c653dad378958d52f82b22400482017bd9b79d41b3d903fadc3fc1dbac3ce80a07ee098d68a543239f57308585b79c6ba677b0048ee09d3bd5d2c9b899b3fbd3fff2e036407258b1b052141c0ae77737a54a270d871fedc6fa649f4825c7d3fdc944e97ee50134c84a5925ead4c898877e5280911f1bd4d6c624e9729d998cd95b2a803907624255645a3d31f393aee8bd512a7459af69333f3278da72df02066000fa0efc286c72cea075f0edd65184d0f55f04b64b320c8b708d4e3e73b29fbd17993289dd12b84cb0f37ca08fdbadf6219b73ed65139bcdf8b5cb975648fd6388a727502f33d4ad84fce94b3e9b2c482f394cd3804b080c3cc134e2e91f2fe0f4bab130c093a3055ca8be1fdde407a65d5ad3577eec8584dbf8efb689d0cab91bfe824407eb86a73425034c413aa70ff04d6851f27cb19d23627e06e26e4c531673b5dc44f58bc60a517bbd5d21465d2eabbb91fd926fdc97329f56acb98e5fb787b20692c60e9219dee079a35065171e8f96a9a5675d86e98168630ecfb09fbf56dcd2189f6857762a09372d6cfe2c60c506d315d209075043f74c64dca5233dd98e090df9b30a9b9497ebab1f33400203b1917fb64a24ac2dfc074c5df1063ac78a44f1557fa7f569f8bad3b24739f4216ca42edc83ef81b04ef79320fdff7e20f92f2d2978f44ebc9f446f17f8f7ce20f834cef3d98d52bd769f7e1ce35ac7b1d69577186e5d4becc9220a186fea8f9c86401e06c580badfd1ecb74400c1cf230c2c77dbd396b00edb96adadcb8a8031bddb11d63b64fd1192f69653de9c738df93bf847c0de80eebbb53b8a7742d569e8e4b25865fbd697eae9979abec010235341d40737c89f25372e289ee5d5c7caf786055bf94b01641dc77e8518a35a071bbf67d3cd9939a82bc1520ff09d1f1ecc72666f6784f599b329d966fceae2345f2f5e41cacd45134944828d08c91b6ff0647e76899fe90d71ffaaeccf67ee623f2d252c4263c6ee010e2bf912db78fc52ad3189ccad58de729fa4073f5c44efe4b488f65b4270efd72bf3d4ec8b28504b087b602a426ae14c9ee73dea45ce17e4cd660e2ce6d83b1446f892149f65b81215b12aff0c377e1f3b7a93c433e510e62d8353b28ffad3af80199e13d0893f058776a0f9622fc26b9aa815552ecb266587f1a7572e7d948feb08ebc3fe4a0cce05a616fbbe2adfee5e1ebea5bd1a09baefb97b104b6f1ea9aab2013d3a3e20fbf31c7f65e233f160bff22684b42c35609f9d096456b2bb32a5dfc9f7cbd52541f472cfa6c5641fda106b7ef4d00f4d6d0503dd76ed5d2a485087ea96b6d0adfba4f90bceef136721917052e11a6b172a533a43efa6f94bb217ef15710b96c0fe125c8cbd5066c48991ecaab462e25fda5e31685c74282c0e0efeb360fbddd23c66eeaa2b6a37e25779780b87db294abe206ad9b1861b5c00a6d19667af07eefdb05017964b66040b73857270d26e131f3817e0c4b28e16cfefb06b4d3349dcabf374274d60ce9a5f9b1f8881aed0002afafae9fa300be44f843e858985175851b6586c8c3af3aec4bb57a2750b2933b30d11c7bc2afe1a2a3219f410e5661d6c4dbe677bdfda1254a8e498c23dbcd1be445659be58a0edb7161ee91b41a14896c424fc52de8d2d4e9d0908cfebbb7bac6a0c409479f2de372758b2d53bbf55ed01d88e94c9db0297528c3021e36d9757b4b3c2e22fe23c671cfa7627e2267233a13c2a04196dcd288de1cd956dcf3fe62abc2df0a0fa813ccc0b6cdfed3baf61e422b94f56ee684926bf0af5a9c000594a2dc920e30005e7ebcec15e0c942a9d6c8338b0bc6d40fac538ae96dbb6ea202c40a46c5aa6f4c6c675d90831a42081506c06e76170d45f61745d1c4a3b8f1a431a3607d384193486590bbbd33259d23bd98998c8048b31020630d2fffe01b089b60e3f0ae9fd8dcf40a962cc6ce2c035546c5de9a6c3a02858114016e02b59c0961ab6bc03b01fe8e4a6e21615e221eace586fa9643c302c49400eb76de4368968bdf780fa6521d11e78162a5936572c731bd7587bd5cda4524c9b9859991a58fd80d758acd3cefe70e67c570972208f0f1679b73e0ad587c5a7e7ba73b5143ea0dfdd28c4488380830fdb16727232e3a61003c0a170f82ca7222af49c60076ebc0fca408bed4d685d7836bad76a39e984df41dbe3c3eced810ab0ba33e1ff8bd3b2f619bb72eb65a745630d2e7e929a42a4edaa82bd8ccb46016a3a73bb4fa6eac62b6229666113971e07265449b6c3c9b91c4e7d6d2be4e71d80900ac335799fbaef3bdb890bd8c052a2a0a533a7daa0b590856d5a45d5638d6b360c2b89929a5dbfbe27d32de8189e27d70374e17fb4e092924d12c83488217dd645bb2f50615444786cb95d0c9df047e6e70d3ce9d3692f388b6fd292edad140130f1e02106229760c744aba4c2567a82193a809b71db41a07e16a33d5940f1429779ba63d1f1f06ad7ea1d90fa53357523790ca67f012083396dad63c4214ca497adab01835f164d362207f6cedf964018d33cfe2c7affaa64ca102a7ed0d60404b5cd548a616893de3f43c35152a344ba994adad7e12e0d84de5d58eec49d90ab61f37dbb47ea1b41df7235527241c678c0a5f1c06f3b057d02b964126a63facdaab1721749fe4a216251ecc475a560fa9aaf5e928b3ecf6fd664f6ac7db4f348f3a048c4e90916c8479d5755af2e31a4c4d26a2efe6aeefd0c65e4db005dbb44d32c5b16383ac3cf10760f6bbf397b7a3f21014ce30b5f0090b54cedcdea823b62007cc9dd94deeb6a58431a095ebfbac232502977e9ba278c3fa90f1c14b888735b7897e039fa945aa0648b556f20cd9d9c61c6f14c9c72d912b9ba4910c06132bbb822cd7cb73f7949c8399ee0af76fa9455b2d1e8f2b59a3ce087d1ec3497689d83a98bda07073c09a9d56156ede1a3f4c5132345aebe585a99f822d072910b12bae407110889888025c0f032f5665696b7de884f2e15880a2235ccd3ff4913a6f5618fa2c4d4e4c7cab8f4d7730a6babfe507bab28b94aac0d4e88ee8f70d045494b32e9e13084e4136e16b749423137cd32caed654d91ae1879c0b29203d6a265bfdf3f328a1074078942c906e14bf031f057234ef1535267d17175fded26528b74efe1ed82b1d5807c8140bd2466e7b638c33767e162cb1893f87af319fb20d0a015472c54549dc64778dc99c94e050fa33a9468aca951a5ddbfe952364b3e792937e0b3d0896d404ee0409a49635335a337d8f497e79a7697e74ebeaab6c76c209c9c0fd1b38af8cd3cff44f88196fadc9e3b662fdb8b75ba668109ed95d2bb15d5954f1dafb53839fab868a283e09f4174ba548b40eef6edcc0ccc2be58bd89cb2f250f40ca682014a3a3b421c4c1d5d6f3b62e00c832226ce593b7eeda15e6285aab432b5c1b8f2757dd7bac153c1edb3a0dcb7bc019c506e71c513065cfd049fccae9a450e177000f5ffbf88814fa949059745d451a404c660a2c13b4145dc944a9089c0eca59c4f484b480f1e52845e062d0478430110f50095742229bba2581b0f9ad134ed44b4a0eeb799113290c0962c082af94d0eabe3a50e43102a0b0ed2f18099c652276e620ceead91dbb36bc9a245dabf4596a8b48bb303ceb98cbc86853592eef2a9c86beb3d385947ba9ab720ec377230becd02963847d23953faacc488778f7effcec04c043d2c0c466f679d01ba127bb6f4105aa4dee026109d1d45ed4dd8c74e7f4d52ef4184bd62910fc4fdf19bbeb98e42efc0b04d5c47711eadf41a9f7f04cc179a3bff79ac69fef5e86a6c8ae325ac4d666f996641bb49e1dd6f79294e7470729793dc97fc832c4832ab4f930d3c1b1ed06df643b039c8d7b0d695f889107eee47eabb16384d40ed48410d12543d4095b9f182e38c12e3e2990c55ad177b1c913781a1a0871de1e28f588a846ef9ffa342f5da806bf59903bd037907029c491d8f4c25152292af958bdef86c9c85a1c20820f60fe5f64884add6f86259ccda5a625e6abeeffd720bd309349d9293b01ceb7fb654fa1ccf0a0c2d1066cd7c010e153d640d03e0ff7f7f51fc2442f00b7e860e77317019e8775f772f150e1d061dd27c56b864b6a8cdad0f9229d3e6071e4441355d45d02910eeaa73a3f87b52fe457a6e7739a53c3c447125e103fb0f969468ca0d47f904ee04b64e07b1188912d218a846d58e7f3ff553d8c3a7d5f43f9e3449b53326b7f3a483c75b5595f958709ae430971f6ea060ab342f85e3da7fb888864fba44c798310c83f11a06514fd852442d3b6ccf50aeea20e53b7838ea02d8f3946c539c823db16ea3305641ad7cd792817027d7e22cdb9436f4df0b96719df08c05423ffd19468cf324f4a74f07a7f1adf2bd861435e705766910d914f50937a87833a83d42b8ed258132d44a03c93a99a88e48fecec0455815424613d2cdee6aafe3dac1b45038edff7e43d01e7ffc8829cb3bc9a2d555df13016595ca5c293f634f707949ec8b4b838939348462cdaa239a69c05c44ce3b2b587a41a8691caa427d55d5c18245f83256e1d26242d0d2e446946f7a8753b2f9fc3024616c96663db570c09f11a15cc5eaad48e4c0c293be7a0242ef7f1b3c5226f205d2764f8f8333219df88b26de0361387fc4689dd2b3036d2d73a537397069cc11508fd2020be99cc1296792682b121218f7f8decdf06f46b0f121649708072e075f9a3fd5eda201839a18a5e2b436c64d3d7e5bc23528ca8a8e263bca062b0ddee22724372c55c42c862d9390bda335f0f307235d1038d2ed3bae103f7911b57dfd90cf161127427119079ba35361ec5351a66a198c8900a488b68437dde9f6f1004f14c36f61980ef7a65d5ec261249166eb2db6b2e8ef0124e1e84e22dfbf97987f9a0c46a252dd5c7a0680bc6182c1154008527b686da649e655698b94906b31fe8596671bd76b816712519b5ece1044913956314e882099221558fe7409d692afd9e6fda37afaceb1f816092926818ad2f8c508ba37a4678b2f0d96a665518615feae6e5a4004c8321b1e6c0e956f1c595e0705750b941ef0f59cd704cb48cfcedb5d605a06d62012842e1887bcb1c6981f7e9874ea2a480241a6e02836616fb1b2d3f5e37d1fff5ce082cf39f9cc7bd167db17f36acd6a2f94843534099c1cf5fd44c8fc7fe46fa5955825a71f9acfff94f9843ba4705fd1bdaa62203367d58b6a5742cf1d5d8a02e76ce82b2c7292007c9796c971cb2c5b357f8f24f27926a5d07fd312ed0fc344521cf8b5140b4112c9de7326ef713db271749e194527a71fc9582839a832f62b77596ab73e7b07e593db01bf8759e5030677078da7f752ed333eb3d52b8b47aee8e17d69a7bc0c594ca8c856f572bcf4834878f0effb2b612611c810296bc299592aacbe5f3c9b42f8777063a11d7b40c36ae961666ab4e4d7de8b78ce4d6073962f8d43de4bf4cad8593fa7417","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
