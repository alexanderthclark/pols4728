<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"c8354f56dbd35eeef1cbcd1f1119fe023a88544e6dd8acb75e9ca4ff24156b613c9d197330aca6a955d4a3a9ad630eb2783053836bf90fbd2e658d32f60d65e275de9ba5c31277ef5be06a2375c38e3fa55f01bf5a853805567b1f847e55f7c39098a263e756477912c9bcfc904c253110ff2173b45d4a26f7feec181849b0a3f08173d662fb2e15c111a01187d9ae2473620ad873e185df1d3f82ee9328aa10bc13392126c34af07c6cadb451979fb75563ebd23bf20a588e2fe768fb77642c681abf168af32cd594e48b0232235cfded81715029968d69f27687825c28a6a64eb382d4e16f85b9b327c3c475ba04870ae87db138f4651bc8871feb1898f7582c69816036ba4e686198e1392382f3dcc435ec65f08132cd6788826194a90aaf853d39a0acee53cdcbbccc6d793111ba54b4c798d0bcd17650bb67113af3d6016e500cddedb5c85328040478c61a40b4fa85441bcd17913345f5c2f1a2bec1d4950b84cf1aeda0ae3f0a8a29d1139a06bbe6787545eca15dbbb59673b6860b48b59dea6239ff35bdc64cd9ffb7fb28ff37c4eed8a71cc36002ed993c5c8d9301c5ba42198b55e3a323555e930ccf4ea3213b05f5191e9f621a26d93fc279217beb7b68c18cc351c920dab89c3b835fc3c9d7d2aa5f217ea79aadeb089f314edfe05b41a990748fe83cb2ef572032ae184eb02e66afb6d4b38293d15d84bf6c3c93f1803a75e08037f50d10490bae7eb72e82aeb8bc27ebc27039807aff33e9c57b78843174196e1c7ee4f603dfaf12f7892d5525a8ada7bc6d4d90e65ad0df5f219f4fb918df82edd44a219b462d4a32fa500e6d930330fabf47cdc26c60b01546ce5507b7cd10518e8075a64c2458cdf368295b70b4a5675af1e2bd174ddd8e6e8dd9b40cfaa2810d221c3e6e1bedadb148e97feae3d3aaa64d6815d097f8535c03f1dc1474b40c46eef17de463beca96a964945f0f5fea6e757b77df681e96888032d56b18b07c457e108b93e8378acefe4c5acb38b68ceb94827ede1d3414d51de685783e6793311ddc4ed883ec40bf47e4b3dce9a98c51e87e34ca0105db5b1b3b743f72b7e2d0c12076137f36547ee7f0b3a7c5990984ddf91c81ffd9debb063e9dcb825a21ccc6c328e67372c72899ff3a2e1de251e8bf9a168f201a1dbf9b011b1f70811092144f114e4e5724445da196d2a10b657b0e5e013910aefc65d6bcddeb68a2d24b30de349a25a90f33054402e0131dc456ba8276e87a072a1ba2b7c3d46dbe50403e4ff14781b9f9f64e9ac50ac214f944a978fe5a865aaaf11bde406274d986a40ffeba60cfaf47e46f15193278e0dac0cca70e112955d97089c05c9b3e4ee66a7e76813bb61b7a09291a415d9c96c4c34e21ed0df528b80f71e7514b383f7ceb81e5f107ba82fea582ddc81fc6753e1de4f53adf3324cffc9c48d937405f927fd5437288026c51711e91993007e913bdbb01ff8ea06cabf44ac64e9b4b50ad2b63fe1a1206fccd7bed204b2b8ecf70ad4f98baf3bd8f7b408d707135bca8069a2f5b60c6b01c257197be280f80452dd50fc2858f2f9a5422a1ac881745bb95b5727e3f8afc9dce2cf97cb059d9a273a4b2de9ab43b26205fe8eebe36bf7dabe1f512f929d7a3243c5c2267b9ee47b8181052231b9e17511973a94bfbb50683d161b2f352e5a85cc0e9dd363107ed3cdc7bc6ef2a3681de9b34d001519d4b5fa6cae00648b849bb87d5c2a26387df08b5d52657b939372424b6c49ee43785fb1a0242fce9b8316191413f9086d7c1381690d496417a0823f615e6b0236eacb0112d2db09b007819d81116d5e603338d010e8671fa435e34d398815f409a8f69014746fecf367a784913d277475a7ae992240fa5ea9bde02532bbb6d7a97eaa6c806766000f581a719f890c42b88c17755d4f1c76179fff777083bb83d8b64c5f8b2acd573130b89ea0b77c6e31cf0699a1196c8a542b93195a5a7c464012db20af0bab58b10f3881386717b0e3da17a24c2ca59f9bb1bad33056ac469414f87032a4147c95693828c1c05ae9b9b3a89a6d570f5f6a822f680f14a0eb0f3db760f0b4eb495d7e7251313c07d51b32666f5097c53600d308be619949f8a98e3ece8ce8e21fd8ef568ec4eb47c35c35709cd0fb8fa5882e5d0ee8c9f088f78c2b8d2d933b14855fb94bb66d8ef78155f2c235e957c549774d405e64da15644c99373ecbb65f6f05b4ab7be13c3213e2f0dc524e02f78e6b1fe853019423a9bbb15b0e265cb109990c83a586da12307b7826ffb9f0444a15f853e06fefab883ae2302d989a004b690c2c2769284db78a15f9a1a99fe5626e64a154bc45b2bef7e8efa8e46d834674f66894086c5758d996a3e05054a67c4255f72b2292e64a70cb220cea61750145ad484ab1d67f67853c4cddcec66682ac8a1a522c1dbfb221db88e8dd560dfd316698224897356a10da821b4232a9384a431e2a47104ecb1ce2ecda6ddc8e5f5d6baa971341441e3ee19cdbcabcb61c66ca7353339f025b25a79f157d25f5b9d8faa5b2699109b34392b60cf4ed47152d8c0079c93acb250534fa87c38ecfec1313049319c21b87db74176c8ace3fa287a59c987def68ab7a315d0b745efa7f037e7f84206c0e563ccb09221d890132fd01cf9193fe41cd4951d1bcb853a3c2fbd8fc126131b1956fe0a440d435f52fc074920adcfd9d0acfeda0a3aa7639c60db9024891148ffcf275e0129f11cf5acd6906b7ac473def8ddba09e4ee60090ce1155a80c759f5bea2cfe341e6050f3f607012d7c102646e3f6304eb62a21f0456d12cc9710f625ca012131af906e25f48cb7b4449f88d5b842e47e71b1fd6dab443ca8189f65cdfb09220f54e9da878e2f82cf0e6eab3d3fe4418297e79b571f5b42496eb7067dd46c747e6575eb4bb7d6b1d7558ab8d1f4d0aa14104bb8e5caa16e95f20a559d6c9daa268e15ada8bcdd2c65fe6000ece5530b5b1f7b53b21f0d4f94350f477a7b515a802819f3e87ab5e46fa49fc40f2eea2625a76e3cc1d13cc219e3b9d25f7e51052ef82a5c431824ec2d085c45b35c7c1f25a91938c4a34e21005b7e58c1f2e391e21ee5065e84483b9754c289aef05785c1671a9fea25b1f95e489885d89f551f9148a227bb4cd95cb27f456aaabbfb6bd1711fe1cd7c7f8e68b083e280af813b60fd96e00ef9ca7baf66ab31a2ac81ebfb081ecbc2270cfdf873c99b4bd4a337e8787a7c7df75d41d59f23b579fdde0a5524fb9eb5b865713b230be3e5570794d4bdd9d8407c78eecbec55a4c194023e3c0bd97d96ca52b063ee32a88048231b2e2dcc391442661d62f2973ec218f96ad98994400ba8758778304fc97d4f77def8b39543a6e50286147f6478031d56cbf871b05da6f1788b45c8de580ccdfe8f625e51baa4dd6d0c12ed248a40ecd50dedea9f2fd01a7186f600fdafb32bb554d679ad5b34ab8c8a750a73f40819708bb6988a1bf47299bb67e0fbd4b26683825a50c30fef64fdc984a65b8c4fb676a713451e6e632ccb488fa668e467b19382d4728c0a3f07962bc15ba668252f308396608798f33d9d80967220bff0a4f65781f5c556e75647e065a7780e3ee6a56d8bd589581974b7fbf17d83ba3962a335d0ca6de8ae6fe26334f7edc90f83d203eac11f668adfa838bbd030a179896e36b6290e2784e63d8cd89b81827a340a44eb1a8da41d8ec2d32708b21b32f3aa68d056788c089201f5d73d82b3ca75e340664b8099a71838a0e064f2b3c127a55e1c1ff30834eadb1269ca2f79414c201dfc7d37963e4b44aa4f2ed8c376d9ab2020eb9ab2604e809661021ff5fb8e75290595f181e571f4ff19f13e9fbb67d1a481609590b964ed1490614faa398c3e03fadabf2d175a12081b4bde401cc661a5be136ede24177ae9f15b023b7d95bf3265dc1fa996f2afa5b9ba23465d74f57277d69c8972e64fd9ce35c2e8ddfec040a33ade68f8390744802b74c0841833db81cccb0e9c9a78d60e2b7d6ddcaabcd020970020f257d5601395a30fbc0daf152b914db213b80fa1fc2178302fe4892a10f379e8f16242957780d35966592e7e26d79a406bea742c4ac19ed9d4f01c41de438944232698762fd543f4fa955e19f8bc2f8f3b2961b1889fff5c9ee85965851160cb02fe79274c426c2e8b85117885cade102fae3e5fa71e54b91c634247a303b3174c42926591e08add8c59aecb8380fc4732d79ba5be99b9aedb3953735b0edaaf21ab7073c47f7200b59a05d940b41231e1ffa4fb78bdef17a9e2b908adb7c15aabb3fe9d9cc193b091a96a2b4c6a441f4c918f3424aba97ab5888eb539e4cfa70cf69fdf2e82d4b918b03977779b9a8572563b8879a35e0a0e9965ea76292afb446dcd8a1c3d25e8c2c3571c5b4d23cc22c90f6e701b7014324f9ef6196f00d0e89992abc268fa93d9e94473ba171f935acda557d9c2a9bf3e1cc4f6c25e4d6c1294aa2045fa2e8ea9e89328accdccb2507d7c41cd9493970badd21bed1decfa5d5ad5709b3b05ca14ce9dfbcd6ddb21ea096b1f5f43ba9096f02b88882d3accdc3648920e8ce8a71e2c72853edc67549ed5e1c18d0bd4d7feef34d7a224de37b21fcd6628da409950f67b379bbe23bd6b17dd48d17a82d99c79aac6f3097d3dd4ef7c30d89139cfa5f9435a6b0f29ba48565f4d0cb731aea9a39c542de8c4174907bb98e2200cb10b9c63ff29b4712e2b852b3cb5947b061e91e926d09ac90fc5aadf0618a07a97f75f48c25ae3b41d2fa2caa168889a4d0f9cb6a2c625ede813bc0b4f86f4c634d1a199fb47b5b4046aa2a62ff0f1091b980a0a2e6e97daf97a569444bdff736b35999549e3cd2baac36a24b0eeb199f0141ac2e4bba9aa155c5c418473d1b7ca50f7e20ac77c0ed85bcb1b45f257e0eb60a1ee9ea90b20af76444003ea7f24d7c351cf4e50fa0dd3361369d744987d41f19c17e5804ac2e0bba8c43a9790ffa3fb5ce866cf9138ebd4f822030f9eb0794430a64aef67fa0b6d40d6653ccfb0185c49add2a4ac823813f3840b772eb315dc0e56e227a809eb868c8795e57269bb823c14fad52b1b891f02d65322eccbe915ecd2c94d734ce94d447f56a7b62e8ae2b1a8932211198bc3f6ab8dde3c6b9eb7e6bdad524e083b500e636ada22a0799536a4443465ce9c84002e08dd85812271bdcc8fc9a656411e7f99ce1f1331be3c6fdb1ae9ba809d9ad2a23fe3fd64f5029f9e1feb6b6889c73a5d588899480086ca93fca668574a990060cc9a0f6c5adcca70b76a27f1478f988201a78a5fdfb18bc13750dab92e562e706d1b02e1f9a494b1e24aa1a8ea398d7554485ebcfe64061c259fff072ea89ee78b55b649d8453da835e07480e4fd0582cb6bf5677d2d08fcad90f3e2c7cc226f4aabcc725b451af40e7089b47a8c13e5c40b8c05bd123d92c6a640693c4130fff2503025b57b91622e92952f166d62d62d4bbd24b65cced65bff852ef7b9cbbe8587b5b26be47a2e0e5ced31c9c8b66833ca48b28841c2e6e0f66a1dfb35d88e09aaaeb41a7cef5764b126d1fd00ba8b273c0a8f9608c4a4afd3f2e245ddd3a18807df5b1f11aed6b8ba848402dd32da5d05bdccd0f8995c11b15af6937fffa34a0f05230c6135b154097467cdaa3eb28aa93c1a7e7e5f6f5fc6fce3e9ad185c04b4a91f902c347623237e54ab8e8d8e6b17fbee59a5a99026af7b32e5e71d7b8119b3f10c226d92cd5f304f760bf742bac6b9c4b273a442603c84429a3de5ef105f532f9093d428d368462dd245b0ceca4a017abcefd4e4af112a27a39231d7cf0e678c0d947cfd809d6ea59216417118209f205c1b6f51f0dd53af422cae0538c408dd01afdc16d8cdc07401b8c7bf59deb666e1bec49726a472a299c5b300bee311b1166726d3853640b8e6a37b700dc4e8c4f7e61383812077ee9bc8944b5172c4780d9aefb40842f7b796ab12c016a1980abecdc1325d7cdca30a19f3e17e7ff4f0241a1926e7af202bc689383c6df642a0a79c071d93f5c4de228336d5569b96c5bc4ea2c121ed11dc5ebc395676408a81c99c7248869e126437745a7460e70695d4a27dc418dca9289a40f67d0b5927e2fe2a8f3b486225ea6cfa5bb83621cdc07e9ac8caf7042f2ee24c1b027bb75635b46c6529df88f714261b5f7d5c4652b2319e913031eaa3e13e19470af77830a5ab95c839d38114c19778f4042ad76656e01c2fed22f76bc4cc4d39dad1a26bf637cdb742c62d12357199cf9ccc5f5d2ceabe638e31ceb446ff9e9f3d63269ad0662922597a96812ea4ff6dddfd15918d0a377f5b9486ea1d5f8032b67acf3803dae16fe8805c971167422026efa76bb2ce537aed0d87150ab59c1146de837f6b5b4665016745c45361cfcbb2dacac5d8738168b07c64aa94129744cf6c718faae26ac58b51262da561895ceeb5fa76eb1a82a531ed0e99a1c174a09eb751b46922bcf72305a3e04530292e9c1d85d4d29fc34a09c9280ef9a9482349260a0544825153394353fa6ce4bb567286a8469afbe4ecc7b178a78e2453eacaabefa9bf2a8391297cf5063d5b413f34515e7a5ae66a1369abec2f67fb797043e9f114e0713f54b09dbb530f4f96877604af07f39182c1c95b52dfd11258b24330cb63157e18bd053f866a93a1cb04aab9ac442053f6a0fc038e5f3057ee32fbac1efea04a868a745553470f3d07cf9b98f3f7ea5c6269817bb4c0e74aed6d9fb3c4387315119243a513ca3d228e52b88c030cc694491de4aac0efe4c613a315c2888e6cebd75744d973a1c8f82302fff887d5bcc79c10a24640c92a3784a8e10bcea745339ad1a2c880e2e64af62ae54997a26ee285eb13724176cefaed2f0d9aa477fb28f5e98190079aae1a0187a8d17baf02149292b85ced56f68a8ec7edd16b21e49d1f1be46e7f8720506dbe9f102ffe8a5c7edbdba2c29c014c6bc951e4942d0fbf6d73ed4f39ef11835e20d5154bc185c0f9226cf86bdab00c6ee1ff74263541d07ecca1db46ca24e9d27729eb249566dabfdda526458564007bfd162ae62ad7b1df2657f822e400f9cea94d134d54ed3c9da95defb0501f3de2871228c947b7eb0322c37b4485f75219141306adb862facb4abd3167c8a726c50f1b659f6ee100f14df0404f561fce25f573dd106ab1083c43aadd705e42fa07c1097dc88d9bbb3b5d2c4186f2354cfa444e30f3eb8862c31ea4c85017c0d48bffaae8dec58b00ce10797e1459cbcdab23d9691e4d39599587866b3398a06b3278c89321c4b0f798d5833e1c9cc5c330818df3d50b0461316e1ba64a9a8c607e4ede38ed4e3d224e0cec92e52e898a64d331a58dd97a1cbe5c44dd9f413baa25bdf92523d3f52e106293ef63bebafbc8841856e05d567c4d068177362f072ea7d2e3838a1d22d8752431481b5a35e8bb23b76c79b927c12fb686f3f103f1aa1e0db63753d21efb5237a11d62e4785333ac6a532bdc9e8ab97f15e9eea12d01080fb19076a29f5c5f7e414b4ad208545d4a0dc010c3b2bdb1e9546ab7c921fe05650f6a6b2836f502b056616bc87563366efe87cf01166f9a22d529b6e3b46d6fe84040d29177883d16887097df24a79e8e709276ed486e9bf11139cd27fe58d9ca689c4caafedb0fbf0a65518c0c995fb167f786b843b3722e45c3627bdf75d81c593883d0e92144fd2d59da840e9a4d4e7eed143b49e1baaa1d780f1472c3e5b7a2c9957967ab698b448c7dfaa79f89bbf204abecae081fc538faadfd5bfbfdece5ab7b007672927717369aa9ec52135cdd285111e95083cad57ba1046be9562d30f10ec685a65520fc0b8e56f5bb07f8d2d5858f758a30ecd2b26c1759f47fa1a899b317b679f37d6ba41791cc4c88b9f64558c65b4b5ee7a4f34d60577ad88180ccaabaa5bca119c64271472a81a927a0fb364b9085136540d8c1a7530afeaa1dbd32024e8bd664d12f261c73cb5b822b1535468e452005f4a67217fc5f0deea41ccf5b9258aecbd71a57f4f714962be58e56dce6d73b3ba15b87acb4eaf7829e78b51b72643404c582d38948f71950dc318c3afaf291026b26c9857347f89b7199abe6782ddd350a0ef2f410a6124ee96437f7ab3ef6059d434369856a3f6e0ab91ab651f277ddd7372d274999c9a44429dad60b18927435a1b59f85ca8f2f03fd9d8979834ce5d0d6ae9cd0219fd5abf62d77c89963f8a48187020bd319246f019a403e6d67661096bc0956aa67400d04c6c8fe6fe943da5cc2006e64ed32f6b97e6e21bcb1445e519a502f9109cf1797a5809e46e7c8133cb446709b9e4bb8f6f8c77b13636d6cced75fbd1adc673a43350e5e99ad866cf04cbc6cdfd94e08fe0eea00d122623dea6b8f556205190fc3223117b5aef43db0d521de737d00c07ea4d43f25bbb8758102d1c96eb38656ec69628b9095827ff8549ced2575efc8d3d875bac70c03caa011caf6dd3825a52cf3848a427ebfe0c80b777508869cafb342ab8b647b1d9b93550f4301a0cb76a812c4cebfbe3a99dd54dd0e150b1df95c8e74d2f2916ad52aed884e50440aabc769008c73fad8810a890b18ea3101c71136ff0388d819529f26c25ed2b48d68f6f60059325038cb2145643d9beff1faf21c72a6578f30c7e7d35749982d9cdec937debabbe6517535ebb1506ff0c95c288231fcb58db56e7e5b42a5e0792ec2ba3166e9a807817c9f30664dffb2fccee01323083ef6b0da85f9644fd254f2d44d4b0b13abbe2a7365b02be7736d890192ecf60f6a3ad812387f6aa5dc155da28e461f7d228c79b903c0f104166f8cab0659816de04c107dbe92c1c524d78cbc7c3a6706952e06d5b0f8702abed9598ae1570ae0e97d59e83e8b4a4ca93783fd89c0585a22b4d1a131e5a633cd763f81f023939bf87aa278596805676094301200629a85f36ce3c53335816b6e9f2167f91cb1c1910a4f81d770dcc7068a4e4f62e6c369a248efe6d1f687f30506c8c885364c4df5c0be47fa843dde0456d55f7a4a0fda816f5b7ee59419c54edf71efe1a9f1c177a7f728d61f0081c6b938240e26e57768dceb8d7cd4e0fcc1067be26e04b3a9d3e12b7218820365ef0723103ae8825001f650b7a213ce6fdf20d0ecb28845788479da94fc8373a95bac14d33d07e992f1fbb4f3a129700ebd1d7a7d6f45e6f0f64cf017182e904f261c86e2d88f9ec4e42d7aec72f5d6d25153f676da3df074d2f8ffafa7a05e2315bc55128d89b4ceb2d63299c085b199c7c312fc1ffbe66d9696e027f695019259df77a12cfbc86d886d438abb5f6789a724e9dfa77b0d98cd8c1cc402eae446296d57b6dd962e76e28b8b8e68fd30192d849cbb43c914fce79d2ede41e1242aa365f3657cb3c62353e48a781712687d1abbb73b19e79df6d23c4fbfa49ea3660a8eaff5014935793cbeaaf4427bd30f80d08cbf95d59a8a2971c92d6a1ae096f50c06c76edf37177beeb6d09fed42c64e64e7d52a3f87a18f4c058b3268b0e9b090781ef2cb1ffb810bc95c98d7a8f61d2c204304dab6c5ef30fcce1e9d3eea74dcdcd5027204148babf6644dcebbdd91d66e90bbd28f234fc6985d70165b303459c635f4b9b3e9946951c2815c9f6c21d3edc176bb43df6a8b8bd357c8752b40afdfc68db0643bec9325f515d8d9f8ea67c4e9d1a9f46aa6fe0028ce6164abba829bcec6b5770fd48d8fecdd03556af4118c4855ecca99ec8786d01391c17d937b75d7b7d3ddd7dce7f3b647589148a8300fb8dfd562f555fee93448cb0085356718f2f9691aab036924ae198d83575f3f28df1b42d319932815edc3fae92edfef3a1b8bca90d6ebb2ea0a530c174d30dfe3b23ec6893cadbaedff1d5f790faa109f08686ad7728c6a70fb918a8c3f8a67cbb5f3c1183508bbe17605bbf325ac3d221e11d63fcf04bba819da34e5ad27cc3bac60435875e91f53bc0a65eeb9defa88508a73973f15c1d70f1e56575b1ee733189f9769e94c98d4c004e97e2499c0418b74f3793048d6f2881c9eb6a2d6537f673744c4a90d3012c8fd802914e1960ea2b5b0e82eae84b831b2e256be9d05cc35761001767c485aede13edb7807347ee225fb4813cc82858939025c2198831de989e8c749f30e096922317b067ab3c4c5101995c6383d7e9df72540e3d6b1fdf9693b380f034246990a19f782065dff715627d2c5fe474ecdc4fa38c28cde54a46af0c1fcfa593c35d4689d009131f87f2c0190d0e1d85531fa0f73437f207722d680a624d405fd721b38baf46d0bd9f7e3b22acafe5159692f555dbed5d2738d9e06b799477496a91986d5609b831681d4720389922effb8168d20b6d77057a2b8750c62a6c81b478514a56cfaec919f04245c3f141aa8dc32e21ef2f64afeb2cadce6b69649c3f35ab65e551d01e3a2f84c226af2ea74539f97da54ed7df901a1a198ae5f4959d00573c2b919191c3acfb3b7053dfe763e1d8b3a2f80fdb287eacb617af2732e2c80ed79fff1253c1948e2e162fca15c495c645a68a8f30156b699eba79924ab377d3944e1d50ac658ac5321b21cb86e7da1c931f725640b3cb7331d2dd124d6ca654a3f2f8c17a27872ff7e1c7be9e768c24181e3223f81ad7cda33a6f67deb864be89ae0f943dae55ee3965c4961f48e8e6285659b97e5f669f0646da27cdd6d99758064f5d955828845b74c01e78d8d08528b74a23bc241423398ad6e4a4bcf6278795c4ccce91590e36dd43cd29107e3f1d568759d00185bdeac3ad948c351d467a8493681d3a37d27cbdae1910f52957767ba51beed2462137c27a987b9ed68d45a58d40be0f10c760057de8d9c0cdd7958e3c7431f5442a8e01d0f5008a5e10272f1e59dd452b1faf4f68f69f62a9525d83b21700bc9e78cdf95daf9b75a9ff4eb057f215561daa81b06c93ec96ff5e39c8efbce6c25e9155b1477b6981fb5dba194fcf9f50719f487e864c4105fce99b2e232726c2b43e91901f6d42379cb573e2ee6122445c790c46cfe74ad79b37e44089290fa4968272297bc22fe34da6e6d53f7aa30b1588486b64d273e18b0a4691ea9b3367b983bb2e0f82eeda02587a17379b618de067600e8ed185cdca3bca7b204bdc43788269611e581a02b6e8758fc10723f62d33312c6d301aa0172c36e61de71199c992a55b0b782abbb6e30e2228b3f439b9b5cb26e6ab4b58fa41bba592cf8c655d2b036a7c579fd435d62a2f50ac86395705d24dff9018496306c1c58f58faadf003de916d6831eca171ef62efdffff2257f46767891c757bb91dfbc221ea55f60cfcdfb5bc4053be8c7bd808ae6017f605524ae2b7e58a056508322120cee10e8ff9bb542fea3d1d41f275058eb50ef8a5588c6d3d6d9f57bbed1737d140e7ed25a442fb1b9698cfe76a33695dfaa80dce8066d9210e725c71deca99fda9472785c5459310fad35499aeafda1443bc00c076039ec2e39b1b74c25380f79024093f37acff63b50889158440c5d102f418a0609d91e186852f6e873c120d1590a1207d0855fadee878b97e922520a829c1825a5d26edd06c616939420ba1edbcc0897e025944bf7514dc3b499456dcc4d424696d85d92a901f7f5152dd393572eedbcc208ffa4d848753664ad9fb6325637aefbed741a658c0883c72f623801d8b02a67fc13e819c5ee94e9590572b289c4fc92e406a5e25aefe41af191af5b56cab3aebd3718e7b9829f2de0b29f6ee1b27c1cf3df478f707652942b9aef135941bedd5eef5f936f8aab775f6bdff809cca17e3120b49b995405400a2818020d395cc15ce61b0e07b0eba987d9b422cb182a503019cde14147473a7dfdc514d710a8775d16f800a5941a9c33603beb83a5426084a1b452a413f91f7d49828cbda643e0f5925188a13beb0c6b951e5dd4846084939beb3bfa89cc68ed27a4fe1d5436d328079c7b2163c9acf2c3a8a3dce425b79588747e65b2a0f642f10ec5968e4d99d87da4f5a04c05c3c12911472b9cd1e9fdcef5f4a50d24addb3f529779a5911f22fdf81e917c77af32a95f42994c03bd7ad28d2d6e62f2343d294da31d68bbcaa80b3a34c049899de8b384e8a2b4ea64679f4fe685bd99746fdd6e3381a05e418d7892f4fa1367e3ae3e04992da95fd4a84ae2d1ebefd6f9fb13b9ee6630ff091bab4bb17a4467e872206fbd2e7fb99abc1feea41309c0aa88e74ae78a82fc6837521b99bc64a29d3af2d5b555251a9c81c8f773eed9dbe96cbdc59fd7e2928104401202db351d07febd2a93737d88575bc9d27e7811349b987d4bab72d8e71b662b86eb8681143d484d6667e1f53488a5fcfad7d453ac4ce077c13eed8f9c0f86333d6b6f9b0e89ba61d72d904093d2812966697afd9f807356af54a1a31ef761bb174b8455f0c173898b06f0cbd192ca677231d607db29dfb6fe0a54418e46b15ceab4cb259ac10a0134973326293d49fd6c761ee9dfa140034878ae0cb7cc9c65ea09342ac7244dcedbba709c8665df89f9bd77bfbbef1b1e2b2594a6870bf9e2a18047b49eb455f7ed0206a9f71a66bc803f178d377305bd094483a1d61070d54417aede67046052c9dedc929f406905d3cc44029540101db5aecfe8ac09c63dde1aab0cf1cae2fad95804ad81213b752eee938de476363d87799cc388e9ec770e658d7d362f80386a6e880fed24b83613acad7679963151cc2254230d5c5e47657302f274cacb1837390d16b7b76485f89dd46cc4e78ecbfdbbcdcc43b3d0473bd6735b32a395f84afaf61da6082430a751fb96bf25364b5c6bc3f15b52b9e7a0f46690adae0d450eec993e4eb6a15dc0571ca6c3068a8af32641116ce160452f92b1b40190fe182e1334478767fe3ae9e03c5e6cd108f48c81c8b9133a2bc0ac46be0784d78c39bff8a19fdd4f861909aedf7e1ddbba8722a39819336018810e7e5c2166b1c35b5758b0e8edd7bdea6e0a58c61eb698153d238d1ac1fbb4b8d6ab4edd17ccaa0c564bb41d7e14b7fe4fd3c7e95955d0e592d07d29f1f4ba11ee3bfcb0154900688bd3316106377631d7edb1510505b6f1f6a873154486719180d6cfc061d2eefd3afee78797151abb3a5d25918a7fb73977ea266e8e13643eebb8f3a8dae3aed6563d06c18f25dbaebd21de9e9e20a6c54613656116794d90d6280ace0fc3ef1fc8c1ac7f6cb7e7fd881da186fde7ea798705660235f2682f03bea447b12412a8c0696827c562288811b8b2da771d463b67a2171518575c925be9a560133671ab546d318b30d4e0d841b31eb201e1eb1c8282d0f30747de99022445feaff4e20544d1858083d28348f60adbf773ae4f20f128deb15ed3c0694b2be0b6a80608837095c32c7187ed7c1489bb4a5ea51b9968257f57bc52b1a9d1912623c1246164c28b9119d714c9322f5ece1f4adafb3baf3567cc3f5f3ba4f2c13bd2545f51acc606b4f3183c463b0c49b6cf2747b5c84799bbf6ac36fbf8a1f5a949a99f1364f55d8e0d1d7baba10ae6508ccc1957fb203e7fd94bc33a86302026b1d8f9f112fcbe479bb17c95f4e6d33e15a8266eafb907736d3113edafa49e5f3352c2c977f5fa6ea4bd8df491c0d48d7d804aa7a649bbcd87622b8ed7ebcd2989e61bdba426b7b478984d2213d68559e85c6c7d47e0c21bbf4d25c57c4384ffa357e7e3f62c9f8290257ca639788109b1356283ce2fcdf3b0d68c86a58935083076c9bcd4d9f29f0b474c11cc98f9d95697a679e09f6c76fae391c7d6826bb3d9fea37505835c8a43a9d08e4d4ffb6db69d649a62d0b8f80999bd56a92da9780f403686cd9637fb7b4517b9aae43aa8e04ed745ff87de5595f0f6e3d2b0ecf31565a2f0edbb160298bfb0f8bf148e5167eb48a646bc0393d6b0bed228f5d6500ccaa351921f8bd6ab66e35f5871338ea6b10c06d3e07ca7431ec09fe00037a66088155eb753cb96ad7fe0c2266dbb1eab16c6f25dcf5a34e33249250fc9896d7dda386883f8f4d5f5163224d2f2d081e206c6a3eba1839b45004319b2286c128cb2481cdda739ad38fdf1408a57c3760141bc527b130647a7033c52b782a5155cf759b8737dc6779bfb7c4641011348530f7bd1fefce16bb0d312bddab2bbe45ea2f5d6fed487068ade6f3f5735ec3473756abfa4e041250f402a2d321757dd9488c62d3c56d48a67f7ce2e6a80db29b2a010aed1f5dda992baa46f1a14cf88eb24865d542c702fa3c2d28bb402ab25131c0e181e4a66353fd23ac740d198791671c789f6c4e42794e8ff8fd4e1ae8b5a9eccdca6ea71346a02490610eab6ee318797bac2316b0a14a2ff0095ade1755d9d24f7f4cfcab7281c4a9dcfc8d1875743901cc473faaf2fb33908fb292c0814be4ccc55d33f093948f36390ca1ace25b3ef292fe07ae84d5b904a6dd9bfa17007b1520482c715bc8ee30fe5f487aef2cb18b6d1622b807c27f079a2e8da576b7920edf3320382470e63360912ae1529645a131b381605011ce74da9e3fb04eb41331f46c063a187e04fb5304727aae92727472d328694a5ee3e00778ed023730c095af585c54e619e6e3031691a745fe10ee061d0c7f58e23623f28dee7968b81ec9c17974c7d3b094efc1b5077a52a900f5b464ca89c89fab4819c2c2d5e4177c0af69d80a715aedc73b8880bb6683c450637491e6ad6419401a81ee8937ae8577fa5485ff0ce6e931697e8d7d9a29947cebc3d56c7656d18e1b2994727a519f79e31a85cc09a07c0fe14fc66b63d2bff447efa427aa990cd0b228070f06ea15fb99ffe25c50f017f9900596d50ad0a8ae6e04e3f02a2dca0ec930a2106bb65045bf41a3487a2316fddc966cdd7e54e7db430502d4fb66437be42890626088846e0fcc12477f6d4480f94e6ded5912d88cda0b382ac9888c54435a7a2275975b19768b0a98f35fe2a85e3e00bbcbfc8d40dd295877103c43ea4207b4f969827251e4882479e8d105953a815d94f79636e07412b497f964a4d5e4695391a72b8e53ad2b7119902042ec1ef780273a69a4d63291cb88b133cc5fc320596225f7d0587f13db294518375d00aea3869b2e9832a4d418fe49112fe1b6d16084360bb58935aac6e8d50c27be061115b7cbbb498affbe2814aa37563bfe0bc04f6ccb0c5e788ab216aacc6fa768d4b8d56ca239b847e66e9e9d6ca0a6cb78b261bad413e489e0d900b72ae1ce1026eece081d5de7dc825be9508a85083c05de69317030a9b5a148194fb71a92b9fa944cda6342069eadbaf3013ff2ee45b894471dcffad4dd3b8f9950ee6723a0a2c5911985b2546298e709be64c45469848c0bf0ce1f79af04d4a585b71c29c6c6208fd1b1c722a7176439384aa6f87f580536cee93d1cc02e1363a55c2332fb19bc2bbe5b592a6f87b9766614c7e98911855c35e14e3655a4b5ea92bd8a93693b0bcf13c18f71f571801c61e9a86d01954eb1e6617ca5a5c3f45571ee438d11a92d3f032973325bde8b31c054544ccdbaca818ed9a36d6d4ea5f0f9df2ac3db6a22f51349c08a706093934c24b7f6a67f1635016fb1f31177e23ffbd72bfbd7b1f759008fd57d12078044c4c233fea8f3ee0341a6fb18ac3b52c8aafa9246be6f322ee67e221f83d4cc10ba9b8edc214043f79716ac56611164a2ebc35cabd16798d65b5f5c342ae149143f68ceec7459c118b6bb699cf81faa50e12e6d3edf09b7f2cbdc39f0f8eec1af914ec1242576c10c88e94161794323f9396fa2de765b932d22e860315495db07c04bf0f8bf574d4256c388e2de4fe3fef53f9acbb88c46713e0d62ff800c57e18b5240896dbb6c18954c0dedcddbff5468baabf52e734c1b4cc5cee4e17e3f7d03111ff8de2425be36bc4c70a7ef7c171fd284c9c222d3116026222a3de8611f5499b3066c4c3d614fb92a8a2e5c95ecd35c5c20dde44c47e52b64cfc28237550137aa9e1a0ac60f3398f8b44fc5c6eef6b1c159b0d16af7d5be22e2445912e177f87294f5c73b9bef2d604eff8f87c35db447556d549bbd1583e516e649b8f8f5ee3f81b57dbfb1eef200bfd218b3b5f8e3c24426f02c6ebcc68fb5457c723d6e17a6ce2f80070875a0e77efe9a3d9ab41cdf1cea7b5ac5ef817885e81abbd2f0e64c417c4b8570c913e951767ef7a213ee0b23a1d30a5d74ecef79ab0a7c5c6566b3eb3c4f5c6cde8c24962870317765657b9caa118b14a40665a01ab9863af2ed39667c1b3007b9223f4b41fea8e06e0706826723467143e40c4236d53e2d096d0d0b89f1c468060eee43fb937572400e80c73505a244c1b1022a3481a9464502792252e326ca6224121271d8dde4f8177e23a83b79339abca1745c86158668057f988b19d7826c9336ba215f4f5a6e8f00cd9c4804cab7a656e1d356dd724146899bea39b5342d247d28934fd7f69be03c954ca3a58f80e3a351074350afc28e9b42afd16cbd0fdc3a09676f3adb5e1e45351c38e7557af2cd198f44dcb2240927cc258426ba4bc5bb78b62fdc66d2727ac1fe40626e1a25bfe5d5d0c244df13d4293938f07e7c7c27029fc8214b683e54ed6ce2a2125e10223abb7d6c05e6c9e8a89cc6aa7f641dbecae6fe49ada164e07c833ecc55b5b479fb301125f0033cd0acd9b74ee2a1a643f87c7cb6b091a973b9ecb128aa30362a10aafd9a4fe4f0b479727f3a6d740c92c2235016ff5231411622fe7433d8ee09ce7732d69146cb900aeee345bcd49e94ac6ad2c5a2d4820d52c35dd48f59a1b62b87daf75a605dd6b83dec6badd5da3792cd00e0e3c59f82c062de063bd409f721e41b87321d44de886062466ec8859de53185ede079622bfd5795b9db7a5821e91dac956754d9310667f28c334b8208e44e1dc79309781bd1f2d8b3767c9bee37767a7369266c2835e5153b0e542e214426064031226e826e5c6ab5d23fa6609c0bdd2b35487c8db2188d1a1bdc72d0dece50916a6855c5154bda78bdaaf191d4e03cccaf6bb78f3c1803905d7bfe6a369f32974a30ad584f4e9f989d5422f8a7477f046cd64eeb0a0e84fdb66e9d11c3fecc31f678b1af974e9f26f8ac72cc0f9823d1481d81db0f3a8eaa09c7d661919961f92e308045525035e728f0c5758f47b78dc7d94642b8eb3bb4fe669716d042c8a649d3a56cc5e6477652074b565d04ec4d4ab072e92832b04fbe1f23255ba1dc21c17bdcdeece3f758bb6c8230f730ac4d71d63ba18913c6762d5fabc8d843724ca64256b7203b1e9d91a3fd68d2bc29ffe96d0c2dc919ee64fa0749db79477690621928cdd6d5d146eb44df25331db9019fe0638d12f2bcf52aed05ec239781546ff2c0fd22885913c249bef9e77bc0146a254d5e692b17ce20492ba05825adf5e90f5cdb16cbb36ea64df53eb88e4126d6d68f96e4f1fb81425f856ed8fde35c1533c019abca56f11c666199b8efca537d5d5a53baf2d333d047f9ba6f4d4b98c9c0d26dc46a9664936c39806fe56d0c7ad499c86ebc65c086cdb580487091517ab7e0f403e3d0184fb4bfcfe57618223a642e776d220cc751e774d2aada7ce283e764a78b9bdc2c15c2cbaa93da8efdf128c3747aa3e4b1f6fcdbc5606f56ea6066eab41d5f71f270236cf3b31ab357ba332c1662ebf290c4174663845a4faa8180629556faa25ebc0a2a87cd66395e7649d1fa49de641576c381d8dec5b24856935cf7072e2a28fe58a7796d12c17cb89a1ed620b13cf37cac92a576b3d1886258d3025f71e1a94f0c25c99a7579544d1294c4330409d023024202df42307d43f08ff6daf6b9deb606d1a8eed6b17a0d4db146cca0b540138087b3c6a98c11c98ffe8dc9296a4474d64d3515baba6b2289774ff901755738d523ed8ffbaebfa88b635e5bc33c413b8d2ae0534e21cc6f50db52f95ac0e2c817c84b0722d1026c1fa8557414a7e3141f6acc4836739b86d00426af606078aed6b425e30cae4003b5c413bee86e4aa9c8eef18beb905493ca638ffd1e26f8a912719443f65c08e1b011367c467e8e2d5e06f5f87d05c4f5574fe7c8be232cae907f759cf0e8415c03bad8ec65bbba5fbaf2f0dfb2ecc4b53e8dc4e39163e8402aacceaa355b60d320fe93922fc42e3482cc99b7a52bf5d406dd052e9753a3bf94d0d76618458dd23b47fc5ee7b2cb06609318a7f6a5c21155ffce0ed575dc91e389efd4ea70d259b3b46a8421ec4bbd8d952f8cb71bbf6bf7bdc4d5400c19fcfc5d7fde04e7608c5445deb37b410f51049b38de8e5d5f2ef984c6dfca2f318f6ec511e7271fd077c8182a0d87f2035ffaf5d473ae1a2011cafee78edac49d6d93e1748a72fdf6a5b2b06c92d6c24c6b460b2566302da5cff940973155ee9ef9cf64b2ef7e596c16c04457c1e4eea9ffe73d655ee9c82b04eaab19942517c3da88e9f825b55e4daacd48cf745028143f857b6521cf979898068db0cf063a8a81540cdf3e825a42f461c11ade0ad2f45a52726907bf5718128c8dad22ffe1a187799240c810f1d7bbc73d7c57a5fb6a13f6d5dfb09c72cfbbd6887b6a8831e06cf507866484171f2bc6d7bf83e83b9d9d6a555997d49d1db9bace71aa7d38ba864dd618a19e9e1490ea13234fb9512da67aed72206de4cf816fc818ed987af9ffc083d52e0f7a69b7bfa9e1750488701e1c63007017a905c5910a56b8bd92b96c4a2cf7850baf16363e3fda035f888bb2c0b576162278281afcd5a73faef89667a8375eaa4036a21e428acf1409535591e50a88f8d3b2e2b6530c668a5895fa05efa70b5e5e144f9f3f8eefdb09bff8f958ebd8e866afb2224aa0a78531c73ab71dafcb835ed7df84e6c81b17f6e795ee334a38339e5ba40c7ce8635e541dcacd80c1267ed2b1dab4780038f910678c8b4022652cae85d1c11a6b0a5d2143eb52dae5cb2c17becb4e1c02204c069605e34bd657c7401fdeb9dcf4fb76d0394b2e62d2bf804660f6999e7342e84111ca1be8a3b23e5134d53d433ea89a37317c33e16d3ca048ab65903d21af8cf0d0e4c6b0f95e80703c5f3e5559d2a8d2453e397e1ec7beecd695b531cfcfb8ecc689deaa08e6defcf969a9eb9ce5927847154525b2cde73db878046dc70a99066ff2df1b5282ddd74ae3eea1892e572e98e8ddbaf38bc9d1afa88cb2af4221fd9f0842bf848e0ef1699c35ab1b053beb2ea0dd670caa04442dba11d618f0d70ca41931866019aa71b4173b351ee8a9d1566466c43b5ba54ddcc30f174d4c24082c5011cc683ba012ab77755f44da3ef91734769af23451d9ca1a8eb6d749375222c02b5009e63a33f09394d680f2735ecf28bf458c6e6480184bf91e12f5b63b7cd93889a935becc8ab4216aaeeda65a0f71d104316f7fb7f5103d69096e1c48f42e1caf2568db9a3b58a1ebd2c54c6d517502883475a091ced5362fe4d1ec16d520643b5ac5388eaf6ec447741a6011d335ae5f93adea354be8fb790c7877e6a46abc724ce7faf52bffc3bc1271dc5f622261f553517c019de8763415ad358cfb1f201c7912d294cae51746ccd446559620a5db318d71c9f1da9544442acd7022791e97025a2143d1a841d851e435bc7f551d221a8c44a0c14e985ab882bd54998815ac9863adb1f44fe0b5d5a1b6dcfe901ed8621d74fbdadd253641f5c78355548be74cadd3e3aa0b36a99f31a4c50d584d2fea3d25e5da1cc5ecafcec56d3717ff5b51c8b808de977c30bdd036c7d183260672f87e0c89d7bee73b2377f5301b2bfc43b03fc885e1f4e58aeddefb978abf495eff2009be44db40e7709c87f0a6eeac02f3da2d2d337283ba6662bb99741c8cf5a36d6ba107da51b7b5dafbdfa16603b03c51b3bcee1495650827e35346b31846bca9922f872b71ebc75136ba4ed4c39a2cd0997ccc63e06d70211bbfeedfbdd6ea18e0a7f25448653c0a701f7b5a710dadbfad0b2dfad3a3ac0c857b190e4d31f10ab75727617f09a5b32524b83a287e6c61f71308781e6610c9e039881c18652a24f5d5e3fd4afaf057325f523ec4c5c38e67709089eddc4c2f090ccb1a48b8230ea94f6f048c5cd3c878447dd494c399adbd1697af8c7bbdfa45a6a038c9126f8f19b8807fdfe7cddc7eedb66f8f5c2c9a0facb45d2e828231029c925874d68d3b804de0aa3d8edc4f329ec22bd4b9a8c569e55c2a4ec52065e383601a3fe6cefd974294b86b5cc6f456b5fbedfa1c441eb85d8c4e679d5992aaaf7e44e1dfb6d2b96134572a83f73772b629c707e3061c1ad850d3569d270f38ae307723bd2c3280d85fb947fff940a9b72970c6b66e534b06800cde80f9b9f31497612ad57f5b1818ac746eb532193ac11db1f86e676926b2ce092abd68430d9fd63a800b1fa2785fc9760e253fe0f6d02cdf2cf9da912e8181dc136128d8e3bb9479f928711d3a2508bb50d04bef6a7f2c180eb863e49dd8554f4c437fad2344486507679468fe4d07511ac3b0fb4bb731dce17b1faf8f5776ffee65ac0367885ceb03c85f279dd383d32ab7b12aea90a33b633a0d9b3ec5aef10b1b05929a026e373ae7315192fb52eab3d47d58431db94c0e8338a2badd429a47adce94ad4ba180c78c326dafba7b05c747dbe384988b3ed70e996410c9cc8264c000d2bf4ed7315c82aa10f7a93b0ee4dc96665bc8701b77f4eec913c347c66a44e43af034379d461b8c52e3aa0fd3b2292d885899399a47c7e6f5276fa8ec4edd378fb558df8578a652339922bf4ff1c1735a939ca07c83132b8c9378ba9014508ac35ff8c103936ef0697347f778b38f87eb8f062f9236df4c66b2b5d841e99950b3c0ff6e31886895eb3e07eb5bb759c7e667d15c0f9db23dd90830df6787ee","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
