<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"54a8c9f363119c8e829d8007e85267251ba18f6805f47f83b35a6229375556db220259c49d9a060459e8c21584632d98591d7f89e7730de39d0cfb774e73281516d7260a5f0841ce1f66ede3f2aa2c17a387b2f6804c323f524973c5c1e2f99986cc832c64005f85cb6df62d11b9d269d98dab357bffd647803e3bdda3a5d47a19b5dd7ad0246c6d1651aec07f47835ad7b19997633f6a3ba98565ac107f6190bbf6dbe7aa4776bab81501cb3e23a4394b2509d400a838d515b43fa471408778a9ef7b0fecc5ade32c7c471f1af2556886be36b6728ad73e27a3bb3d756347ae4a3b3891b974f6f3a32b01cf1cbc61ddd369c6956d619b5b516d5f2376631da6f1acbc20b1cb3c73dee26b9cf38259a4ba20efc82a141b04f6bbbddc101a9a54a846c80e5ec742a6d651a2c811cd976a9f95316d718f61b12c48f88c6e306cf804a177e21524de5f1649cdc5231d83e4ebf547a2bc8106a7aee1a1df3de1ed63f56066a9d2fa235715e9a448ccf5e3180bafb4fb323f2e430b77043131633b317b2f3ce88bfa344c4457c148a644e182169f13acec1fb4309dbf8e6878ca8f791855fa87c1b354925e0069d8c5f42b179bedbcda116c019f1bd85cd94865902d72cf672fc754f1a293c82efcf1d32a5321e7b53773af824047f8c3bd4e3b2cbc462cdf3a535d78ffa067932946c85aea2a625429af6682cf042aefab68ab696ba95dac9599b8da2f59a03029ef0785c4e8396e87e763f22a83a9ed066815662aa3d6dfa8bbb365ca9847f9ae90153d9455755a3ff8f2bdac9f3b4431cffe5472e85133bb0bab63abead75435530ae9487f8ea7917abb70fbd6278add865d18f2b7814a7dac5a9ef103cafb217a706ca16f56672fef1e4e8991c99ed0040ad07cad10e3dbea13f95748d9f27c349593d2cdb53b67319b7a2bc69dbe00ef8ad31087c6b885aabc10e260e5f9bd4951a820458cd0253aa91e6fd9ce483f91005af48883b9987110166807ae520a82cac02d875196553f285d4c712e73c4d3387b67019a0e0f1942dc49cfd2c82550b29555caae9c59e10d5897a1fe8c6f7c18cd6913c8950930424979c7c8c8cd3e5ef408bd2908e0e368afa56e8a8276eef78fd252ccb738e213d48eae305a84cf840394a57a2dea56c078031cbad68ee6fc0c48253665e88376eee55b437cc1146fd4b60d5b3e971fa8c96ab4ce4f3ff67d252d7972ec808a2b8dae82e8b0f5cb0033514042be8d28bc44cce01accf1df63b2c40a365165ee5b11bdc11080373c061220d1a89a0171efc6c17e3083d834efaf42b83fbcd5461e84a7f647d4016f036cb50171666148388faa3c85342566e5d680af605fdca25c7b6d3c3b3fa0781d22b0eb14eb5f1f1145aabe43d0998fac03c03e4a5b2d01ed0f41b876745e5b54835024e1140dc482df25ec1fa47cf245f3889dae9183c07eed71ace29afa168282c0b9aa8386f920c773cbb385b13109fd5c198a46f15c2184e4a1bb7dd667d945c287bc6fd8043524642cf5a9f6e4169f418567804471d63903667fdf96de96dd9984f951afd7d5f33aa19db7b75c834c00622909f1214f8b037d58ae95b0477e6a0c38e60069c2e867ff35e7897fdce82bf71a41bfec85e4a44be3c56ef94b3262163b8935db7e970aaadddda4c8e7164b903fdf477e196de04fa0ffdb88a644c54f679d52ff3aa244bafb375cf8257483cf22fee6a3ff3ca2668c0f9438c03cb8900ca3d67bb5685af8f19f6ee2f4c6a56388a8a8fe42f579167199b4c9fecb0c658fc197ae677b6912ca4b574aab350e4746a44e43f7a1dec8d9c81f893374844ebe5d18041c33275a4c06690046d4c5f7d75374028adbc5c8cdda2717e9f9bab506996ecdcab9a0138d55f9a6f00354cd66f3a989377e4fb6c4aeb36deb8b749b97262d3e3befd18a5907afa290f5eeba2a6f5911d1e2ea51b3ee3be90e9dc92a4b4524f793fda706e945108300e687700cdd25f2e80c2f4c4fca1ccb058ea240b0763fd41c917ce0e4c4d7a8486146c6841de5c281e5e602f7a41cb6a9fb1fa6b31bba529c8b81edce5bd11234fd4432c83f2cbcce8fc28d8ebe11cfd006e869a1df52cb2024bdc6b4c7c08bb5e977caea2fefd3199185c6ebe460013794dda5f30442651edcc0889f257393a26ec02421863be73d077bda289914584008075a25c709fc596dd01ed866d35f8df626f643840ee2639c42413caa8a5ac34618070033776b8e43555406a0fae787b9ea3c176fba1717854ef67f206eb21ff94d1ddad2622896a267800a4f0d03b7d06fd687e10c91651e6606b2733e3c46f49b5d1ccfbdbe8552bc4517f7bfb4c710ec0ae74a44f1173179772550253488fd1ffbee2d28e82d18448a25b07ad009392664a4431bce36015d974fd2d367954668845266813a66495f26154d0080a7a8c012811f75f30fb6b7806402bba172213dea891f1aec4bb58c9c0bcfc1917a6780830e0bc268689fbaef71b66d9665c193551b2b30e4f88de78186b4328ee14f5e800640c24f3f1b58d6ee48fa65a52612b0190627adeee7a338cb31460dc332580af52340d6716207952844aa8aeef94345141da9122d6ea6501446ee83b92a35b5358c6c063f0b0f0c2056bb0be5246fee96c28372555d1d5b27613c82e15129f55fe85443022c58b82e2a9e3c47f39a5b57890a8fc2413d9147eef80bc61828565f8f369e0b53da9a483747d8c822a8257c8a0865155519698564409b927af5f34961c83935159fb457198095408c0d8995a97299d7d97c5459c3529c533c8be8c4eecd922529d2c6e17869feb13914469cdffece2ba6711eb47b519b112f7daab474ae4a1ad3605e829606d2740bc5b35a0abf8dc11d53c28e4be50f94ec982ee38daac95fca71e7d8a94910eefe4612c2e196295fac9299881bcb93da63e65f572bc6e8350078383affaf1c481584eb8145e930184d9a9502f028c1faada7bcada508d52fa856246ea7cf2f0035fe2bed73bed0115dc1ed3c3d5b12494b57922e05a51f2f8913edc568e63f880272f73e582e849e5ce9623e2ff09c15b50dd6efc297f024cd15a2a7b3ddc8b50a886ea45c794039f03cd1f3041bc512593f89833ab7e915557605de53b0b1e1e170cca18b56b85b13c1cee6c4c742cecf26ef7392dd871bb702294237584f6980fd4957d005da194256a4c3d57090f85e83ef57a4ce256930e34a3d0ec82ea4a03b29095ea41b4ac7e2708a8f8355878ecc330ba80356f5dd97afaeec64c779d2058004f92c437f44a2c8e927e1470cf437a1b8ed7b7804b9cbb17908696cbc1d93edde472bb285a0309bb4fc9a05ee9c0c9776741004061fd277bcaa8bf93d72f35f84cd933207284fc9030d0bc34fef1a99139c4e1257c87c1ff601e03b84a41356cfd4821a5479d9f69a221c3106c76fdf509ba278c21763c3ad5bf39c7d61dd4b3f071fe3a7bf7d999f6ad883b66892beb58e9a310eef1119e9287f773e2c546ad2bb630533103aaaa505811a7a56d81af95010c65f6b20ceefa93a0b75ae2f72546f80aeed3bb4916ee9492e85e09f35063af59f0fe53f7d7caf9dcd4f560bfe01c09f0ed27179d37223f2a67981e6e53a644d23e69195b8e8623fbb1dc8804ca006d2ae57e10434411b81400392f2b8d6d56b6b9b2131f80954035634b95923c9e2c609354769c088bd5efb106190f9634f49716ab217337cb4b43247e052a218749ee323674f18f12721e7fb1dd8b69cd6a747ffa5cbd5a936b4d63fb356402fc30a4af5cd97603f94a467fcaad803f00e098595024c73aec11846fceb47539a9480578f93a739022f41cbbcc0e408bd86daddc630b6920b74d927ce0a48aef519b8e9fb6710ae2cd6e0e4f7af1d162626afc48e17b6daa5560745e208e1108e2fb2056efdd31549fb20c3631a33e70d7aa90b7fdcc5deec2f5812fafbb0e21173fbf57a971dc7d0388a0e4f3ce39a75152724dcd5af552113cfc0dc74c6ed0c8aa736b1ac52c85c24b2e2b253b0a4ae84d80105a77d5f856651b6445f6603f46e117b554f7a9ab536ff7ab6a7c98baa584bd16ea838302b8c979c6a347e4cb17d6333ba6d420d00775ff3efe159f4b2751e349ddcebe7ae9fc7786cf6430ed615633ed141c3d8a8a207d6d70312e239508fcc5f79798361932ce9fdca868d8bc936ad802bcc087f705ab2af106e8d0c88839d34b922a1d92a3f4c4d607f117cb450ba09fc2413c238828c384e222f8dea90c9e1200befd9cedb3ebab163efd76ecaf1e2e1135d60f7a2f65867a0390838e9be8e4c90eda2c288fce3155fe94e651a2039e83da80ac2c0a9d10e536252b8df3dd60e5b4791bdfdf1fab18df65b2ff43960b7adf3cdd9f31b1d69ab3455e58a20f042a836e140a07af53fe1ce0aaef269d3b4fb954251625d2f7f7f16cb62db9946d53acce82844c27be0c45d7c0d69eeac95151d33c4e874ed96a5439b5bb487b0b7aaa07ac8128b217f038f7a47dba796e1bc248ce8c560c9a4a3696454b6515e4984f519a0d93ccc8e86f48e9fc1167d606c4f50a3d18ba6914a8e794b064af992776ff618a0fc911433c0f571d4484ca15f9385931675ed1036ed5fdba0a10e29797447a4281096a307e1e66e2c772d95a2fb6a692462f7ccaf5263183a07f1bc3186f2ac4f768cdf2529d246459234e30408dba3938b21ea2513ac61a063e159a7f56205babc34973f71339718294862b6469a3c9b2cbb9cf5def8678940bb6ae3bfd6372ee5b4bd19d2fe6a02043a8a0e54017db10ca2757bc110ea52bde51a6ba723815c2aded69c2787e3c0e278e4d54275dd0dbdc04ec4c88a6b922628d12c09aea42f00023de31d2a92cb4e6ce43b9def5320e8f232072d755684279e764d39ad3baa9c3fead61b27b63735a2fddacc55749c930e3610894255fe3caacb48ab266bfe3e8d9bf8050858461b1ec13bc4be6b5407ad0dd199775cc5e2d56c69aa39fec28f8071dd0c0e0085bc7d2b7a4b3fc877cba164c11f4f883f1923dd4dbfd453b7c2ee0037592c2fcb95d6df515a2585165daf7df5d859cda24e6eaa94b2b640fb9242045378c8718af1fcd96f7982fb21147a4d0ae11b385768f360e9e9b67f23d9750012757c0c03a9eac100fd8345c741957c0ab7202637d26778826f685f4903303f6ddc385ae07ae8dc26884060d9fa48673d7260774477ddc97ca0a09fa9ea3b2dbb6c23722774785cc8c354be01a87ec7083112e4254a9b3282d2ee5b56f6cc8cdfac409f86032a6c1749df4759d22765696667ecaf476548dfc818b67b2908133e783d6e7cfd48effdb2070b10bab9d609b02682a6c76b0525ed0da7554ad99ca5ee13861692559fb25e0cae6f732e07fa577fa3c108820fc7ecc8878f7143f0ddac3ddf187dce9a0c6746023ff4e1d0e8ead4eb02c7e8d4ff322b10047851efa3f47c70f5c9f86433bf6c2c31f2976eaa62cf8ffd1f6b1416a03c574546926928072e2b4c9dca44787cfae82c52c1e0a4439c1f50a3a3b3c66daa51fc5ca421519461ea670ebd8b6dd6486cfa374c27d26dd35f129fe716d04725084dde289381a7838703adc53378d8866985ba71eaba9257cd93941fb74902bc5a105eaf72d88a083b8c6579c05b0b8684729e503704c88dd46e6e26cc16e3794b713539170ad7a3056360c2c1b65a76ead74af2cf6c2c9bb1eb5f4ff391f685eea6467861057551414c2453fb9e95b62852f81855733ac593bdc212e6f7a4b3ed35232544b646514ab276e464883213d7fa8add60bf8752a3801c6bbb7c6ceaf137156bc76af7f4858df78b7dc9bec7d5ca8a72e668ad9f1880cea3732a52f643aaafd3c172be91b6d7046c6cc142d19fe55bc0a5e7c16beb634e6d99e43c963bc5e823e27782fd255df8b020c21a4feff31814f20e80f492fb089591e472a39e23ee35b526b7dd194e83b2ff54344648ec146fdd4423bf8d9e97773bffdb89f0b18e597cab999b34e47e59f8267213a48438f1a17ca90c4491bba78784868c6d2a25d9aa584beff4d912573cb30717fa76f3d7f0a3d5e258097cc5068c22a7b3d47749f3f7e3ff16265bd4f2cce503e123f229d1a5fa593b224c2558239946e13b58fd1c4070d6d72c9a11ac6d648ff000456453a45315d60413bb3b2b40a56a925880902d8d1ad55fe32f447c9b079fe13b03d4919e611ccbf4f95240acf6d5198bda9cf78a2b52b3fc6f6ef874ec92cecc278d55dd94a7f69c0d42def4831c2410fc5dfba7dbb1d630d1c5bc4f51bfbbd8173ac9d72b2cfb1bf0efbd85d732e8776702740b0a68229f7ca0d314c8bc0996481888e41feec6aa539258667f390b9737db9cd3fb13530eb790e64c317f93c65f691c2264f6024819e524b19021737d6479065e2cb04c2579e662a55637a2c00158ee043ac7e3d7e12e22f8d7ded37ec9bd91ed14d7516a9529c8cd145d31890bd67d4d7399fa7cd7c992ec14deb0971b1e1ac464e51cf2538cb66e69e5838a6e62e26bbf996b09678235690ee9512460cbeee07cffdfe56de18e9f5802d1aea9ea0740c8e591448613988c63f22537570000cbdf30c9cd23dd748e85059cd7be2d94ce9fef856191130a2b28c3b8b5105546f0fcc67f45ddcbc5753c2c874a650a8c890995898026cb09f50182c1f162afbb6ce7026529d4426f870e2e3e11ddc8db85385324f693eb82a13703345573e2b2c661b859db00dc6091dc987b02c3c56774d83013af81fc66fc14b65423164c9c420d40b12fba68bb526aba88407caa6276dc079a17f2a807d9a919ff44e34cb8d23f799eb4df62d903c6f0771a6badeaee2eb1841c9f1c429d2a09ca47863654001c2bb3be241c19a8bb445d0f263f40bbabf736bee46f2d79b8e895a8f5ed4eb0915fe3e5a3393c8e71e838ee14d0314ba58e492c654f4e824254992bbd890272ff2105c8ab2f964c65a87ca2d9044c328072ffb86182c23d3b3a885f7608cd3130c5c36038700ca0ffdcee9d53ad81d7527928ec3638ed7a599287bfa486663a131e64f44785f0c0641c3ce641274751cf52b7786b5f2cc77ca918acbd55093ca14345bfb08eed3d08f71c5ccebcd4c10158e8a2415e9ba18d2fbe8c51ae782377898bbf415e1714d0b8de590df108730db9fcf0fc6e69f5099e7bb83e3ce5041bc79a3268955e2e072950229afaea8c48ae2425a89518b9c6315c8b78c26485f40f70c301289736f587349fdcdb9016d0c68307ffecd6f29040be6d9667bd146d13ac8b36ddc6c87d64efbf79f117da95fe636d9457913cbd889280c2337ddf7574d421583f24ec33850feacf05544a2b5f0e2710d122e5f4ccbc19a98f0f0cc9f1785f6300874dfae7ea559b042b2f73d115aee355b2f73292803bb0b7ed7f418ea33870096d9a0f4643b378074adfe538a9711ccdb0e71e42d80ed9abe3e3de7b41e8f1aaf9f135cdc73b5c2af2b5d6c24155a012c793b1baaf326f6c71fde988d658835e8d99747ce4a363d994ffc45041d6777b22472f63a7a9fd7411d25a7897e4631959d10d6e1a7968c7bd1d549988d15ad5c1f3149eac737b7c1d5cf17e2fa1e802c8db0a2ce7675d34b9caefad574a9882d88a89244747c64aca3f1ef4e572ff378f023dbf09ff47cdecf109078fa7b57cb0ac6dc6509209addba8e65a00130ec395ded10548c9469c9b81e33fbf8679a3ae4c15e8fc46a23463e056569ada4d5ea94ea10cc271c761423e2a128550133aa43f52fbb887100c44967bb114e1692078993f56b77a5d9427bb4b8b2faeeb1e663b67e36d224d153ee26a2de96346d5c4ae2df636806907803bfd3bdf1175fad0880cc124ee2574a8f4416109bd85df2be732c8469d1b7a383e86f8f99aa8043b0bed7ca55e693037c98cc301a24a7b5dc59f291d985a2e1d5165bd11bffdbaa6e5250a278515845a917c0f108399769cbf2cafb138da1fb7e5235b8e0366573b949e57f1dd3c071444d10bd35d827e538f771db53cf76cfb435e993f768e7fba82ff142285de01dc087c6d261efae8ca5a52431e57fd375fee28c48fb34b39b092fbdca43167192e557868eb744dadbf677443eca17ed4b4cad531557b2d20e78b4ceed57b5544977ae58442129c7c940755096a6b94741daa7f1980551f41aef787eb4a8c3a1edc8ddc3367083f70a68c5b018fae1859f36c5ffab8493aab2b8152facebcbbaab1cc431c810fe883d9d30d8ba0561dedc6897b13335bfb33c91ba20b990c3bee48afd473165932e1df5705ade301a118859643f3d7ed5c9e605d9fd57db5dc4523d7dca8760f9fa88ea6bc6524218f0b5890fd68625f8401ca3129304c98cae77318c3f911d56f3ccc65f05f443ea45de7ded3cebab7b4910e9cb8e32222548d18930dfb2785f2ea1c5f6e803befffaa877a6d549fec61844146a40402d20b42d0703038003ed53189f8d44bb75b07a807b6cd367d06105a61aa9c749ffc62605e395f87f1db890c5844e2f76dc538d2f5147df5e6153d8a796e066d0da1c6b2c2235d680a824f2f915932448f572cd6cdd13574c9b857f3a16bcd511773a2a25eef34112d42ec5288cc285677ba6ceab1a8af8845534992ec987d4fc639a348ebd476439c6912cddcfaba693f64c0dd7308b4db24fb2cc1e1bb16e5c71f6dee91ccba5848183d8612970ca1cfef2af5b10a18b4190dd83c2fee020ed2678da8665a258f8b193a999e8bee5ac88592b3182f25fc1ec522a1cfd10c430490d58f85674ab43ac5a366f300ebe04b2364aab90ed0553e0372edcd40c5859c666411da7ea16f0d3f6f1882651190c70727019067ea102c7166fa7d288e68ac10da1c937a2e39ba38a2a3110867dcc2e80df462cec6aee155a4436adfd230aeb25143fb66210d2a1decab1a5ef7b1686b51e3b31e0191547b2aa4302949cd751a61a48fcb7b033ef4759cccdf2abbbc4d03594326b058b7b1ed542b201287480d9397d9ff926cf8ef019eaf1fc1262ef187d83ce132d62e345664411341c67b74d4e2035eb167ff91de61576ce7db56147d04cfd4978b19808ecd745bef271b40734ceea14db32eed79f95ce760b8bb9d1f43a98799ff2f8a851d0d6f132d7163901fcc76517b310eefdeaa22c70bc5005f3f7ce651fee18f31fbf2079bcee91e454c2b90a938ed116da04a2ab826c676ad0e4f9b4136513994effcaaea4410ba6eccc50fc096e3ac5381287f8c67fb2bdbc572bc97b0173cb7c25b363c90496bec123026ebbab42a7d64df799d2cec5c38ae41bdba17d3a1bf260e9f612bc9d9c81cb234d948832ecc56c7e5bc6dcd7926d2bbbe8ea203af3c59d82355f240c43bca347e9b5f66fe18c1dd9553bab472a5261ee26d875b717897707fe0ce6d5823c136113cfe510d510ec8ca3841b9f70504bd4e4f35d5f561b4691d0c49d24c24592362bc763628a72636cdfa3dd8383ba1f0d149e9f89bc29fe7c732b9c6505b774b13c34306b612cb08e2ecfd9229d27e25df7fbcf41eac29b0402502ec5c691f320e407afb92dfdbc90c5a27032aa69605c89dc0c9072af7132592de2bbe581106ca7002f228af37362ae9793a24b89a1ad4b7923d8d3a801de03af28d22fbc3cd4daa811915440217f0b8fc855e76de09204f930388fce2338b5e83ba4ce446252d6cafe41a0df2a0672d3facebbde0c6b6ce0b47af4cbb49f036b9b6d1f80871cf7ee2a77c17f0e911b0b4bf0c378e11839c35a84bc403e0516c396ac13a31a2ade7e2e42d23421f67dca4745a6b18b78c83f7822bdccaceedfa628771180fe73508459a9a2c4553975a9b3096c81f6859c25edddbf455219c4b187e8ee50f1e9f2d21975807e2ef0e16badbf60aed2b4e80dd09725e84e0b27c3afad4c5056364181d9c4a730fd1987a96a63b7aa481a5b622dd5aec640cc0906c7a0ff4ab7dd6aca85f05137645881b10eabf01efb206a4445cde854c0fc03630ec7e71eb6dca76819bbfde162a7182859a9c12632c8b8befb017c174ef9b810dde4981bef79f65d99541994ebd6661658ec98b7b417b12cf9b682a919a7918748defd9f6466e9123cdaaf7f6552a61cb0848349990ab5f9c30bb09cf943b55ad29c232080e2d334b84dc0c9c92cb7668f391007992f8967ed1b80564a6cda39e9e34ecaaf374a9e9fae636b2d8d4fcc9a0d2bd5d3dc3e11f0c9b5153f387d1d7ca3aab11870af57d7c372b0de1618ac2b92dbad649190902600093b45ade3247521f3a96b31cdb60aa7871c60fddd212b3b9ded98573f1040a0821fea6193ffedb2e8652462c2775b90acd8829135c47353fc9bd6afdd10d3f769f4eaa23f208c5a77190d7ba88b9defb4780bef634f1e79f34530a53f8b1e6ad000d26711a51619e3c6f8f237e1c230d7de61d5c327b6665fe0776d1b3817d21b38c447abb3a0465fb4b4aa1fee428f4e9c0389ff37a8c55986e92a59a74a14b1672e4565b04e78f75bb6cf8a5645eb21d74918e7d3ebddbecbd0d48f7ef20fa3683633cc4db4773cffa6c7624d198eb825feae275c47cb1550ddcbfc00f2d410414977e52f74dc56a9e252e6c5e874218599cac191af195c61a10f4678dd53fd02d55ddfc6f70c76416d295d2f9cd564b7064741ddbacde662754d0d50e32d5356e358684ccfebc2234717018989b9435fe683de2c0d7b2a91f434a71c844202ab3d6c23fe1dafdcc615432372d76472f28b62cbbea248b307e7706c5f2fa23d7803b90b76b047ad551ee12e73dbcf9d2e96c6ea56e17a57e9f745e99bee9b10c83af9fc78167325f4db6aba2a99d80ba0b7481d812e9ee52d3c61cdde070da87481ea0ffc276c46db7e0800fa8df0377f1fd3a1d0f15faa8c8cb341028e513ad9babaec46ad8b134439cd1e9e166555fb5c0eae8fa456ff4fa97e7b5e2fa9d161e8233e4123a9513f21005475ac4ff6d3d8249311d80b1621c24a71565639072f76fad428d627609c70066527b7a9ba57688a5298a526b5940ae14997ce1a1f8393b9f4b1d01d87e78c67a69dd8d9af7e90d27ca3e519ed721144c5a12d4a34d760e7b1b53815967273865b2919d5257299e4eabdbc1ea9bc046ad2519f163e25e0f271db9ed7774497df5c92e66a6411e8eb9f0bf0df89a01a16d5ae87146684f3edd9b1e612b3569ae893a6b319c31b879b1f52736489e3cab39290a0efda62813e773326f47676f12b153a9a2ff36e88fa749470322f9c5f93a785452dfa94cb468bce007fff8837e16aca953f42122fb74dec99a4d532f6ab475e227a79422067f6094fc0984ac7f7717cb0eebccabeee4c4c9997999c8881ad5443a4fc19cecefa5c474e02993ce351f0c5ef1b69a9d1db9815545d0ca1f640cae97178e799e1ffc204e6605c0ad299ca965dd3144cac4605cc0dd2001f3f10cf2cb2339f3bb0588119d1dc5c19e00914776ae73b4f7158693eb61d2dea6be0d9abbbd6a44628dd0f2558888417005a63d31469036b2e9e103933886281f3838dd3f170282dac7a7147c0062e25674c7ed6873cf8c02c59ff49a03c5f3fce34d661efd55c5992a504702a9c654bae36428c2db6772b131dc6fe0fffaa1c144aa4bb99cdb69359d514a46eaade77250715d65ea42659d30c282eb185aeb8873c1947007b38c48316e8741bd25f93ab7d8e7b85890594a4e657b3af05c941a0a16241952d336481357dc52006a6ddee99adc0b213330c35d01d7d1d1011f3b5b4d0fd3897ed9ba3c0a103141c6960ddb5d47f67a16cfe7bc662be88ff4b5e50525f781b5238c6ddd8c790c3227cde73c8dccac55b00dfa7a311c334a9e358e9c60eddb69af89a71f74b292d07e05fd0cdff3335df61bbd3735b30611f7955603fee7db0a23258e55cffaa7b612faf63d44839f8aea147d8453377e26b92cd3d5a4246d8930c822692632906f8b4e346a512e6b84fae6341f6e4cdadb23d463e98434afc43c8ba3f7666dd683f32d2185bc5fb519b3c996c93559315fd6b14d0a9d595628c6c229f30882540a60bb1612fead1fcc0655d69931632b8c2c2340c2eb30d309312dcbc33998ca973a58433aee8958cdd70aae118971295351708cf1caa6a0f7e3f952e4ad4e53782d1c7128e6d1c2b600be56c561ae5267f92a2e523ec7b36aa647a0ee43abc2e63b9a31cddf43cd36e66e0cb11ae7219a146299346375afffafe1f6ce9d938ec8279190a6d2cc04250a31a4daaf14225a911e762b5918792d5692763c8bb1786f093413b75e0c53b66eaa9d3b6998ab99ceeb2aacbe20f656817709a28b1ab6067712c7fec281cb7f3e451313d292e30e7d873abfcad9898c834bafaee00c521efb7c438c9f684db5cc996dc122865d735b997ee49ac9dad054458e378f6aa18044b53451bc80438f509a5d7c07b13f532c653125f1683e61cc9e28f204c1b3668b00fa35cf59f2227ae4552fb62af3cc7f4f3c55cc9a22d69a0c16eba0a11443d951a85fc456c486a8c69893ea20a555af7239736c6234a132b80e1047eb2091d318ea42881d36d945a28c416bba70d6d7603e00c7b0b353ed1f36ab78f20a7799635caed2cab42d31f46dde769f5d0d75cc6c954f54c545cadc991b631ee0146bf1c2345b73ea286a4048ccbbc34cce72ef525c060c0f54f5ec26085b0be17008373b0475336400bbc7a5c9e3ef14f4194b0453d2f9458e7fd90430d0ffecdacdc751f3f3ffe5a9004ed6a5f8e97eacfdec0572e7d64aabc1f1dd345d278cd4db7a9a73fd1c4277abefcd1e7b256f5423540d54f047ee424d66b038a6db48ac1ebfb748cd9fbd3085cff2e7ab69912841d6e2ce8d664f3e1b8225ded03106cd94bfa247c7e2439f957e9619128e9d9c12ae45c54b62a9067e73aa49e45b2f72ec8a583bab4b369455dd12fd91b3f0ca40d73e681d12b8dae819da40d6586e87adec3a9a6f8b4b7d3c92ec310312178fe8656a6b47d273d7a23d31a1861f537c1f01c46da46c9335e4406fbf067e1535e2abccf94c7f8eeef017564d4932dbe91d735a356b5ba5295be7ebceef737d13a1f7e5c69de5c69b9f1a35fa0b46662894d909fcc197cf62f0be879bf0362549f74b3eb34fb418f2e8011361794f74b8e59d9e8a538c0b1c6d8148cbc2f9dd17569805b508aca1462ba51d4c83f7bf84bff74819cc2497e0e9df7c44d4b56087b4234e8a98b429552d095ea444c7c09f1ad2ede0f8d7b7101857eb53eadb5dc2b3b23fdb12d37e146c9cde9ec2fafbb35004a6f04c18c8a1a5a38d8b3cc6ce31d4ddf94f82c709d080a6dbbad835421d6785a4902232d87f9a4e3661fc09d1ce24268793183accd469f4a195ff356c0100461ee49527642a0c678039921190d79a8e9b30d71fb49d55459c1d6302246faddfeebd15dc1125a2a7ba79c5f9a4d2241ab1e3b0cb0a01854b4252cb447130cda039ca2b04b17d3ffb50cb713f044022043bc66a5022e7a1f7394cbeb216904106f7740112480dc1bae3fdb8875b15b2ab079c9de550182a3727e33d33d4f69b6c15061c623ce987a332993bd5fbba89a7389d94668eaaf4022f2aacbca0470a0c26ba94fd2fdb83479392629af5affb707167fe32f914e8e04412cfbe42a4def6ff541b8fd9665711fd0a64faabcd42404428650285298192fae69c9307d7db3335fb77249ab042ad3ba0f8dd24b256ae0ced67d685918ecc030727541ebcf8e722ffb820ae8f98830af02d3cb959900fb1b99bdf1f177d40af77ccc84b93376dfe095e0886b0cbb4f2997a1db91eef0d046f7b7b1d737142600dc221e18c057acc7b3d1160c0397502f60168b7c85467c8d2fbdd9cefb3ded61ec0cfc607a604efc2d61c7375568e2d33a42ea9c20c3e973b6e63ace054e07c07adda9dd203bcb4979e3ae7437450bb6c8c71e224d42297c69f0da7b5405fc511fe54e10e1884f54195d5c7d916bfe26fe8eb7600d80241f9de35e82c3bc9d0fe42077fe6de18c9aa4d9d995b91b4004713cb747ba7c72f23651b84a01498e24f6fe2ce99118727d42be660ce08d820281cda369bb857fc0626802c4f96cf97e1073a181dcd60577afdcdf89a6a4d809180b44431660b32d25f06952cd9022377d29642d8f6ac1b4a7e5d8cfdba5cf23e304826b20ceff39ba3a2ff543d454127c58d459fb5c702fa36013a512c3c1a1c1346c5f42755bca872c5b87f53cb2e5aa5c1b000e6d0e23e02ed7f9e8bdf97f4b454a72859cd73d19d6181bf31165797d0fe727519ef4aa1af0cf4be7c116c4a0172aa4240baefa61bc13f0f8affef5d648da2a775d5d631674676e5e5f10f6ae1c7e2b5bbd4cf4fdbed0dc81698bd19381857bdc456bcfe22d4e787f16a43793252352dde2e53f398f44ab15f2ab59aaec44f195d21417c3fc3c2575679954af768ed51896ca68ef9f93f904b8debec41527f8310eeb16f92f53e98672ed4657a4759b157d2ec8be668f9c9d54c46a3848e675479b78922022a9ca887d31c7f2a66b063bc8969996eabe4d5cd8137ddd6395ce2d734a691417a1cb801c14ccc2c74f491da027fb45c8c531f766e833dae6eb56d4cc7aaecf34de1cfd1ae12d8354c9b660e830d853d063eda46a058ed0f1ad1bd7a9a6d1c30dbc0e5908a590866f64f60a0d965a11332ce2d3333630b94d256a3fe594237d133e0f7ded4d2729a6e0eef8a5d14d7c54df36e104b3e13bbf19dbbcbd22916a38bcf9d25ef71968112745c0f5607bae4bf857fb4f10c2d43258d1943196eb40280bd6db35d08d75bbe78b78d116cdb195f6fcf43d71e1f53577b3375d548f4eda592464d9abb20b8ab92aa7fe3ff21cf691ad6c6ce214e90f7f9ac019982e4a0f00d58df82f6996abc5c3afc63a0c0c0b275d7d592dd0df9169a7c0f45597a13ba4cab42c7a5566e6923721b98686e30c52ed4664eefeaea18d597df2671dbabb777825c660c42a36e142c1c30bbf6974e1a9510999b731734a59ed301c3833bb7ce759620684c8cc9e119f7e33990339969176b3e66bc7e27b5190e260abb453ac60263b2356eb417e4ffac7198dc0165d5c803a35a41a9c86f338d8f1657f545006401f28c3592b366daedba5acc531136b07734c4d172fb6f2f711c0ed8d7ffcfe2ec83a06633cfb21d56cc25477f48bdad7e87e6cd6cdf8547e91a571b474488d6b1cc0cfcfdf5dcd82502ea1bafb0bb334ed354ad8de24ea9688582983a34b4c931ef77ef8ed619c68fb62734e758b44602b5698d4530a48d727e95cee8d5be60a4f5763264a175f4a0babbcc671b295e62aa4eb2bfff4e48dd489c9f49f2e902f0f5031de19f18a4a9e281795c4e18445f8d82b00b38cf103ac2f67cacf0a57ddbeeefcbf766d8ecc261e227d2089194c5a5923820f6bb13f6b114b346d66fe560385f8deb4b67a4aabc32e651079356ab26cf33c1d097ddac8260d2b9c2b873086207ddbd3aaea0505a6bc1b46499e49d378d6d0b8c3cb49fd52cdf94b4c601de62c5ec3e39bc21ee59f3f3d8993bc5cf460c4f7bbeb50e008d5337d6fd602493aa3d31839f0d7f01ea549fe8d3c0faaf31cc899ec0c472fb995b94f89bd203348699f521e56cf76be4b0476f8b33cafb368fe07d8acbab1a98e76d396bbdd8770bc02c051001224b9ce9e89eb9cb4cf6cec1417faf45ec7f03dc9ea760c9dd5ad8619afaaf4ab59a46b3aa74d9c3fa5b2b4a482d8ad37de5b9c39942115abca13f14ba6cfbf09205a128507e2c5166da342c7644226db16538bdccf630299ee7c0ce6a7305f5725f719c57c59970d3e183c0d8825e2e3faa16efc932d8620570b08709a3422a53709c57049049698e6256079d5f08dcd47592264a5d1f0db9778230445e295c079f60c313b18e9a126a59e3db28f35e189aecf1152b3f7e1157dad190ed2a64af40eba687c72c93bc0585612177919d2bbbf45012a0f145fa197683401bca10577fffb35b6939432c9a190408cbffc794a0e682e2d28ee6974823c8b9512ddc1ed00ac1abad227087b7fa66abd90ab40acad29a2b3487a720aff64c5d32620dea760f89a72d6daa2ab7e6f14d897bb3249318efd4be1e57774a22d631e82f2fa4a115454f1e9d841f4fe34f988f3130dba1f20dd836063ae135a5ab6cefd81079c4ab9cf2a7999df56be9facc16ad31d8a29dc23aec184910b3ed3f5595daee5d62181385452fc4138131950893b684ad3c7bbc758006efcb33c15ab81cbab5f4c5009503bb89a171618a110fd8ec062c2c2f553a6da3383784ce476f564e5b9faa6f197ad4e9c5f1c4a1656ccaaaf4e1cd34b26b82537fa1a095d769ec8eef9324eabc4a1601be1cd944123a61a9732e879ceac62299ac4aea419f5289dd0253b6c2bc3ba42d37fdd89246a21c07f996704d32c1fbbeb7bd5a842e6c99d1e48bd4b4763b695954dd632689fb88aec45114810d992476a897435be7261756edddfd8f3a369028cf53e7a0a96e62d43d5d3e53121df619aa5ad9fe9e2246aa894c0bd303931c2c928ba3604ee8716746d51d7ec6e4cb794de02f8a4e2d1928476b262ae10e88563631623e213febe49014ab0bdf2a05b81a54316f10bcd011b446c544a1bbdbae16085e5a49ce7709f601e8375f67cc3672879d0633e0e3294b394afd9d2fef082939ea9a74864a2a0168b83fafb75af8ac0a8e78a9910b42226c681e26cf8ffab01c3bd4b8631c7fa246ea990c42aab35e9fc8e5f0714f99acea5f7f31f8239be03806c6305adbaf66b44a789bd9e8a7625e4bd8a8a12422f92dc993d4486985f4c71fbeae153f5df82f9cde14383258b89353b5b71380140aaaad6346ae2e1036d310bf10ed1cdc393c13d11a6fce3cf902dfbd9a16808d578c9b3478eafe553cbcd95077e1c98397a12a491d095d3d289762c401fce807bb2db669b57a1e9d157f1736fedcad63e6a7a34bdc7ff1d3d1b67d9a34be0e2044021cac28c04168eae86a70c8256ae005f3aff1655f4421611e1130b88c24db421c71ea008afc32771eb4f9af7c9c17236721acebbc61b75d6b2068ec4efc1ae1532de290da34c7b3fb3199a6ff79e41f4de5bd2eaff2cc44d111f9763c9c6c43f69e18353208a1f44324a05157a747c75576c03fa17c7082dd9d70446dbc7d86f59e44ac2841ab662609c9efa7aa8b2613fde78b3fcbb8ad00360aa29cb71c705f9def1fab67b8fa4bff914bb1c8c32b85bb03a5a5c6d752f2127ec32467b8b461c165a73f71d8393d3309aebcf60b9105abc459ca40b997e6fcb5d38f1abc76647e53f42bf40b958a0abdb15bda21b67b88d4a171501a394759389c951ca316935f44f2066cbfff7dc265c0784e0b4110cee4fa0acf9dcecba8aa0f9b21b413210448d8837b262d5cc47e51f8e6ca80cefbeca0406da1e31e50b4dcde8911eddc4cae8e7cb475dac3bb9af2328d23b5c60ec7adf1befee2d50ff99d69902271263c28fd9b8d3e5661b6680f2de293b1bfbcf8a1891b6b3c6520c59ee24e94f55ecbd8445a79570372ebfc210c178479589503e8f0303a177f1a0a0f17a0980485178f2fbb629059a19a9d1112dc0e5a49563f1960d31609dc6d5a43399f72f2cb5ad1b15552a33a7e5f8638bef713d798530ff2201a415d2795dd33f668635f0031e3bd238d14c2e0329ca26f8948f20b18a9866c32020f13c2d9fb9424c97316c0ca983b4899ccfbd976c54e185247c63a0adc9242f368fba2f9d3d82a4e459e54420129085ee0c4de4f74e989aa4523e4794975b2c62069c95475317c0f17f5a192ebd2f002094db10edb708f5e578171d952f098beb0a6adcfc6ba1ca3a4302967bd8ea2c958605b54d8f8f3618a24b2139bcee83966b7061be4dd8faf838eabe179e72d223fad6b8a2b9c897a3e92c3b4ae8020140aff5e1e6b30fef910a9c1d864e9ab286f8a4fef93188db41d7b9843680e548f3d4a07fc6d9bfb722652e9a40efa2466b914babdbbdec653940b69d03dd117983f4b512a82913e6fe757794d5278476d78b8ad5426e278d9f3c0e3f4aa99196b51b06b6845b85f37d6281ef59c7dd5306af5ee96f80c80e17ad8845310f2a3d61ae7226c5ed55eb5d774ef89c5638a8884866ee23a921512bdc113596f27b1d46d9ed3fc2b21b9634d072c77fc84e4fb2ff6aaa8732d3bc7cc4a14e19b1441cdf155fcf612ad609220ad2fd6e0da1859a65e3d26ac1b5ff2e3c0f1d07d9fb4da019469468f73efab1616d43706c42c2be2b56782c98a7100676399a997443df229385e40ed97d8bd3a6cefec1e3cc7823d849d7a292928f8fe7e70c42b02af614b5a44a2f90c3a145c5072761a86f6048f9f18678189147cb189dd78afe9b0b92ebf99d01aa8ce4d7cfe1bed0b404a407b57e5841d7ae38912b16542e155dab4b1aa8425f1e610b52b13838dc904f79871ecf366b4603315044d38c326872fdec7f901d1bdfe52b0989274043eae6051504469184d536f5f979feb6224e8e1d0f11fdc7cedd63c3a0cb4b8050b25329a29f6b332588cfb3fe9a4599160e5ea4c69a37e9898aba45ec459a2770f249a416e0306c6771eba557e5ce1111d298cafb6071309e041ad1f24d584ed145e3db8f0e6ec038522e59d0ee9863e942bf239207a53a1d8508d9c390919450a947a076895c2cb1a715e4fa07221941e59b4c178884e5edeffbfa04a42346897e641840a9b27eff1b449192c587a58b136f2351c8f805ed869aec48f8ec2d32660f7053a26a73d7bdbbbabcd41778d766935b8441fc6255d47736164957d1addcc49de563fcd8ea7dd5e0fbb468a58c1c42a3bc3c66ea0ba69c1e99531ecd5f6e756de003300dfb0a9af1ca3e3775daf8f95c3145f33731ac74b16abcb4a35894e8564530726a56f698561723c9cd2ffec5ca80653f02efb1f59512fa0cf1be10d5fffb31ae7b090f15c1e76432f784c6b7fd8966b12199ceb0c9987e12f9ee1071306b3a58b03386bb8112e1d098a65064fc979b7257e63e32068efc016b7dfa612b29fbe2215a1ceb2f17022071c63e36319a2634b721be0479cd492c457878e701e8ffbb0087b4a8c5d98a07e6fc7a807d038ece32192a49c9e9fdd2996a2a087800431a7553b5e937d6c5f4a39fcea29493fca5331b3dcb283eb3895b7d57ae1bc15f15d22983212973f479883597e74af781fcde422218aa42ae16df9969cc4b95c460128d68b268c1c3f215a30afe73276a7ed8c975f47b495b83d832ea201a5b9cbf8435fa1fab7afdeed2ab4a570c6283c5e1004a2ba0afbe40e7ec7cc0950b5930bfd3e5dd32c61cc2e2251e5d2d22fe8ddc7a34e1e4a13f647b7372a102144fabb5daa913f6f26f2ce65ec3f5557bba64ae1b0e20cddfd1b8b415a63b61f22b823a01875f05c4a1e2ad5b7aa9f3f7cac12831ceb2c1a772851bced40ceeed62ba0d54d3e63a5ed1631d927eaa7d2d37120273b9353a482bd3b746c7d736122f94b66f33dc6962c6f2a1b552b66f8c49be8139b3cc79ee37bc5020c5cd7d4be2f0e8edf4fe6af0cf6258dd64b12a706023140c6d65a65c23ec3557b2c612106c91c6cc655798429542e4f5459a6378130ae747a237990b89d55ba411adaae53ae9a105abdc1928ca12829b68c53bb8dbece04bb02234b029220492e9fb4bf5d8ee477d9344a093d2e0853aec4ff2be5e48fb8029647399f0c76259f59ff78e756e8039eda76f5ce08228fac2ffdf064b2553e8d6a67600d551fa4b8d5e9ab5957e5bb836e782d5e24d96766cd8ca603f90d66ac2409250fb98baf03826163542eb18a02828b4085dfefed349f4262f9754498535378254e71293958768f21bd14f264b932c1edb3879e46c7676ad43160c97f758dcbd0451e44834e787abeb02a9e80ca3caab9974803cd6c3a605e7929f4165109be10ab40cebcdcd4a540d00e607a3b04d1b8096ea47e652a35e31ce163f10bc7a72bbc6188efecc752e242123eeef03836fe42afc591aaed20d3fd75fd88f5ea3ecf71fa6e3b45d423ee71c51047312177dfa2f5bac51a08d7dabe5596f34e8c5f7f6e2b1f611ff1046200dee08311e39af080b92b6df111262020f90405fc7b67cdf55766f8a66cb371511be8907490856951bc09fa198a262034ce7ef9534dfe92c5fdbae4e82f8b4626c25ef92c92854dd962cf1dc1c6ee70e5da63cf9a796ea5d8f1bf0c3b58e8d6d224c94ea50decf24f7eb67ce2861dea15f92452128b4c560db9fe0ca2aabc928e245fd457ae99660b996cde80113965cbaa4f4c58103366b3d870861f1f66c1b4d0aada6ab0699cd941341c261f9df6bb5d9f7a3449160848f4fea6d4a8ab23ba85431240f856d3d41e46c473199bf614d0d3c928551420a13fb3e12f4e798a7f89310029f82edff9e91d9c51bee1435aa28655fbcf535bcfa8494232f56862bacd89f006b3cfe642b796da49876fd97591637ce52fc2fafc9341ff8dfef73ea44f4b7443e15d5dfa3dc1be72be40a5fc8e21a670960b7db7c28a44afd6a3e7aa5802985a6e9d92f53c910599bd163efe4f564b172e24e38a159f80baf51e51d15e2a22fdc85468fb0cca020ebb1902df1974b3264ab42e539647a5c4cf37ffa4eff3775d88c4bfaefeaa636f64366fc8051f7facf417a18b04a453e5d26bf0dcb2afb914d777ff0528cc06fce253009015a3e502698e538dbf2158e71961e0ac38619afef39785cb902a4fc8239b6f55d86b0ff300e55eb49a3b63a6ac2ea1368d7e47d24b04810008bb93b2760ba358a1d3e98c2226fb87183fe9c098667d166e2543176e538cb71741b97e6baa4ea8cd373b3f0b9e47cedbd380f4ebd50ad9098656940a015707d5b2bef685cf92d1534fb505d19179c29b08267352d71730dc963d7f99ca4b9b5a57194f07595db28f613a909a9b738119cf3b7a","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
