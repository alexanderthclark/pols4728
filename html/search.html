<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"5d2d2ea6f4a16c83f7c61db49811ccde9b9b014252b0cbd55f268cf2c154761ca783cacc44f42394957c856da2b8e443ea2a15715c6593822d6f0a545099637f48fd298accd253553a6cb7b5b7394439bc4969b4169d5a374a38ee14631b02e20e0de2ff1cc89777aecde2a1c52609b835fe338932baf1475f88286917e0a6fe858a76fdb0a65ef27cfc97f9c5627822d162fa426fc5116d19363742ae7059b5111b8362a88879a77c5ce2854e45f6370f3757ad7e760cee9e9a2bfbd8b569d3c9c36017cd161e024feb40d488eef401afa696073cbd4d766bd3e1fd4c8634bd0cae575382e710b50c95cff66ef66e7a20e2d50f3fa5495d7994b7540b454224ac6d391e1c5a179518148f477c2edf5573f95aa57adbead552ab0bb42c453368a6681ac40adc435c13b797a15ed0d41ea7e3523e59260b4bc32e56681b92966777cf87a143b5dc9615bb120210f3155699a28000bcbd596d063298554c5c1a9f37d8962763dfd1781fc76736b7dbc52f2b5e260909be4c30c98eed51c37fd66eab49f6e7fe36a824dc2d25cfb2c5ca78a828ebed52e07503f58f57dc6ab9af43612fd8d90fcbaf8ef306504a2c748131923d5318f8a049f467ad2c1e68f752139fab0d11b50ac76d2893ea8cca0118134abc0d2a46309d8ed48fb378a7203774266cd4f074fee3f1c8cd2f80e93bd6a91d956b4a843f64248dcabda00e57547d05578c6736f73f47c0d58f573910d1799e8feb812133273daebdf1feaf800f4cab774526c4d3dc06433dadd21f77466dc24868d72761cbd2c88c3e40ca13ce3b79f4ed13f8ab7722fbd125c21a65d0b2b5199635b782b8aac6f390518c580001f85629da5eb95446cfd61bfb73a8de27a1548bb2ae2ee846db770879b2c32e99dc2a2c1f5fbf22583091644b0e4e49dbfb27527855f9487816fe994b895efd5c217f617fd38052cae57eb4339197533da7c91517d95e2d70ba0e6ded4df0c271d2c6c5632d0f8c345ef0a0cc492ddfbec7c2824dd5c3045db1abef718b1c2e97d431fb723fe221d55035ad6f765b93df7b9f41ac66e5421c60cb3a90d8f23ecc262a393dad0a6111d0c5ec1713199b8d1f05b1235fd0073c6b195b08ce14bd8cc1f7c23ba4110391f7e55a4bc0e6eef51182aee6249965ae19fd6cea325013e78b0116f09928c0acdce93817281f2861e047a7d6d0e874b56cd6f38d2da5a85ff4197f2932cc827d8d2beb32cb50ef0c91cbd7b5251034cdcaddb8190917c1973866ebec509dd3b68598bb875e59d3b73daea83d0527f2ece89590bbe76705dd47817e31432742885bcb55e505b9ec51e6cdb280df2ab53bd6064ab383513e0354c6bbc86c81fe9c4a9b10578cb048e8b9c1e0bf158fa6cbf227aadb5857916dcc9efb9c83144eb3ed1c8bcb159bc276280b927c2345d02cf6a4826f696b6d85438412b887df8a6bf337ddc870dbba30a882f5773c738bb5259c95be6ecb07d5fd6ab5bcbca47efa448f62309dd91ff59c6e94bdc458cff1e58ff827912707778efc988110adc24869b7fe1f597cd70f85174d127db705511a8d877a38b5d21a2f9773f9361eb4fdb563dc1165238301c2ef180904d9933f4767df139ac2231c151f48ade7b9817b42fc8877211cfdbc803f3ac2ba2efbdda14561b89d660c66af3508894c56525e65714d6c8a9296c88e40802c8ddc91320b2050997f0b6889ada1b580b5c3cb0321f85d8b6a476c65660f721ad96c40e4f31bdffc4d15895e9ecb0e67ddd0ffa6b8469d3ee58c38544b439ae1051a9cfbee96bc367a8970c381970496dc87844b151e908d3cb88a5cd667ec5aa5035e6c3394b0d38068294375f7bfe8e51630f51bf0c8683efc8e85ea7d1d667932e4ddd322726e664b4ceeae7495d08c084512cb0254d060a218e08d66428f3949d462d852171dca3e4b930921f035246bf1f48523285097286252adfb97cabc903a9e5d6294b7bdf66f7b5e01c7d2f8ad44894785c9f4e1b6d9fc99594bf1dc5f451079366b1127e7f2a9ad5e0ea7ab2b4940bf478f9f9db8d446e04e7c50bfd9d948fbbe6fff09f9ca78fdde1985e7a04c5174721a0cdb7cdc8c0519a68b23f54b0ecd976e27572fb33efd3cbb7eff57f90e8d2f664b9f5ba0f17555ef73debcb4650699b997fed865521e1c0b5629d17c3b2249bd17d11b01d0d0223051cfdb5cfacffaf6b54c81f536dd2b8d7a72bfa1527109ea53ddc9d1d33ce5d44716f848400fd61b5ce307b0ea0824bbc0c9a8946eb885374ab90f838aed6ac6d5d13f8fb6372fc273b3cbd0c1269adec587fb12f396f09de195109d0ed1712808bd71321e50a7e4f90c6b74b25420382b3017628becf10aa8138c8e52c70d32ace779033390da6c569d248f0b27d209fcea1e8c3e13d43a0858d32b179d39d28438b44675e8b8d0999bc2e21f11e5817d6fddcdb63bc66ee4e47fe973a36fcaf09208288d6ef1be2a3469cff2bb9d8221b621080ebda473d7aeb9fda82f663a4384a639113befa1287c0f7d4febcff962b00e315ce715b4c5c8cb08ba59e70aeda421dd827324ed88b350de50b2b90754734507076fefa3a697fcd7cec33e854614e8c04e9f66c26d464edf3720fc8da5286aab901eff7e2f1b60497b9e762610c9d4c93a7c7323a53bcc7c0cf0b2fd79fd000e1dec8688bb2a6d2e94c445081f2e884744bbdfd327a7958c20a70fefbabd1914330dc10b0585fc4f943df261cc82b9c07cfb8321e28e4f1f416997dce33e74f0bbbf41993a762ee123d2279e9a35f4734e28ddb9d7a84145a003ce4ba42d957a447b00dae9ca8cca77b1155ad855c564c3323625686606ed9b2cd43b70c1de7c3a264ca07121433a804611394f71f01bd4b6952ad06cc2cac48bf7f4d26e3d808fcf931d0d313bcd0d8b844586042a479fdab432d0b419e137e5cdd6ea742b5bb62bb38ddc8f0862dbab76e2f6813a26ad4f61f468ba9c6d0b49d947b25f3d46b32b6ad854f8accc387ee5571f63a1b2e589604368a2f353c8788d9de8a60a13be586af701611c02a20f1a23e69b558b97d54759a44fada7db855072b9d4f245eb4a9ad1632bac93c608bb48dc18149422197e6ac874561e7979e2ea2be573a18199915129d71f67264ff9c1ca15b38b007b6ff25f3523add268c779f21f13d1156a101028dde2ab7a36a7aa7652f44535b5ee520a76101f5e180cb562f8dd4e6b916a370a51b12d94ddeda20ca72602a68de7531ffbed3a92d4fc3cfd6253c7b9714f522df4f6784252779ef51b5b075a160ed4d00f0bb63040417470b8ba63b825c6d97cb426643505e935f735eeacacc4de62222aec42e440b610a4f0b5f23b83125855da7f110cd3916c5b42d14d053029d30facbe2e32d0223c0fa49ba69a947b87a9a06a5ea6ca2a9a5f8f1a9915c19f0b7294401f609532cd71b02be670acf11d0f1de3d1f1575181939bbabbaa0456fa288f3907a784a66865055ec5be32bf320638c205cfb83aa0a42767ae3d4e44b4cddf6ea544a7dc5a1193b39adbd40b7d064df1d502426808dd29bbf6ca021b5b837d478c17e88e45b1f176b9d68b1256ada8839f75ead13bfb207877699305f7562658fe17afc6f92e3d1cdf3875504b3b6fe16d3263dacfb4624d1224e85e998ba43381aaed83546e13b17dbe1901b50791287df9fd9393622478cf696aec84f2ef07639b3308d91972f3492201d51939661a737a695f24fe3b03ed08e97a2aa3e921502f401c246df958a0a82a938125b3c46470e26ec415824358d0d6c8df9ea8c513b79270adc2d57a96f002a9ed9182b710802fc2a4382d31a082370f27096c61ca3550d94d681fe40b3736bbf2b4455a28da18afd95160c40dd9710b92678d109378334797d8378019cb4a8133694d83cb1cc14766648e29e2c7a3bf55e78f5cdac700075cac012db175f5a06f3532b7712da10575cc4a413facd2a0943295edb4f97cd200d1428fd46a7ea8274dfa0bca71439567af0fd338d7e123c43243517f18d9cf24fb6b5e49e91c679ba39932b8d098e7b84424a408e868b399aec04865ce0b5fb2bfeded8a28ea56f9d7f3f99e750531db7640d78d52ce082c7d7cadc820489cb30b4dd90c43627763d8c3591dc19059f45692251ffa1a20a158db284f18c59afc427f19589468b621bae668c3c635df3b87b01f991f7127527b9c34cf4cca4215ae9db84cc0af71fc63fd253c688a5dd6da347cc1748ab153c70e87b89df43855b5be0ee461ef2b7111c722ce95c57ea1c769946aae9de9ca172e2b4391057aff1b2355ff80b2c9a97a155cbbe7c6ba53faa6f0cbda555f32e42e187d7c55dd129562b360e42fc6b7ca709d371e355d626bd23ba057f463048e25dc65b7010c31c73180761d055655c18d2bd7b2778b5ac008b85cabaa3a3d98e8b0c7be8ca56a21a8b2dbc3469e231bb6c8656f7f3800aa908da7886fb3c963d2ab89f7cb895508c361e50990b38a54776da019477f869acb944f2af7a0d0942d76fca73ef6aa332226e5bdd831975e065aab628487a95970f309697b0f9965ab602e87742dacc8c9b1ad13d97ca9c03523fe6b83ef9e2912436388462ef87fd3c296348025642be4965286de23f89e15c9b404d479029edec196cba24f356c7aa98f074764393b72b4603bd2c312f34729089293d96cf5ca193b889aa954d9c35f4e1328e5322017754548a56a67c7a6b4e6afe53dfb98794720beea1671df73d884e3ffc535f327e23af0e901a11d08d87463ef1fa2ffc40db33af3d193a8583e1a333ba1012a48a730e0bb706bede30a194a45b05ca34cf465e8f87af45a66937474c5f774aea50aebd68f2e1fd16bb88bd8aaa1b90894c0c759ae53d797ae5870855febdc6abed6abcd8a846b9a605a29de8bc9ab0676a81f3f7af2d53336a3d9bc66561391e5a999bc9a5a52b63eaa2a11e504b444f046d146c96342b7838bba5253bfa581c721482591b3a994cd9cebf81db5560f21553e76237f2bdf9be978ff42d625d309a23ec37ee8b278fcf12e396d6a7b0247a4963077d1ccd4843dcd1c6025147efc9197327884c9152560cbeb7e2a1753598acbcd783e6c80ed83951340b71cda37e6a2257ccc31b5dfb473661c990d71d5f06dbffdf384598c12adf7137bc36b6be03da7a21e45bc3875eecb3b6d155b32e0d9308cf6818f54f097b74945123404ddf3e4dfa2ea1b9e92428f113846948117be3c62547e279598d9f5ccfe86e43a471b902929617b0954c3969451cb79fc4d4671ee9110d7422462745ac5e73108058ef8a78518275d52c79facffd45c4a1fb74b438f90d09db153d4bc4d6123fdd808359dd04e4eaf4347af684e28c7506b9a6a8c5f55a6c2e9917214601397f0fc4ccd0417c8abd1fd34eb52c9fb914db0477cf763b84873967940e8b9d83467517ed263e34cc60d92a8cf732700c32c49cd1012f3b8e9c8583825d13f2788b17746964393e0eb1a8af07da51f51d148a87faa58f1d2d38ab4871a8d86ff1ff31b8ece09f564adf0c7e8dd4a976111a903daf9a7cbd861d5ffe1d9ba33fd3cd40df718f9ae4394eb0f27366ba9251e3aa262064f0cdcfc1f146365bec9f4276682527356f95ae10956d8ba0a6c5976846d8e55a78d50cf690406c36f98fa92c5cf3cabdebd2cfb06a6b78cb92bf51e9a8a11665cdd886d657b19e7580a959d8069e14570614e5342ece1eb526979df3bb72db8c3346418aba21d38126d87b82a4cf20e52b29fe23f0c8ebb4ab99fb4cb6da4400044afbf07eca5e8793506ad44d3b54e52b21d16354ed23793151dce09b3bc0d2b30979bc1f00f910be6edac9a4521d2a1d4948b7da943a54135396f49f10603d7cfa4bd56fb33054a17ddadf7215bae50bb51ebd748b66de563d3ddc30b4f112ca369cfbf53809e86c48069b8f0504e2f3760ebe8b64bc772231251280407d035e8c6e5afb0bb1df179e2dce666256ae8a9f456c975d8583635305271af7503d43bda6daa642bd911386c2f8f3b2cdd7c51e4b3905c5eba8d21d9bd6f8788d0c8288b45718561b1764b3bb4c4b3f2843295a5f655d77565c2ac7792df2310a3f3db7b27c8252016c79cef4896c725bb5bd4eb38309ad818a49c803be1ede7bb322db70535775c6a53cdf56fc98fb0be9ff942e20f6c3c69c6cd9c8df2228c43f8345769a80b041262b8bb51b59c71c81d3caff89872ea7edfaab25d0daf9500759c208d88b2c603312d5c2d95d9c255e6efd5ff2d5e1b953908ab30bd7ace988712f8772d41725e2ced5d678498e6ddb48f6b7a6cd1a2608e5fc7204b089cf09ceaaa3fd06c34225eda793abae22156c1ed22a0679442ab23a411c52f7b5d1660faef196a84d37b143a1ac765d03d5e1545e8b744e083de2dabea211d4779e70dfeb093b6f2ee122d82d58e2aafcddc4db2f3cf770cc34e4210d5d78310a3607e1280e8af1f00bac1901f38078fbf669861d3b4a85534e35e626aab4c66c362ce4779edf12a1263ddc97529d140dbdb99b9a2a2444a6129e8236b99f803fc89bffaf9d00fd44ced368f14ab60535561bd6f7a73a4ef2ea98b804383d48a64eb329bcfb9e9ef44e6a3b21e56bba7502034a1964af20bd5a96e74819bffb8ce0267c79841c5fa65f7f2b48806a742f6fbced8e96a420094e9260160ea42916c5de1e25d8e4816fb30b9729423376ff5d298aaecab740834d42c0428bac21613bd8644b44c940e11476fc696a1b5a6d415fdc35e2b674e739d1e764b2d1ea2678619d6a13789835bc28fd1523e3e644664dbffd1bc829e012b7d857f79a5b0b9ca67cfaccf85706ae8d8d78068cc4d6d289927c85ffee0838b0e4b102a9095ab2a5ef8baeafc7d27399fa7d33bde870e52a0c5344d16bba4131796cad9c86e05a7bfb47dab480c64a0a0fbfde29cdbf82ea2a76e0952f77ac94086bdff44e130371c35f952291d937c19b6a5104a1a60b1f772af57350bdd14f6344a9071befdde2659e49193bb062657cfbca742556126d17b21f72c3f4a35693a05f021702c66183a086126f13f05fb9073fd0d7326d705055c7405d3ec56fff4a9885d1a56c3a7ab9d51170dbc5327ca5680a2116818c73f6d44ae1c581bb15525e9998f3994427d217e7c627d011684d051b1bcd4da7b6682ab9be3b18ae5ae1bb77966c35af586d0f5f5a1331452d666aa1e7c9691a7fa1f4f558623c6792f9ba1167a6945de93a80e1400996c032d509e50e68c8e1bc05c87e3d9a4011b1b9c17c271c82d91e4301927abb7e762827a9236b5442f3126533344ed14d62430cac3ace74cd6589bbcdfbc980aeb0ddafc1219bbfc288295a82216bf23e4caf730e13cfbaaafe03212f2775644c9c2fa7f7ecb1ee9065b9d29cb34b70187614998a3e4fcf1eadf13dd4b8591b5697debf105686a25d3b195ba2bf311b987856ddf2fe28ba08b77f86ba315b12c42044b727ea56bca6f863600cc91c0d6eb068e422e23af51e1edd6a2363e0c5c8685d5bc2d8caa9da062e56e60b76e5994e7c36c3f3c37629007d8445a11821fe5a1962662b7fb9a4eaa9e9075545a82ef70e477feefec8807da1fe18979b03fcefcb2f68edd7312f61cebe846dc6f253d9d76e3d81d4b16333c3f2425aacb586d128fc7a4ff86f4371093ea7aa1353d4579f3a7dd81fbb7efd2ebf3e29b7bbf7802226ca513240d49abf87c6e5c92c05ff3cd821ac254e8456251c51e0024a0484d6395e98a1f762e61c71e247001bf92d8e8e04fdb9e1a5f1748a2eb90ceeac071b7e6f98ea5cd7e21d3a6332f4343ae8169ecabe7cb5ec2cd0826b3e638542d0a32955068bbfad4f3872e3b3f431e483060943c5f13db1367a40584dba0aa46cd68937a08e24bde71a866622786a0ebb71e6de13c37a20de185f85fe9e8827632d40be54dfd60919d47d7565c4ddcc3cf69c820345c0c89e6e7e06b9b05169dba61212caefdde38a1aa7e1c428073419b841601ee3a3262fddacacb88c780477b6e8729fa9fa71555ec92d82f8da491ee6e51434268f11aed7ddc316f8656e43df37aff74bc33c733c733db462e902dd5fe898629d9a8f8067f7e29006d126e59ae65ce3e864e4502c7e67c10b0ae4d0bece97bc43933c9cba0ef76f11c509fd3fc40961ee2e505040105ecbe395e78b4923f21471602a1767a0b0a1d7c03a54297955503dbd0f503bfe9cfaad98cbb5960ae2ea92272bb76cd97b055206934e5bd1f1391d6d0d63cf0a1ddfd4762ed8d5722f1a261ea5b5badc710be2adcfbe8a64c065d14bd22dea3cd9dfa8d7c8388b8103ca5ef2732265bf119109f2bb29308ea9145cc9dda5ebd9179ac21b2d4e802653b25eeb22dc220c377835ead87c47f77a66698027895bffc634fe2652e120fa11e54c2f72bb911e16831fc7d11e899ebda7a173c68144057a314229982623a8165f8044fb45ff94880199469f8b5c7bd068c86ba331dd5ecb4b32771d059ba054ce28fc0c94e86a2900f4096260fe9805496b19d9a8cc0c5eda61e14a82ee54f10170d33ec9392f496695bea2bac22eadab0da0570b64aab07597e92a4bf790d23e4b3d203cea16c90355747c9b3da736d99486ed5926ec0c836a9fd5ca505ca6dd87492a53858111c9e75ddc1523443944c5547a55a5b7dad8ef01d1936ecf692568244928b6261e69367237600e9c7d2fec0d3a085037001bf16025bd4140a81a94f8251808d31530ecfec01f9db30dcaf20f68ec1638e0fa23a9329b2feefd948cd559ea4389ec5ea23c061c3538e05b881406bb02602ce44167561c0cd5ef8a398b30ad8a39a918b3f1bde506edea98c7914f9df952ab35f2daa40be2258eb7224bd963f8feb52681ceedae891ee806cc5337a8510f0d385bc76474085cf6c865cd673fdcc39b8961a6828230fe30066a70c2aebfed51e89d75cdb596640a0ecf70b4a8f147734fdbb372c2355630c3db52675178d979be724e512bac42517fad6715fb530fd413ff6e90f22a061d24b50120b19b05b11d2d0c1451da8a91cfe9b2b8a1761922c22e5ddd304e97673590d88593630737b347728d2f7c10d7b508db9cf3000199aa3065648869eaeb6710828facd511b10d721272fdf6f3c3a57c2e3b64d5454dab641eb8b2df57ac15340d99f708accdba69bec08698009796aabe4ba76cb6e851728193680a8cc8386580b6920784b1880b8839cb09676f3384e133bb45b2b56df3d360218de8080721b5855e35c41acb73637c9d6042dca46011418b9b47d608290c2a9714ed0a95bc3716a8f22d39edaf7cd9c0eb21497dcdca9701330c926509992b2c6fccfec8ca4f1b9f1fd2bc26a143aa032410dfe562a06e291c4073c42931eb2bbb44dc0c537350b99377ee8f6e885641260b79ff43c199ca25e08f5d823349a5b83aba7941c615b4d076b9b6fc8801934829d3deb39fdba74eaeb30dcf6f8739a93f19e93270afb0c6864287e8c6dbb09c5b851f6b3982f229f71452c6458b395908e2bfa5c3e1d9d98c39f528df50bf2a6e667df9004ba695e87d34f8399492b234ee8089e465dc0ad869e445f010c20a6e4de6384a663ff4f4b33412ac3a1eeb9b5b2c31ba231ae8ac67311e5f078465e157b5e765b788301a86591b51326ee3f64e8cc08f07297191819a58a29b4520e14cc5661eb2826664f1345e74a1cb874aba8339dfc916a2c53d990f58d96a124c79c499a62ea80093c62da6406b669eaa8faed74ceaef40c73fac42b13013811b4f338524a93eb42664c1a8135790f9500eb91e8195e5231cbcd91d1568c96311209f0f84566e3cdf5cca494c858501298faf7432d7d919677bf5828a5e10e898de274762a288093f39c4fd65809ac5150701b948d03b09ea5cecfff7fe36e7e16cf3519c68b139ffe68c44cc32c01d83975802c41c373e9bf185efea1750cd72d8713630436eb9b70c5e6910011437aae5da66a383937a2d4e0e98865c83cf608b6e624e851f67d1450b683ef4918db6426ec0e61572564dafcb2da51356d43d44a4ec8745b43f866dfbf69c399be635439364c01b734a1b73b3aa032b35843aed21fca76be3c1daa036127a07e22d73a1e14585c69168012dbe69bb29388eef40e3034978bb4f30d46c8e7e10704969e0593bf0fd962913cbcbc93e6472d168ac5cf504e414621b2b60b82dc07059c181e9e042d39ea615d1546557266f251f36bff9e2e8adaf47e8d5e4961ba50c07909ede4da0964b76c6d88706772da82208f87ac0f73bbffdec87aae73f7a48031dd161817c4c28b7ba11ed741c06cb497fc3942ca1640c2856b3566b28accac6e97331f7363219774d5e4a9b91179413495b7edf3c2170524bd673f50037dd6906cfac4673394f524baa74f35d275e3765dc2062b16d5d48a74d97112f3fe7b45009df76f68194b1e16594fafaed7f8f84deaa2d6efe22357fed7bb45fd79f838a07183166845a1c05f3be91ec599b90c1a3ba646347cdc34b4d222babb4f3383a635b01dca9d0a16603878973769bb8a4c0dbe310fc3db3829b56257ae425b824e8f60955ff2d314bc9795f2d0bb1e02625fd197be39c52ff84fe18e70bef2bfbc41fe7ebdc864dace814dac7acadceab7a39934486cfe6b64b551c07bee0d65a789ec481cdbefdd4ddcf06a1c34f61724b8526aa78456bbecd192f1be2bcefe071d53cffcb7e1841284dd9cd4e57b27a697b446dc34ab19b2940f1247bf59c12eddebafe17fe21f23aca0f028bf494dd43b5653005bbd38e3b1d8cb539abd4774fe00f61cbb2acab942b450e0708eaa4f5cd051127aa01e07eaa9662df31d0cf61cc7d167e746e281943f636643d0f6e3aae45c3d14937010d1be00eac7ba94d749f215a45ccf6d5e958c30d9d7ed1f29c3ef96ff7e99c8c7ea8e1c2814ac43854a55893e4a1e384240265c254ae185f35dff401ca374ff52a5394cb3a08dde5f5d7d4d5ae9ef556bfc80b91286e40bd674f66c4f0d7158efd838003882288fb31a48383e1a3bf497936b14a706976e005003d746dbb576f7424b3683d8ea137abef2e5a7fa1da892431d416095bf851fcbbe020075ffbe8b0b53df3842273fcf3b26fd8d418989939afa31f46673a2da2040e6ad144492187d31e6c418ea13a952c81e2762346e05cfc7fc9378b4b840290687ad7f7f3797c013d1c3bf38aa38b9c86af16b164a442bf1add430f415de96391d8ab9c0e5464a5c228c9217a02bde0ce25f5133d4fc2d289ee2d1268927324149da3c879a067f278fc94fc4c559772ffe6035dfd5f395e07f65a7415c3a7ff507a33ffa6883470658861dd97ad50312169bf3e0d42e8d6ec8cd21565994a3f2206186ade3a7ab7eb212f086464381a09af0c02cb59af7162ac3d73c13e6bc97c039bde4659b9fb8ecefb7313ea966feb8aa5cd6bd50cc9000013c0e5ba70296581cd91a0e49ecefe28447c2cc02c318701427c2f1d655e0b9e1ea3ddd086f7774fd5241ea96a63e6846f2b7b6708c8baaa514e61b7172deceb75d6386f5d1e3141a1dce67cd06bad49c0e19f5c1fd0f4da42daf20fa9bc4a0774ee3f7084055fec514f0103bb8a2674e334aa0b4df7a9a4fe2a742f5b68779736a52e29379b2af3b59a1158b4aa4096ff43e863e309b4ae55bc28620a0878ab7598b89f2f51edbadcab591e078c1f6a3ca813a72536ef4a467285a10dcfea299472b88d49bedb00d56553584c9aefd29a8ac17bf1374b84d7b43a35221a68babd287c477b9a49005e3ee7348e84e47876aee8a0547ea4ca7715b7b60a325c628cc2d87e5fdac0feed68efb7c93769aae6e74a18bb1f42641eef1d1800fd50a34043933f87bd3d2cd18653ddf5e3ad8e6586cb2c81c4f58cf05afcbb5c56bdc8875a6b3f633c7200330efb16023a7c4754cae1da34ca3833b0e975f87ea072de4e93deb9a748c6739784f24bbd5daa82728bfdfef896c7b0ac885cfc676bc60ed2681fa1093f34a393f4badfbbc0ffec9b3c575f867f7098d907504477e502f63fd97be83a69fcf004452b279202b170f4c66fcd0d9b4ad02c3f198a75c9a4f732c7f400cedc65b4d9a0c14d24b5b4bdb1d076af0de113277ea02de91756b62e19f011b8967a387d3454c1456e3469bdd03e2567fa77e39b2cf79d00feb4f2f22b301f1a64f48073e3296ab76f13a1ff6cb08dc116ffc1ad62f84e02530af34ae405694a7deeea94d6fed2fa923c5450da59d819447763966af0c19a03088300f8475222f95a37b6f3bb6c0e2fb37aa29af71904b8fbaf7e4a4e86875f90a981e90af830dfcfce034046c6ee6ddc3476aa15273e8e0da88a76bcc234ab3fa4f30f6eeb818b0a3a1801f3c7dd3033c9eea92f2f4b54b5ca274bac8881f3dc5b69c1103231a169856a9e028af7e569dcaa34897cdc130354cd92070dde4d3cf23c139ee6d4bbb349e2f9063e7bfb3468ab99036b372944463bbba391dc39600653e315a5a7c6a1e50c55225167657806202c7839e83567267b17f481aa06ebc29ae9af5841751d2e0df88bdda82fe07d379c73d5c1ef085db0d0443787885411201dc47611f43cb060db1303d6fd2f360adc75c57483a8c694a488b93155cfd5349393fcea2b23da66f66e4fd91f49fbe18b31298d1614ba916ea2b5dd4e111918017b226e2a1061276df6120309d2fcb4f6872b72daf04cb9442351f1fab63b7deb414bec38d8c52bd04af11499c9679df97b2ca083ef69b147d59a8a26d012ccc8e15b47777fc5c32e462f985c0b0fd909503d0746ad43ab7f727f5460a3b7a2420ca992d1489ea53f43f18b0b103622df7a8922398f1608165ac0d44d6cff1226edff34b90ae239fb1da6f0864ab89f6185bddc185b4bfe651545b0644d49b61517ce5033409283030d833dce469be99fc6e661ff28d05ef0b376982d7ceb7e0b1d86380eb8324afc58086d99618d429fee69ea73fa82735b2ae7fcc7a974f0d84f5bb5fc3bf0d46e036da5db3aaa300eb47834cc9a71fd8904603cb00e59f50d3bfd18f54309798f46fa78c28bbad8d0390794b5316484637272e49ab981ecb749cb2b61860bf63c2d2568ee895c26b11788aa9d5fa09bb07bbd28a010a1c17799448d374cd32d51ac4d9fba1b28cc682da8c20c565eb1b89785267d72b37355d11ce05545d5f76ff35f1196d7e7de616c56f27e53d4639b4f0f8aa626713f552a1141ceb5d8327ab19e2a62e5528205b9dfe7ef2a5cd6d014a8bf1f3c0340ad6c1e622b48f6e45840f4ce8a6ac48ed722207892b8a5b8d883c28eeabd17a83fa37b71b8efc8d469499fe21a878b5222a5ed193826cfae6fce1abcb806577ffa5df1a711530edd6c23fab943234830b595cc3d5db680e3a7468bea7cc76eef5dcfb898248bebbdd236be5052ca5947baa120a32f5340c30bdc12eae0bd08ccbd023da916682b4e8a50c76b7f5138c826ac7f22546cc1e9bd7d3a0be54fe6e34d0f04fe54c700c584e176e353be42bde2c00efab3505897a905deff898fd35e047f3085522b0e393696089a235ee744c5ea5f2c25f43806fad8570e6ca2d0420bd8e9a3a5d2da8d0820383ff3d0b993ea321069d10d45dbc3c15fd359601d6259d6dc7ee6bc562eb33f578c42676147e1c981a352c10d1ac78652769ff10b88b93ee6d00f1ed81c4c019fea30031fa6ebfe1a940e0f8af0459a15eb9b338fcbaa4170b9201fd51bc5a99fcbbeddc3b6ade039973362e72c3a7fdadadef21b9d41959ce109641790e1cc934fbf70b7efe0c06b3d07b01377fd785da7e0b7ed3507c5e18db9b50abcdf39f1a3b21808eb5292b862ae7ba1382af68d8cde605799f017eb07358de82cc9f4e0f22f6dd985c50b1204991b40e87e99d51935efe7b66d5a609511a72b8631fdc33b881405a4c5e5572c3f2acd3848547fcd066501d8ee3bec530917f325cc54b59950e02511141b869b3468be4f01ba56ba2e6ae70ba6227fa9f5165f1e2a8e3e1515ef94c428164dc3d1be3444a4eaa399b00e5df3131b0eab63d15b864972e1135c8aef7135bcba5e30f314497c3206dc19a94f728272dfbb6daea2d2d487dc57f39ad52234f8405cb7d94011e6b650dcda76ec321a84dfe8ef92ed38396b88028963eeeefd328da7e87bea87521fe50476c7a5183bda86a2d9923cb411a83faab9895443a79c4fd167b33255a0285067fb9a9b1b67153c2fb1a98ab87f66b5b8b804c854134a619d3ffddd8ac7e8c5afac4ab383a18fb763ae03f38d79e5138259e48c1640e0bbbe22f5f50b74b7cc93b1e9d3b1f1a51c91e70e5c9bafb9cdc65bfd2b2e798b4f24037f1058e42422d093aeb241eb21d7797b39aeb2d33ca6440324b13de95620bbcab43d5e86b98942848c006b43040ceb0f1bd94bb9c2b4539e1f46ab089ae26c0dd1eb10ce530ff0d1d7885be169a5cada844e28748a04e22296722171e8d421eb18cc5ab82db5b0e38fe124d6894c27da12678d2ff99c37bfb8c32a033b592cff9789c4732718b24e11bede7e5829c51669b64b087c0bbcd145964d49b89e2d534e74544c71cac900c6f71e2e9a517eaf21539686c905e0251feed54b99b457763fb0310c9c1deca63b94ac0104ebd4a43c7dcb108eb3881d2b51f9cedf4cdf2684673ea7a49977d7e3029d6faba1900c5dc860bbd9d569e73b24dc08f7dc7b392ba61dd4c1829785833fc4df497d4882497890b01250bfca42ae11f20a0fec79c43273e404e6feab7bb4d70aadf2063fa0474e51c2787f50f7aff300ff2d0444f1223b55bc2e243bab375280987e4c527ae0d1660ae8b438bf79213750dcb632c462b6a257fb49d43106bfe536feb31d8eac3dc75ac3b17a6b222ec4e266aecb0857fc1d07379a84edc0cfcc467de8ed24b74827f9981ae30b2ad11fc626a1ad5734cbeddcb8c53bcafcf20a2af8681164417e4456c96a8cfae9276b008d40d76b16d3d8c05d4843fdabce2b1369a6c1e2192d8a18edf8816c0ab8f3746a55f9c6450fe99444dcc7f675c7af76fda5711b9ba59b6689d3a4773b22792aab27f0913c9da7332a20db2db9de782a5b43e9dfa0d6586dea2dedd6c5101ab10426a2f6e1e313e13a59dcf035ffc776d23b9c7abfde27db0c579a37bbb0295e08201c5b509bcc7c5dfa761f31a933ba9b3767787d7e827911575bec45a41bff68988ccccaf7fb1ae7737b4cf090d7f9e9a50f61401a38599136124e2c265f0bc1bd541684db783db2801c0b5d9dc2f691ab49e3424f29fe506dd30af652870203bda4e306f7ffb388db935f3ceaea811d8a5f4fda005951a88cc3bbc03fd8b374ba94c0e71aa9147eddbb8b88783563392860ef9fc5d3039c09067dcd48bbec6d01d4eff56eb2c5af06a75727c87446bb3c35a1e75e4a64c22f0b40d2e88fa49a77e4143ecc6e0eb60e159563e5f00adde34a2c6a0e60734de5060c09257ac416c07654004e8d3ab83718e46a8ef22eefba7a7f8d949c15dccce44725ab04209d8e07ba7ad1fbd38a12b6625e8dfdba29bfab3f9a48e534298d8f739fee6c3d9504526873aa58f0de262ef9ee159f830949c4733cbb9e84d3c37ec25e583b32cddd948eb2d03749f8843a7ec3e7a7a9169c9ae0ab7980b21a201d15e6fa162c16494131f8ad361109fe4302c359298c060a7a7702b9aba7ec08da0eb561f6937a5d29b0f6e6ded6a3cc7016f72c21f11abb111832d9f385fbb24c28ea3ae55845838345a924509e94dcde4f108bde53c6a2680368e04183d87729f75dfe57ece7ddc58afd89eb6345df28e4800a92e6a202becda788e5cae8e0f297c8c8f97eddfa6c7e643cf4b9022c9f6f4cee1edf681893ebbb436449d69fd00c7e0254d15c7ec69961d3dcd245485bfe1947406a5d22cd077f650e7b8926f336a50ea06ab3594f030b309fb9ec8947c7ec54fa33c7b643f0b02850035a7d081528e17bae241dd82fb52518fceaf7c444575650dc02ba4054119e3f40301a34716ce7d26b784c151cc3e17327123e3cfe2bafc650a0a5986d8e5086911f71363f5470dab798b9fee35a1d15d9347bb5a4df760e413a02795ddb77670cbc6704f5abf158e9c75280ae21ff9ee9218d3f34af2708b42c0ae9b85765a7553b435c943e2a1e24105fd4230bfe9a8ef7a6ce99093cb96aacecda22e23742d0bddeae48e3de759c901c93daf1408eea0ef9b27e50b2181d9a1833f04ac50f50e42c7fabed2e60c14e3a5595f941debfc46037048cdb17fe5d395f4240b87d32e6ab82caff023e888f43ca9fa1db61a309b7242821954ffcb8b67c873618610cca6446069c9dcc34efb018fd24c14c8d3308f44bec928349122d0449d37696529099a3b2d354b2a53b41837365294720d4a70f5bbc7f629f51165de1002ea1dc273c4503dc84517c59fb56cb30e96e8675d3f32269fb03f839b5aefa088c20b88767b09ca067f262506ceb2c083b55ae4ffe42bdeec5a40e7cda78d39034c5c9ed8c0189aac42362674362d541f209f1ccad46d4a21ade223f13cb4b68a4c9cdb822320869f6fd03951fa4a27c023be18bc219613eff065f8d01b45cbf70af1ded4ef65e4cce622dd20905ad74b885f59144eb278d8ee1afed0e6d192d66f01e4dd4defbb6a3244e4e642931beb113aedc953381f2b382707bb317d51580312007ebb680a3bd55555b3032f2b4e3a83f73f99d2631555d40d999ac17c408cbea83507c415b8a4cded5ec13f064c49b8be13c6551e68460d3df88abaa26279c1bf69b2abdcd3ad542e22299d596d9d78a22af81da91a4e394134fb984d0df10b15d5e9ab6b04bbbc5904248b8bc713ae5f9cd5a11b583677d09ba6739302926648c20a2cb4793d976c81dfe945e975e776d3e970939ce63cf8d47e27f56279f420fd8e9379162c6637bcaa58d434ace52460d4669ccc4fb5f503f692434aa2e352ed39f89be6e79cc414f76aab0797781225487317ac169c04fd8d6590d2271c8d671ba47b4ba47d2dcdf304a6e47b1d3f75409bea05a79fefe8f9581817c029705bafb73eec61897dfa7150381dc156c4f26da3b53abba90cc8ac76790df9b4b5ac349daa11c3c4ad9661527013287bce98e5a13b3e0f325cc7aff1582b501a0e82568a76e0d4ff3d95ac08e3e439b526074fa67160e8d1875ed87cf94549a29b8a0be0c98897daeee2e64122c004756b02d4142eefc7cda2ace3dcc3001ea802af4f33ca6bb0627b09b5e4b75d6dfc40f0e984b3a29741b63a72e2a4b62a745e3b8ff93320d3fd570f410ebe980e8deadb2b4b573d4171692b7d0ac26758be04c32876271c62cc64a3cc1fa4b46480bc245077509d3e331bda9fd8281885866370493fc9afc0df8ffef7397fe41cd02ec6575bd8f238e25d5cf4738bb1d2d646008d3481d2797c4f419d59029bf2d7457f6a6baa9ec388a20c085f2f9b6f0189e564e6f33ed0c47a5335b165e9937bed3f7ab89817d2c353bcf0ac39800d61b53b9b72ebd667ecc110bb1cec4e4161c3bd366d97ce9d0b6385504ce3b3c1606070403e2c3b3a8b012bf73de07643b893040144f0b9949e72977d73b98e2b71a3e9ae4548323995ae78cdae5c9d1ecd85e02b497f3d96728eb0c408facf0930cb6f34f5c36c167e4b69394987037aee6e1051f13930e2a8f1fb78e34efb91f98a119cf303c33b05711d57971c1e6cc6a2e0fc0310e42c326abd28f6fc2f6eead3856283bf20de54a26c0b6f6bc66b417fabdd4d6d80dd84057afeda9f9afd7e24aa2d2829814f19226749147561739545c9e6d291e8787d2168b7b76cbbc5a275fdb87830248496d86972560d70d5f26eb613de316708ee173c006fd394b4b7b3df10c5b923bcaa9054b7baf50afcc07f19049facc9768ae2eaa96628184f132c4d7139e6d4d9e751e1fc3edb3636dd9194c8b987f1fe673ab364712da41c74fb9e2c903069041a672d5cdc8206b49d6d5f56e0b6c03d83482e5674f309f87f796504426f545fb777210e454161fc3c5c46983cda64ce1bd2b6bb252b8f947f523c855fb4d46bbd5098795a9ee172e568f0d3d36ef2df908e4762859c7de25f778037989171384e3b2b63cde1759b9728efc124ab64ca0c238fa3dcb8e149c2b09481ebb722ed9453d3538c6649b6ef831805a1f9711a961254aaeaeaf1f147372def5afd72ecd249325784dcae0ec432a7eed60a153e05acf5bba5eae8d51bc47267203e7cba2ffd27fe3189bdf9931a0167ee457c2427fb09a36950025816f6dd50caf34a69e957eb73b390acdeacfa6324b6413a8b918261b5a38a2fa22f4fdb2ced10019af0469433d2f1b7c84066dd73f5a1f6cb02b2b7ca7abe4ab1dae38bd602ce2e21fece8b839a14e2762b3529fc16ef4efecd7df851e5b2ce914abac9d2635c2e5f63afd0d03a4c77b895ee94e94a92b25e8851b1159de9024cc6790161fd0f97bc9fefade2db76ffe2e28ea1d4b6b7c9713a7b3cedd207227506032d6c360f5403dc0c82ead6f20ed06a29260df5548034c2299f7283765495405fe7b973ca4784ef3f501096fbb21a1b8b5f501be53e631b9d0652d51f42cf669164b861f347e5e5f5d2371c7b7e39d59ba4f7637297126682305ec52035b217d9892c865185bf4ed3e874daa2a186f62b807d688d0d1322125214d0a3b4301940ec4342e93d413fb92a86663c2a5370db6651a28ec086f1306bcc2c5d7061f16a0377d19758f8dfc9c6fbd06e221615ad61fa8f5c5ace704c5c2bcb2a8cc173bb2478a6678cdd27e6e0df0c4ad64eeabc55aa6d09cb12b19d9e51164689cdc288d71a4d0380f8e039b354734ba0ad3a9b91a39f0695b6033e001c9ad10e1eb48b7e78a97d17d094df826926a29a4f833957ac6aecb4e15719cdd6a1e5a7b857413eb154b1034afcaecf6aea646fc0b5d31fe8d865b63ea79cbdf341c69cc47ced16075a1846e87118c89ccaf1d2e244fb8595ecbb79cee9edacc0f9ef6f20ac24edf3ca20509bf7eb84e0de11a1608746cc7ac9c63cac7a8bdd9446c3decf655b6a6c361e5a39202be78e896bbb32712fcb198140203eb1e83ff530cd85025896eac506786874d45d2a604aa92465791744f70d8defb766415491cb7912ba50587d4f22a66abe2489c0ee171a84d71a839a1e3dc9bce4711ff07e9508d6aa7237d2a1be413466daefa3025f1e8cf489772e4c6af0bd5431e2f3c552130b719882737e85739a443c963fdc7430670bec01cd6bf130b172e065dad1c15d61789037b760c485a8743c537e9aa3b2f8e4a590811a95cdd7fcfa6da2b75ae1efcd19a7793d244e11b36b4e96522ed29bdfb179e034a8cb5a2c266e1a8ec3ac19d9a35efa9a3fae00556f1bf151756613b4a1112ce96fe837ef2d2a6de992a28503c9b0bd5c2f58b063e842f8a9e0047fab4ef0afebdf4b63dbe0aefbe964eb84b8637c01902761ca0c214cb09a1156f1c45d5b8420b9d98c71fd677967504dd9c32e52bbe72d960596068e723eca13dfc1936407123806cfb18703e9f31436308f18d5057fbe3c3211f39b88d45bd36385f8745a74e9bbbe57f311ee813fd0b186858bb30b29061e85585de0f33b5e3ca316b63aef561a40d30ace0551c4989434b1b86fe2720b9f94d5b9d9aa5b2e5b2fa3340a142f4e10f11054fd9a2c5c31c08f033e4993847133f727c99e00276d96a0506032ac26f825b23d62b5699c29cc215f7728f562d20d198270353eba9b756e67d48abd2cf19f77a4e93bd138bb1d3cf9794cdcdc16cdef53c4aac30061257b21dc58d47259b1dc975ee56a3a39898c53462d44d8d152a64c8539f427e6fd6ee98211699f1ca18eaf3f17acda62ba7ca3370b938c40ac244bb21696ea4316d4049079fe278d2b66e79b79b09e83879fb006a50179d6536ada0dfd9217625662ee54c26c08d165a6684d9057bec3b39edfe689ed007d9629bbfbcb8f3b9440c72dee47e33165e72298bb1ad3c5febc8e3af7a7ea6427a306798ad19c40908454568e76e41edba32df3bfaf64a0e09006164427b3e1f4b53b1b2d5cb5bc2af7a7cd0e893ede9a87da57b993cd6b763e479a864a6ea589d30513d6a54ab4096b50dfe753de73fb91e3c5f6ee400c4f52bd2154bfe798751d7ec6046405424724c64c447bae4ddbd232aff86ee158c453818d3a29bd3dbacc5a3c841b943c299c53196b274405a7a0c7d042107eef0dff2127ccd32cd08669694d08ec712707c6796a3bb61aef28e7ffe01474c9fbc0187a299aa55348bd7450b0ba0448ec09efe10fe4e09ed6b3d4b46b1f208f1604929859d06300642a8f8fa05cf6202102e2de593471a71613ab863a9085616fc3c7ac1a22e90dca719cc60cbe72b9b9a50f09e495a8318f930f6c51465f04aa4155ab36c527a9ec7b99a7933a1c2ed8ec1f94a4fdb1ddba30c7c6fb0b9abd98e896de6a3e92dae81c2b65e21d34bb4497d356870ec1d9cd72c01ec304eacd4bf4c7f51eea4bd72da44e5b51aa6f073283dfbb3018419a78577b4ed0981fcb24404d8840e0dd9ab5278570186888e228f657645521dca053dea858e61ea60de9582fb8ebf9e9bd2f927f63a3751ba09a9aac372a11743c054873ab4dc59b70042b260f7f642d3496d7fb4eeb03e6e39547604a7b16a564f6a495d77b3e52061575b741e90350dab40bc42dd6a31e60710f082643fcc7e7dc27ded140dbdb7b118ab97c638936d3ba66eecad388e68cabe8f1af99930c9a35d97f650d159ff7c42e422d6a6562398af1e552941fa2374677fadec3c23c51e99a6736d1b4e38f1b9cec5dae417e941bca108f96309b3f763f3e772bbadc609933a763322c299042b8ceab958b1d226369207536a3f6cb36dc083a972bb86e2648bb7999192852ad4b708b3cbf4a939bb5b927cbb0290d9b5e2b66bc4c561f9e9fdb","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
