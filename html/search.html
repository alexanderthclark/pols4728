<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"86938af4d4d8ac90b68332d0d004180b4d067205127949caf0122b5003578858f184edd3d522baa77e39553efcb8a12931ade8d6975bd4e93a79448a1f7ad696405592cbde32e47c925f02884687be7a07f1c019b5329e738222cb7eea3d786b1b2d2bf3d79d5436b913293e7ba695328fd689445ca8e54ea44fd2e768b71c98ec04f9e4c1cdca266857b7994c9857c6965e6b2c128d8565eb604bddf2238efa2bd8887e8fe13117513808bb301a4c80cc46eaaad44d1bb12b32d4f88f0ed5b0d2e90573e13aad7a656301efc240c2abf7ba8306c4ffdc87170143de236fac727185935398dc2595cecba156981a49eff281d6e4e98f4e1497a13973229666071eeee38f4a9afadfd314ac517b73d23f9463c79187709c9ef570859a2af8a8b418f013351722852bab1ea325fc5c999f1b5fb923f2de3bd252c83a149b5de0c956e0584f41c2c23362f21db45ed11a55ac589e9b69257f52f92984f450256bd5981b4fb7ce33cb2303e15b11e1e6876b225c9535c830d0f618a611f483edb5be4007fc4b055b0d1b85e948def89ec8ee4a1be21757fe5ebf67ba8e1dd8acad4edb922761f18839ad9acf4daf1a32e21b0373eb108fa452ad50dc0d56c3a70231cba447bbb7bd4a4b3c05b82f040c26fc9af633a83e6392e0b0cf5429cb8d891c77aa5b9d0719992d36a0ef075a0aa9463eaafbb888a6e1b6590e0039d425d375e5d2b74a393e1ff4c5bc7b682cab9851872f326f52f23fdb4e34711a9be10bac5161fcdaa1582feab31318c749bc702ec9bd4c8007010bcd7176dfe1b0f530b08561e67b4e941ba32d06e6165d2699a154cfcd0be9a00df44fe839cf7e1c34629efbd9e8b0277978b35481937bb1e8bf252762b27b2e2b141b76b09c4117f5b35e473d2fe30f73d05f511d4c3d1ce9c311dd8837e0379ca94a57976aaf5eb3f63b751c3ed7bc67fb06a62885a054d63011cdba764344f38cd361a3e63eb19d132a5c06dd4d7e3c69694447a094b1a31b098121c882fb57889680aaa20cca32c9c82698969d5283d3ccbce3878a465b39330dca34f765ec761a4de147c69c95b5e82903ac22b14f7d9418d10c69956774b2f59950f0883dffdd8abed48b4e10a2a1c8935d1ea5d3404d64fd454da3579bed6e1e47a5f702efbcf2f0f499efffcb0a933dd23ec414473bf18323e382b250fd4e29e314a4bf9fad840fecc6deaceb9cce8e46285ac2808d3b24346a7b91c0f2de42ca6c69702c23f406795b0de5146b0ccdf1fbeb7371eafc10c6b1c78f0d0e40650d008c8d90f1e4d6fa751e38a57038aca1cef01f358e5dd6b6cafa61450e26245aa72e3289f4624be935049ce8bf1141b64e9b81c37976a4c6bfb21668138cb42255146f613f6e5b09e62f401dcdd73c957a3d063c9dd20d08ce9487d4bbf8e72b716d2452ae8930ccde89f8dadbe27035d0f77501a79011a8e7315ce512cb781441e9bf75842b44d046ec2dc03b4fc9448945fbeb615b613758196d06dfab32d7c6c6b7d7396d70a7cf06079592f3f16a58ead66d01f4937275bdf8c38928bac3081c5d0908cfd057306b4cbfcf883b8eb5fc19e888194173a893e18d20c06e844543709de13ea3446bcedf6a5476b7bf73ff3fd5b1abfe45e21de4e24affcb61df072b77936e517887300c4ab82fd8595330c198587acdd8761ca98083af7d33609ca7f0e617033cbb6f1a0a6bf26d6fcd76bca404207ecd69ed78af6c844e41572854165c746fe44878e1d5d482f39b238687e98aed9c55c8bd56918ee9bd77411db86c269843b03ca2dcc06849ea611717547ca709eb2933bdf45dad5da12a16d2fadd88ee171522aba3d5bcc3bacfdafe29966d353b71718187febd3f824a73020d9479b5d471714b4b3f1621381e403019e4c3bd89dd8ff3c3e8a68be8c55d3564ee33dc4fbf04c1b16ab53aba167b4af79349d3a7a9e055dfa7d3b7e2c5223191a54fe6d3d3db3228b2a8dd3fcc401f4f38d70ab511476e4b37d15a35f245461ebdca0b11a678ac793a60a7c3cfd2317fa725e3b059f22c9b5f95f690b149012faca117d4862b019d33f2bc9a2f3522a6b9159e10dd987eebb610f583c43562ea133a13f8c374d71450d518054923a608761bc9c89ab5f8a4af320642a837d843f265ee0e31c0a77297b44a8a27588abfee4e76e449c965c0c88bd66acdae60764180115aa2ba481317b41920f74ec997f9c7e40baaf008ff351ca8b87ee928fd3348220ee4d0705c885c9b289156e3d1a15f4d34548df846d4ea512df3736e8c00a47480f130d23ca6c0a13c406911388e47226639a13af1ee4c3d45431f1d4aa695b111226f81ef19b49efa5c7fb117ac016d111a6f45e1ff82af39c23a86927e2f9e8e8f9e25299c110515514ed3024084e0e4e0e9ab2342a2738d56004ca2f1b6fd9c08def80a8ee23354fc1d3ba0c465305a7f62b1e22910b0d38430b0f89bdb752db87b906e66a4c332c1f66ef342a2fc1c1be4c75d4efcd0f5d82f848b5e2cf2b7edb4272c433fa1fa5dd608d5d382c7155611f4ce31dbd8ccd4be98dcd419c2dbd0da302b16d4e3d8b447226cf8cf25cb1322cdb6639a728da3ce40ae0fa036b851705a9d8790dcf720c086a8732ed33a9e65d7ad00ddae096a01b5460c0d4e7223e9460756062d0aa16fc70fe11331998c03d4dd51654892031b5a3eec278f9a838d95793bddd8ba707d26dc35017d31ea6b4dd48ed1cebcb16d8993a172df75ba131122452d027439d1ec8660194ee3dfc3b02a18503de7fe09adce6179aff83077d9e9b6dec449702a4835aca267dd08b986a9054d3c3335a339439a1eebb8cd85647c4f94cccfe27a2df0243665141f7db6361d72398edd680876e960367d5cffec68aa61c0612914fea34a47d51691b230e6bd0176cbbff3fbe93e1e73a88b38cab66217db9ad25de343a4d243653cf92b730d4705ce5e216ce2c4eac6c0a4cf705c29ad208002e285a271c7707087e58352b7ba47ed69785d3fa8376c7ddf6adfff6077cedbcf2ef492a414db61a13b754e1941464bd82fc38fe2323f7e3f9b12e7199c69460af0f677bde48b6c41bcaee39bf80f10b1c0f77af8cd44265c7327504045a969640ddaa76ee7632ee2740e64c9c6c100abcfc2ac4e0286ce69ecf5a3a94c97a0887c51e525d0789bbaa8d67ce27f25508bff4db3933d6a9421e4bcc93d1f0bb75df84f5ac62505b86763b4fa40cfaeee8ce04f4d5601ed9566eb1170e9b5c7c5106e71c1f8915a5b37ef78cd9d9542dd52a1e31ac406022fcda7144fd2a24e1ca4cf4f4459990d1aa95aa88fac1d68b4509ab4778889fa44f460d72fc7a42e99d5dd1c49a05ef66c7b121e5cd1dd0369ac90f6b0450261e79f839e9011e82b9fcf1b77e3b8ceff37716d93a901ddeca7c24f5c466089a64e3119db5f19b505a49d30213f6320450ec64b70eac621a9662ca914df9e901f4e29fc2969ab48817d5b4133fbf8f744f024634036e87615515cc37cdeb9cd5141c483306ef6d7c1bcdf81b2df762eb42b159f64df1a1858d2fa9bbdb3be865db3ece868e52a38fe64007f1afccaa6fca1bc0afa4e96c11a8cecda98538930a025bffaaacf946ee9ffc1603f917bdea08df2dc59f13d58a3f0f2678a08951cb39ff8443f62b4bd30ba4fd3fa750e32aea42d008eb1717a7118320bc3861d6d58dcc4bd3d3e2066a6affffeb8c7f5309694753f807a3fb138b89e009e6b23040a452816b9cd27845f4287b5623340006ef6191466773323ca7cb127e0233b9c43d97b9197027a00050d57088ffc0aecebaa5c8e294a3e0398eefd8a49b344725dd0a9480d4a6489b97c8d185e29a4d6cef4f23c91cc12713f37056ab17ea1cc7330da2d724cee4854dbd272486083d835d2bb364e99d45cd71c59e46c865ba8e18ba6dcc50bd30179a8568ed01e3570a4c8008d6fc8ea5f3680b07028a608e09f6c82d49592a749085eac43555808528b22f1035ab246a54931d5b02740f0f5eb6672bbc43dffe256bcc2974cb92f146f23b8db7cf395e9b2f16fa31f7362be98852ee1a9a331cddfaa1cedae4b3cf6f17bb85623533bdc9e8dff85e950642dd91b619e065f10035e760b27092a269bbc29479b178b2c2c44e4b7562dde1b67b2b76f7574463e7ec5d59224d44eec0c5c3b3f2c0eebd413df4a05bb2cd7e62b0151bcbc9ff2aefa1b3280f02037db32a3ba8ea225c5e3afb9564661aaa30f2ae1751a1d8e80d3ba8b7390b33087495a48ff424f4cca8970656a02bcbb19ec16064ad46060615517f00271f70a1c1a3655c469c127f4710e67a82b6be47e3e2a96975dcad8b1b13533c7963b800ba4ceeee6b842ce4af598f09f0e9d817cb80c52717fdbf5dae31b66bb7e441f00b959b80471b67af829ce1f806ff1f652874af11417f2cb3b89d328abbb68f96dfe50fa22cd195c7288ff772a5d899a66e60d214e0481a9b2e6e2606dbc3a66c97318230c8197f2568a6f78947044b94d64e958493f9f5762536401dd410bc015c8624aa280b5d01b22c77ee462646973dcbe2a42b16c110e8e218a5b5bdcde557072a3225aaf76e44d2232f6dcc99851dd07049d935bd94cab80f4e6feeca69e4d5c2be9c13f33006aca6db26400f34805712c4616cc5c06ffffe48b028e8ae1127074e496d7c9f16ff0a51cf7316c75ef6ff76fd9519fb251b1f94842fc14b08bf16354b5001bf61d4b726e42008b1cdacd478599f065bd8cda4e59e7c80c8c51d70eb3506cd55e8927b683b0a62482e9b5dc60cc82d5b715713acd33875d0d479c8421165d1e8bfece645525e3804a12c89dc475b98348f3cc5a29edb651fe27d2595a5940d087c1462c5939a3f061994eeec278e7ffa2f57565f8d79d753dc5c32e798817b2243270e7d5036580d8dd5ea21d1f9a5c8b05f9bcedf4684318fcf9d9935e65fe6f430c8ef76c04c3650b530e23869c87b113cefc9284885d83cfa0faee73284a1dac8815fa26768834262c57d211cd3e953ffea3661020486929a95981af39c755619f7b4a7c54ab1e9a6fd41b4b36d43a07c5422ee45496f133d153adc95a7f4b744644fdbfba0edbe71fc89a1a2cc0eaee81c289b662af5a2b523cf777489f9c83e3c41deb688bdb76a234c68d3fcf5f247e7101cf21e27e8d87bc43a0c1aaf5ff329c9b6abf13bf6fbc3107864a61038fc2222b9ec0674fe3744ea146a4112219ff9c007baba324f01e18c54b33c6051891f79dac143af776940ce6d134f6a85bed7b92e5ab9a0d73503d1588ce258f6f653c1a22454b42d6bc5fd2276112579d6cb37c4cbfc222c332999ac4ea8f0afee34ad9a86951556cbba23ebbb55f4f19780f4ef0c43468fec7f3eea3fbbcc2137c45a5ffbb45cd9381151ad7fa82950ab6143b2e397e3b0365f39c43a061e21b8ee12aedc1e59d34dfe582afde45463601fd3bd6da9e8c97b9825ac62a3027a648de6611775aceeac076c84b30de963e0b836ad61594c3847187730a698a9b90ebd5185bcfce9281a2aee62bd2f18466f1aa7f1e7224de38e4d494abea103ae15156f0363f31cf7341d7281ca507b46074c410056b6c03c9bb2bc1d7ecb7d7c43331bcda7049640bc49f7ccce62ca7bafdc44dcf7ebad7df7b8e6e6eb8b499cb1f3b6b5387280afe63ba0fedcf58469535a6f7761d0056d2794feb3190376a4dc9d04f344ad69622a239d49d4cf1daf21bb8d55b6beec5edc0db6c932ab8a8050ea4c730413078bdad8bf8b009c27f7f76022943576f8b7c90688b46a7f875d34b4cbafcfa1090a556d1121466d456b7fd5e1b2a159750212b94aa0b3453dc74141839bf9818756d079e232fc153405ea30d795652635777f5430d579d921bdb49fb6a1ef7fb7f21514038eebadc8c1744767aa4d03c4fb0ac83c466517461072852fb5d774aba0613cb6967c6cc4ed8d9c5953926be3ba512e8345caabee4fa6f802f2f205ca669b73afdaeb294ce458a68bc1c9dcfb4107f7db5f108b7b385db51d6d294f2b26bdd7b31639dd580b6f7f0adcf4225aec83769f6800704f207244be0380bdae071e638ae1eefd10c6aad41b02a8fd84354dcceeb740a6cb32255322682edf4cd04dd3b0783322efa036866e507f4971e24f5ef435085c96b6c2feefbd9c39b03e6095f8de7e5223fba5ac7e22ae04661fd5b867d8d0b3ecf72268fdcc19a8cf46faf7df316076616c853a4b2344ee7c5530985ccb2a83db4d4e577c853fa8476f5f5bac065a79a77122cb0fa297f0a86b05d66d71fae90bd28ce2391fe48abfea9bc6f5f3a9697bf65d290e3e84db7d538cf7959f85dc4d0be4eab1be2a6c3ece2cccef01be1343d9194c7f02447f431ba2048fd26c7ed61d5321db50ca4dfb3d5d0725d413e78b82b066e4c6c6042c0f26195264aa58aa3862343c5adcbf75bbb6ebe3a41bb8e317648e41ba3b0ca215bb7c441ce11c051e68794fc265578d7cc5c4611adff9b5877c13e44271af2429f04e402c0077f75023c6020acd9f1a180585b13708e8f5273e9191948f55a3e2caa4a9c153f1161a4343de6f203fae547c87b678702a3618e44e2df58bf62390b2ccc5957e8aa92c2cd90e1efc4612e7af414561e06955c6d877dc478d036a3073ddb925f5f9fb8a21075ef636e36c99cbb39ea7431433ecce98170e7e0757db3cf6f8ee1a4104959a5b02280e779a5bb8b413d6a054dab966bc4fd3a0da643ce835333e217f0529d5a62b7f743df0f9f36556928eda9bcb12af5a2060698e44cadbac935a30f762835b750c07964baa4e9ec8d21c6906123841da6cb66528a77a3bb1070463ccb13bb9e7c6c72db173d59d3a6e33634cf4d03a432d6fc1b2dfa7b0fa34be4f709cc67d19b1713537cacc3cba9566d1856b3864265b37b763508c7afd88896d44e0169026d63f47ee0656ec951ec984ac9f8be7fce1107af6d9e3f2979c3ea7b87ddf2286c00e61697fb1fb51a1c4c962a6ca4ab1e2ce1fad05c2d57c3bdd2923bfb2181ee8ec8059a62cf4f3597a5afd281ffd6e3bd89d147dc45772386a2005ba45b89de5f07043c017a06a5ef0999913b131daa1dcf4fcff7005f14e6834cf632e34007bffad9e2a019918e3e3738779f53d630b3f173aa2e2056df4a8ffc7b35b1a86e413e875877945b0c7213149bb99e91c2fcf390c12338ca961b3e23d1951b56b26fdbffe5383cce08462cf77b32d23397b8834b96ca2f416abe5fe17b8e4db5bfac51d13eb518cfe5215d5847791eb05a787f4bbad2132efafdd0b40b2c089690f364004f32cbf89c37ce81d186df2d0fe1b739c3483c51f7b1f5c072d08ff48db1c57f39c8adb3ab4a0e6e9d55a71607976ef1a8243dc6f8483c0d9d0d91da63498ccdf75fac91cd2da12aeb3d710b91a3610cc85f69116d8706b89ccd815fa4456be0f7a1da501df35dc06cb9c1c64fe3fc6ee161a55715276e8af70c757b6fad77dc6cba764dc8006fdfa31679107627dba1a427e0b0277592db50947107c4c2cb58ff59c668e528648c7d35f1fd36c18ddcb72a9613466676a88bd3bdd2a6b98e22d2c46c338e40e65ee782e0175ef06687c543b8e1c90d09514aff63d35856e985a11439dd2daa3909ebfeed215ec3af739be34aa29f9d477f011aaf44dea6746f11c628e1d41d01a5e72faa7657ba1919a3210df5bb830fd44bc07751e11d3867f1534a1220a45b843bc2e1f676294bda596dee163089a527ca77759686de6576d320f2ea9f12c4ebf59117c5d5936937b2e4aac97d8ffd26659c84cb4230dae328ea97378c8cb638e58068e8963ed67bbc73e5759eebd7cd5b336c299581e41d31b50a0c946e3fa4dc89840202397e33348c9ed613ef02df5617577f9fc2080b54a5c45506264d00698da4346739820c19f868469857c9c51b2f8dbe3507ff3cd07230abad4c60447325f89030eb1eebbbcdf1860816cd120b3ded8398ecaa3e65dfc661e882d9ab8879cff1787feaa1d6697678e33278b3b11186b70b8e1271a597828bad57df9e902e470dfdbf696460b42e4dbcc045f24bd263866a0416af413ed684134c06a12b4aaa545bd64a92e2a89b5f3d30b452fdcf94f59969db62eaafdcb1d3588db2d837d5622a415f8282de32f1d9050bc410dce71180c31c6b80ec2a79b2bb5ae2cf5cb935d3355f6f3401299229f8aaea57e538d5cbd80a061bdb2c5497804e8d8f1a00a5c7c21431d1ce46acea75f4e29e88df2e9c2c4d8897194d41a4670b90deea19c1fe7393a990a168d7dd56fc39b92417465e21eef5ace8183c1f330bfb40bce8d23cdad35fba6ccb1a88a1cbb58a1e2f22008b931e919767cd2a002b656a8c8528dce95d0a891f4ea5c9b4926aadce96b98eba41999e2c165e12dea4449c16fff27af487c5f3526d1ad490ebce3a9e9faaa42dce1b0ebb11d97e05f9c129098a79543aab77bd7c2324b21d06ac1a5af6a52c085fc85d6d8561a2d7dd9fc15f0be5c5a30b9ffabc6250b1dfea12cb5cb0cda62bf72cf8522aa336493a81d56d7939645260c870503ed340e2527bf1c3c1659ae67345b04f46d2649caac3aababfdfa8c3d3544aab49960411e6b5b06d520b458e3bf54d7d5f9c34d795ad41f477c9c5dae368bd7dcaf0851ad69420ae976aba31c0920e057c1b1419089f92371f494de632c8e17f542a17da94849510f7ca83fd71a18e9519d78e29b24a2689c5a7aa6d75e72d2d7128d7d1a76036f6bb8584b53f9de286cf7c5bb9d312d49a0f91e316957c85d3ce57983f6d909a3dbb7821a9cde556cd4d06e301bf6a2760c6a80bcf5322cc7bd2e116200fa61881fbcac201a6b06b996ec8510159af83076448d6679fc4066668bc749cbd9d59b32c9477a1f6a2fd190267cb6d0877359b65ed8dc6563c6444b655d0d9e3a66f12eff0b4a8c8b791e716af6161c41702ff0f6790aec0170dcb2edb6fdee0afd8198d77077616b3db2d35f814e24cf2a63815ea9626f0950f5a98c565a9243a7adf0cd1e7b63252e0fc95c06b87d0b078d9813f4744e9df97014f9a6d592ba61609161c7d361eed7746f4a28a731f7f365893323c2bb052d674945ecfb44eae4b3fa4e807cf3d65507316e301e8120b05a728d0c9cc9614ff5ee473e08dbd68a4aa1365c19ace7301754a13f87bd54178e921acee1080dda2592c5468a67c99d1291b1e6a9bd1e0e9429aa520794f78f8c5c44bc42dbc9f294f11582589d59423995c9fe7667016d750e0aff33b06b216caa7c27af3312d2ba2faa9e4135f7f6409bff2e24a8599dec7bfd7f4be31779bf50254889d28a38f771af6a245f3c12c6fa51a1c0f0037d8eb3b950706daf0deb22dea99be03caf0267007c2e3a190579281765cf76e331ed4c0d7d15a3d15dcd7bf440d2f2429cd693ed2a0d052665a585f31f443649df4c9c32af528bf20c553bfc1624ebf47661a8d527fc8cdba63151e30c741e73e9ff248a476d5ffcfb2cd434de67567254b12cb582f11d1f9f877a592efee4bb07f19d41b811c6d5db952b95210c4790229b7443281e5e00950b825dba21393ed0be138779486eb0f053e2065f247490b0d823010855273edc2c72b927d8fdd4bd97ddd32ad6d4f165d3aef159b9f29af0fdbc27f4f78be16dd40b7cfb5f89f09a29e5ca378ef87b3b142eb26df30f037d20d73bcb5f200df090146d4ef0bc8271e3d158e0962bdfde3691786d6e602d0d551c40b222fe1cf824faf4d4b018a7b745e02c4c2efa12a4a8bb81f019dc982cf1bf131646ebd5a80b64471f1d037b415a692dce4642c42bdd1fe1efdf9100d47608a8a5e76320164754c07cb865ec80407e4f0592384c44be4a6b58e725381f5140b6b1a7418a001171a82ee58e4bc56d21f968337774534486a04fcd01b6d5441b3f8e06f3c32f3cc5f8cd81431ddb9437b73322cf49e6fa8ced5e8e7acfb1e6f636f4e0e8c51107aed055f4f5228a63cdeb3d5594e8a882d3589e6c2181edaa3b77b855f3690a40ab1912b7c8609bea1c2618c4c012b24969ae733e4f63fa99206efc0fd17995a3ed79f879d9800eaa396c982cd0b4d3c969f3c10ef9576508d8834166364aee712599977477b2531c5945961280367ebcd526c2914c849b35dc8afcb7de491b1eb6ab34ff89ef44f50a1e1e0516c0f2ec0d319f90e681e89aec3649a5456d49186ed83c13bb2c030fe205f9316b08895cffde887307784523e0a75d5e77d58f08fa32b700b0f671a682350ca4149ae238d8f08a8a49fad35750fdfaa861e1b120d522de0a3da77efe4b412abc55eb03d32a82135e879e65716d82198972b2772752af965853df2d26b3b54a4bebba9c7763b4276de63a0ead3da35aa517c903c953ffac4c772902172cdc83353e1c5b6069f09f6d0a65f3de6a75d000eed890314bdae87239dccb1aeec6e4489fdf8d9129598a0a8668063aa1b4341732b5eff0d9137c7b2336a4d6ec6ae86dc39eaea8fbd6bf315b09c04edb5eb7730dbffc41f6ac08265fa9e62bc3dd5e689cd5ffb094bbd206bc6974fa6ca872cf62a0e7c58bc4c4684647ed901053a830fcceac7985edfde99a82a1cf7dc3378f997bad12d2643a902bcc7a6d6f90f6a9512fba61b59f3dad41e8b8da9547dc5a2a4410d32d30cf4a2226abf1b13dfd29dc88f78f2f8dda810a5a6de0374ee42471c135e974d01adb6f9dfaea3c78b44f22b0774bff7035041052161e602125d67e8b7a5be71601701866e793c1738799dd9887719ed5708b2ef849a9c7728f9ff879737dfc0505773b8bf2a1a64cab01156b47b9fe000ad885c41399505a2417b5297b24f3b15f6deb9d0d180bc41cb16ed3731a07dfbab219d155c8a4610749a2e6f82c4dd37b069ccdcfb2d31ad0c0152bfe68d14eeb165a53ea4c80dc622ea949eb4752427ec848f5254c88fd6cce6965c5031fc9fa90af754102dd2d5a55f49abd1b96583443845bab78c197b67e051aec6c715b3236114d5da0de699fdb43422b23bf36b502477cef1a01702a7ee0f07c9447d0bc7b8fd61fbfd7ec43d77e93b62d894b5cb358158ef4cbc4e8795120cfc350353fdfb02195b7ae09fb5c8413682db10ce1da96ec19f3f1686abd45871256e5b89cebd576fec6322c2bfcbce252186606b19897b6de3ab71d4f172dc2595543f3122f4ea5e934a68b1e67901e12a207c32744eb60fa21465e914c910c28c1558d6f7707975f52948fc092239f695ab3925bcd7dbbf576e1fd5878aa163541a117b7485af032624cea508053cfb12178def252c9dacfa34010ba48ab0fa20367aaca023000fece993fc94176c43c67ca8273de73828212eaa8c6fcdaa8aa59d7d7625031f4eddaae2d16f4bffa00f974508c1f6f0bbca243110fbb3f6cc4efd4e953bf4e07f854372006c646e03239925b1fa5604263212eddcc9abc16095bbf9ba0dc157bc2a391b7645d8798718499ec113dc025dfaa1243880f1b27069a4adc0d2cc031137a48425018151338a66d74b18b2d962716bda9591dba1294d38df53d1cf05bfced4f8261af7466e22ad8b64ca27a777bd44834f365191757cf021435b83410b0f172e9922b9d7f3bc3871de968590993cf11e9ac525903881b35663bc3b3d51ef67c4e2ce6f9f3543835dc193e2af7e41e9205281003a6484760fd0d0e5196eb92ffe9e10a7b0e3e2390cab5672c444205273da2f9393fe0faf13a74505f678aa824dfec75b38d0f5edcb322bfc421d3130bfc595e8b560c6f75b8919619efd48be8f755b9665a9545b2e196f2130e9906cd69e579b4480155696287048a20fdb13157678c216c56bcac6bd7ec4b07420bce2b19d0b16487e8f1976d6ef1505482725f3bb9fa870c1372b07c766de7702684707db0beebf171d579b0c6554973e3128d827f685d3f108d622f35e2ecc6b9ac119a5a3e093dff7cb5866f341bd4953adb5ff88d76238b36cb62d4636f4c724f0a1c03df987f13d556d26630a42210fb662618741fa3e87b0af5efdc7a1362b60fe97d5e2ff7976f8b0d8f957bcba9e53d1027f6fed47e8b973c5497ff575f76340a44999039f82b7266037102563b1585576c450380464818cae69a7a15bcaadd6bdad6b1a99816426a5e61a39e8ac1af9480ae4cee1b2148cdab2b516a92ba88c921374a5a09c8792cf0af8f571a494789857048b060a842f51e9b4ff23dc178c05a43c43404fb664f5f09eb37005de2618c69610461acd5281e5f669974126b0438f509278e1d0580c60e698c642bf379f95a881d01d36cc350a451363b3b089db21ac5913f41e4bf14f5674ed1fe1acad4d9ac611b8e566d41f284e3437fcc60149f4946bd6103c393ea2c6a432daa694576b4ac4b6a01c3e4772aafae3506cf4d93a3e1ff04a5ff5b519fc5f9f11e657fbb393c0a7f44123cd0db52b70a80a73f56eb79b86a8dbb24df71050281b406215bbbe46846bfd21e853232fc45490328463ebd578e4435e0fbe5830fe4b491b82d5e7f451f467537c0d57f39c70d7ed701a65937087fb0abd47d6fd1c4093587743f9564f7eac29eba7dc61c9a8a5cb03ffb606d65c666588e245112b3266f05f1db1e45eee77a37a5c53e96cbed9db9371fc0712def5b4cfe292ed36b24e256d4113b163b4aae64cba697baa4390d6dea6292872b98997aaa4095774ee8effd246688a16402929c9d3694181d39ab646e50a3893cdc9bd546d041bc85cf6a12791c7d96958963d26e426e98497db5e8a27636963f081eaaad7f3fa525a5f5ac39ae3c59ea1f4ce4dece1973d8617a97a0436eccd3ac412282007fa26734e89c63d78740151fab761ee3c1253746854e582d9e2545a2c1d605985e5643b7dfd62f12e16ce675c10ddab9728c5abc5156b5ed549a4a9b9490fb34b80646a426bf7b32a0e07997f2a9acb4d05aca7c60da46fa9b228c123752f691c07c60bfdb9a9e6473cdb4c22c9d138536a41c3ef1f77a9c43dc33c62024a7aae170843ea255525f30ca86527cc5e0a94494fa67acc8e5352b936d69317926babae1580c26488119ad9574c850e3ffd4e0f754a1cdc026fc21fa9df2f9c1b88148c51bc079070d8701fb3630b32434e7a3ac069d8c71b436480f608ab5d2b47e64a7e7e62c8cc118438e61fe4bc5be2f91409a1f1bd9444208d3c050bd667475b73ae998d5c33dfa08bcba216bf835c18bceb45b2f06c0279d8d12315e495bd04edf32163c9b540a9a82efa2abe4c6a3aa9f5ea3b3706cff7439ca366893caaba1f2024ee2e328865d77231941b1b24d2f6ed834d375a511235ba4db7ea006a538123fa40e3ebb32de39c8ee67f925e10c42f81f144a874d5887e9b6afe22bfab415117ca97631978203e95453b70ce8551977fc68938cbfe41a9a5103899a6f91118419e3fb322f4b849a1a49c9b80ecb3e86aea8cddc25fdb91bfed859ce22bc1ec33383575172a4c1a831002e670735afa47023fbd5b31b906c9add4ae74e7d6e871735ecaec2eb5d5fab32971c30542be85a2e078bada12d2b5df1a2f3cc846b4794b5e46e035008821a65234f90133623128d08d4b6916ec0e5d080bfba9e8a509e2da365f20f5e1d24f9ec52e6a55325beaf4054c63523415967f6d64359a0d5692f04f4221fc4db14b9470105358ff370a3ddd5a2326b0d8af0d92970c6cb2e54bd22f09714e602a44ebbfd266ddf704adc78dd5f952214d37407b031ada3101932e85ec05cc24178a6d1968416bfefb78ba9f4e149447330a9480e71207de7a4bb9e262545b7d87df04d19001a6790b6148e3106c03c89aac32ec2c9acefb77ebd3f0dad72f7e04d0b5b6dcb1004bf91431952c66b8c3d9a0fa875a0b848f1a74bb3c5f367e2c7304dfe47bc7507494cfffe0fcf5c3a5774661d9ad8de4781099e6f219dbe97785a63e9ec9c5c12e9fd30d1f9ab909a06c3f815200551837ada52284df693cad11f17c5fe673e5983a1877cd088dfb15fdca51b70ef4e6203838138583120b4df8a207077aaa52f502053d206591667234df4ee522b1e9ebdeacaa5ed0274bc2d9376e0556e4cd9ac7131d0d9fe0548db6b97b562dab1f86f70820002d6108abac249514eb69ee57eb3b8a7710754b5e6431391c7a6934ee3fd786961930441d3ddfb12ba06ee28b13a1121f9b8b1e73cf4d785af2fb404d596c449c7e1db849dc771178df82e05e277cde8bd9155b8459d5681317494df6b1ed57000303c14bb421c89ffee3e0ee48a759c362f9f8069681ff72ffbf092a585d3ba3e8e386de6a0d8c19131bc25ee7f85334bb12a5d602099344e4058f1f6ce742759625d9c7accef8c8c933fafd2825a2446d4f1edf7dd88b6333568e5c6f2931006e78e52472da9c06249c51438379ad739d34668a9c379a945227c4e670e148c32ac14f845c05d365b1ee4bf47a5fcd0c0f6fa40a9868f0d4769ba80287a2d271b07f2cb76dedab95bd45745b14c4a3da7ed0341a525761d50c19407cf0722354c72ff4ae3152ae49ba2d63dec1d082c77fd9445d2eda07490305fca04bc43b3bc952cb32a18bb5dd2f8937f822aa04ad4620566acfd0fa41ea7d1ae74d2350ad2e0ef5fc65b24fba54ace88c159c573b23825cbebf602d415cbcf7041764bd9a9470e623a9b50c9eb4c5d5691a321e224490d2bd96647adff8cb3db9a0b58b799e7ab27a8cff0cb3e17765e62935f75327ee547b39e67c0957906f19f307b7c223ef280d0a58c888e2d1b9eeb6a739a611911bc1fca62edd9b74cd8b9688ebf204296893ed83e2bed41b9a750c9b3d57572824cf08c8f646a6fa0f4598f1ebfa205befac6e9dbf504504a4f835397f36fe054e6a9368c2265531eb20d4aef41edc001d54617456f435d71a2021694260c5c051251043d9be7b53bf9b130b6e66e29d66267da0bb86fed8fa266b8c25c381846fc0238c9f2879dc72bec9ae525384dd5ce1a854a062f2933c38329732d9fa22102830fcaf8590bbff753639b59e244bcf86981e746073347a6500f0b6a7733a6779fc8e1f351bdfb030e69310f91813dcd77f43cc96576bce92e8946eb60966771a96bb6f78c7de2108eaa9ac8a9456361dc79003bef614172968b486c484212e5da5891ad792183194e6c79b9c7af15ad1a7326139ae812252887b4415e6c809d18c51ee7fde9869e2f3fe69f1439ff235c04fe390da1cc17166aff19d12c531060506c15a576bf29c46341432a85fa5234b0b9fc12ba879bb81ec024fe5b3e5f9f83f2060c31d1f226d976e8d5bd125cae9324b8b574d32822161797386b5ea5693e706049d494635eec5fdcc4ceb23b658df09c04351e71c71a80f6799ed1f0719d07067af12f2a7153fb8ca0a023d6b02ffb96940b4dd71f26e8371fd1cb00a3553e335ad1fe11f30fb0bbd0bf2aab61ffd6521d4bbc955c9ef761c3b3974fd142d0436fa887a5e94d1fd0b79b8c90ae2318b9a9028ed5c33714b5a2bece8f4e7b034721aeeccd0cb83f7e3a2d9e9cd03cd3a29a54b73c593535b0f6295cf11074513c2364bd0767e793ad5913006db38d9ab608d55ba13314ffbffcc5564ba6e450d6c85ef50739477cfc1e58fd82224a5ec7850551a3c96a7af7f60af6af6731e3de90451167bad1dccae4f4ac66d32c783c1be7876e54212a3638a9a64a895fd86ef15fd3cb6cc8496ec3aaf4d76191c6b9297329ad9b93c9157471e9e4fe314353947cf6d94e58350499390987f31e317af4c94416e6500d63f5132cf142c91211072da4b29c6f315a12575e04925d5363df06e05634d63572a13d367fc47f35091a09435647fa9f06d363257d2a0bf3dcea5fe16c57cf9bc844725edd84cb9bd267896ba3dbb97610de625efba59362c1beacab8285915cb60f54f70fd7b7d01b37d23812f0e9f24533be19b217bd95be611a12994412d7ea39c135d653b88133f0bbc50f35fa174591b2fc5b576870cc8b852216c09229d72dce543302dd90bebee247e8a0603cda63167a19220d9060cc1136e60019040ff8f8cc8bac0cb5f30cb63d77808dd9009db436381ec490e8d15d5d97eabc18df6e9fbbfc29548110705b8c74d59fd05079fd3def268ccea42400e86db82d3544321beb4c41063a9d263fc7d59e43a9ff4a81a87e88e50338a754eda2454a936cdb3c27ea7ee9910e5162a04d6ecdff421391f14641c7f0a0dc46378f8fea4e920c50057e13d1cb82c9d659bc97818ae443fe73edef4f1236a9ae825c0b47dffe4c2df1930cbe28e63be2b1de7e6cf8c7f3111a469362bef38971903f1a0978bfdebefeda94fa2902a8d3435202a6f5adc852b2d962a804f907417e40c64da3234d32d51366c159f3c1d1a39bf1de9bc76338c45496436bf068a2e563b8646b1c70144b8925bbe3d82522f1d1d87e4de799e24664d64887471c6a3b0f387f22a203130d4d3f131633bb3ec2270a3468a79205fbcce1038c6f9945d0215d206607f2ff1812efdd9f6e0008b1f7d6f6f49da41e8e7b6f4408c444f521f0052fbd9531ca1e0c0abc7bb4ce6b78fa0099a65978b45a756fc05937fb77de3c11320b23d97007d1579fb66edd73d2724098b2d1300f500dd4bee0e674e3360fa0ed9ab275d643f25035e1b4eb93a722c16f289c2d0a6dab163a4dd2c645c5d655987a838d9713cc23ef220117da1a72f55a4502c42826af1170064bcfa442d53d3a2fcf55d558e24dbd4b2fd3131855fcc2b14f73ca2652484b8d9701812106fabbf4844d57fefdb5f687ff0fbab843f8919f6523a8d0f2de4c9f912c0179938b60d31950378944412812fdbb682a24c36490e21ffbcb5b9734cda63aec5d349cf5d5ee648295325c5d44c0dd81981ebc343a5d5a81b92ab8cc49df5534f62549192e810966fffe37ec7f3f23a1b325d82c1559103a11ffd4d634fcf09848b8ee5fd8e3d9f5cdde422de2ab8e2eb81fcd72d887d07350571de0bb1fda549475ee8cf53d1feb6d7ff3aa5a8ef2d76c14e347ee6fdac8570e89429ea7b1f12f1b53921eed7e5f75159c5ea62ea9227042e6250ba28777145b74481b50b9c6c28b5d8eb7ee53f97b76e01ba5fdc51f3e114951687a3d59974ac6bca38fce4d5d953af955b4818dc1e8ef31e3a15c7c1d0da307f936fb1be21219180aed9fab7619b58a6ad8046ccca72cab70cf83e91f8ee0c1cb3672ec854ce4bd7199fc44dc39f7c0b57ecbc59ed6c399bc308ccf0b7eb77ce49b8659098981341913b70603f1a7059f95c7824f7aa2ad800d2bd778beee3dcb029ce0bfe8c41190345425e4c47977f80dfecdc381d6fc70318d6526363165feca8277a944077a881b87db35f9f356123dc2e5de81f3d125ab1cc61ffc0138a3431571d658c6987946a2091e0f3b263f5aa4905cabaaf8cc5da98818394f81e9a1546fabcdce0c5eb19d3f745343df9359b285a0f70d71d9784f404afd9f7cb9d6fcb1c34a123686c87b6f4bb2c63ea1ab86a3e1b511b9748e42f2bf8baabead6e8236e44baa9ccda5a79700309d237bb8067c81559c8b45a8d645b874f70e21b14a54f631a2ae441ead9a233e78e3bd53440f889bb682b0a7a5311cdd20130c1543b4267d4f8bd8fc66f93cd28fb56f00e824fc0f94dc311df0efb693dc1d33b452b37df1494cf8a44822574521d2dc44832d9c23ea3e0decbe3de883a22ad7c2972b7c021f13ae3a9b80e0f886222678ce9ce80a5e7a4ef46ca2a54f545ef140f55152abe0d0d7ee12da1be541e038493989240c426b1463120403292c2ae3abe2e34355438f469422213c398a0d4014d1174ee57d6e09a84de3299a27e36a885dd8c7e2a9ff12b853ab5268809b252e5cf195de7a8ff9599c06c592a0d965fb46d145968ca3068b8a422ba552706bf30da3b2d3329ed1641f83b0165fcf3bc946a8f8456bf5b0501c1971d5a97dab518ef842c15949d0a1b273f548359389ece0e7cacf64a8d043d4888ab3b6c561061c1796667026a2dd84bf1d58b1a25ff39384f6f291051654e9aebc3d38f8c218976bb849249e9aa7d603ffba1bdf2d4caca7a92cc18d37ebbaa567d539e1ec391db7be28bf72defd3fc89a159436e12e25508babf71152b0917b2d4ca462d8d50be9467111c3fbd969759ad45c497aa73e6ecb242ecfdce3736e683eaadb8a4e04bd3a9716521d5b92f6e3dd259834957652fd71513a18f819a1d6bff7b415c47125e1c4672e503891e2885dceed2671e9c9e162fb5f9b0db4edc3354308ec7ba21bc7c479380d0bbaabf3ab1bd937a394c06435069de2867d80c9f4b471335ff038ebb2966732f14944f48bc0ba681ad6ada2c2e6663088ba4ce81dc4bdb920412f28529e45e852c65387c9c9af867cf9c251228ae86d8055c346f0c6d9fe7e076d02684838d6f425d32030d4e9d0e70ad6d553e0e896c9381cbcb016aadd1061ba521bad406534424ff700c34b945a39d3a9d9c0d65855d264525c1ff1650d3b07a1e5467c5b4b68286798e92ec5432351e2821fc8d1a4867dd6bb5e5dbfc377d0a77ef59c3222d61fa7712e3d990922fe372ea94ac830f8c8f9dc94218e7541745160c0eb4116a1c4ea1cd9a7408a2427f5123ea007d19da3e152b385f1d18f029518417696f3bcbde5a254456d275151bcae2d38e25e5a36e2a172da5b51667b8de01d359f4c27ee88fca23da10a4ce0a518a08522144302c4d16abc05d86f4c9c896ec4bee9808a56ae15005041927e1bcfbc8e67a5e28b81e6cf3aa4cf0e6c296f8a165a66f25ccfe13e9021474271f7f783734f38dce1db9f15bdc56da0e8eb016ed4f6579a1924bd3d7c31c9e549609e1f47b999f4abc3502e25d1585bdc2749f204cd163d535449c9822477d916ab008e67465931ac2a970c296db2af0a2519ab69d743e7bd094b49d1c4c56464ee5a7db24a21fc449bfabf1f913087222614e09f2f02d1289732865087aa500b860e5639af3cea9cb7ef5eb6daff42559a9d6c0beb77f58587d1ffc0823a6a70b6b7a5eab89fd3c005b957d2a2cfcbf97dfc8a025b47f2143f7549694278031add5fec6c2f2a1b927e72ed993f62eac1531b257d10d897455fbeb6b5a29eb81732f8689b742b8e7767ca7f1350dee5f6e97cd631546fc30023ad9e22d835f6dd7d76c728f40554667269d8561d08ff6a306f2356e550cd318176b5599d14270ad659ec43e6b0f8c8bce9d44577cb06d81295d3e807f2fd1fb2e776af861018a08eec6ca88dfa10d1a9a345b88fdfe9d017b9406c749d6b55b27717ab4b7704356d76335bcf8773af6f0914db8243fce93d7a4dd7d41f3a134287321160a23a56f88f56bebf28df4821894146723b98a2b6bafa427b6e43861cbb399e25d8a783715b5f7fc5a2d7a36cd459894b0bfc2150049da5a571e3731c96f0c58fca23f1781f8364072b2e78aa13c9dbbde0cc57468047acbd31531f47f4612e071e8e282df88f7796578e042c4b5039d01a02cc23db74f84234a8aaef07a06a424f1d5c57a329fac95825a88594446c353147ea9c15df442720d6e7d62696ecd69ea22c34327151d8dcdd918c256f79d069320574c271b160f5dc0cee8fad4dd29b9575d470a8db23e42ce22f8151bfcbd9f41d9f3bcaf104d1c5bcd3f12897bb6ac71b6f05dba81e0d1ed154dc5499c2af7ceb302a1faab3131067af125194512f9ada25eb1bc2aa266be8bde5c95825b1cee0400192fae6d027d51ae8587852513010cb8d4764bb02cbf7aeb83db0ddbf62fb5a7f4c8a79f514ff87851bf082b3cf33f3a7ea2454db06c851d8869dcbd25e50a00c3c51af60753689a597490edadeb9c899ba2a3ba046f646914b35aefbad358e2ca972fa0016539b8e7530f51ae410befd579f2b549a0bd7d01229cad77f287d06d9c582f623a42533f1cf36eda1857ff56e9096074d811697ab1814fcec056fc74e0762abf7e3ce40ed36355f1c839c268df61249f0d595c172058e331d1c70244993899fd7ad104f0d8395f8835c45aa06bb235a0a757a75ec8fa87fb719d304c38db671cab4e472f4536d6a0c6631c977c2f2381c5964dac281f5311a2beff3ae951783ef476d5e186a27b8e4d2f359ee21e3a9ba237768066bc9a1db9d3ad244a37bb9ae6a02d1d7f72a2a3787df62d5afc227c4976a1c964cbf250b5a72e19c2c8357d212c737e9c2c2d6137e5f57a94f13257f8ad8ee00e7a67f2b89c8e6d3ae4254cbcf5ceb340c3d4a9c392d43af507fe4a31b5178fea00ce09a8bd3150f6a1750133249214ea65c747ba8f1144f6c83f1f47b4d89315a48bc75f5e77f57eb71fcd31950bd6157f6ed540c909cb8c6f47e444f812be2463d8920f1406f51ca3ee6473f650e539db92f0cb60facd0cc09ce912470e6f2d807bfca10606e8eb5d62cca27ff78295c4e98564c5a111567f1df2343f465acaeeb132fdb3228c8213d0bdf1363e2b0b1ea4ed77b7c34b3555105fc6c9493d91840be755578f1fc7f6487a4b2f00e09774eef8190cf7db1bc5153b532594edc86893aa86f38c80172f6cfd9029e8dc34ca725cc95ff6776858adb025844c31b24d146e55f63f8247ef212a02104cec1eef845a92bcf588231092d0a940d1981b49453066403a348d6697a0282bd4dff2d1cf53d0b7c20f3a2703c06a511ca30caf9ca6a8aeed8ba8a32a246bada9b358211a34c5f4b4d9d844bf4a319c2de7caace4c32c870d8aa0ffb89c845dd68b1c6d4d442f155ebc75f888488d842b804e9753c685ba991a2f4031e2757b7ea11b402c3439f09900cb3acb8526b04bd7bea5ef1399412886257fb7cf9a336d2e1a2c19b8ec9c5a2459c3de46699d7a694334de3d3c3e588d65f1627fe3afc7b84ad9382632a193cba40cbb6fda1c130fe8c7f526c5d9389158432363ad4c23ed5ef3e96df418794f","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
