<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"791d5f4e606c58565263224525fc95d516e54178e0f12543f5d559d7a8c5c2c0e37bb2f5bbd4338952f92189714fd3a4869ec098afa361fa910302f9d34b13438c3051e893174aab9d20158ead78a19c69e327d461b8c8ed45a6e8aa36c665c96e5672e86c6dc54c5ca2fd582771aa4c8560c5b58595a5cb76f4765e18245ac7960a3bede8cb9ac0864b14ef016505f5e0d6fd5f0c55fa2ff3a2eedd7b530a789b6ccf9baecf07e5ab798fdb65021f0353f373869bc0ca93b709874a1b1a113f145ff8cc2db9f3cc5b86446e4b5336edb1a022a9933b5c217709d0d61770b2606d49b99a87318ed2ab962e4f6568982b5b96808c6303c327fc2b517373db7c595fa77a70cfd3c2e3c5dbc6f35d4f7c1cb39dbb7001acc62b2bce566a041051fb01dbbbc1336ecc8eda684a5b221720fa5b70cd4b0e5573a0dcf0548e98f6b8dbdeb755cac401b8c0f338cb85cdbb44bf8b50a0af8cd704664489a328445737e4056df560173c727402b33bb5385bdecb37a62381349309fcc063ae0de96ca4fccb61899a5d9448a3787d9fa5a69dd3913c239749bff6dc9d4a1c3cd4d0eee6bf247b5b08931675013c43805ec08827b9c83e05f3c67a4733f5d0030eef4e739a6304b0b895eb3f5416414881944a8feaa96701351caf68de01e7d18c24d1ef965da6896d92050393992856fd5b6fbd77f76f2e6b7667ba92be735d2daa2a67ca00bfb9241162e6e78a0d5d59c39a94e6a8c6235736b01479b9eccb2e466fc9db65e8f8206093d179160fd35a5297b1561855ae828c16d0720e3a7873d0384c711f0aa5ec0078da87ea715cdf117a2db299723dc4c7c46f21cb6f974db10f28700176445fa0974303cc18e3f2817c8a48c35583e52460c787300ed976ab33bf1429c5da64f1d747544e6c5a9d65a086b58f96776bd10ed571294dbc78e60705afbaca13959e3c0fd31e06161420e0a9aae001377e6aaef401f8eb8881a4716178d92f6994e94513312238aec21007e789ae273627ba19121a8dfa65d53a21ff1d5064e0e5823a740a2ca7d51f7efd3fa17e2f6937b966e3add17efbd8d7f8f93b617f1207d60d2f497364199cf346c863156d84beabf5d4976d19dbac0b4f2d3ea21fdf1e1ddf02878772a18ae3047ab233806e3a679b9d679563ba2976c9ac325203bf106f67d7ee9502ce43c845301b3716733d46a132284180c465a178f75a5f49453bb67962ce7421cf88d068597bb0577af99f35026c9774c7d48a42f289db983f3217882fa0c3135a42fc1e0d479f064d516daf41266ae658e28522bdcd575c6cf45368f65413e4c6714e2c3f50f7704c17dfd7cf911dd649a3ef3c5a07d8cfc45beb26227decac96faf030c93bb6d10d02a8b2a5a4c6f646506c9399e68ffba02c22a73834f515ccb4dc5600de5eb614334838261c5f67bb34f3da2680f79862a7a32b7db0dcea1354802d51d6c7b411febdd31d21ff9231b1cbc237d527d614269322c192b1e00e69322726bca3551475bd0539829fa5cdf7baa755e40618094e3d467acde6ca5409e2aeb7e607178b5db4b4d1c602238d84f17fdfdda367b9da24c255e83aea4d952281c39e3a56a4674e3e68fb3979f93a9e019b79be5faee1bc8599ebab6180632e9061de16aa2abf33736b4d7067f094d6ff6f0138e0f625cc9d6c809dfda53ac10f4d617f904fe983a007b2ec1942d3a5c8f5376ea554987e949850148ece1e73880ad93c64ba095ac4625cdef686914d51d74b543779e245fe01727af13da033c3a361f60fcdf70298295e279663ce792583d560d20216aa75a9c5dd776c9f8ee1809288cac6c2365dbf1b6da55fffabee2122d246db141abc42f6f48772a054c5c6700804fe558b1357942af1eaea538db0072ba74be1de8ccb0ed824021725f4d0d1b8c561c643141d03785cc2e85e7b1e4b4f03c91b82e91ea6e777a2c2b519272e520f6613e090684940057ae6c5fc5667739f4332162f55e1ab1f29e6b6aa30a1c433ccd3c4889ffd45ba48280805c148e185c2a4ebd726ef036f796d4baa6fdf1e8537cc6b43e2ca4182c99e7a331eab96b7c2946a5c7c36531a4eafb1cc212507746ed95c1e2844b974042c45543022c9b75d5f611577929a6718955609ff78c99641ca5f86f1ae66fd6aa8c064c7819519f7b40ba2ca98909992720fd833444fef9ceff5bfdaa1fc2516d37af180a0c36b8e8e13327e8c52b359e9b3dd3a10f9906d5bf4694b30f204d961f8ca43b82fac9223aa9b43b6931dcbe692657c2bd9493cf16e6b4b9e2c482e602d44d0866e42e4133431073fbb2706060ecf4081301ab24cd6ad2d85a0795bc70860c7ac9dea1efc715e7f5eb8729b931a8ce7eac18bb4b944fd0c7789c2b3110735ca400b1075a31be50e247920931b6c2754271be7bc16020e1f1a64e4e63a2f5b69614dcfaa65c242f7b5e74456274c10e6064f281b0b6fcfb538085cf94d7bbb0d2f00af35043e1644e986a278983ba8ab3da852db58da341c91c3e22887231e996a1580b1660a57d2a31faaa875eac495b3d5b223209d9283fb5044faf650c3b29cc7cda44467db6c875570128a8a65ed5d5b7ea6ba73a29aca9aaa6505d1ebde5d41b685511c328d7291ffac8f2d3efd525bdfa072c4816c40064d7762e3cad05f7e8615c6b3b0227cd1904efb56a73b04b88c6beaa5606ced7e3330e273f97a6f4e0953f7606d1f0534fc7956913fa65f6ba477adb37a5bf10d4bc3d5195c6ec1e91660cd87bf08719a988ae8763f026076c03b373df273bf7e7f0735fd3f3264d33a2b7ce29a500218101902ac9a9d6d59e336cc5a449e2149815b19715826aa4a8a0cd053ae897ce1c5b6972b2db359f49a2ce7cccef2631a5788d59770f36d7d0504cb87c6afbcb3cc59c2666341897ff4eec1c4c91b61c30872d07cd25d83e0df5ab16aa516daf91184f7000aac2909f3fd75799ba262ce64a964361e785bd2fd71a17191d3c079b463a0587ec2f5fc7e4f0f2c05bfae7dbcaed32f6059e1dedd95643d97bdd15c2688dbe440d0d2cb093dcc68ddc67488fd2c85148b9f591719efc4a8af2e4766588bf505b710189a7951b61d245cf3c8279b4e301e3a384c49242c05a93a888895cb849371d69fcec1337705b836f9dae60832939c1cf572f14f67c23f0394d0ceb8fa4655af292438c8607293041babde091c29428f7ecc137d099937676b01b9e45c222dc651593079635e8a8923a463a2234fc7079846e3e8f7281ce70957d00914d15f20e378ddd9b6a0c03ab9fbc1cc17b885889d26f41a8158a6eff28a5c16b47fff80ad40b16a88180f1fd822c8af4c902ac04582944373a4f34c44da41827eadb66ae1c3a753172292352287e2abd086c9826a2860df9019f7cb89fd1f8e99726581e633bbe9577b02dabf8da824a505edc99eb70a2170d70b8b94d2d10e2676a582104dafb896ddeca11e2f92af0559a7bec1dca8571f7107f634b913ac3732be17a9452926848ed02b41afb32fa7460a924e3fbfbe459dee9c875c8f0bda313b068a51ecc1f62f665524549bf134c40104558e42887fa00f9daea1cb658824577b12c6e7fd1c13fe6a35ecf7f4eddd8a5fff6fb6a649d5d5f9bc28187158083bd66a5966b623e3c768326afe5614f482bc7d84412a0e59a480d151256328731ad9480532e4318eb73a3eb7883d1edaf4225028608caf6e5e90a7ddc506455ad17f79c2dbf7c4b0685b8133964503cf22163177f5025c1eca923ca0cd4834bc254ddfe27c72f7da6f083b590ccf665ae0322ab3b7aa3a792fb0315c511e536103e85d891f3aeb162cdb28a41b4d82b68438c9d0332ced9ba700e98ec8c87cb91a8dc162ffa2dda07093e4b77e9369f710accb0123befd1b3838ac5483a77cf176e682f4f12fa88712054c37212b6d5fb42e6cf30233399950b6ee7e15b82036f3c3a06c5d09bba8a4f7ad98439465270ab84e1366c88e21a1b88dff815cc7890e740950bd5a8916b939ce9941b60c56b86d6732369613a92f43f27a619339ff84002b0db7445e7a141c56ff6e1eb20e52da495498cd46944a0fdde6f4ed644e214ca9caa76d5f8b8b6df121ba60647620bf137610d3ee55417692879cf7883393a57a0eb86ac24b506d6b69b8e4e9d774f66d6a3e371f9f7cca8e1f939fb36877a92c7e74410fe6a96a9fc2d4856add57fb6b2823d8b52ba885d96ad5cb4acf6c4f0e89600a0fd40b50147545ea3b9f827fc2ca33171d024a6cd5d09419c8324f60406b9e281e15eda2ccabd4d145de4ce90f45606ac0c3af9deb01063ad584ae5421c6bb6347b4f3a275dec23a865e7dc8ba3133e6f4284450dc3f4d18fdcc50b968cb9911437cdd488c8e433fd04559d27293af8b97ad0224ff7c3a64803572b410217432ce2d0e43598882c044aff4a72c8d32e05e9d805b3b126a46fafe335062788acfc9bca7cd433cd3ae75ddaa0e0a2ba4417b2f41e155dac95828411adc525f44d7fe52f9697230da0eb14b6c3f723eb496021a88bc58f43926997de4388f82ed984f9cd90f84a16a36ee6f7c1b255d0e5d9c7f081a468d34c17133bb8dec42c075263d860b48cc05f394a488f7b13b1a86fcea1c3e9b9ee0a7abb6e2a74e58aff358abccebfcd53264c71bcbc5b384d6b8eb921200f553e05926f58983672da1652ac2ec7980d4fe85c3545c18b75bea80d6fc1b8bac4930fdfc3e62a9e001a721fc38d3de4d056dcdc2c1142614c345be8290bcf869e47f7abac55b7b905532cdffa64154fa88e1aaf933a1a8d29e1135c79d15a5cf47b6690a17c24017026578f7ef0492756dd76acf4818c282e8cddc8153381303bfbe6e0932ee82ae0323899c945998667ab76acedf06b4b4c69941ee8ab956489da9536b8174083dc69c53258f66bbd554103d28bfc6a361fbaaee9f106a3d8d503097047c01e1451cfba6846d0fb548a22ad7001bf54f4eb538d95daf26b1e6f0ffce644620507a0c76268d39e5604f048ad003e347ce52f87b3ac996717e5872b9adb32d5df1841b211972b48e4cadd53a787711c14dd39b072a0fef9d16f2af59298c80f7db7ba0859abd336e27fb41ab3021d7b0e4d1d04b155d121558ff16372b279fcb6c2d0c435a5658daf8694cf683bd6feb2256588cac5f39051036e1e5987c581912dafe6a36bb82822aac63a9580f2a2f2b68633ec678647e62beb5c00e68ee499485510661ca25fd65da51742be2c0ff67db8c637559b04f0774d18375f43469aa7716b038fec082fd13393182f67ba7f748702180980681176c0d161b15df26dfdcd0a89e594ef45f4c4b4fdb6dab554f6756bce60d0e865e810bd7483f80dafb984c4430a2d79d71c3ec57c6f38d7ffa1790a8477b65dbc50057f3f40bda0b3309671017be9b070349578b01775f2faa31fe82ca4c56c76ba928dbf72414bd7cbe776e9caa47b1d144556aa68ebf0440e20fe85767f5cb7d49597bdf4bb0dedee1a283893a55f433b36b73d88c73acee3f0ac33d7145c3f0fbd8e8a42bd87caff6ff9f77e8158dc05f31d7a0e81efc1e227c344ff646db93b743a54f8c23a304ad6d7408d12cda7417049618ecf32992652523da0c10f32218a94746da07734262ad998f827d6b2fde46eeca302aca5050680ea834ffaeb5aa75ea79eea8ea642118c4aeb605a65e7b16a159ae2fede8f83f05f066f7f651b6a6bcc9ee1a16b61bce96127af1847f068ba1a14499ca29eaac8796bf3891999f984bf5e0666b3f694a40abcfaa0dd06cad348c9db8cadfd82c4e5b6625f40f82c52bf062b978f980f3ab99c534b0f9f674388523d361d3cfcd9129009abfadce674d79651d8e0abae52a3bf66664269cadb698b4762223ff16aea61dc50ba884741f8e6685aa0b3c449438bcf64380717341c2d9af1d2d98266a4b527d525f41725e9d6a1396ca51e70746e03e83fc0457e73f363a77ec4b02113340d57f686788513736e211b6d6b9af038e037db392a39293135caaec6f514c79aa68576aac1cd68cffef7464a020f745592811ed8947d80005f5b99b15fcf8bd256c1a5a80f7fcd4298c99c7efb453a91f074a013c42e8f6ce5382901dc79478bd028c87541ea0e3037cb2739c0efdf0f5067c3ffe82f2529e5f232d4404f87cfbfd0e28f97066268bd26fff2201ba2f733d2799d7d4ce6f46bae41f16f04b6b74a6ae2cadccc385c79d37d5057efb501f22642161d9d6f9be42aa74ed067128908cf0c05c786c2a6b1570075175acd2dde9e4f2e8e12f9bbc52bf41651747b86b415db5dbdc6c847fa4aee24478d0c228430241a4512d06d4d735d74b981a5f742062e19fe04b3fc9f07eed298ab07170d61f4e3b9d12e11748e3224b290a0388ed99fbf827ac13711453ddb43b03b8dd4cfb2b629e64ffd448d1c87c27083c3c5ba3558fb29ea95911219025f336f051a8b1971f3adefd80518799bc49fff0b1241e6c5149e00208d112257e96626dc6ad8b87f91ea72cf617aaa289e01853f0432ccc9c195edbfba006f7c5f8adca8ee60aa601e85d7a494f18bec6cc10a3f5dfeb292d12b01b5f7ec56c6f1095584d4000a860327303fe8cea0d1df6fbe528436fa667d1949d77089cf26d8d0896ec451629c03ef6a88940512604579236200e36b2aa399b8137a4b496423ab6407f1b85210df33c34b0a3ec5965c652071859d9d5028f3631b7ea3d5b7ddbee40847292b81a2e62a92a0895b3def6d3af5060b4b1828a5122be6f3204c511ee8eaaa33f4d4ecdfce332efa5b6fd9e4e498d8c115ee41d6fd3e6889ae47ef9cab7506a9d5f3049924f763c5ad189c7e67d046f89a715cf86fbb595ea76c7bec7e85a5ac4d928f57c0f7af93819dea0b6db2ba3159b2ac06aef31784c217f1767ec983d34b2a969af6b133bd46caa646779de7e806e6b7782f19068d06976ad5502cc228d915a21fdd5a13f817707457749e10b7dbfac965beb29659f3002cad762f6b3fcb25783f19b5f0ba319d5a42610312f58f955a5ce5fc39c6da95b7041aadc320d5f0ec58b45deef293c8ad261f439f056bc33471b2878fded64148126fb4d3d5651d107178ff1cd1297725d0eac06951db9ee27ba68d125904ba0db83d90e05cb58b98d0466315452cdc0470e2f752d6ccfc122415bc44be7cdf07aeac918a53afb163c5dfe7a16b276141e2dab77ab317c953efcd6aa562c0ca566e1c21824ae94352d07b33b128eb04a32bbf7aeebc57f0c54414a7c55a2ae630356c32b69c70e2f3075fa2a098c7ab838d53952317dc882518a0f4432fd082e9f18bca920e8fe5b647e646dcf6a80e1e314b9545642f549bcb17821b29757d10d584964e5eb80d507a0d8fdc7ee09a251d05ef6a74e2f636bed90a75841fb5a09e61aca4103bb5749781c2a8eae8bad1f782f56fd13d2047d9e169538cd927063102a5056c10c30aa88b182f2505720ec9ad7cb2cc9d8815163fff4a6c701b3ebf6504d21f5622c34ab77c2519104ab4671266c0bf97a8b9bc2efe3ef7c0c37b3bbd75ed9f2bb74ad2814e10de8285f20e1f6d0d7714f93fe9f261052ac0229cac16dba9acfa6ad97b7a93142ec344f03df8b3d16bf54b40c6a20c51775cbc350dc5178ee8212bf9673767e23f962771d935b74bc922aa89251a4fc8f4bf2e2b1591741c6296cc4bbea24975af8631937ffd3f4fc75cf2261765f2463d9fc92a957b3045b596f4fbdd84f5adabef099663bc334b504cafc50907546694c09cb2f5a1beb6aaec493e4e569e382b7d26e4f455b5fd88f19be0470d26688914a2eb4156b0dedea59e10609521d049122af73c2c87b510f926c0f925e80fba08146fdb48b97361d9257ec58b2433ca717d954c9b6012764178b70694ce94015db52ddb6a201343bfbaf20de83b668c60ff006ae747b7fe9b0e14f67397c76bd72da04151c028c067fbb646bd0e696db038bfbf67e5becb5a92a74c86b3a7cbd122adec606c84bebfd17434aa820f896bbbb0e1eba73d59fe4bdfe49de9427c33d76d35f03b5750a4eec0eb463cf209b5fddca33c53030b24bed203a3ecc7f8f264d11c476c492a0f6dce152a20096a8838028e2f7d65a35e3f080dc36bee18531565d265ecf54d18942057027108233d6a1aea682e47ec7579d811ea9f0f44b47f974c37c1cf4d6981379694a63e943afa112775d19299139cb7a10cb2580786758fa4f7490b3398eca214d4d5f0dad2b6f87ac6c6f3bcf1a490e0cc27c5bccfc5221dcd6b47b583f480c622497217801fb03e6d87b32ffb3773f0ec0ceb1af7894440bb89b0347883293533662fbdf116b114cf6fa90bcaa44ada70a40e872fcc613e5c4b3a26f2fdb6188123a874760fb74626702de24883c9010af5e92d397cc81e4f08e8cd7ed2535f754b185d543929af7994a0304ae201cc14773a6b0026a13d2a187ce36a2e7079f630f41fb523a7ab586e9bd82d4a2c032ef2168fe54af455b79db5a3109b3c50025acda3657f3480ec9eef48afcc0313a3a8eebb5b35b30fb64b48de87940ccdb937ebe158b9b47b1736a66e5452e950a498b559c85c40c7c052c44dccbb9644682ca32a6ffecd3eba5de633d32f906eb03f345bc3f7aa34031ee06dc018631af75f070bb780519fdd72214f40b5260f8a800dd20f5a8ee3b1ac38ab58e89a3658c6b00350c99db3038554540df27d65ba8812873220460698a8e19804eec8f6ba965e81926769e0d9c9f9cd728af6cc6aa9be8a5b636b11512dc41ad56b46257bf6e863020e18577c680bb08209ab9809f9de4ec70fad2c14e03501ea8d53c9d957e0a3099e59f0afaa9794b43e48762f49b62e89fe63ab5554c28cb875887d04a526e55bb2aad1737b74dce196445cce84737f90b7787c535d5579ac2130c4202da1f205f015d08ad2ae626dca1ed7f510feb3f8e5e113ac62b41bcd617bd910d77cb38177c1b49bf9e7d61a8a17e4edb1560b5e6a9dbd957da75064e4f1ee5e3d5f8f9ccdfaf93b8da20b2f01fe38fe10112f61162758493766fb35f7acc3440f68a71c2c390c9fb318ccb9846dbd74346b5aa7b409976951cefbcd4bbd290249ea2f13debca2225b5007caddd5498971437b8a2275b7fc396a26973274570a87c875062cf2277467db492f5b758a354026b9b9dcf87f77c179536c076b99a7b15541b043af52a4bbf709fac0aedece105d5560a6358aac3eac466e5029a665652e8c2cf60e41dca4462e64212840089d680c09bc5f856a468fc53c39709a8a01689c1624a5e7302b7db272dfaf74f13c286448b4a785b0291e2c95670c1e520c6938ef0233f09d1fe0cf7ce1c5d92dedd7147bc46c1b4ce2606ca4c1e765c119cde121432a807c32a034b726efe6f45222fd51d761abffc5c9d42cb76c2daa4f0ce43b656a4dd5fce8c22eaffca675696b403bedbea79f3bad6c5461faa500f9bb94ce6db06c77ba9034d0bc0f5fd4f9dc03eaeb5826c50516e175d2cfbdfbb37493757d57e53c37858fd94cede18d0443b7e7e3af954ce98e296687436c930b6c6b4e444b03bccf98e53c0c8e9666ee2ef02f99d97236a1a63d2d5bc91cd902a90decc27d5eac1c0552fe2786a2a5f6cbefdf60759700634b30ac194c58c98964b534f20dca7691936bf084fc7882c534fffe44f1c6ab03b257f06ac5c2f178a580be7d38e15c7a452910eed6c7ff25441b686510d6ddce9d302f9b85f417ffb08a2e63685626e3981c1e1cc1cbf534708cf24ab1656a3c5315a397116da5413bd78d86f8b448b9741aa013753fcec09c9416a3fb54a4f669d251da8346a56ea9c74cd9c430a4752935de5b2be24ffd55a787093cf2bc98a86cb9e30ed08beb85a3f6f477174caa81eef4298eb99839a6c186aa53d49e76ea8ddde8cfe7d159f6c0df8214f8c4589391deada977d1fdcea129eade394d7078521450f612baca0757651bb9377abb3ff3d2bc4852a0ed172ba4c34cc3bc6509618a4cfbb1c34ee577459a1e608f57a5203fb072cf2a5118e69b7e91d924a446ae70e63dcf4e45e02e906cddc187b976907c8b0abb456484a0c3d51337b22a246d421794736ca32b795f243207733766b2b1a779f38cff35ab9aa6763a61a312ce712770b598c0385601e4a894096dbf2f6f5b31ac07f6bcef7622720e53de569d5d8bb6ccbccd23eb0e0e8705942bd4f4a7166577b34e82ddfe6e09e37c272bf45cd8b2726717b24478328715f71ff614998e86d8e86c360c36a179281c9a9545db67887184b69640bba41d5451d96ce07ba0d43bff0a68f7d3909919042c5ccee8a6652149ee018623400758e09c0fddec616f21c286f0d30d07e4f25b6b272168432373cb1a3314df2fcc3413ed80097aab0359f494d545d0adb01051a88976afeed18d3b52f5dde6be49d7276d606f81e53dd7e2a0879c582e80f387a62fb6bf266f82c35a8a225559e33278f18c2383fc25ec3f6fa36f94fe181dfa9bab22db87d917c42cd32337f46c8634fc2c31530db7ebeb7030858c4f10f8a93c86fff03926fcb8976f512ad3da9adcc3f284ac45ad256fa7d37bc4fc6017ee55c324c788e9e8ef34a5018557bf9b706c62e7c8421213c517158512f138821b10662d880c4fa5f83c14b1d0fbc344775ab055292eff20ee9d51a0f8d83d9be10c49c3274a19a5f5d28bbdb5bc69fac9443bed7ff2b1916fe00fe40a20c0ba1c64cd0df5c0a78eb31069708db713a57a7c35e5c331a6a677ac236cbd703908420e92a3a34ac0d0a83ccffa712a064b651a185cad75f09949c3790c73ba6e8a18bbc8a9d2af9c4e7222a3557e5bf7feb95c35aca1aa15f68a6cfebab90fc7ee2d2236307291cd3d70bd956ab6b857c4d3ffe4530c207656775efcd098a1c75d9fa6b2bed6f98a2efecbea66e900075760bdec8229e8008cb87c23136a3fdb6b0d02cf4d89c0eeafe72baece58038a32fe0770318d7ab23d668897e0427316b80faa38b22410f557f63e9197c5ac92d0d519109c855e55fb65b250b11b26bd2a4e138bb1cb2d1a9eebc5d7f0b3ea3346638dae215cf27e05842d8ab02f690cd7159e87641773cfd19f21d809bfe61232cdb92b468d51b1ab9579821d1a9656090351c08f5d3413258a85e0eab8dcaed7964509f88f32a23f92f42d9a4a432ceb1895887697edee817ae633fb27325cfd1b5be0dcfbac5b99ad793bea81619e02d9a8c866850f548f3197b781b5854336600d8d6dafb8c256bf63af3348931d4bd8af08d8040d33836481f1f9aaddffc95e9a586212b45166eaffc24a2bb576eaa1b7c7cce8dfe60f09294cf6e75214364f56e365701166ba50534b8d7b3ae202fdc9695e6d483e25e7343c607324ee43fc54fee18d05b7a961b74bf3eabb287513cfec95177c8cb2127ecc0539c098dba6568278a2212d87443a6033ce7c5c74e4b4b660a57518b09da860c42b043f362543cd457c3b7a9a15925f6c9f5a7e79732df0e2c2f1d373795a6fde7d3814f7eaec330713172d3fe5133bc966deba8908d5d25e1e0f2f55cff228626e7f2c27d8fd16b60c0e937ce7fa35d9a7f6cf92789f0cc14b1d94ac4634411bf86d71f1abb5387030130f2a900a8253b5c156c4206eb9da9e9f22b990b6b2561a7123359076511e8a16625489b7f2274d6373b5c34fc24abb119c1b47127a39c7813cc14540dc5ba3340af22e0ce97f2d37e58609584e8c0775e020d8c4caaa0f630567d276efa40a7de339c20a8c14b53d2aa6b9c5b3039c3592d61c2aa48328662352927c4e2ab26faa7af22e524ef38d1dd75f09084378ab8e650f73ad9cef369f70aebc0832a0a8d6d5012c9d4ad02f7f6737371a6eb67764f5155fb0375ed59f3acff36346e4640338351bb5928cf7cfad1790196b55e368468cec98052c358f5dceb70aa28d7b2355e1215f10c01adb5d1b28a76ad70047065af41d959becdc090afedcce2dd1d8e7300e3df598f7ad7e83b74d51fa0512aea304763ed4a4ab4dde1d50f5b0b70f864d56a9f970211f1892fb363c54560074524be7906cc6c92d79cc9b20e7194c00484bf46518f4bb229bc235f615ef9cbf50fc2fa8ed0ae53aaf41a704bddb40e050410c3b5463fa64a72327aa233195c74ebe03654c6186c34b859ffdc481280435c276329511b8bfd01280288602c4e27495492002c00a8cde81114824ea83510a20152435bab107c4981baa6d81b2cb16b58a6299a0b26a64ee07a1f6be0292d9c05f6ea277d567d485cec0200ad26736953b2e508827eb514ac91a5156687834cb9d382a21e17c84e9428ccfd71b01b2f3e560196902e2f5999e7ea64963cbcbbf6bc6ac8d505e42bf136b4f9de5e05560bec6a3147a6e519a0932c76764bf1c246128d125e67213630b4096fdeb1beeeb76d24774efb0e22dee3e56c219bbed1373874e9d670e125ce52e4f36274c8027e3aa458761d4472ad0abf0aa6eaa1d558a67acfc6d540b100d06ec50a2de1eae73c9760054c44c3051c4e340dfbe15c5b9a3207e715189ccdda1db1815327dc6607d3c4e477991f0adc9e09e7a9bb5317b8271a2cf1f3caf6d2af04f5558f8fab4ff0ea464e95e79f52738fe075877416cef712fe22a4f57f4cdd2ff5aa2bd22aac14323e3ef9247a1942e402e67397a43eaa8683640eff5bd2253e0e3c47eb28e8cd35dd5be4147b80eee49e190dd8b4625d28e10f96144dab187e0de96bfa75a8b6d8bb9203b64db80727748d8a66c59e47835e42423f6fd5645f97958377c40d5c3412a5383f874500927bca64899ed09490a849903a21ad6d6dbf72275fec858761d16aaf47c46237794ee016f1ff9b785ae0b818cd12effda2e06aa424d332bac6d652a29751c21880ae60921baed2ab54091da569118b6b49dbdab9cb594a526edab58fce6cbfaec4af8de74b85654a24f9d8a46295e42e98f2a4fd35ea78a6c9b173963f60c043e089d3787cae64900065e87954fb1748b94a00e8cf79fd652b30b92b3461cb74912b17e975399d41c3c2a27ef4155d6a3d6e1a8d640e710e617fe480759cfd142b370f2323a4a87d3eec8052a10882761dddd9c1caa3750d72d9c1438ae04372161d76c0b8424354f895a9328d695371adda080aefd5cd02f928c01d096b6dc4f13305680a6d42abe2980d654456d3544e8628867f3fc9f186c78f920a87845b06c7badfd3ca4fd9de0df80bd7f8c3c197fd7de713a0e35b91edbe489228be320c339cec55bcacce7f02311788e88e9a5d0fe547f0e27c0e57435523d6aba9edcce6868f5a32f31a476b7202a0c1f4938de296ab65992cd2b306945db7deb827308abcbaad3342fd04358d6db13340b6afb1d9e70081d8c87f9c7b503341173ada3b3b351f9f0ac4a61c6dfe3bf7267ee3c2c247890ab1e371671b49b4cb8bfcd4276b9b3df90bc3b0d51c84dca9d50d09e8c9f0384ed8acc0058b091646e1264ae7487a9a82a04e35da391f554e2afc86ea6d02be59728c0ff6620458db109adb0949ba1cd1fb17a750db3f7a17a329cc8fdb6b0efb7fb5cda339a2bd01c657f28e2649d3cd413a64c7f2a535a635d7ee36117c83fddccd3c46ffd3412acc353e2de8359773f99a5b129edccebc79be545a6add4c7f22002be1a7a49b31b0df36f6d83ee248db4219b508676c26cf6d9153851f8f3da79e699dc3902d9b8392b40cc75a5a252c678bc6522aa0874f1c7c58e8e0a27f3b8e39cdba40735e096e419e177d5274f704bf33b84ae4622c445db0108fb8c674375bc45b3427c2fec589a443b9f2b80b9cc4b9430e98fc39695298293f0ecc5af83ee3fda7f6a944907cc5f024c44291b3e347e77776d4beb5bf17b839e60668fead3148bb72d896cccb1ccda83edf24c75043171eccfe56df1692c6e5672d24cd7408b41f2656e1a3ee1685e45e0eb654dde41dbea0eab3dd35c822495ce96a9fde8ac18d01d237e2ea5f6b4a2264e22854e9ce37e4fca10d0095c5d0db4d05141e46257de203666ea9a5ef89442d7ef8a5335d019d20a05be50bf1498e0b93e174be35f6bb52c9c24dea35c4cc32c68368067ae198e03ed3c177356bffa38c94741247cb860f7c62bf1b3ea99b8d94cc71bd8576d91bdc880452a933144fdb6b692be77fe3bf99fdfd5594cd1ee48e0e63b8033e75d0eae63022f81db6071e218fc02823fa36b7edcbdae09ae7fd6f67ad86cbfdc5bfbd0659e3a1f751cfcac018e1f3f2acf8692b2193311fc036f7fbb849dc266a89a68b7de4bce53ca56af88ceaa9c6c5b6fc64b5c45a7231dfa3d55b2fd4978de924ded73658faaab0add181eed28543e65b92fa0c8847f2a11b0f4ecd6a6bde4d098b6b5d0fc3dd82e93750ca421ca67fdd331fb61827904987774d6fddbbee8d17f95eaa5dc56bbe4762fc7f82ab7024acafaf461f6eb4c03ea66491d0c442f5acbe5a6d56a617ac7d443482fe13cf5da5b57761d6572f0831756f890a1a3cf607018c939f4c762a1e977bc3ff20b3fe365394a625aebcf1d669d557720d514ddb47b85e01ce034244d0696a173270f1b00a8e358cd885ad99e9a8d6689a9fd91a5c528620da5a5ef89ac6e457173f7662afc932d08da479a4189d3d4540ce3ebf3fc33fe8a6969efaf24993f37276ca181e26edfeb1512e491e32e5148eb8396ad97a65ca595a41259e626b8545d62362caf9740f1547f313de4866f6989640b0f659209f71191dccec1ba6339074e624c06dd31229488b8b462ba9a290c10624ebe9569002f16ea652b92f1fa2176afdebdfe60e0735a3914a609b8137f2d95bfb4bbdfbf0a7f8f0a2922fca1d1ebb776f87ef806c1fcbf885fc53bfdd19787e7cd263482f3c9a5ba196106e03a8fb605c43d95d7fb30a37065f7d4dbbc2cb1d88772862cbde77ad8de67daef2474dc215c4fa362ed82c968fa403f2585a374b9ac1dab2e1eaf0923fbca9ca341545a4f1e3d62bfbc49b36b00456f3f816980cb75451b80d5f909c687784663fef6418d8b91fbc322146a81284ae81a123fd041f2b9fa301ecf9ec1f0bc03a1b165fc9d7544fdfada34d4ff93df868c4b036750141a3ff1396924c956436639e2c0e96b0b84b898dac63158ddcc78d8b49f43a59df27c74353d18ac01ae64ec6bfd088aecf124964861dca4b88440fb0a3dac52c3581ff1d9fe67aa76059c5441d84ec1c7f25aebd8a5cad5d3c2521dfc85c80e6d50ad9d7c3e3f4be2878ce3a020f8778ae5e25b106a64ca9cf0a274bb06fe766a2aa5958968425cedcbbfca65c98f4b4a0972c8351c7d479360e0a1894e52963f50cb325b4ba944db11f0cea56879b81c744ff08a6eadb6acf1fd878a0791ffd09e7745ffc4ed69970aabb488cf5908f9c86b9592ac16150fb9810f9763bc591ab525d05cd84bbd889de7d1a6bbdfe9f585425660aaf94ca2701608f54aef385038d57715374a5638ef2f28f61c0edc765c272065df72cb36a656cfa1c1e2ea1e6fa696985aa48e574e9c326ed8d44552894d5219fa3927f2f16cfee653c115cbc98b342c900a95a52b397df8ee5b6da72bd3b2db686bcd38c48230c6d3041fee9019bea79cceb5ad7e7246a86b1d925900fed6a57223c58ac90dc9f295fa01897a7145858e42086596f9de6a3d5cba1dd72a3fd886fa7af43d9abe3943846fac45b743732fc34e900954ed03d1b4a58bcd3e55dce812f8f97fe1c24c1327959fd69d3f2f60d2b21e5ab1fbcfa3c86f8dbfc3b3dad05e9fe040114bad97c9ecaf73e46c219605db3879ef786de8c05e8dc9cbd3c504c48208117927bd20d5917b071fad977b285246e367519249bd442578926c390c232a20c800c7c496d3baaafd46c9e12676b46f36c62eb32995249cf6a4b7d89bef4df3c6bd198b6551e0bbdedd69f8a598cae12b5d4344fbb7715b481ffa35d62f92c99e7bf972aeb32683d00e71d5c484f6f5b9d2fb94cf3c1d860c87ec2470c6ddfe39473ba6ec0994fa8557c9e5daf1ed5ddc061115896bd4d1d8ddf349ef8df3b90dcfac88505a9f734fa397a06bcfb57fb6520193eef9e4db3da18364eee2d0176030112b0d083e313f5c915a69f685ac7e8f466a48ecb1ec0b0d921456f1362919546261e3e95f2828122fbaa74e650c1074be429350cb47a953799c015ec91999d7a16af3d9d46548f9b42a3f435e4ea1e741af5c271c3c964b52282e6bbf9ceccf4d79d365df0009a8b16e35852c544eae565d71857829c26916d2d469b60186e6977f54b19ea8ea7b1db7e889fdf0231a027606663fdc839042b5f7a32fce6ed7fcd52f6fdc33d9b1526205e7d0c79fd6368dbf4d84aada806044280d543b482bed79d54532667ef77b6572abd5f64f549e467757278632851819cb05fd06dc5188391a73970bbe9c4c11aa024e3c89d5ec9283b5c81040b83fea31164a0ffed1a32141b9a1519b2e2606dfe1ae8f2d9f903a2a68536365a07f1b7781129fa28e50081e525a212ea4268ed342bf19b12da8b601836ef9e8d8452c31798df79e7816bf5b02d1e9272fa04cb16f09706de871fb1bc024c3236fef08e6e3605fda7d5b7387a51e96b436e05b0b42c24c4c3d21473bde773b04e8b46358b1b9d539a17edd028872007ecae582f6a496c5a57ad7b661764781813e2bbea4d15cbedb0788a60278d96853b48e658773ee9ffe6aaa8076f6fd6eadde8a13347bf7e447973968f286809abccbddc62c757063d7b5d620102b1764ce22e18ec255eed603444461be01fbd98027ff7f183535de2e4e63bfff95ae70e9485fc7b98a0abda1492b06d7ae09c81e553934700f05247b18863b80ef361249ad2192ea4ef5a3949222551546bbf30c9c379a4d7b9366193b5ca09fd10839cbf7a595f7873ecf47c5c4f093c29f8a5dc3411ecffea4002aed35bda335c7385ff079ebf00c734a6f230955d35d8a49e070293b080bcced2fac18285b71d5fd5359bb579c7076c6f2ad06db9e3886a9c9f83d904823ef94dae7ad85d7a8a2de17167a5f98fcf7e2a9a20382c3f49000de2973436763950aa10178e65f9834b5247ba981253b5d289a593605b7d8d8e59def824e61129cc3e87bdc5c5dd4d6d4ba797d668091ea012fd43a82f4daa566baf787671a60cbf3da87036404993336b90a8a5973a98cd379253d9ee51feaae792b82429dbe8d72688c3498d5748cd2fa3814d186e0d00c8057f39e958e09885fea9f947207e667519a1f316dcc598c6880f418d95007be15a9995c4a0aae2f0f5045bf34001522e311ee812580955a36d2c160fec6d5d6ab84c675f391c37ce4ed3d2c533b69ee9c8fead3e047dce954b6008ef55344c16e5beeb7e89aba83ad0c08bd893ede3802a7ddd8405ea90207bd13d369d13363410f67f1481104df9f8dce9b26082505f810bca033cc573ea2ee26be5641b6aaad5332e58a2ff0360fdcd1c50df51c30f67df5f5dded1f2a863fd360c35c63f2108f60cff50115906eca9d646980dbbb8ef651f0a0ff28e544c40505043a32580d222bebea847fd645a6a3e549b55ce8ccd34e68bcc35de30ef5a5843cf4e8b29c2572698dbf0a44134046adb0b31a6912b75f67c9ae81e8c2e3f4eb883fc1fa94ae6e002a2963d5e05ab79000c30a798cdffbbbd68f147aab64f95bbebe92ee834d14cadb8b9d0cb8823cc0c43e59dcbcca6420253f9b0e77b9a8047a9ddd260db85c18b080f504a5d644059b7c7fbb0e1381b3c233d98ff274e8d4edb852932cfd1e70911b0c6f3f9c26dbbafe7d6a1a3babc0c65167bf36f2fe191b9694e359f28c86145350d92f3e955ca716ae3dad6acab3f2800159676fd5594fe465eaadc78a3c795c4de733ea52e9b6c43d35838ed4f1b660e4fdab836dfc7cb7937ca6f84de117d92bf6651edc39533f52b4c85c17cec1029932f3d4161dbcf9c66cc8f380cac8a50cbd8f0d93a9a4d83fd012f75ccee9bf09e18b35bea20c7791948abc145074d964ca0a321bc09f1c3cd959c737a0520613d804dfefbdec9e9e47a746b126627907785b759ff9c84c3fe2ef9d85107c67a1829907bc9e4c167e402e11aab77ba2e8de86ecf1c4d82ce49e6f6e059e2ae565c6a26a446f67b7e2919c1bfbeaa896e46f3b1858704f84cff1c4b8f33632977c3c506e34605fefc19e26ebfa49d4d629e3f911cfb8b225b07852dc0961a7613a1e3a3286ded709d4a9b79160196f80b191f0c8e1691374cac6f091fd94407b8f4f62202c4a909412f73f364ccdb5b44544fa38e6ea49558f8f090bf2435dcdcdec4aa9a0f4dcb44ff38a3837e8c813f5b5ea9b9fdef986de785b5ac8fa48f8e9407850743a1ed0781f84e7bd7a5a46d5b6908be04008701b991436475636836782554d6d2494ec9c4d437d6f9690d5616b1089bcd4af4cee19f8bb2251a80e96d97e6a9c792a4ba66bd2f183c47e71a11af85c18b9f27660be4ad3bf275977b89ff5fbd999b1017657b798fb0c870f5b0fe2232453a898347ae7700fb6348d0402258ae4addd4ee1b3aa138ae93449c1b0b38d22967ba9425f31697d1885be9772c7e24ac0fba677d76b3d708f6703c671f963ab9b0563780c0d7b94e6be664c167dafc80eac72b6cb9175bd24572cc4e98f72e95df372cf233c060dd38436235cd44ec29b6fd9a7b69ff2b40fcc6e4806b7b7e4303c2595fd0417f3a954300c33bd5912761137d9e3cb776962058d66aee2aef9e0163412e111fc97877d0d7b5c266e9de4401227e1628f044989ea949537cf6edd53daaebf7fecba4642ceccfa6b00070067e5f600fc9f93afc323480246545f887106aedf5bcb8072e0d32a109fdd4afceae6309890911bb71d0ca6e4b46d053ecffa031c41834fc58bc5e5c50efffcc304f7cdef6b60ecf4fdae7908126900fc10dde19a17165a07e2f21c1a47c8e5d8dea6ffe22bbb0dc451a5d4f95072c17cadc1eaca794934be6b58ba3ce2476f5369b25fdf2fc760daa9443bef7ea5d4ecd72190db5da68d03fd5f65eb8ad34e7aa0b913042add2f7461ef6860c9dc9e1c0efebaad281fa65d97e6eae1f1001370e76b95851a33ae73a07b38a8e2053644284aae44fd72272d9479dfd7f503a79365b62b70aed6f1126d6b2902809a59472f6505e43a110d25bc3e6f270f0e7c7e88fc033bfc2fa9d7914cd794deafab4a2ae159be209630e69cc556882c4cd1d90ffca3d298880a9e28dee189c84af0a223549a99e6e6831b759ebf79a23d78ccf713909c4ee28a839743364c40b011dc9b36bd710cfb4540dff3793fc7edd0809186477bf7ee27f1f68ffaec21a8c4801b65df54d67d6d1ba96483be261697849255e2fc9c37e3a58d43aeffff4cb17dfa5b9a3324fae1ad74ae61bcc6a9c32b4af37cddd59e4b2818471e47b4335a5b5ea82941d96b2f548397244a3cef3123a2a5839f47a1f268a50dd0b94cfdf443e4b553d62e01b9264e03f924f305735d67776bd9d96a2eefaea3061387cc7052c1ef662d20adf2837a013d7aa9094879ec77c55279d023520599e630d20a5916a3cd4b81d874534418e6d215856fa66f81cb3aef931454fa7a54cea6fe0fae1e984d45c2f5567e38f503151ca190231cd4f2ed8d4e9fe4545d18ea111ef20111f6c084db1ac6c88ce6fb56c1210a0c027b62ba79b21d47ee9854330f7ec484afd54500e235c4749cb9aaa214920dbb0f7c3a2d1344ed748ffc2e493c0552a03e3aeb1b9ed7fc0bd7bd338601c8431fd4d4157b7337746a57767c53633f9fdcce587f4b373f8b909acee09bcf1f7ce69f369fa66be28acc09f3221f608daa197826595a178e925e78addae25294499eea5e0b32f49a5732c3b19a987df04c1b3adc2b87599530e5edcbec72dc29a0a2d1d9bb2599b385416677187dd9222d543b1bb9f23e095546460bc19f81ce9f0398438544f12e47e815c209ad679307e07218e66dc2700b32dc4ddf90e281ae5864f604585ff8d7d3f1efd605f69656de260fefce851be17a91459753483b922f1ccb4e111254132c678ca1eaeb7ac5ec93920941ee2d61e7814cb34a0eb218dd6071dad1f0c3d54860e1f46a8ae198c7f3088f651df18e1f38bf9eb889f9fd830175b39d81962328a4f1ff63f67c98f5ffcfc706aa32ff33e40074cd74c965617a35a16d72edb45ce8e74f835271c9980a307cf007fef2f6e6b1375677d5ba018cf49265d8e9e83774b69d98929ea7d0e1ab793bf5c2cb640811377f26f55bcb7fde611b9d29b72cbefeab896bc9e48c36956b8c0080bab042cfdb6ccdc5961719c996366fd836eb1ea60cb5e5921fad584b4b774bbfe91ab433e63cf606389b589a796531e7e22eeef5b2307832b8a278cb741c092bc62e02fb137490d28af659714dde433d38ee216c2c371bf2a19ff37acd497bdd81670515de403c2f393928abe609eb4322d13d3e2667acc831f61f1871a26a8f076d68c8f5fbb82f7410c8b1a0ab22719653722574286cc5ed9791f94c214ee0ca09ede81cc77542be7bd8849ba9fd942f14837615e1ed91b0c08d1ed19d56c11365e61b528d83dc1a817d38b2ad578cd9244dbbb1e7746521271b35511262cd2961a0690d5906cab878c1b01693e00fa3205a83d2d74217a7bd437d7f8dc2e81ca5e261998265d22ca2da7eefa0c1a11df5cf141113e67a5013b4d7dc58787f1564754b1bda162a712685fb465facf0252248abdeed12efe93371af059963422cc03488ba54b566f78e7239f332ef2b3f5d815d9af69541e191b64d8802f8db5b43f524443b2e61d43783d38236d09c2047bdfafb960032ef93a22535cf821cff6ac917983540be25b4e097bbb936222ae38028029b1fbb55b232d12c087fe62c6c5dc1b4ed3c341143b3f707b9f4f2b5ebbbf6e480a7325cdcd14aa77feb7ba6952f9fdca21c8e434328f6b0d38d855","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
