<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"534ce7759c6c02a602b9fbb567a19d5e9fa6a817daea8f1b8ce71ac4bb84eac5ab349dbfcdb2a74f3c8d4ee9727d4cfa5f472d445764c258a1ff24d958fb25f08db21730d1e908102aec4657ba14c6d048dfd0cbc2ab02ffc9716ab9d1cb116269bf89b98a7cf3ecbf0c36150c336fa9de325606cb83cb48cb459e3942e459aae89895a3eecd2de323faaf17c27c03eeb495a953b6d2a9400e749d51a972123a6b5fff6142a05949a662d30bd3978899c70ba9307d855fc5b478dbda9dd6e2cebedec2bfa940a29378ce8cd3ddf9ec4d5a556e388095aa4dc26413dc8c6b5f810a6d6ba0c82575aaf3e12e1f3b326b61dd35d0b42905c0c38a927c33da48721b737fe1aa6311c03c064fc1ff903b3bad7c4338f569df98fdae459daf4c5d8bde7e493cbf5b343b02d1ef411c5cc429c959d6b0a77ebd38a45ec5457f8dea4eb6a2e3aacac7f2a80ec1aa91873e92874b731b2ec0167c233e04d4b06aafa928e77c3267590437ebd68920067c7a8ab3da28acedcd7d5ca7edb79aadd29f026b36c901a81f907f0125faf51a72453544e9cbf83902c4d2e0996f808f16abc1e2431d3f9742b1b6477ef227f3cee122b648d631ac96d407ece8128047fd47787b20ece33eb8d0d339645c4626f83e0513742e78bfd9fbc0fba9d72d25c594ed2e72595f0cd03dae0b57ad12826db7b19d595be15b8564a48520a9b1bf83db266f3c772953d9256a6d3b6c22991878a3ba2c3bc29789e707a763166fb459ceebe0774a049d1ec64036d3c675ee7f88f3529a9a8b771b00c77942fcea731013ef31f99a60780105114de6271eb176db55b45be48daa53a38693573b9fe47fa933e7ad67fc178a5750df439baaebcff163fa80d5d1c3e0abf5ca60a131eb7274b0fc5693f3a662d4a3fcb55d05c5e8b13d26957efa1a63d777bf96f839c674aaac922c1fa52d9be1282273873a5284ce5755618dc9ae198aa51841318d652955f60044b1b42d0780b62bbdccf13459614be24fb840af0c4bccedf01d8b353c4c6e00e4ae3d104b64bb116019fc23f2d3736921d5bd627bb1ee4678d01433924f6919278ff4a8e0d51d8375753b4046eb5aff0766f9c515674a3db01646188470a55fb1f8163dc4bd801c59644c96a54b8e55637875bb8da157d166682cd88a25781349f21acbf20dada2daa8afe14988ff977e8a2b843bf720c7bc374211a31c286e42ff7e8d337c55bc151fdc46675507af7c8446ee54fe45108d13358e20f02458d710098c2a97779bf310d766d0a3fb4108112ff6eff0cb44cd3b3a573153ae00e41d558d75a4c6e28c8d734ef42e6fed8ed9318154b8003a511a20b978a64af63d56b24e0441818a18ec88c9472ed3c7ecba8165923911e9b7e117ef72a0cd5a175efbff7584ad5dc296d87290e4d007c7f4145e8346c56b2976ff7873f1c80884a84e3165d5475a6a28e05c400798161da45550e3ac5e034c725a4f6493e3ae3252add5af594cc2920fc2f74ffa03ef750a7b33cb93844c49fb6b0352bcf1426a16a8730431390f750f5fd308c76f4c51e589aa4fc2ac8062e63e0b07edffdd2448a346f30420fa845f7cf0b650ed1a81f6594b910ffe46fee001237be218913de42729b1c5286dfeef00e1d9b3e59312f08d7fecefcee560169373b9fe99612d4834cc4f083c8e26f2979bd6ca657985b4a2a543e012e0620500d082212b0948c4c8bd15f4574a95833a6ab6a33de61634b0fc951650567ad435605ea5d6e3848524e855311fceaa7dfe6a2a1c618f3b6a66d2dbbfdea81016f1f87eaa9b30f4356c60a460132dabbf235740c90e6df3c08d49bf6f929cabe0a60a1ad7769ae9f149cde2d1195e77fa67f71531fea5bd71c5680396970f72934641debd93eccf1c5d31fb5947e10d4f68a227fdf418f36695e3230a9c048447d757b3bd8dfb9bdf3feaaa1601da9f5601c5742cc2271b8cc28669115d69064d1e1aef51248d32727ff71dc0b3a18f9f0925b22050592e038293a05fe7b29a8c0d63d9a360bb21ac17df2d80872cddc52237bf0e6266d6af3a1858206f2d2b7991d5050729ffb443433bfce7d6e40bf201e58bbbc5204fb069a92c178ab125ee038cf555a8cba60f3c551735cf85744c09b956ff8a35dbc9f6451d846a9aee298aa5ee980a7c0b12beb1365d9f99625213264f36ed057feef20a356c62d624103e1924b6a3d73e32b24f1fbaca21c9453c32dc2f5b4b61b8f101eec5a4a657e2cbf9e99481e7e0350eb259084c8fe12579c6fe99d279a5a7a47d32bfb5b346dc33b54185bb6d2a80150dacd8bbb7316fdb8e951ded09efeeae910752e8a07c165e9839ab0e6b29ef1c8b549a3b51750dd1c71c0767aea4013a3ff40e54c509787817ac8704baf3df1fc5808cc223da0e4493f06a762931bad61aee3b66331d1aeac85c29018aee28b6cb6f28a41086b7ee93fbc4f7ed1014bb0b3ac5fad6c35cd198a06c02ae56574a0931579863b3b84ea37574c20cf8944b5dafd0a9536117e9826123db8e9ab179248435dd0a4cb74e1b5cae1faba1258ed89d522d1bea60a238f08ea7b0215fa7f14e02445b9f50cea269b76af121172e6822b353530c11f49eb64296d14098282ac90a74ea674eac62efda5a54e4757991e2c64931058aad648e05a139cb0e97d8d300cce8b1aed5bc5c29980b5d5cb03a531434d755cdef38db78963c924e4852572454679f759dc31fe48853a9c9eac6c60c37adbb4326d9823ee57d92468510d8842027ea4c3bfb517594e31057303db78919fe278be45daadda4845bf32c76f1f4d8068d978cfae730e4e79b26b1c6741e69ec2ac224475303c303e8b96e45a885e1017b5ae2817e70beeb501a999e026940a4a6ae558b7e4c7f10260de68443892e0299c9db68d002c1b25854a6d57bd63d9a74209865bd108d75e04a7fc95a4dc12e54200c0e8d0c94813297e7569f0772ff1d90eebf18c74edf0d5fdacb6ff19582ebc61105a9bd5959f7727e3a93c8760b44946ef5f71457968932c068bed927b1d1d32a43d5e765266a420ebe7335bafb82f45ed7904e047ade73e1879d92305b72d413127847ab5c426c7c1a6a8950b262e35b3c5504dd5c494c62f94807569c4ad07a874827bc0b80cccd2fe99c3d7b5a6255f553397a7771db333f93ad3d2ea79b69e0bc337327f92cc2fe6ce904da305c78e91769d5363dabfdd83f7869d117dac04be6f309d389be7e46ed9bb246622d53ae0e47ba9ca608b624764b91c79769163e19488ac0d9659d53edac0fe65533082ce4ce4e933c7fb954be34cbdd02706e5f76415c8e3f3e9301ca20c0fe9aac9c089412f63fe426b2386fcc40ee4a928a010e59e502b891075696986e74e6f01d822c9af023c1ef2acc100d5666278cbf29bb963bc054579767632d58bd7d9fc0702cb180cd1c24207994173a305d21c04476d75af93f4634d5a7b51c6378a48fa0db0c324b2c69a3b77cb031917b8780ede4afcc933d202880352273f0b99dce2feba697f9bd3774271da76b9feda2b903613e5affb5d0507478a50ccf59a84d59126cbc8eeb636ce6c5875faa224e9bc9faa9802d35a850181bbccb0df12912aecf4f9c392e4bc94f73025642e1bb11c25a8f9c1ccd87b24ce8d28d9bcf3aa33678acf542fc3514a987069617dc9881835db99b12b30763a7b893f0a3f8f753a1a8b46138a2208aad35ecfa5243a176453215d355864ea5673a4017eaf13dd417ba9ff8ef0763255527cb949c5a7ffa1ad0f13156c1c78642743a6e91725bcfbc065ede6438d25e78b75c4ce57fb549ed2eeebf1ecd23ae018aedd05322188df37db8b50a0acac7bb8314428b19f7a5c73854da3817427ebb30466dd26f8569b6368912eec35f92e08d7844dfa5e7f9f528d1690c3def2c786dbdaec935e8e99f16359ec24307f9d73be54ed986a96b2aa3b27f4ba5a313b3f2a3ce92d399e5578089584a430ee12bebe35c0eeec7b2b9fa082c3a4e3af5b40621a2241da4f194b50f265fd4904752609b0f003ce001e8bf30d432d126c0239af2233720bf5df5201a8612fa06345865efcdabf57ed9c980d95fc335ea4710fbc0a92adfe1240d1c013c50ed926726c7bd76800d3f379e391ee721c9e1f1e34b334916355a3307bef74b8e1aa59906f4df31248ad9a53fbf67abdc0c103ea0957e1e6e16089546dfd36dd14bc8a720e783163cb2da7875a1f8bf9337830b7e895d248499dbeaf2ab92ce543482e9c8a16ad17c6490115bf9549f2e553434b6c93490043dee4010a76c9c7eb9232d7b2ec17c9ee87c55e63d64fe979db91bf27258087670000398cad0fefa99517779bbf662b4d1ebf4430114f9e0075711416b53821f7cca5fa06d1ba3f1c41408b303fc230c296b25d8f0e0ae8f70fd21edf9c54dfc0b9acca607cf00efd49eeae94eb3904974b02458a29ff9029e12a21f81c9041eebca5b4087deaae70ae15e2d71e9416f1d60e0fada81ab33b2e5068875224c093e74d7edf97a9f15930e0c35f6bc2f817997e94be4786e45d1e6e9efea8575c56f323408f5e8bd1e29d5093bb71d36cf3ba42e8ced1ed3f5d242ee9131f9270c0e01d002cad061fc75297f59d25ef7c83e08ede5d8c4d97e0bdf215d08dafc1752848a875ff861c9e3d4b02c9b6b1843c2579877312b7273bb1d95570924ecf31dec6c87fcd000727b0820c6b7cb857cb6168fff11091bcc4ea1041dc822ef549db85f4d854d562a770ca513e684a8cc376a65b95564ffa793bf89c2fe1fc6e0810657d089ff7f5f8fd1aa0d674379a06f85713ab0d9d26039faecb159625300272e20b1ed1527d18aa38e8e82754011158372608c83c6da7265e5c31e0449b279eecdc66f8b222d3cbf8cbd52015409afb6adbe7888adb674d2fd458048ceaa2540f20e79fb157ccc9e50be7630a7ab401c31d7f5ab406b7d9ddc8a4209114402e84e2fc53941de68548f69f46eeaee10ce09e8e790cff2327d8395ba7e4ce02487f0d178b463823810fef080629eb5a3bffd89d6d39f1467461d953e3f8441d7b299ad7fb43580e7a9c54b3f5797e911efb4ddf4eeb38f9a6190bcb5be55566a46cb273b743300c79d42b0f341a0f9a49c7bd4517a6dfba0a4350966f8b95f62f8dfb0869c4d6cd804e2014153edad213030fcde2eedd969c50734e25ade969062b4dada85a12e9f3f1f8bc755ec3a4e0346db013ea2bf312c9af09a4903a3d4730c491f1c8c1b7c8e1a91f14fff8bac6230baec3a3439e9bb713417f53857540ef74a36b00a67f0de4358d1e0397662d843a63c92d3dd56c5cc1824c2051bec8cbd5f27e498df562663c02b7a9cddff5330cb1949981a6c2b4f6eba3df376f1993677f94171f99e982b60d0acc41b32b5a3b6729a7a03c6186ddc743c37523110880b24ce09b765e401de96b573bec70dcf06f8bf4fb6366c4039beb13bfb1cd722068545d9a9b57239bd1f3e8a168336b081f5a905bdc567dc81354ee1fe56e42a423e2c4d3833595ae4550d807ba8ebe4a414258d55d720af7ee26db19924d8599d38e9832ad4c8c18a7b285ef8ae369f8c60018d8e701fcc7dae150cb9180bdc66f47a35b2f98dca00c0c31073f7350c7bafad7dee894ded4aa898fcdad8320f83eabaaa87e453bfd54f9449c8144b8c561858af53091690c96d204552a2c7842e5874e4a7cfb522fe51d2bead33d6f944f28167108680f483d32d244ae55d2d7124011cf67e3297d3040b7f2ec1074e1faa59319eedfa91e8f00c7f691ff2bd94aaefa28d4adc531f8ca2b4712f374af4768a5c91466d0b412bed8fcb53bd86b477b5a4dd21e5119344295707497159871cf56bfeade8dd0f10ca35a67aec1274ede0a8bc56b0d6557457f227fe032b1982212dda107ea0eac03b4bb292693631edad605a0983f331508c6935ff2b293fcf739d679e445f13e158e03f95689849b6b5e2e2b69ac7a857db53bcafd415440cba7fe3b5cb2e78fa8cdfdc386d562bb128aaf0744b6ed3d2ea91b7a2dc492c31baf1e0f799a8e02a8563d863c19aeba84e799226ed104e55342c7ed22bc98d2a26543040d4e1ca7f30e9306326c39019e6a1c8af08b656d107d3b0599067b3d8c922111111dc35e1fbc34c12f3013570c4621d694ce3ede06481c7bf8fc8acf26c12d213336e0c30e082877f62751b49d1a26288ece5c37e3b4b2f02b9e4072e5af186f53e5c522020f532497b51b6208574d99ca67157bab4748f587b0fd9ee34fabf983d3ec4bab90fde52dc82008ae1c98ee3c4686d392afb90579561e42c41ef8e0b1c9a4c63d8f51a4a3cea5da8f4e0edceceeb523ec61987a00d822c95ebbb02ccd31f617f978551259ed2824941c31639655f14c906fc513cb3ff3f1cb58617a1baf47d696cc473f3de4cad8a43597356fc6da5afb2de9321d8fd95cb539940e0d7c92a23730b8ac38d7c17220780e726fa590f37fa9c2a89bcd2f5789133107e0fc3cdec41b92e55fc68dbbe50d0f551cb616f1c59aaccfb9ebd24505fbc97f447247a6120d59efa5dd8497197a4680d17abefb29b1a006ff458641c1d551aa9182b12cf514c65448ed5bcd90a9c030a6bf2469ee021c883ca94d26a789ab2f03ad86fadd2e4aca6e9fe1b5d5b8f8ec67b0b23392777ec33c86c25faa5bbfeae883b5c8abb36343c33d4db2257af67dc4f2a22f6aff389f4eef6d798811179f9ea7f50fee8db614ca51d7125b8fc64f8a45bdc4d7f7e7a4af2defa14371035f0dc02865f3e4646759a3af6daf944f89b2b26e7c690a8705a04b2091b5bdb872a613124f16c2ed632d3e992b4734fa3a73985de726cfcd84ee9795a20941f98186a45c595508c1b191dbc5917f9dee25d672fdc5a8dc8db6ef115b97c8fc33b43e1d3e213c2337f46ba4857d8c6dcc75499b95a32ed284976999a46d0898041a232a19227715f805a8530687bd715d5c4d9afce513c16eefbf4fc90cdb4d31654ccc8bcf2b7493a276a1c4b6a10eded4db68580aa031880ad4948a57d7e515c6171ccef1bac879e2031a28629412b81921617b39de5e3f612fb48b6be0f1b31a735fa5da75865856ea3bf7005bac93e01af0f78d5fd72a5813f267d7161c293809857325bac86fe3cb304213016c01180fcc15e6819e795088d00b16628cfc40be0a0f43279c671268b942a3147a9ce3f990c8bb71833fb4a77971daa08de185571c41b27a984dd134bed4ff556f2e67fdedf5a1d8ce8567386283699182d5220452f08e1b4cac414468f02b308404e4bfd3ac99c273576472da5fe1b243be2f93bd116c251e12c2c47c1e3e0d62195ea8e9711fc453b1405f14637f54be6edf5a251cc763d514876d883a2033ebb6562903ec010f19328a86973fbc2bf0b1c50d284f185103067dd0e8f395a01528849d68901ff997832b069c54ae13b69d0d481e6780616e7a9f12c2cc0a921afd6e1c2deca63d278e3826a87372ad6898b1fa8435d4b34c2894b49b6661e138102d25bc4d3c35e2145f7cf054860d043103893c0d27ac7d099bf4c86151d0cddfdd066f43b17f0a035eb6b19628b8b06a53e7c7cf797d793c2c6fe107e6d0c755a9c5a79831d240c121ee693445a54fbb0821d15059b7fb8ceb7b2f3cb99e60adf4e7e2e3742be2aa7f123ae0f91c27eb9c3728656759bff5602f98b40bb29485bede5b6b367f68df64e916340738af251b5bb0244dc534929f692dabeebb44e7a61a20b67ed5c6cc4551137941818f98d342dae8fd8c180bf555fda4b337451811eee35c8e7dd041239a78060624eb607322d479e6e11c33b7e0eaf033d08f53a747039501a3e3d80e13fecb55144b9023095dd74d18d8114b4bc192189add81146d291c0062b3a1a69a251be2e680634592502dde8a0d271a537de4b53e0b0c32aee0cf6fb09c989b2900b59c2213a2bb14c87205a61e9ee8483c2698ce006759b46da0625c0e5ce1b93e019a36fb15896835a45e57ae18b83081f7157678af2b17a324a7d9dcec59f7f87fce717b194a9b30e1c7b43fbdf432ea1d7780e6375d265ccb4779e9a63209d0008cd70291d9ecdf862cec72dc632cf776d131ea7750f40f7103a7b20b8d437362652f1d2e294552749cf4897b7aca5c3e533ede3a536196278115d1c1a70e727133d8d2215eb1451fffb2f94d65be2d7cf772cfbd7dabf64df89126d0fd874aec7611acb50fe25244b8d443f238afd7c22a8bc9f28fbe14efca43680322ec69e4178156ba36ee49781ef25b8a2b27bed3f49de9cadce8da1b130f313c563954c7e5795455d848774e06e18f221d2435c7a105359b7d4e6a7ad6b50ee5a6de27724973e44c219a46a3b00ca168e2e46ec798b0f2c5c0886642233d18d534043670778a3cda01433d1bf900905cfcac7113132ec822844dd3ae5fd9e33377d66da3ed79cdfbb386f9bc7be5513b8e748bdf6d3bfe45e65e777d6c2786df40fa75d22ffe7e66507ec92a0ca2f419ee458579e04379596d592b9d388faa39581d871eec2556fdf21acea0ad5528b8a5c688bff1287f7a5cf72cde499a98dcdf9d18c9f0cafae03da5fd85d18a37fc8321370cdddaee62a7acf2b5948c5f5bb959e2c2f258b22ca3ed144be9211a0db34e5ace19fd130a0c735ea23aa019cf92ac02ef0a2d2ff43234ee51fe6df4caa8de476cb820c33bb31871b972795a41bd9149ea7a20b42f7e10fc865515390b08e03239d159ee5bef65dda219befd2768939d72ad80e4f5e25dd0d5ed75c5f40a2a226b53b72ccd789a317ffa88b98e1fc416aef9391d2aa8a92f8182d1c2e74a1b065d0181d973fd935f02c55bdc043a079f08476d272d8b03f919d87de8ede0223e570803e55329eb2c1b37dacec4489c1756da14ed574eb9cf8468a2a57bcee2719a8519a2b946cc0ba12bc808469de5314ca56a271fe94f75a4adb04d3021feac202a78543a33ab2972b3c61326af22b0f553c814d5d865250b0e26e03086b33016ed5fd46b49e3f64fe7bc17dfa898ca7cbc0f33757bae004b79125dc7e0b436e51ff1ee88529df3971a3b5924a9f2e26111aaab31800bee9d567b56202d73c459f3f6e49825c20320a9e7f1c2741648060427022e1d3ed0c1f200f3e4c11afd3f46dd57003640d04423d88f2417c12be65eafeaf5c98deea57b46451316e2f5e668efd4f5bd00278931af8b250a3b9efc252f76509335bf702a54a1d1a95270312b818974612e5b11c9d8cfbc7779c12dec460a78708e99440de53cd0c5d10a9b2a3c21e44f71c0a18f300c8bcf22cfb3712a0bc5d2ae8da92741f40183f5444a3571f20c502517b7595dad4518c08a3ffcc890f51df0202ad6abc23dedacaa94b28f96d3be6f817a700333f172b56b44e42317569668a66650092846cd14aab29da6d54e9f519905b36a468a3e04ac6f48dd526f956bf9dabc7f667b743db74e2e9342ddaab35ca75a0f9f46f868239449d284c467d864fd6f0a48009dcf8f2253c0845728ecfc693c8784031c55417215886e94c2c712179b55891b3ad99cca053b754ed8766fd4ee10af8d44c758b9bc5e6797133cea2769c9949b6a26ea14623b8b48715f3febc7060d1ba59a2b37776f54153d6c311d7d6c34d353f8f101b6ddcaf85b81465bb1e321220e4adea259fd0e16211a71524877fdd934b6819b1dadfad726221aa480f2ded8143e82c60a1f5e7fd8c5347b0a6ffa3b614b6e43b8981c71fa6532930d84362abe9195199c5e710e913fe63c5321e8a093cb42b731806eb7277210e5a97ad3b8415fc6d5beb104286225cac197814bbc0a4515907d46874551e2d2038196c4f649cea2fb0ca46b992d10f5176ae772998fe1f54648207b5a224fe01c76e4996694f55fa75bcbda8e5f3e0428e69bd75ed20bdf3e086369f1d52385093a9b3f66b6eb2574b9884eeca5acfe430c3c74b885c66418ec668c73e2b6179424064cf5ea2d856f19ae5b9b71236d2c044839590a8c1cddf13c2b3c64d7c11b7e03c8f1aabc54d81e81446146a8ab1ac4a980ee87ea3a45b552b651f1e27f7deae89f43fed601c4a5278ca987b259109c41f219096e1ae5530c6212119d40ec5f2e7e5d236e586fee8469d1da52556ac397912b4fb4acb1b5373f18b67b32867f3db1107d8b2ae533f18fa71ca924b442c1e236364d34f000a7e983bcac170350e9917b86b96169df3b45caf56a9be5096c2c74ee3d7855123c675eff51fc905ce89911721dd13e97800e6418f095332ec763b7a110602dfa117951f57d803a8f1aefe6a13a323b70f48660de3da47d1bbf6dc016981938d14113b083387510a6f9c7f9aa7669494a287694323e6ffaae919a834c192fd2030de4401924c5bbbd8b173ace4319529933c747e162a4ea78e7444a6f85e520adaccc4c27d54db47a2e8ee0a86b6586038ec8933a966c4361afbea904eea1a4ccb859c9ccd27fa78a518525b409d4b9f722a00d00d539051004b6ae0a23782ac9a240fd3f95182a9edc86dc0f02473ef1f2ddb46e18abd2aedc14c90d077a6a2100efaf874ad3d4357b4b5fbf2ad41ad363fdb991e4e5c6e361c507675a8f5763e59891cd36bf7c6ed41f3b8654e55b572bb0d7eaa898e3fa71b2abc8bc5e798f4a7eeefe9a9ba5eda4ee96f0c5e611d25fac190756d85f1bf9dd66f3ee6429627a7552c196ce51abe495000b1fd610b967c05e041545fc0803063350dcd41385c1dd534468f158a17c8c9b40c1a274b3a1710816a026619a916c3132c77398241312890ef87f0af1e406600362a979a5849f4f1cba6d9e5426a4e3bee6f563a707cf5aae915b7897f0754e947987bc40685171ddc726e03edb6773ad08f95bdaebbf93cbb8bb8036520674b40176aa1e2050b10c9cc795a6cf0e880f746ea05571a59bc90ac83415b058d0ba57135b7a948ce86fee8f4d0dbd004c7636bd4c4254c108a33a0d5abc7ac6f9af9fe1772573b1fe75e5470322d7d2e12f1b9891f98a0eb380d2468395c0a5f25f43ad77715cc0d821ca3a4a6fa5ce302ced21f9064613d91b324c25500c279f8d9313ab327d576a5d3d79d23739998f814393e567b5e15078cb9bb3f16a47d9a663d4ab3b15d427dce03830cc2c7dded2fab05b626a628d275e4a4d69699ae455707fd6dfda78be5ec236f6cfb808f26e4f088411d9d7ba01518930306e871597780190067b753fb15999df8efc6d21264f291dab3866a32a7366070e16733b2b8bc74867baef579dbd63f1e6778d5443042a94f8443561eb41efa2672e563650ef3e9c17a2ad86c5c5042f66c609f943a721f52fe28818ef861853b911d8b8976a580a176c4cd16b40bace07f9dc8a7419c726ac586fb84c5c7e7242ce628f340075f09de94119b4d4c628b76103b6f71a4a50bff040d8d130787520277d4233838ba8b43725a4a8a9aad1047b9e2bc7e7471c431864bc24c06a2d0b54bf2cd990f8f08e834525583023e7491a45889f58e786c4a2e6f45c1d1e3269d5d2602c69b29716766e2338188ead3c19ccd067c92cf26017e2031950a574733336564bcefa9f2ce774988bf814f60d7ebe95c85c3e45cb6769ae52109bac77a16e33d62d502e2f60a757efd2971181bd058492d975b1a36add4e60803b928493129d1ff9118b762f906d8c6f0530ad44e75b027b43e7e793b7c059fe0ef226fcba929b033f067c36de35c0c23da84f02ded5e7ad47182adc903f9eafe9377038b6f6b07d15c54d0a595cfac8b89871a5b86f3f1202212346aa3a5fdb9f2998584935e65f62695f183fb7e268f5591081ce3ef8e265d9ee982a5280a9d2cc514d9bed83cb7f94a1b59e3558e5cd5f6663d9d53aacc151bd8a77dedc024faab2ac6d8ee66b9d077d53ab496cfbfec7c37a552261048d48e5f3f42eb90c82a3f795992e75f59c362cf26fc792446b6abac4c056f49bb352c33b0e6fe7bd93cf68b1edd244452ae4f8f9db253fe3ff8fdbcdb17ec4dcf1c94b6166673211e156676a526c75a158452682c3a127faac282dcd8fdce318195977426879e64278ba4e14a0c775d90cbbfd08898c62ccb844e3c9b7e736d01dc5e38452c5d4f96f219388540b7604976765b223c06850796fe28e899ec2173b1c140d8462503bc01c77ae5ddf7009e0e6d1b85a517213c49933a0c1996f7d6db641632fe19363bfd13177c79e9557d9a719dfcffc5188bbc4c0bd11be219d5d36262e76ce0752e4b2c95da4a890e13180b32f80be98026492693c023ce98eaa5a0ed675089aa26f2b8677cd6939a22510302c43300fa3bf388b5222935cbbe99b8bb0e03527f5057edec2554a241331a6e984bac0b7d78258fab2b0908283e0f24ec6ca34ebc534a1ed59a4d47d6cd8800e0d08e502d3f544d4149509f0515259e87365c0b5c97f065e1ec6d559b7c99365df03782d5df09e7a567f704af11372bb749380ce55d4cabf91bef8eef54c02d1bd0296797f066b584b4910ee6202f6e3f31363667e0c62ee78dd1e95dd5ee75c63ab8b7e44544269e33d5f13153eec433feeb1e1d2fb0d83c299d95c7d5cc2b9ea4c6c715740fd4f78d95a48cc71ab59e58c220f5d862cc7fda56e68e36d8c6b9ea7751ff041050fe6a797e70279344bd460c67082c7f00c0b15c55a34b98f9074b6a2124d1c36c3e05b44a010f1328525f37f89ccb19ccdfabbb8923c04f09708d1a9c9e6d0cf2925c4f6ccd15f5ebc239ac7800a3e96e440449f437545d708c70048eb351f88299bb2083e1990276ca21a754dc38e37c5bb9dacf089e929b87fedc3ab33c4a8b2bfda393d76d8a0bf0b11d706edaf53dd01c2daaf4b6c407b215c8c16c4acffcf4cb2cc680a088e698d73e7adab019754d3bc94b539012ce4112f4e2a837c0084ef1635ee68c38d746a8d0113376620e1eda75136f2f9472313aabf4c412994c9254e8400bb7b05744d7fcc2f139e08166cf35bd593f435666377330f12ca37525ab8c42681b51e92658ad84294c3d393a95862a14b7f0340513c55dbae343ce609914c2e9a61696d7230e69925bea8dd848d3e6ae4b4a7f808fa2b8d4ee5919b086aafb68080d0d76aaa4442eea50f631087212d52f12c0c4c5e941378dfc46aaa03a73e9152e810dbbe8ed38824a0272767c07cb851f0aebfdd76e60e1578f31a824dd1d0b54085e2b46d4e0749092399beedd4cebd97699cd8885f707e941783f66faa8ea2ecc663de13c3a931e19095541ae37fcb1aa3161139962275a679feeae4c703394096224c1a2b23ee76fc4dd8b32d0375e8305725b9af072fba75f0530db921b5654fa48df7af0ae9f98cd81a38d28b5dd7d87ac6ca1bc003db9112445a5f8171d36f23e15a8eee0fb326e67f6db9b01f44d23056685ec3cc36ecc978e06a50c009751c8beab52a0b24660ebdd008724419c49c09c3e9b3950b5793e6d170d22ffc16b6c919d448f80fb09b19549bf71055d90bb682fdc00590afd18ca6806d7d76e7cc93ec01956fbfac2c300d0ca55447d63ac032a4907eccc11c13b71b037d7cc196a52c0f55b384db2ffa030808c97dcc4257d1d1649835d1fada3e6e802cb6e534e7f375aec5dcda6bb820a885ec15d085d70f3f24bc3e7a974b27276c18d37530b2aa21888effebf3610a13041948dbc53d53fac80fa264646060e20734f2e5047ca7ef58e7b19538d1d6d747f3016ae3fd24be46541e9a695d405e3de03b78cc6a64043c39d1a77a41e480f0b8d040f93977dadec29915589f6b829ecce7bc8fd1fa1877cbb8dab1cf1e5b213d76daac159c3b5ab117bb271612b5edf786fd93d4e371cba51f4b70468e029a007d6f58f96a7dbe8b6718dbe6f64291e28be7d97aaed69a288eb8333b69a3cf046307a0d780c4d7ecb023497ff6e2cff049e2cb13370a008ae12d77208b69b917382054114aedcbf9da20ec666522703ffeed6bd6e7da78857a5e7d831a7627f3341abe24dedd7d647ed3c06de830695772dcdc4e81a821cbcf8cba1b5c4f8b6cfd81ce87681a5b1ea46d027009eb88231ee3cc8ca4ff3430865bfe6a580802afb5c87bb7afe53816ed74c8e0f14f499ea97716e065f74d62a9c85998c440ce314cb2aacb1326958fc05c308361cb59a3a7181b0aae488c27a166a1ef0228d69e360b3167a50d38f69bb7fe74079e8211f58ff14cfc5e0726f5acc1a75123eac162b404aaefe7a6692d54e0f64733524ac524a1ce5556396081f98dd7961b31804e3075c7afb2c7676a2537ce1f039dd68b5d2c119c70bde6a8d3dd089f462c59aaa48798bd72b9a12312c80993a43d30fe77cab6ac671bbb701f0bd3812ba85fb378a19f1f7855989ee1ec1d94a50164e4b1fd817cea0c66c6bed8b31cf4ff0e59f41166f7ba9a1dc3ed66fdf5b7251bf25eac261f24a3ea1094a7c3672f47ac711668825d2297fffbe995d5d59d0637f780cde7a1ce3cb4d3ce0c16b83a951e947798f13ea899569d36f297c5588bef6b340f04e97f75dd79a517e3c62ee330091148b5ac12834ea6b777fb435eda9169860cbaed62a27cd27869559ba33a2044ae68dfda8d1acbf633606d39b1ed6f00c28e020eac5d843114b0a39e64c3ed3dd1da964639a79ee6c2d81199c5c0439eb9396cf10691880dd13715bb1f4e0be71cd80395c86bae45d2499642bb74fef2f53220d71159d1986d3d3e2e59c5c842634372b25b050afabeb81d4bcb43ea68fa60340c14e6747282abfa080b345e70537215b6d30740921405f3b404d332fa93fb3e6c6a6013e6a4e393df077e26d9ecf678cd39d1a6c20d6a228d27ba90f27611b34022f76838ea510ad1873ac2824f5b1a6ce014fa2e9c8763e5250e57ee5917e9a579a91410143eeec329590e109ed264988ceed00e52570b5371a5047d77c50359fcc0ab3a0cfde38439fdc12bca71e193309641920087c3455e202036ee9b798eefa18bc421aca65331fdd76d77b367e320e064828a9eddb59ac101a89401635ebc5eed99b33876bd25bc306cce25bdf789d3c8d003e8de2e197c24cab628114df99b47d2fa05a392d58e5cf85d2a60c37fef92041b03fd5ab4eba06c936139b5925b2b9c47f583216a9c4968f422990541f29a04008b723d4d183de5ca6e962def17f23a376d680400f02daa9731f880037335a03dc75922f165c06c2f29c468329f5b821f9447ba245b4baa7f94922e94b10341a6a2ed68ad47b0a077717b25d3ca556a28f1cbfab06988c7cdc0d06d30c87cad0f023ca3dae0d464019b5a3101f270705333904db149e729050e89f452a3f834aa730f1d4b0bfed69bef73a5cf952fd2dcf6ecdf75bde8697e27ed5f7e24e074f55482b68cccbefdf073517089dcb8ebdb65d4a63193de4d716e5e9b23c212eb96515aeef46caa9dd40f35a9df4b564a7f4b0cdd5f42b3681af84bf0e770102951bb150bc7948113ea7fad923f12bbc364cca3084936a0c3339d019a2072e777694668666e3e6b730e3bb94cad0364ec238fcddc9afa023a002af2ad88578b9cb06305734d5b17e02cd5bf5c181cf7b56af3a0e735456c9ebeaba34f0513c4772016d05e3e4f70fa7e31c12b083ea367d86ac146866d61090e53e833541fd403741eef606e8ec8dc20b036304e984bece58dd1d3b3a514b7e1349e80b0e27d1e909e4129241ab801c05e1a5f64423d701be94568669218557f83c5f1d218becb20bb7fd1c5c1c8aa77918b9415032db25d1a7380427ab545eaff004fb861b55a1457e2d2af69b84b44f8fdfe5f479f6427ccae6e0b5161e17474e19e29b4a3e99f165ee40637fd62304eb35cf0721cd6dd6e6ee3905c3ccc15013ae763a8deeb440b7cf1cf30b5f101f6953b661dcbce044345e34f45308d0c9c0217550225ea3a0d0ce3096ab66fcf4910a5e9de444dd6d698ec5897e9614debdcc2a971639d6b644687001ae40c38901b40c2a3def71506d3156afdf7e11de3b19492518ad26f610b5d5d3ad4949ed8eab7d338c19becc9b6753885e0e20d80b0e4fa4e4dd1916f34c77f45e36cdca6af45f593a2f2cdea0835370748fbcf8afdb53b42d882093a681f02bc3439f357f6d28fc90a674e3cf366d19e152134db677ba7c04cc12746065c884e775114b253f7b2907366d78bf74e790845931f2a0104c1d93ba59ea591724ba599d401f126971855d346857ff73b9600e6b1bd74110200193fe84fa1cfebb3023cfff0fff5b73afb39e5a76f36de87ef798604c9babd04ca96fef5be3e29dfae21337b59d3a26c40fcf714f02ee98eb424e858073dee027df7c484e17b58e5afcc924f1a8558037d558a7382552bd6d2e78abee338b014074b39c627146db84ee56ccb6f8aa7e46acab4f66a69cc775874e8b30c7050404d9d4a01deb28b89b1a71ed61ee28127a03e0ca25bf69046526e2075c3a700147a472e309004d9af2cbba6a5e3d10c7869cd1be0f53912ea21c14bab00a0048b2eaa06181e4b727f3a7498f1602b937e58f23c4ab3ad38770f933b986c81707eb42ee69b92956630f030dd19847bdc38b2209d851e2eccbe7253e614a1060a56f174dda9050e56b47cb9e6f7c6dd316ac8a764856cabd040183e79dbdee598dfca2fdeccd3e93e55e3182b237eb2f6173f7ed81e510c7a11dab3a7fd68b99a6629892233a1b35bf413b18e51fdb1624bbb6ae8799a137d018de6e576a09345c02cfbabf3c005e7f31436ef21e6996ede2379282c56bfb72eff3abcfb21b06f6d31499ecce27268ba957b94c672c2cdeaf58c9d7ef8be77b58da7a879af5406b20503f225cc4e61da74a414e381e2c453e5aa3616245f3c29acc4b5ac73ccdc76237f034550682ce10a57fc4749f74999f5d8bf0017f3c3dde52023307dbfa6cf16b45b703df486c81dbe88fd8490ece4a357141063623dceaea95541fe598c5a2d0732da9fd0e5311bd9b9e6a45dda5daf87004435635383726bbbb7e5f8927d0ca16a300e9c99033ca1a4da44d445470083fcf112e00f5c93b9c1fbd629d077ae5cb9e2df4e81d993d5193e68fc7d7323341d07f501d613f2bc67b850a0e07961713dcea3c14dc3ccb0bb760ec0711764bce00c91d497cc66e1ec8b71498d01b7554e689e4b040d47f3a7ad167acd5e7f9ba3b69a026ababf01c7f92ec677810f9b0d060447bfee0bbfb42e6b6e5f598b540c92f7d5c504c82beb06d4b91d3c98d6a5523a4b6f5737c7741b6c3db2a656f44be8c5e46415ecef94347586c0907f9df477ee299632cdb55f11e13adff212eedba29478575eeae5e5718a4100ea221054794037c7b10731312c5c5fde56213a81a553e2a12fb5ae0d88ec5548aff3150d53663831df0a2fbed3cf375a63ab67b639dbd982bbd7dbaa35b3cbb9da1823b91a36fed8245c0b9a7e20f047e5ad1fb7ccdf83478e09a16aa3a9ed6a416d13ea5fc8e2ae03a07de165e4756a232dde4e9ccc645457fc05b0d3f1dbc30c665ad167ea67274cc84995e06154adebfd7163936ad54a6c17ee930f563f2f64a105734d1260e4e6618adcf42da37d3cb26e2045b5889dd774bc27843445f9b1ad59ca2258ac4ef17776bf21a1100e5835316081be54f0088a8fe5b1b5cc5e1e4d94596b5de76ef5e1e97ce257fcf24c17901702c2cd864ec418f6b7ea713f5a343d909f0354380c3e8a0326a1045deb8940efcd96eff8c87423b7f737359ec30695439b43cd1b22e4728c6d1b0e2e7a182650e781608b3b5cafb8c2dc68e70a4c795056f31993e72581a0c4eee77e6417f63784b35f90d9bada1f53b61ed63750d3feaf1b68f2693d79711847581be4c30e2bdf1786e31b43913b483f2447b0689933a17bbebe76ee3c76015350efea31313f53ce181222b7215f24f1502b73da56199fd5a79a2618373030e135db56277f801697aa56489e1236fd1c800f41e4a1c9656db1d986446c323ae12b337a7376bd2d51bea5f4ab5dfd8e675430964fee6f81b3171d2422b55912c4d6feddb4035457b78885ddcb3ea42cf48de61c5ff5b816052b606d50b2ffb07ab6b9e189ee907ac8e712d3d0bb9487ad4a0d9e6152971b63eba75b4f2a0a72a50fd86f56a76143a45790e1d8633dffd0d2fdc64b4c3ac119fb21c7f68ca21ece270302052f0b404bd860ba69f1b7f9b99b97a64a9e463b030d22f25b29a2ba0f8c2ac47b3de90d980978a985a5742fb0397c540995867c0a8c1ce81a95ce19846a00b8809e0d4f2c55d8cfbc3e748ac4b37761d5b4779ab463dd08267474bd3cbbbdc60c68ef2d6bef681f74b3a42b162d14f64bbbb2abca540c82a257c647a33d1bd8cebe1839b51b5f34e9445ba7e1211dabec2fef915e236195358c15f867383f23b23f3f9fa6c0966819427ebed8dfd205f7ca09af597335c3a32f29deddc28a1de11b29958a4c21092bb2dce49ca0bda205d19c75a50224da3156556c6b29440f5c617dd857ad5738a0b14726b75bb3ac77b13db9292210f0bfbec787a1c998e35c7775d1d968054a605211f18bf213ba2dedae1234692026ece43bbcfcc438959befd95a6087fc7f1cfd259206fab6957655304fb3387dd2cb7dc80586d1997b2350a28df7ab4a9cf286095a6681c108a5e42447245aed72144688d2c1dd6c9cb7633b74191da20d8c7bae6260e62a6e1c08552f455edf183dd75f36ee98af2ed156deb6a0e5cbfdfab1bf18f0ae08209fd9f29d673ab07ddb738e34b21ff8f511dbee139e342dbcec2e8b2fbf75a3d74bcd9f5a250706ce018a82f7062a81c34237a99c6258f1a3b3a346a332cb72c645b08999d34b1554f02ca5bd0d346bb5822ca3e1ea6ba70bf804190dec2fd48ed350e2eef19b271b028340c6357d1726138a94ee2caa0d342c347dc23ea6328c769bc61959a9094c82cc50bd0af872e9f995c701cf4b5626389df731d2ff25e63ba0dd4bc141cae4615db9271d17b1fde8594e71592ffe337489a288ee32c05c4b28528e5feb7ac2664300f751c56b513a5e31bb00425b755e719028ce07b181f8b79b09c16d62e9790c936fe2a65a1d208f605f8219a55ac16950ba0ff45c5354089f733f975a51bd9cee0a3d219d54faf551f72b205d807319d1330cccdfa5b21bbe625f8da7e78f837b75cc162727b063bb0810f6595b9ea2b517577e55223d53ca5be24d369a61bae33fa26041b8e528978aceb06344dc4c66401405868127dd0a5477e46e232dbb6850608a24c69c42ce50fe5de90c5145d14105464400881d32619f7997b679f9c25592ec393544873ea588ecef7d22512843e3a33e141342e46f3888aca5b8ebf85a4fde82b39749764a66741a5259ec44fc2367ed38fb9f714cb37910b305b8d3e4035e7edc1ba1211a75e49df4e485c1c6b1932b72c085469e32ef2d076933fb58723a926c932e5bceb3fb8b2a62e4d0eff56a2107d0c2441b34c95529f40c76d2acf47685e422106bdce5ba5855df63202e357ff43feed2feb9177a3fdb4b1bcf4daf0914f24436639f59641441e83517472e7258df0f7abe51f84291444fda0800d275ed11584a2f6378968d98ad2cad34c2a6c0014ad18a28fe513d44b35330bc91bd78f574ab64d510cedd63557069941a04371dbd16b0aa66e7ed0e3851661ab95e75d32b1a31c80139bd930dc6f75181e3922bf7fe05b0d63644e38d29b339132af30608dd66cdd25ab780c92d1029ad764d69c0202ee07631bafe21a6bc9f6c22d4d92bbd9db77cf5221f9d1d4c17fddec0fadab930b75d8a0a030391d861317ddb28687015befa0a0c9c652eae572f728bf4530c7beb94d8c797bb93f9da556de7579a6f3e92f7b0864cf501f002ccf948ade21632cac8b25cbac1dcfccbdd6c527a5e898f3444af46d893431faae026247e0f3261ae1d7e914a371b2099f0b94178218b4b5970953f0e6d738ab80cea5bd85b5a6a12a0bb770ff9f3d09798a8c4d54762bef758bf814865a19024b897dda93df9e23cc150ee55a88407153154f7e1b0978c6b7d6e86a76b34947d23b04f2a7375fab43c272d29d1bbeb060addff57b4e227eaca8625cea58f295b1f1d2cea962040b33df9d2853b3ea0154575ce9fd5b0a79c78108539712896bee75cf5c366c4ba6a7ffa966ddc671c36536d558d5c9c6a26f950a64f5252527d8af0ec7fe01ee14fe700f5defb4a57d886940ae52c1ea54133252171c60a171395bdecb85fd1d1bfc8c0753a568ca6205cf16d90699cf93d2ae4a10ad27b1b550b9eabc9f5d775925a61466eb5700df3ad21071b0570a63106ce7ccb2f0456e673d53a3a19d47b052fcdf00d703df739f2551a916d12f858ba892d1ac5b52398936f946cd31dc5bee55531679a4c70e0ab9489b0d8f814925517034fd8ac02f299aa1feb2c39fc4ebe7cef47fa6c850dad80bf86aba4c14a6922c4af5b0bee74b7c4fb5082efc5a6d659faadef3260990ec13110500d1b6c80046c668cefbae6efd8f0daeae83be79777ac609553d631353cd6217cced3e3ccc2c0250a6f5e0668c5774bc410bd5ed7558cce511daed42fa15adcba71a37af827140ba5d3e0ec648b4716211d0f9f2915ca8247c683094ad2e962dd9277a12c0e656e6747eb96c8282794ef8a54f3f202ba462a211a3ea79025cbcfbfabc6db12696f7ff6be1867ad8fcfa36539030f631d4d3db600ed26a2312047f41878b32a2d47f8d11213dabe1eb6973508ef51c798ccc96a1d23b2432ed4dcf4ed16a116368a22dc4d3df2670c093111d9b76e6912125a5c3f77caaeb015b4d0cd8820a735d515fc4e3b99bd37e47be418974acc44f863034e3eea5c45cff2fc35661967fe004662c01ca88f13e9a694477d2044b82c4a78d0341fb3c21c5d16166d9d6a32ebcd106f9364185fedf853566c949ed8a2b0c3d2f49d84dea","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
