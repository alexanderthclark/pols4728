<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"807a925a7af0e314d17a29b6244f06394131dc704fa3d4706827e45000ff1c5f800697dead77efc3e833e3ef6cb82b2f6bd89cf81d188240e6b30a2967de38b13b5fdcb3c216e7b5bfe1d10b1978eb92675ef001f6dd8e507dfea8d3ea825dda1ac3a2b36f07525208b3f5e7f0ddbabcc9137e15f9d9c428f35805df027142b29a754b93e39bb0f6d0498cc8f2213c640e95f307f8716cf5509400f5c42fbcd77fb86d4382ba3900c63b0ef88c7965d3ffa95c108968311f829f423711e5545ca3bb5fb81444f0dc1ddc30f185dea4742c3206c30cb8365b4c07de3f0a4bbc732ccb596a841d2c1dc8925a31797f677d31cb8e5e46d83e36a6c51ebd14d54df72f1912d3275efb48e0c529396103157969ebb5d9a08e43055805ab300b04b839105c3d8a10d008ea5ae4a9bdac65d613265446b24bd5aa489967b00b607fe05c04df9b86ad9a4089f5218eb2e97f96242b1f7f8e0c49d616af6e714bc10f34bcab98a0481fe61e413f39072f1d06df0defc0cd0af02d28efc935f4a075a7c4a5963f21f4aff5ca8b16c4d52fe7f37b36e6833f1b4194039b6fc4c4453351c660da773f1fae410c76bf58e38bf515b7772bf209a3fdf96f2a4b7d8de1d68a9560313cd7f3264eec97ee0fb6e7d61f91a7e116cd5c6091c6f1289a616d75ee739f84fb5d879a21b70cdf44e929f881eb0ed90a6cdd09b7eccb6fc910ab269001f0724f0cb5dba7c49ff38e6574a7d2a8ffced61ffc7cafe1bec6a75e62188cfe46342eadfa10cfa0da2525c239741ca57bdbd035afd7f86bdf24c343c8c47e246c2bc43a622ffb94bef207255e9d7f906673f349605ef7eba81120ad907cb447104a8fa1bd089f859f0a2f59df30b628b9b6217907f06732ef11e6fe95a5cb9d896d2e39aa0fadcc6801310312b93abeb7a423c6368b58ac4d36b3c87b67f2824142c4967dc9633cbd90750cf16881e58fe47b58a7c376c690627d60e529a940adc2282a0896f316dbe1660486c72f1a746e4e65363c38049fbacb7034c8909a817601dc70f44c10562dad5aaf851d4718710dd459878111bf4a8707efc93f725839c58e9feff5f15a4120fe4d1ddc8ad48fdde7ef7996d18cf6019f204a661ee51ba336cc526c50e9fb7b330139e974eb2788e0be9e05c45c2e05c196830bd1523daebec10d9cb0a2b952b0952aac00f1990241e74e7167ddc2e1881515b9fddafb0ab0d84e4e80097d84ee6e716f2d96277c5f431215767bbff4c30a039c0692f82e46fe0644658852d76e1e35aab3d1a8d1ed7e16ab88cff20665afe3001264dd86137b9eea21e81efc9d33bbd096719304f0d1daabddce779e7542115cf5e7e51c2966c1aaf596fc29e0bd41b9c349051b11ed7a5bc61cca24227d25b92e9ca841638d4e9ef2a2452e6c9fa9e1142efe93872e819d5bafaa0b5ed618a24a4a3328aac2e285d835adce8bfe8ec3a3de485e9e3fcff1144f8cb91d42901433c1644c91eb71a6fb51d01d0e4fdf59c174b2958d6072d89497b12e7cc6be3a69872b13728ee2d2f9eeb0a34eff0f0f3e7fced2080b9ae97a5391db3bdcd7b4428ac3b5bf9f56850fd62d79038dabafac389df281e3587fe2b23fc0aae4ad7f333ea9909c95cfdf7a581c5a0a2d138648551b5a020f860c06ff6abb9715d244217686382cf6795aea66762346c121106bf838cec2bf6720712b7b1aff6e9471d652382a21b1f7a3ce3dbdb4f2db1d4f5792e802e5749d24c6c9da449e0684ec1c1aa4a4f3fb4d45458d62b3179a54b7091a874579b78ddeb9a3e2b7c1e907f58e4bca92bc51e2fc39459b7327542a8093865083320a750178aa0d99191d4d49b1773b55c85973778fede8650d06009b44a75dbee206505831acee6ca126243f7a303fe7c7d8f943af2defe84b47941bb7cfbb5edcb3bda1ffdb9f5e2434f504072dbd477ecefb4bb87376581d3e8069bd06ee09359fde5719a55100ac65e06385a0612bc71e44d1a47d70fb7955fa6c6919cb008ef333182dbe41e2ff21c267591e98ac9d94e88f670fa1dec87f925620fa0c4a450e669742c3aaea4fd15deba17c23e3c23dbd1068f32a7187ab40e2c9afebaa8cde36f997d7c50888bf718c347a9f505c09d51f1be919fa12e9dad624cdf950d8f9ed8e4030772bc34b4eb2d510b7eaa8dba9dd66c5ded7dd79c6b1c4ac8b6e464d44610856e2e6f99c1399a88424fcd751aa0fea85608b29e1a6e40b9adab27d2d35075c67d0f10522535101cebbf7d6e763931e711fd3c5f4d983d423de0a292aaf33e6e83c2cec2cbb58fb8545217e32efa9a46e26cb3dd1b9da56b075fccdbd460177fdad00f4929c47e2dd3170fa092ba9100e117b3f8796647b985fb7439b3f95620e24e4d140c3cab6f9c2253a5f4126ee43eb92e466da0e1c03a1a32771c21f2497bf5faa934640a85807b031b8ab687bfb4bb5087fa7ade88581b79c4cc9dfe8d020f428a03bef34ad8f719cd8562e97832a3392ba766bf708fd57b2a2d5afba0fd009088cc19669355385887148fba397b59c3714d7841bbe83a4d844538c83a26afa01e959287e68eb3c48c15f8f38ced13aaaf943c7566375c0f275d7c610373cc73c398381851e20c77c9e248b3ff1f7a7f72141fb77e8035a6afab08be0991820cfe4bb8e02e6c2820980d5cd6cb56e7cf050f07d9d6153d493a0b242821d24678707d94f5d0593cbcc72db882e06588d32967d10818ab7a989c1c18f16adadad0da6f3ba1b5c3005ec512b1d84667e83fa0aa962fffeab39ba8cec42de35fd2ae79ebd7a4352ab89825b1caf2e896210850cfe51c5ffb5fce774480d426a95e6d83e0d9f9ecbcebb24232c592577174fce8bf7d0810861db09349761ace456eb4e77a8c6e18b269875661433d44c94b9f1cbb49cb32f4d9c48f9e1becf59b0b90fe9bf9de7c46767ec8fe828ef8a2f4dd2628a3efde60519fc09a40c0702d2b1ec65d1a803c33dc62a53abc4ee964d9fb5488c640af6fbfadac2641e0b1b12997168ffeb039868e2ffd8a2d598e8f432aa37e417ebbdcdfce293e3a35dbcb5f7f69ea3d207ef2619876fe0b8a8b6868ea302c7687d4860c23077772e74ad6068ab0da3c323d5a89e1a1ca6fb1bc8fc1637624892a49dd37dfb79fb72208dc4c34ee5cd4b3025d4c5164b38b27778de4cbba23997581a6bc37054350ef18d368adce14d65cbc54d54215d9ddf2a000eb9a8a08e1ce7090540b5cbbfff302bf5cb6b7774e27feae8ec668e54171b9cb4106cb4f4ad7d2e0065d0f6cfa9ea66fc45e4b3f4863a7b1f65524ed955256a32803002701b22a7ac84016502141545ccd3914a974928ff905882eba883d843bc0d5f26b7249a948745d056ea1d425b652acb020d5e2a867f57ffec31f290c472a51cf4ab2d7a783b550e625226ad09f1929e7c9e3770174e3d4e14a3b8482c69fdc33005e3955f9221b5f77b07521cb3c22c27722ca8efc761fc67f8118d3bb62fcaea31a6e8b03dcaaf15a87bed96377f7aa2756ce4c57188f9d4df5b39222e6720af08d532ce4dbf813078bbb776d7d143c56651237265c5c55b0b243963fce7581af4a0fa636c39f2980048a71b05bd0c0c8d33c17049cae8273a5549b686a38a7173fcfeede95119e00c05d348e81f03216e2e0cf1b1641b6e869baab0fb5b5e2d3b4ccec6d151cfd0a1583945644203eb765493e4710ecf2be10fad55de5ad401d3a5f2f44015ecd1fb761d585c3874dc5388612cd0a40ac6ce5d0cf0200d5534417123c92cdabbdb080ed737fcc54aca9f77c330f27b53d08253486a1fc5d9b7b28c727597dfe5bde81f91d15417532a664a3836d618c5e0d892c38c5931bc5ddcd3267af5824151b1752b146b9a237501267298daeb61a7b9f006094debb04563c615eb0bf35dc305ecdbff1352cff66d2a154c0837a89ba3d5b0c59ad4b484a03b6fd73aa7b0dc7725e8f26518c804b7ad8e7e1d6483061a830eb2a0bfa8a041f5a42681f9afc0438a2cd7263bfb2e1b2c882dd40a6966018d953812fa65218866377e20a61d2ddf69669905bc87ea7542c7faa8d2b479ad7c1667ceba462801d6b5609617a67d3decd4ae6e0bd0d028773aa1223ac59f56d027f1135b4dce66dea3e54e72e5c57b81920b3c666c2a66dd021ec5c75b1ce268e9af3d4bab7e5f6bf4ab99423e0b0434f809ee70deadd04aa451117ea6abb924247c6f9b1c4f932e1823f16c0141382b7f27bf1d4e13703e6895cdd0dd5f5f3fb25ef15145a570580e4cd093b11d8926bd74567032935c44fd2169d09e605d9e4a829990006353f1ed61703bd1bb70038dbbf8e26b2c61c4fcf5123d990e538648cc32701e8590c813128c7720d003190e1bc4ffcfb44bf7916eef469029b45221f591c01200a516e515ba73528d532e10e6ee84d282b1ddc889a310fd230098f521dffcccc51f95947061bb954fbe20d29406aea3ec47c52c1cf21d121968d7408b89f14ba7d15a48d334ba5ec746cbed387108cc34d390b62387e61d47d8fe82fd6f0787d981b35c89bbcdd7865c9b8b79f2b707ff879f51209dddbdff3ecc39a675e4a09111f0a6b7aab870ef1dc5726783bb53c7a95ff51f2d850170a8117e80434546c179c1564003955a387430bd0869eec0a9bf6f5e2254e3c95856660ac4c8f203fa8c9b2617fa3730414192f84f71a85a47dcbeb1e27016a17bf2ff340b1851d85a7c9e133eba158f95443c365645a6b80493f2a20e199f7b6f69a395607ec8c62cba96ba03a00f8c740b314cb0992a58194c62a16faae646a9784087d88b071ce32a1906447ad0de03b9ee72876493ccef59ea71208f5583246c1a05b352759d912892a3052b3e707ae1557a885cd91d70ce042cc2a450df99a9273680fb721ed45215c14ef65c3c54f3b6d151b8129f7af956068196c34a6797a1fa6a2db2b44f61b65d4f789c4232ceb119d25f01183148ca5ec976506711460a80b4609cb32a15528c1764f9481fdb06bcdcafb26d28d09847e93b61adffd931f0e4231237ade6a3c09620b2c9cdbd2d5e4d3e52ae5632ff3d7a489097600c8bad4634036132be9d6069582d5470573986bb06f284b56e5317b01b782f51edb6ed727668ddc220c02cca974a985d37e1e161d216abd58fc14874793387018ec9b6623d13512cf46d9246a99d303e48e36e23e3af4a39a3d306c6a3c8dde1ceaabcb58976e4afb38fbca5e8cb78fe96a62673770c7af31366e5c0905e2a65ffc9bfe3536201ad21abc5d75779aaccb30d29837d47ba99d5baa26aab3aab6fd7af9cb1751235a99cb6f47ae471ec4ac7ce05af2f27260cb6d0071d6c12fd206185dc92e0144da640eb30ee13ba9cfb18373c13b4c416ec78dfffaf78aeb2c5c950836df9a9c4d9e8e77b51aac333992261680e43c0797e28aa4d6ca0c328ae19cb553c143c09f9e9371a97748025cdd342b8fd80b9ab696d678e40fd0d8c9f1e82025ef37bcd2cd25c51d22691ae38b9a4bc45e36da7927c765b52c0a13f4bf636337d25d24bda8ef8ab4e4e388ee7e00cb9286d3ec33371b39c68e71aa61538b43182bfb78a8dd325bf098e4032b2bfe1510a1ab2fb22f19656db56d198230b7b82d28ef83ae6ec756dad77b36b10dc7f6d366e324034e4c180cb962730bb540e915213507ea5682ed7dd9b74a93e85b439a029f191049ce4a05b9a7ea6f63aefa17c664d4abb650262fc89c581f772fb1f131ba0de0bba545cfa7c57f3eaae8bf59a752704b8bc33da4e52eff64530d6af6ef59c33206e71f49465b7a26dcc3eca8188b6ead61dc9da32aa2c79cc87fcd199c7265fdb982c0a2dcf04bcb702d9299339bc8947f519c2b06ccc24e6cf1e53ce791d57393aa61a8717e70ef8815bbbf3dfcc95cfef9052b3d9b9edd554c826b6ee6633aa8dc9ee7d47e68bd73a8b538fa5c6eb955170985be8c2e639e3064c055a6a58383431a1224be422ec67841c951a3019643c7f7ee75f93872ea3a7975e9225df02bebe8aa2afe3f26f06a03905ad927c98e69d1def768357f2b4e228c9d3748fc772ad48ff22ec33eb2fc4d4660e752dff7259fe5bcdfb2c2ef9196d31ae99aa7ffcc9546de9f30078715a97ed7e834935874261095a44a91415cbd67e25b9bc2475844645332358cff2fe1e5b6956756e48ba86cb45d8dfd5b42bf5dc841745d494e70f4136fc65ba0c0089e1ae7efb6fd27ecc6a11905d65130d7b0d263234f29e51102390842a601034c6360ae82c9b9f6d9ba5066faf0d621e440e318d60e711731ad4270aba55fa47cef17347dfe19cd242e7fbc89007126b9268191e034d425c549cd5b7cce7338f2ad5c6b9bb1a9b3576f9fd4600e3d336fe886a25b36e5cdfe4c127a4aa614ee804ee66ed7d50526a7fb8240af8ece28e2f4231403c17bcb74e90c0032304b433b4d75163a5b74c16a2f7932e6a0e37084af8518a583d8b0f556e1112124c77d483348848615af8fb1767dfb09a4eb30336f91f630a4200dd79dcac30629544d51eba318f85e634b5dca44dd99e6d2e4dc50195b5b11833fb15dec3e6c77b89413bceba18e4f8f5fdd5f937ca50cc2fbdc28647dd3bc7ab3f7fe10da303fe0e307bfbbd662075107dd4b968f35e94e667ea358c8ed203c37f7873b61b5915b0fb0eb3d00760337a4e2e49a4d48c6f27ea48ccecf9c357568c412f7aabfc6355ddba0fc14f7541af0dca8853313c8d921509cabd4091b0bba4b1842ee220f604ac928b5e2f15fe42999020ce748ffc67d1a12bcf85c1ec990ac119778849069b268747305a48a5a2e026cc0f1609a3aa2e413e16e662a4fc2d7950bd900c074e4dfbfabf7f9b0ffe0758ac8a56b09b50adff7ec5aa6423b4b8b0ccbb61944bb1db9cff89cb2875a6397735da3cf839f108394250b662c52e6396a72f0935c37034de592bb3573d321b449b4b8ba99d47a5492c2e5557b2858241faa9711497aa38f21892208c035a5db981d1fccad7c22740d065410feffb925f211570743271a47a0fd4ed0818cbc3dd47a1592c0a2623fd39c5e67cacf7062c79702c40d01400126bdd7c9584f4fd993335929df83d9bc1d73401b25b5c9749fde21bbfd9f05c73f9a4af5a1cf58cf4f7cf95e8e41db773da3479eeb9bf65f9df44c0856647dedd66c4aa27e55ba9aa9532628e0f37131ffb38ec5cd64387406c4f135febcf1203a748a3ffb3994d3db572d19a51147fa6297924bc5323defbcce176d2c5bbbc02206f7155b779ac5f09e0a5fb8a1583aa66da925f9f34274ed5e6703421b0fb317deaa1304c85e008ae849335a3ed75df84057129a64e024ecacedda02fb283fe480355867920a7f8a5a5dcbb526f9b21ed5dba52ce246c0737342fd6dd842da0f819fa4510ac82070aeea0df30cc3b13cffdebd9f9f3c4547a25c56665621984e6f80a51ac2c81cf6cb573543635c0e2e570e9f3739fd0c7ace70dfde417bacccf6d556e5028e6eb6d9533f7f02a1240d1ce38348b0cf96416694e71e381fbd019e82f5f2d499d94134d1901cc9f8f5623ef3a5fbe216aabf82ab939b184aa765a24482bc1d6cf009e415b9979b23ad1a8248f69ae9d16207fcebbb50ab81099986049e5134dda2532394b5aba55d2154c382c4fc35d4136392ad8e74d49dddc4542cc0aca04b8323d02c2d6296e49d118acbb64aceb6f38c8b1153cbd823177cebd652f8ee78da079ad34b814797fe0b84fa6d3509b0e7c352437880a271e8835a6fd0da492da1b2e40aabec6c1c48e775972d83d64f4a13bf12b34744a09b306faf7725a691e91d274d52b6bb0128415ce39464f205a8b17072feb0f9d802b88131e07c5ee24b4c4e5a706f83aefbdad59c0cba403f2a2275fe08f00ef4d84be4d4afaa4818dc22c003f959e3a9f7859a4951545bf3dd99f671f6450cbabb818edc887e49bcf54326ad1a07e31576fb58c22bdf4223e14bed7569adb5f1768c0f8eadcdf4840ae69ea5cc5d229ee070925d8900ed336a532b8d3fd288a0689547ca5b1d623d261897daecae6720c9a64438ac7951e390fac29df3ef445a4d85385aec009ac6db066b8810b984680117542d7310b7db9127decc60c8809f164f343df3656e93652b7756abab914f709c4b1547a5ee2bab3cc0f10d49c38c9d922343253bdc8e0281c438b9e980b6c849a06930edd983b063c874b4964b8b29151ce831e1a02e68d468f22de003d821b59110c770918f94d3cf9dd7d1e7b94615561beed41a83b88992e1534b08b3cabb5299c3ba8642e7e36b7536d2376b2d8467e19a9f3b252877075047dc2657466b144604da6428e0846116376fa0994318ffbcb6cab824d0fb147a6abd5d884c4dfe4bbfbde340d3b97f3e8ed1723204b256cf198707cafd2ce81628d8f3b713aca1993e7a2fe55c7bf1f9bb3d20941ef860122387de9ea2815e371f37d7afe77b0ff5a1bae8b89ec8eec94d0cbb8dcb4169539aa7c4b59f7e155ee365f5c80ed8282739b2461c3a55ddfdb1a3ec68952af283463f958b66cf27e8e63a5515d59eae233f9c34d12915220e6b172ec60c3d7acba0ae0b0fe9a37055fa6f525de9a795d9c7763400d25c16fd911ec3a6ae639e95f80056a02e829ac77d6cd88128d4171d0385fc42ba878884173eef200d2f1aa2ba05e873521fddb6337adb51ca11c7b16a25758b387fc53dc1b48ad0c090f9aff9309f8c2dc5ffdf30d703be07b1bdbc561ced5c41c3b95ec80bded93d517c7c8e8769d38729097b8118dd8df2340d42ced37a9136acd825623464d2c1fd688e4a84cd431c69f98c062418d86f346c70f8d8f55436d29b34321424a6b9a99dc05a6d678ea6b1f968363e0dd8be8df698c1a4bd7a6048003aa4ed385b2494b75392543f218a297a1e16ec7f5e342eb9cb9941434762fa4bb02516a32952d04dcae841272c7f5484fca95ae85eaa61f666786fab7f4dd45dc8273b81aede89e935fb42d8dc2d49a4ea338ff0252d814891a5ac1d30ec4b5b75ff631bd49214278a1c03b60f12ba7179bbd361c4651d95229536ccd097ef60ec27a626a537c79c497a7c1e122c4fc815eedbee8c10e7e2dcf1b595a90e38db509f286e0e6a32bf043a5439aeaeb5969a592a93ca0eb0a93e52364db41b58582acec08eece04f86756a245caa97fdbf605156a631ced3bd8f10d3f9c56d5d6ee8847276babc869d243783a11efff9ec5455177c8c3d9f466af85ec1d0c5ebbcd0fbf324163e106210e47b6db4db683135beb50f0ed396835abb6b00b8a3252ccf8c15940f4bae48771e6bdf44ec933e7039fff2465a997e848ab5dc2d9cfa1657473177a1bcb30661818e065c800b836c4a68f1426ce0f5aeedc43ae4d7e1088d14af0f8d4bb3b20ef27d2e2b06524025de4b77b8202389461588a307d78f829f9cf8716f189a75528a36eb4788536f185217906952d379e13d11672fc817ad0b5bfed3f59bf1e629d16efc3e1f8825f79970f03a7f7d0dc582b7e392bca7cbf9d4166d177abe52e136f12369f046b4676769ea4b41642201186dac14b16b1e24c8d2c7459092aa6e43771ae9cb6251e9e08ca1b6f9f9359faa0a44f38740eb72c9c4681e9ae80208abc9181a7dba98d1015baac2178e32d2b48703b1f049f7318e686e27b0225e0e2eacb7b1c0b9eef552a3afcb19944858033779cc6af39e041153e0e3b52c31a7e0c2cfe114a8e73b3e596eb519bf5f3b9973ad3f3941d6dca3421ea758c00609db42ba2164acf033218dcef5d8037e8f7981e5c6bb64a6e0f87de0735d1a2038401146f3c8a852a800b7b42490800658806135418c388338e2c9588905ffe2bd2053fa8f5bc4435424237fa709c1fa89bda05d53ae8b290d894947a56a64e77fdaa67e6b9fdd24138d959a6420d38b5b1c3732f0102ecc16c71731cb262e2617877b1de197b1658a08097929be3d77e8fdc7dda113cd6cddcf983eef6f07cb351aea856404f7661941b47ac12e519d08ff0c690df8316d80570fb25f552c2a7a49e6faaf04083ac36e8f6ffc70cb86a7127ea0df0cab971c0aa2c39184b6031cd7e519eaf76e27412ec6e25f0f100134483b96756e602721820f4e856dd6bfc556f67487a4d65f575bed7e5dbd2814c87bdd967b9c88eebb98370514f22fd293489f799b24a7a90ec608fd3626704bd5efbce098a0830d3734c2b5a65cb56dd2e22e5737a37781ec0e0c239cec28e6771f83d73855706eff4dccd7339aed8fc4a77f4defa325d84c0e499e186ccb2bdd106fa8e3e0fb8dc4e2204ef8a924365b20c48006018f147bd27e40870d6f6a44aebf8032cecde50eab59ec223cff3f92b409f2c4d80ba6cdb743afe53c9693ca68ccb401d264aefae83dc614af72501e101d6c48cd5a548ff25cc2873cf811980771616983045f0b1958b910d2fe3cd043cbf5bdb16a8634ec36dfbb1928291fff07c335cac054011701a6b5cc4f4b4caf8824e5c24c15860dc9214d5269057433bcfda10361adcebcc308f482568fd7a99b10407a7d273322d4697610e51212beb537bd3f63daee627f1fd6e6632299e07a2a1e13bfb86bbdb277c0a683a7993667531bea40c9e1a7bcbd36304670bb2e058f4c0e3e25afe02b0f5e4592154fa39b2af8d2fce719f4748d0dd98b6e01d61aa3ae3adf6c551ad70d519d0f3db725a42f066ec2797b88168f5e53e222cf15d2c7974884798fd541f1581b14eceb7f765469276d360db06794c626dcd065267cbef8933f3e63a0d5d8ad8589003e3dc2353b647991cb47f362f26d8b9b5a8f70e5b0b9ffb521f2a40376e3d0f319bed2dab42747b0e4685bed2613596df828caf3283ff1b55a5e4ffeea191a47de94e53f259f2c022782d0502467275ae0fa729abb6f7b5c07e4104c5fb7dfb788917edcdfe6d820972753f9ca21a791cab3e96ad218bec33d4d524fb35bd4599aaee24457d211c35ce0739e9468002ca66053a51d3338221e60b997a11f1a9bf55d77131473ee028791935aea4bcb04548bf7a5b973b645fedd57b514b8eec2125e6161b3504acb180187bd4ae6dee9ea6f77ac4e52f7899798f4ec89513e518bf5c18f628ea028aef5f1dade4b5e11cf55fc2958fa8594bbb980aade8853598b9921aed2e3d78cf439255e7eaecf9bb4349b2fe38d8a5e38cd4eb9844226775cb4923129b5ef2863e57b4e9effc6c23fda75457c8da9d133339fc2d58d30498f4c2973f59438ed29fb4418ed7ca2977539a194fff483cf332b5ae70ae6eeae2d044e5763797d63c27170a270edbc945f04cb72bfe7163cea1eb17f38c99c1e0e35e3936645ec9adc232d627c3f387c031a8653905e0d6d6851cbc333018937883aa930c95bd6d0d9bb0968c3e2ed7cde6c19c1921fe1ee0276c81fe1cc3c730a95ce35dda30e509257cf281bc8156a71c207a01f9813d256efd4bb265fe7545aab39c9257522226f8aae9d8ffdb6ece08dfb657dd4f304410546a8a443f7cc9967f11b7adf1bcde1d908db142484623c7d16c90ca8e4f36cdc04a2f5d59720d97ef6a5310e7a59462f616f6d62f2eb0aadc6d2b3faef4b5beeb2cc777efafe7862a8caa32ca9453c1bf68b3c41a45ea781d4612c6dd7c5e6bae4c021fa2f139a23988bd0376ef593ed8bb2df4db0de61b987062b19bef9a47ecc0e472dbc7bfe47c359bc1eeb129a1b0c552108d1732e46ea7e21303e9d1c8b93c25ddbd8a5f9d3dfbbde31fe7255b6be1c189d5776576bd6b4d23ffab4b412628e7aef94a36339cca5b0ef6626081459dba0eeb175371e7da882b480ee3d24e7b8c65fd58d2ce6f22ed03f299eb2b045750f7831c4affe4157df1399f4fe6684928a01188d7584bdc86e418eb75f37350e4c71488a879411a8d5e249b7674df216ab2d719f1e0420499452a2b8e41b578f3422cceef18c6a7ce17f06535ead1c14862944e538721ed39b3c7e7e75e692f63980ac508544f74ca1698368cb37e7a5037cee196470d1c4c14b868ec75d48a18dc542e5f433fe9ed4dce1b9aa3d2506362eaf94ece1d091b574a5afb04af1fba23e9d5d25e179716894aab7646439b61572abc2aa7733c71b230c8ec088764fe05c693ac4758ab7c894556e0a0f477ee496e827bfbaad4b7b31b542765eff1751c0f968d09f6f5de51724c950ecd41d82f48562ee4861b42f927135aed189ee201a4f59fffc3bd856b5bdf33c79fbe9dfb2e3953c33dc70250b2c2577f56612a4df8a46832de1aad03142481ee77ff1517a3a831c26945bf7286328258666e5c757bfd89077eeedfd1b5625e8373879ae6686b1e80d60226076894f51c5402d4ac60baded740a4a4931acf075f780cf39774ea55ec087aeac7eceeb78c27689d8df70f7d1ca7059f705e82ac829e1e1aa748eb8ad2a7e700cf8b763490b99c7ca07a6b9ce1757cad7a97b16de8f2fb21c525cb0ceae6b2b19a2fa57d35d727e76be50dd8ef4dd681d0721246b3b40c62fd7005c2b6a668f59a46105ea95b9103d0ef6ff6f6aa07e7176873ab4bdcd8721e56756af145f5785a3836f6c6ea3136a02349a084c0432c089b19746e649c48bb3afeeeb1bd1b71bed926c6b570583eb5bd77dbdabf6ab9731633fa437dccd06166328ca8795b1d6d093f729838dd19d7a8d51100d79d79e72709acc196becafa91dc260758d2e0ecb0029c4544372e0b62d1b9d1cb3493ac12f263c0c1b68620dcf657dc6ae69b2725c5a5fbd06cbe368196c53ef92ba18bbdcd6c34bc0234b4b22ae0b1a1e465832297cdb1f9a3bb08565a50b4ff5578a61f7aeb400ebbcebe6725edd2684372e1c1566c75dea26c575fa8327bca6be0ce5e9dfb1397ae704129299e3d27b6255f7799ccf3d53722980ccceeadecbad14c20a2133503b40c7aab3f71a6721c78fd629e0f9befec37b7231c6c647b3db92d60abd20e95ccc8e747d53a95eda3a4652da780dfebe3ef4d5d3c10a30882b5f87cbf437d94995f58d10a3e1ffed74c2e731d63748506c103e76696c78b353aad869978fcaf5bfee1e6d90ff623ccb2b464846f74dc923553c2751ef1dacddc998d777113e67be87c037e46ddf013af55cae868e49fee0d1839069e1528f29b2b8f102baac818b8dc0f51cf0859aa7a84ae3c771ad4f964a775322939fd66c2d8c166c90e8a272f5a909692858e0f9e88aff970d6701dbbc642fed966fada53df5c96665b187cc021765d5ce9f7a19af0bd8ba2bc22b1523cac105163c292957be35aae58ad853b60dddfe02414d36483f73cd0ce0576d6f74c60b52b599467cd4ca17cc7c60b64ae788f421bc4b8aca90a7194c89a24ee85b144b0eed68f95fc611794404d475a4416f264b488d452678dcdbe76c583a1baf8338df917f7b3f469c0004987a2b9f16c3e05a3ae63c802d8a0d05c2ec5236a286e0285165ebf8c48b55ec5828ee42b4b2ab4fe4e8bd9db6aa68dbbc6b4d2774ec8f028f22342db24d7d5ab923de039481e9bffe38e23853c30ea4870d11365bb5631e6b96371ba0d9884003c0d1ef45c36ebffb71846653ee3fc094d5cf3174e4c30be89dd9a2b3c3ca34d6c070f6ec9a67bea1b8b7a54385cd35caca8a6c0d9b9ec7554958af0165ae7c46ffcbd50a06dcd947d4cece07aa3aeed64103e462b7e4473bf585aca28a091717baa5a3493df8f3149708bfbe8680b58aba5d6bb26c12b1395c67c4ff5451aeb8075f97a12c77ee97c62f1965d13472fcf61fe1bdd2a2fd8d8a27475ac470e975b06bc009b07db680f0e38006b3f8f361e2b6f85bac6835b291c61028700eb77aaddfede52177b290778a64fd599871b4c5d92831c989d32196f439bdb5c83aef45b77d0e3641aadfee8806869615cd50bd0442b6fb5b45b76691e18c7b30ca029d199a35b48127ce4777808c29179f4027090ae919137c66e0805eb4eb6f6d7ae6aa42e49a552e23d530167a4e13459ee91c41ad8f60f4399d6e87f2db637ced0b268c9b61156136f5dc53b6118e622a2c2285db4b68a7f4ae254478bfb83d06ee8df98c8ce9f3f75d7647941734882508e81bee95c22d6b6e23e15f91a0871ea40f4f39b6101b427f179531dce578070087207f302ec5b67b74ae4cc00617bf6a69cc16d49e29974717e1fc7c12cb23eb1f0c0e232d7c602ef489e30d8120346f85987c1f9171320c38226f1bfee7045bd058e16a4ae7867a01dd6e1e73ad4272723c47becff6e1237d0e143ff7a84216f3c81e09c348a8735c220e05421bef671092d5ef7b81ac3dc8ea55b3974ffe9da35c5b6068a6298517c2610fb6670f56e3cb78da8cf25ac7d964b021a1a07715945ffdcecdb053a3e7a2e3147bb49c98a40cf2cbcbd0ccbd6bcd5500598a52683c5189392adcfbda4d0ff3684664e14ae56129275ebf4f4ae33c9914e266a3a50747c0e50fbd0638b416eb90c936da9aa4742deac280576b66e0c9f528e4c526ee89ed6ee893dfbb1753866f1ad8f50f4c5b20f5b5b99a4a923336194751b06b9f3c054cc3d70a90cf03740abec2363be2b72546fbb4c5ad8841c1e96debdb1f7a891ebf2939b420286e585c43903505570c4420642a73ae81833dbf699e52a7d52bf12c5d60ddfda4b8f2b09e145647b61d4db8ad83dcb1198a3286be142d80b736c10bfa91435e39ed0430c3154e473fc2ee49ebd964e428b1a1dff81b834c03b535d54f58a52fc55f2105db4f60b496d54491462d9c7a7b38ecb6b63734ba8dc8cf963acdb9ba32ebb90d923c608f4ca8fab7c5912cc6be374b74406fe198954bbd075ebd0a92f9a98527d12267314e9e6a116b5d12b9d0e50ea02fbb2309a9e178efbe964bd6c2d11520458bee6e66effb0f0d5a0e220877d4b456971f31d02e16dce10b5d72636748ebfa4b65087dc6a3d7eb45745fad0627fa20f2c8ebf3bbdd186fcbf29594f63110f88c7c5d42865ac594408a4319df694504478ebbe9e0fbfb12e434768db1018b9cdd802077feb7c8d98cc9159ce86b3eee7b967a95f6c714c3389788d549840b7a12d1510df18d939e04f95d08c934b41440247c6c2f2e929156d1da5e2038eaa7424c9cc357704a4c69d8e28f0b7d75b0bc45ca37d84fe98e644e01c7290cbdd4c8498f50c658319442a4cdd6e5ed60063ce1b67decac095643c0d713db6e435a181857e27bd7874a42e7455d086b058979399842b315b31ea5a56854c19447f06b54f3f34726abc4fff2ebe76833a2846c2a7e480874793826d9cbfa64221a107ea90de8fadb13fad5689a8f6cac1683a4d7a46bef55c82e4f51057124322e046d3320b808dcf6bacc9ae323ff934815873203883e4cdf4ea5f98d8391bf6e091970e8a02adbefe34a98ddada77fa34ac179bae7310cc7b4cf854e7569f0cf6e69df4acf5a53f07e5a6feefc2458cb52c18832b88e3c7ce38663c386673c517e607f7336981d4a9fd4e552d0831a553aeaacfef3afcf51d464ddc458a95b53ac2b236972f4ecdfa1200b592f8efab5996074c4771bfe82ba37e3db3764a2ad005be2e3999cd0b76794fed72be154c73804bb401ad14513cd2793cb4683dc288f292f9c42e36b81022ff990c6e2b5d445a208e91c729d50589f118309a74e859f532e354df3b823d484f2d6cb4fc565224d01e0611844e2c70aedd6ccc48e1027fda7d5c38ab29576c986e4b4e4ca7a27878ee4cd7e617cf43d18b104c5076063f89503471d333984626ef0648505f20f19d2fc8c9484007db62cd58e2931952f83c162dfa98133a8807435d7f5a49b9ebc8b92d91e7df9b7667b7cca2dc7d01ec0ca842d9329d9fdff2110f81736d655e26dd15c3626e8b459f224d690c0a59e7db15fad088b78bc3df2988b98f1706636ab75c5832c2ddfb55f8ad76334135d12117cacd2f812b365cbacece2da902ce9c8f2bcba1e035907235e8bb08f17928b9fbe675cf7fa94f7c6b11633deec3306941ab6b16cbaaf9b0f0151d830127032c95ea9ad2e70c74130946cfddbaa2af9a4b00837b808ef9680c75dc223b16060860c0d245a0f5b37c008f98e1e8e47c65a8d4e9ca16b9455d241175abe037047a386038f27a0acfb597ba71a961c1b6820dc126c5373fbfac5f7feb935824cfc89dd6de20e9b1c917e0779ef9a302035c4b193837b0a7c89aa0e5a37443c31d10f2abed2461f895eae375579cf72682aedb36e8e2ded6e6fb1ad3ea33a83fc430c6ade96453b0b9917ab83d9f279350776f008e8f78f7790222157131748eb6e814082bf3fcb503c1aa54f7336789eeea5b8648db5651500f110aa6069cc002e8dc3d91d8cee338fae4c598c8ec47e367d8cff4d7bf5c7080bc55ac08f1c65e88480ded2ae286a551a3ebc2a60dd25b9768d1f9159313677a97aa7ce51a504d73fb4109b564ac872d1a91086ce9273b9618112f7ba28ee39561d2c630c4c82e60af2f99d14289c910c77c88ea740990e5c3e1a240eadb8b2cc0938ed42354cabc034c662f18eaa82bb76ba59cecc237c8af002178d7414b08f4f049a42b41e6568909644d0a0a01dd39c9edc0f72fc30eb9c54e7b96516161ad1c36022def8d900d5eaae204f682ee2893198a57ccbfbb6a722026f9751091b3b7a530ae656526a8a2a67d4d36b5006c4f070932996961a3eae4b87d774593cc93e8d3f4478e468641e6c3b170c6ff8efafa312cf5e9375a5fa0d614bdcc83add23782b0e029e7f8b96b1d094631cb10a04708979fbc7fdd269de81723675536b4ca65cad6ee996f7a672aa5877738ebe4e17b381e3162b358d1462df8ec14c4492fc68831bdbd6b2c8b97aa30f2ee528ec5411bb0c3ac94ca018558f5050fe53fbe47ab6366ac3880fc1e4df1e973a380ba373b574654c9f1d641883623900f35fec74a665a8dd34b9f92c140b2ec51473d03df19222f79ef4f3477dd2c4e5462a089cd1349c6363bebd2237c9dda930e22f34dfe79a29925df4784ab5ba4cdba9c4d87006e62869996da95519860219d8468bb88bcd4686b04c96c986a4d9ae7e1b67a1fa9ade43ae63308308c6e89e9dbd4419ba78ad5c654c8afcd961ebc2a7cbe8b4ff40f082e47a0c314c75fca33a488eb0ad64bfb10b6ec4d565543c7081426b734c612f49e143ffd72296350ec4393169bca5947dafb6eba140446eb41c463d7ce8ac38d2fc0abf8909b30346742bfd9b38c01cc9d409efe51c778e4136aef4b61aa1cc5ded37ff9a45af236f940a59f8968bd2882e0ebbcae5ccbfce6a8c981f0a6138c65a1aca134bf7c180f67a96c2319d74d7590874ff9b6a26d35c409c7732e69b87df6ccdd9bb1c59b223297d341f167970e81b97b80db61e567e429ad11b68c15b776993ae8849550a54404cd871c0f3ffcb79be05559e36fda11808ca953fc263a6b72cf42e2cf08fc4251f5efe9b8d1945106f85b11ec32a0f8a23e570f3a568a308e38090a4baa2946bebcf870486268813fb5fe1a32b27cfda5e560e6584c82fef7084e5019ce850b4ca3824fdb56986a7c1710d12c7eb9d0f3f87e0c727116dde0a9afe495e0b32c5e22dc9a3d60fed056d363f911e9019c7a321f3ca517cc73529c558de0bca7603fbe04a68052ae339025a1596afe0de814807ae80d8ef27a8e5103c921d23989ca41e223547d4471293a5ffc0659791d2bcc045ceb2bb890a114ce959a986719f4a4f514aec3d0a08ba9492140a94fe239936b66c0ef5533d280ef6137522bc16d89d479abec3dde82e3f9907b3171989a6c3e4dd30c6fab04fe69e1339d0300a782caf9a321077a3bc1c8dbf2637e9bf346974c8bb94ab7c0c8c98cfe235a31606e9807b4c79fb23c7034f57e093c712dab5105370eccf2caffccf6dd0f318f0612ddaa3c593eaae04d0ac173a6673e6233b571fe1cd29a886f3980246751fa6634688cb8601e8833ffe1c4bdc37d14c499f9aa8e9f9cef911b1f0319793fc705c7955478ac7f0c8aafd593226abd20ab3fbe8ea2e98b65d29b7267abb4412ff5febb43850bd449fc8f74fdbe96b85c2befb33193b9b22580c4b2fa64e795776a59608375e46a054b5c6413df65af7a194975de3766e37fe24500f9645d9bf156580bcd6eb6808e1f6dc5c0878382464eb0183d66fa7d39ee124a16a1af03028fe8ed8a9069219261c28f0239b3b8cf6b285acd50376317d0f42875a2c10a0dc71a1ff944963f412f5d5d935d7c3230c475ccc9e9ccad993617279ff45a7c94f8277c67f4a4530c393b8bcaa2a255a9845aa60de64553f663853b7f0f8a896700d58e74fc98d3876fcbd1875d0014f4430578119a196358941c4f6d21d473688671f58b8d8d3d18cf821e4a25eef3ffbec067138d975782fdad3728d3467751002a52a6d89df2665d08019ee6ba835770060aabc81d92ae712c59222704c70d96f1ef1743098b59b85f0f0ef6e31a08e82ef8404c27a681f0f3be48c68d587fd17154b9e8c78f72f84ce586a2a9940ba770531e14c1695083a50f0cc9d39d74f99457e051b21a725f047e81ddcd6934cfef6bffb9f7f19b8352dc15a71213e68081a9fccd6106cef1565d3e9f9c9c799f4a360c541c54cdb65eb47915a0d7df66c6f8830d5481cbc05ed6a1c41806b44fd661ce94b809a6b44da624ea0b1dde325e2e0e8ec954659bf3bca467597208e278b4b084471548d426958dde67d08327b57ec86743d4597a00f642bc8f300d15140d8f15cfaef7deebff29692fe6a85d5538d50d9549310148d9ccc9f709be82fe2b6855a47d88a375bb9886239bc901881329cd8541d3c33506f6ade345604efe6539a6e7aa3788334e81d3e80469f0a2b711f88f7706631277086fd49df0acb66c85e4f7c976321bb201f26cfaddda5677415ccb60d2675fe09ef777f897e13c955dbc77cefdf3b7b2b236a9a8ccc1f33bd94d5ef415383ab25d9bb6016ebc2793862f0bcd3cded54c2228163848eb502e30f62c0ce240041b164132782d11137c773d6ee6a8c04badb897f07ef780c21c058d97527f8a74e5719607d05ce0a0151cae6bf935781e0ffda8654df7b29325f2ea8e71a7b3166632b5adee69e93ab73b3dbb05e55eea1cd1aeb4e632d19f245693e0218b187e5c5de44386ef41680067bfb5c2e211e76939f781ed4c204c472fa1fa4c4475c2b3128b8a5afa7a55c4ad360ecdb220152eea3384ba8773e22d1abc752e1209955021d70889bdf7953a22b08adfd32525c0a13759664e84a88dd078bf306fb8e02a55ea83c81d39053898f4d1d045f10a131df936a3e8dfd3258d3aad797132048cc36c4595de0445b38504756860209f41598f48a3ab864c7b4998aaf0bd4e611f3b8a3a4226e744eaebc77da7ab351483d4c4941dbc09ec5e1429e04e0540851a0e2629d7dcd1192e5ca9042a8ca70cabaf49e9637dbaab0fea7f2fd9715c005eb2e7fe9577c3575874c02860b49943f9bafb26175eae4ee7b33a5d3f45f35ec9649189e9a6c788a67d0dbf58fc6051f73b27805f7417b717abad92c6662ebd7b1288234459cdfeb766cf0a320adc151f125537020b2da5f3eb2e533f6299a8e1957fc7f166412ed50b000c119958884df20ba936e5c4b349218ca345e9174d9afc6f86184103e541fe80cbadcf618bd164e935e3058b1e7586a4c566fb4099006b0eaed9d9a0b71f4831404f3901117ae3795edcd276a0ed175817d7b5d4954bd6b3cc87e5f6879d5f8ce06be35059f884a6d5bc5fe98ea441f4f9e3f7814bcb2e4b7ca38574c39d","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
