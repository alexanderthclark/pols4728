<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"94114acec25d58725f7559d5823c14bc9af35fc97ec7e50fb4817670789c228b5be1e343ca636a3d2cf801ca1454f496357f44bf891317fc976b59502e629219eba2632f7ae62a109fc71b4cd62dada2f1f9a1dcb843806bab30e8d57cdcef6f2cad292fea30bdb6c2c182dc15e4955d69a343f3da4d2dc5a3f86beaa5c753a5e25006f9dafa642c49988e98cdea0ad7d10669153226352c1b2b4fc50659f95dd5582f70c20464bada7b768dac87e1f6f3d773bc1cf4fd2754ffa3ea83b4e77237af4489544470d5b03bdfc849cfe8bcb035fbe799fbe7d9badab08084242f89dd26d1e84cfef0fe22cb14f813b8c1a955457896a665be6f5686e6995eae448f8b1410ff3426df55a11ba9641ab4c9c1ac1d87685724af07cb0dc0cc80b9fa4d9bc0e01be88627127d52e9ca84e834275d640dbab71efb8d2b7ef589b89a6d317fa9d9b80f14a746a3db9ebb99f9bc231abe48d7e461f13ff66efabc33351350a6475faf1bee8dd38d6c4ca55e17a86eef1df515c7db30cc43cac98f85fe8c0fb53c99d1b6d81952c35f225a4eb2a2f1f1ff70bd60a7e0b2574277139c0031cc0b895e088d35846827feb6088dbea23620a66c2934b06dd49af99db18628fea80e918b5be424d28d13bd177920237fcdcf3132937e630c7b2bab421c00f7a0bed2003062c157c833adb0bd6f6a8a0f915ef12e267c9198082ab975220acfea9cc3ebbbd41482a8b90fb795aab65cf3bf92b8b35dd7b8fc11c5c2c5585e25bd8e105ad95db550e162dfe3a007a32f1886a4aff1c3a166d6aa9f0cd59758d2dd3ac4a49218d58d3c93e205a468c5754b09a006089b744797f105442f5c924406b749b9b0929eab778d63332194a30e0687b0a3a87d96f5757e8c49739786df74e5e13198891490be3c73b11c8fe9de7037ff8050deaca9b6ae511c96a6f69a33586262c94ab84d3ddefdfe50b7e034215ca91efd8790a7115d34477d4c7d13ebcb1d6c099de132fe898cdf36b3143882470d98200993256218f605e429d42b612faeccbe5eafb718e45d468489ba1eecc8492fb5dffefecc2d13c5be2f2c75ed2afb2502963d737f3d129daad5846943629a22a40b3551d1aab51be54c688946f3ed53911bcd77a4481ec9562a28dab613b185448eb82907b29f69ab9ba673cf6c4f5c966e8d83093ddcddc162e878854a74cbfc6125e83995a027f1086f496c206b986fb08e1998a1fce9ec6746cfb4975c9dfe57ab5c0119da8ea5618994fdeee2e1a91f96489a786154fc1c06b5e8b35654353e7e93db0ae94cfb32b6dcea8899b0e798ee2a6302d10a9f059fbc02aeb67bf4a2c92d6491156e8d431c72b6717cab94100bf11c3c0344a552c0df7d0c5dc610332e37c61b4c1a744f445a66c4c159b0b0b0a5594b63603222e8975b8f729eea5cea02acb7e4a0bfa6e50ed3412ed2e8cbc3ec4f3f3050c557f6d5f0317ad8b25a3d98c377cbc3accf4ac19215161b06ff7f3ed1d104b221c4c040f40a6840e9ecf65d8b0f934de4ced78a63eaa0accae444eb76b98d6de70076f3976b8a9e9c97464a9ef4003b9b0429721ef2f35b9b296ee8ddf23f074fd4ef48e8dc4da31ac84920fc3bdaafd9c49711751a0a4fbf233ae014178d3cf32fd2677760b53f9abf520260be03353404b1e1289859d5f76762222d4b69bc16bbd6204afaf18fd9acad80dc03be3bfe475abb06489fc24278bc292dd0aaaceb19db32515466cb68490ca4b173801d14999b26fc774d2f6f7de945de9eddff408598a8b53988dfea9b3f047b7e04642941b8eebb0ef5df251fe7262b18636c66be39d220b798548d019f4cfd87027e3ca8fc2fe30e81588eb29feb56e2fd3cbd3d5a42cd807ee3d51ec9175b974e49d2e14ef886d4fcac50f930079d588d25c706b1576ed68e98f98ad0f63dcaee33f4e9a1b24fd8522ab4647ed099cd48138b4d7bd3d2128a20c4b125d4acea07c059f223868c44c6289498dee40fb2a319e11ae3469950e17593cb473e6a896e1c1c95584d741b48a455f5fa5188d61c7561f6c16ee5044270f416207631a12bc22a5febf64dd03c1292fcc5ca317467aab78595dc958d1654ddd577b3c37baccc21adb2c6460eaa019a253adef66c09a53429859278e801ac119a96ae224fa0d22a6a2f53a8442c44eefc1f4392fbe969a2ca8cab4167893737fea01c926ef5fd095552166f80044a2161f816aada91d3530a21857fb12acf0f6514c43e527d219e7f5d49030723994e4b3d1a07c67662f43a2de6e391a9c482421f7aec6c9689f378678657a6dea6821da98ac5765ec001f8a4141f5cf5598bb8732b067edbbaca3002877339407b520e06c9a07e9cdd861bd242424a6c0cd533ad07a12fd4f9e5a73f1140acbc4d55f471f06c037688ab337879e7f121a047d1e6801c5c2e4ab0a52f269e2ce2fe93d221c26f4bebd3da9714f9600d1d0aed5b4c2e8ec61321b530ce71b7acb44c666326f4f87150813af6cdccb505517d5c42cf09ce66c8f982d0dae462876b3986629b02984e645926f6a2b1db11cfe3c9908c839f9443ca5fedc87d56b412a471015f4300a9c3af79d675182f34a5611ff14d324fad774e02f32d9035afb93f6dccfa06443e112d62cb0360aeed1879dc1cae71ce07a69df3804bdd3b8aa03a4794dabeeef6c521303563885a5bd09f09751f153e5ab35ff71d580e04c551d2d10412b47be0a761b14e9a4f3017fcce2539625c70b49795beb0f647d690f46142fc1cd66afdc1489757d6274eefbbfb8c8caf7c1a0816d4c0add712440772c7248a3c202947c82573fedb82763bbac14ab42c55457f42eb93ec661945671611369de4965a5ac96552dcae93eaa794488bf1edfdfccc2728bf5bc61d42538a37361e251624636b8095813842224daba3407f8f449e464b01f59a7ac998efaa365ee13c759ed7b28ee071b2439fdd16b6e3b3623aa9631cc691121a3fc4b6a677f3cb5e166cbb76d4550a3e8ab54a8537a619bbbcf6d84c0a98ff377be120bf0d58f5e2c5f3df8475248fe948c4e50f08e29125bdbe1476df6292b08a7bf0d28056ef913ed6d58c118f66aac4718fac76e08725c7425598958da18ceadadf0821e7c6463cfa7fe138aa543b1b898cd63a692927422d11ccb37dc5ef8cf6d24d7df3106ade531618dc59e529c95d43dd49f864a2dfa66ad854d13b52d91ba396e6d266b53a2175520ea44474221e26b12c5fa915913f4f4363218f913e59a04e221c51cfd1d703247fd00c2244aacb83b1f4352af004479ab85a9bb8e1fad023e62297e55d19167c43d36c6db265d7ff25c0eab43a0a15e14c1578accc9630d4dbc8375c9bd59b1a585bcf1b71d3ae9af2ef732f7db0e5d353434048c782c038af7c14a48d17444b8027e1002d933929dbe717c771e06221a7e093f6770b954b555d8bfb8b1eefa144a2e313e0b8ecede695b2e4e819b9e2a4e7aa6f32a27e4b061aed2c2fd4c7be807dc6521d1e3a9f331e47d88d57f486023180654f7139f3fc424ac2143175cd884def22b930787db37c27d92168fa9cd4f66238ccc16f513b566f05590febdb9fba93958a4bb9cfb843990af19ef3d816e9be9f3dc64cfef1880714cfacea85cd0086c1d5ee85b0dc21d3f122d55bb1f4e14255e8428a3ffd3f2088da421c120306c933e14f224b4a3f6a9e64c099f385e2a9acab9e0efd04c69950618b3f18942e1fafed122d271c8870f3ff4d07de328653df3e0b1bdf9c924b76eac7a22d70299d718e21fa05e9fd1e8b1fe49aa741aa8fc434874ccebc13df1c893ddf9a15e417101e5672d5d75fa0a68a6a208680ce1b34dd1df2b963b5a2a9c12943e18653fb6e40bbedbce0411ffa57bd62b03d143af4873246b7ff6abb2afdf6a797830895db901bc783128db1eeeb44b71b127544dd488e9bbb52c8586141ca22bdab9f19f47d3c7bf633baf04c14e83b9bbc43b98023406a775daf7bafa2cfa6875fad1776911760aa1110434d01e84793dede35be7da439954558e217f88781a1ae95de072f923a8106e5ace81303d385097a34928b3dd8d2eaf067a748467d41e4d1b12889146f485af94e4ee74c9558e04949805fab48eea52a4e556fc164239514166c8514ac3af5407d2d767c6c9fb6f03734c74ff7e7aa5c5b5b6b10e465c7d17adb7904ccffc6b7824f38abc25ba503fe3a50dad406cff4b4b0c572f4fbfba964a3f8e9d82f3143607c07524d42dfd6a566db85d38cbccca29ed0260f58ef2b76c41c47d130304e5902a286fa4847813ce397e8eac0e6ca4df46aed0e9647999f575a6abab17967c610b882286101da52480cd871b6ec7203e0146d6664f79961b2d1882590d038653d157916854eca471a44b531b570895c5f34003954a62e312951c93d1a9403a8a2a79937bb64a9219537b431c22b47e940a2aafff3c23085bc02c8e098713b5fe5945e481d68cc9900c7747090b7aa69ca9d54fdc441bb30021e220de499d78267d8664a9641367f94723e68c240863e323e1ef441b8c3fa09ba1f5681b9d19ccbc81065ed86677b1dd7cbb88fc1f3f4013a5ef3260b682afdab8bb73905f566adf5088cd48af670d3c9fd50c3f1b74d676265bbd83bc339eca7cf83d5b1c43042e7e045d1e8a00c53d81e82bd7f4b140c53bdb4a874c210834914500004fa10f3e565d94e157de984d104bcbee3c634eee0b9028a8774bdf729cfba0a6fae8f667b86f45cc1938f63605eea438a92d825fb91ce42f08d04f057126c51aaf153881083e661a68e99bb59109ceb7d0157897569a041bcbad28f4b7a7a6356416aa95e48e5afb33cff85eb761a1228bfeb15be5cfc7354e688eb9734bb9038efcec4d91f5aea4e07d9805823eada68a6cf506885641c01c768ac2c021af1fa998b2ebc673e3bce69301746ff83378b053ed4b72b665e2c133ac2980cc7e56ef03bea6b73f1d195a70f679b0ccd52a36f725beeb519033307a5676be29aecc95bd9280f3a8f2c505eb48e79ee8e1bf8c9e9cb5dc8f0519f92b74cae6679ce0f49f88cd1e167948766a666afa902daf3652ca77866060d65f2b8acccdd832f5defbf01ed79fd66ad17c57e2e18f3cdcb8b6eff537e7a1fead3820fb6c5625dc184e0f72273911055b1c15ff67149c943563debb246a481ad2e485ace593f3255ec40718cd261164f7461e154edaf0c5a9179881ef3568e4667563e3ecae4b72503e5314de84f5a658ac154f5fbc1a4a135021f26efb121cea743b61979822e65ff594f0e08dd45d890b93f5c8a3e81cbba390c88e7b32b843c7b221a0dd743ba57d6b6e9ca9483235a642f7ec2f2da0ce6118cc5e760feb8e69a3c4b5b0f09885bab7d41f86a7d00ef1a1a7be8ca3b9afd3bcaa89ad9d02381f3f46f79a1ba8f734d220093c1d65d11a167c4d195f793bd862f4d7f3c48c03cc6b028d4f0e7887ff58b538f4ec6005efd3f884f6918371eb333bfaaa02704fcc85e955c3e5a2540032c83dbacb8a1126b70b500ed30292ac6089d9c5df5468f0a5c00f04723dcfc0c77cfc3321a163c6e179a6c572f4326a6e83f23dd60a639c6671378574f55a8dbfeb047922d8f34a57e7485dbc579f96c21bbfee1144b84e00feb99576bdacd7f2e16a00d1d65acfffebe9d69d078535d7b3fd726e1e0bdbd3e53938c44e2352bb95cfc89ef4025bf0932681929a45ee4ad396ccf5d655a9c1038c0b8dbee66ff09f4512ee69159e74f7f6a4b9c668d2ba61ecb4cbe297e7b6cba6a5cf40c19b90f2593d7215b17e2c78e73871efeb0dfbf639837319d8311546be42074f26b6479132fd8d8de48272e7212e2f059b340426d89618bd2ba04de27abe772c5cc2629ecec4ddd9f41994c927d81d71800d385d41b17ed61759b32eaf2e7da1377c27d5bf2a7e33e3809b4dd0d4fa0f104d1814f91eeae8f1745667953167826a43d6a3f8e240e01210a89681322118c20d892b0dc02caa1f2fbe323fead2db8617ca7455dce6f6d045fa0449b5f9d83db493f1d21f1feb752bb36d6e050d59cf1892af490f058fb44d767c00d6e1bfbbabbace75d4e13afe055d6fde34d3e746c6a022c9fa3a5b3ef53942f0aaf5ef3d85083c2adfb6ab32bd9f06b43674bcceca13bed1439ba123a2070fb736fe3949cd3f73f6b09178fa7679bf31341c59253fff7dc44ffb66f905fa80846612622557ced4d810b7f2ea64b93a80a5444df0fd0ecc52279316f3a5561f934bf5c4ea41f0a75eb762087d7d3c2f09b36df9429a6f8a0eed3ce95be21da3b30e7db429c2165e4ee1854499c0265d2243244ea4b70e21f9e7b4e19818a52a57377a5352c8384edcf64a2a5833b8bc75bd57943aecac5cf8d646bd716054a287f370552c882eb384142027f3e8e7040c032c8511ced850c1648149ded12d3f0f954f38c4d92cc55e49e4a981f56adfbf1a71f733214d60b05f1c6d5a52d5707532b679d1529f94fc2da9ddc56588f5d7480b377e54b5cbf4f4aa101be237ef412ec59be1f80a2ddf650d4ef22c3759249471d169c471514da11e585d4750185d3ff6b63271559a7a596bbb3737042d4d84ac3d04fd24c7bad014b3dd8f8124d20ea9f97959e20ab70b8493285f48e4d502675bc65eeccdc62034680702653b9eadbb964d193bf637eaf328452d6ec22838e4014ae7884f3a2d6749a66bc3e8d9fc50382d74aae159f1e0fdb2490bcad1a252b0fc3c538cb4ab3968b5172f44e2a81b221481fe222dbc1717a8356ba62c3cee34a1d54bb40032164c8f46017cf72aa6c62c15efc76da29fb0cbfa340ccf5629014c84c429a3314956a50b35381a123cde41338e9f69e3219e85b4e9019456a9c076aa9093167b53c8f93b7f4ccf1a471a656db61a3b797bb1d455b5cebe0042b2506890fce0e627a7de65b3222c10164497a874f134bb2fdb394c01de1521942a311587266713ead1b5c17a278408fe77b8635b914211ee477c194ba75f7c246ae4906273f131579530e061c1ec7f7d5f1fc036abf350b3f19d16944aaf01021f74d38acd0b3e123822aab5f51bd79cc074aea4f0c00947e71cb30e82ce4e2d1d92bcb1f86373eb4ea19b530658475bf79f8ef169d294dd1672cded46b9f8cd3b7e271c1ae65c7337cb7b1d6dee6bb9720a28fdecaaf3754488e04a04baeeeeed9f5bc6a88db3042de8b484fdf924139b832c45502a7d129c7088926249fe94c875577a486b74360776938ce8c39decd05e3b8a0e6f9a281fffa4b8db2bb6ad5b37abd59db08083de976c2cf2f7d10831805147bb3cefb32cf6286ceef76acff18a6076b56197ad39fad85f6d98cad0f3d860d994c351794f70ff3b8bc180512dd1670da8b80b4ee52c96aa526454a0f1bebda441d96eaab093714aa6bed9f3add7954a9953a84bb459e6070ff03459bbf053972112c969f3a63fa39e9da7abb5d0e0b81b2cdbf4f99864b8d6a4899a2defcd67372e953615d1dcedaadd55c1ffc22181d34042512e7ca4bf5807c3872e7abf2d5bf8a030204fe0a029c2cf39ad7e42062cb975708e2205f618db80797584ee90df6eec082d38174b91aeb70da4295eb8a83c765af3ec1d0c04c53137f3cdbab84c4b0081546ce95861e7dc1811fe53b345bad3a29987afc9370e9082333ee51ede83a3c186b0e4d4b8c2f5c030b50ea7b533cf16c60b1940c1646662d1f406eecf45c8ec5466abe80b7e5692a34af9cdfde0a9d854ef3cd2ec46aa0ad11cd0d3b2e61c7a821311d807490db8fe1567fbaf183d2ec423901becc30dca084dcb0a2f87e1f0ae0e269c2276fbd10d93f24982766028b24b1d0e765a4fabca13759283b7b96d38080b485d9be86339d2728237969e9637f3bed75ff81caf5fab1ad85caed7ab3ca07f84b18a8774bb774f3c64b9acdcf74631a7e01e3117079c458826d734da3c9b8062a6de44198f045c9b0ef6b0297dab6667cbcf0da935db2a0d448d080162f24e6913b45aa8dd936666612448468a59ce89944ba0d1c580b6f9aac164e6923621a1e636d3c35172cc82eddaa54f806413f6f2882ab5d9fe5741017e82ba371421e6e31cdcd21a31fcacc0ddb638147d9fdb72106754b5c4d4b503fa64d1835d8a01b25dfc9a59c45016eea3f52d4cedf75ccd87103bf23f0404d1a1c26fa15d1733d51a49bc1faca5ec2eca12e20405359ef83d67b90d1051b88c48bc4b40e0f057217bdb1b659af4c69b76b7df70be37a251f46bb04443758f2a454489ffcea87679d87ccea1ca905fb1dc410df2ef56a5cd28854b5413eb98c8d86ad91b2c41b77a13e6fe2ac29ca57165d11679e27af4e0a7d25fe17129e17a43c8db77b1346befa60508037ec1dfae896b1b20bfcf791a3923a7af6e742d7c5cd2b00e030108f6070aeb8713941ff98299f55ce83fdcd390dca0ee34fd53946802fa25f0fcfd0d3859d5970c116c614da86bbed068d9ceddbe5bd53f1b36d148c7bd12d2ec6457c82d36936317ce1987c0ad01e720442f1582906061a913422d75919a5c80159109264451192e30e7eb4b81a155cdbe45b0078e6269b535d197684ac37ff1573d59ba3b13281edc74ccec4a52a0fe6e2dd7931be9716e57d644c0b72f43f7b2266b427aff214af5d8dc59f29e293af74befe4b637fe5018d2344100609104b07f54fdeef418ba95e57323295204a4ea952a9dbced32d4da1503fe4c0e5028297c5a674cc9aabc4d5951b1ad890a673c509ccc4f5f67a3f46a5f87587ff7fa9190b43a6a41175dbadf9e60b7574066817d699813d33e6fe97a25f156b737bba1107a73f24d811bd7f49eaa64dfc1f5089681a3cbbd99602298acba5cf0d3f42b2190aa54973d4c7dd04c9b44944ab22d41f7b35507d9976535bac766a8c3611100d1ce616f7eb5d777d3b8e5382605f18dcce083f316583f7a9c517e71dca8b3d5bb6028390b4ab032db3c280dd33084c50f0c7d86ed96b0288666a97ac73c0d9b8c6ddf93d385b15c34b7c6dbca8ba13ee768f10ccf4f2c8bb666aade2543f1691d32a57f08b0968c86ccf636e9b7b0fd9734ce64ce97ba35a5262e85c6341e29b2ef6f2e37b74469d823cf97e318b81d5cdefdb014b25916cd3a9757d1308e1744d149fdaa5034c6d717c7dcdd9219105bae207fbfc1c8d034004b119253f019bcf8c70cebb0907a67170e1263f79c68982932877cb3c61670818bcdec09e8d289e703e95aa76799b68aaccbf8258aa519a4596687f68bb536a3556b29b30ebb32409705b29a8fc9781eb814beea286718a09d5fd81937425cbe4ae54eb0595486c1f29e6f89d99c1947fd2d424ead894e09ea784c6e5cf55a48aee89197f621e68f90e6229278b4f13c1add2dcdf066e42ff2a9bfc1cc19e2972d27f3076cc8ece128b54997fc798b2bed117ab5ba49a0ba07619da1c4d692379c1df33cbe34604f00fc2dfa94729cc2603936e5e809d05bcebffff74ad893559dcd7a4be413cf11e94913ff6c0ac696c55c56eba96eb67d30a1bea5093c9c824f304df011eb82ab54a062875d09b57838f21657c459b33be082a920944e0d5c52eb0b8e9a8eb083a168675bbfcb90c39fa74c2cd31d2bd84e61e31e1918afcb9347c48e051ff39d37987a0733002e709c1c1aae6487a31ed5f33d0fe3e7f2f7a6719f29a081c65a4bdce2c4a69b9ad96daba02872c5c3f2d7311d917fed1907fa0aa1e532214fdc1dda7400406e7a0c2a00d8fca108bb05864babdedda03c5c159a5135a44429498269a4fcd987dee9c66a04fbda4ff4bf34bfac48725a1bc94479718367edcc8853acd548ce94a2a2e11ce13ed8f60d59e4cf95731b9dc4e68f9a933ccbd6a3d5f83e5bbfbaa649c016ead559ed7483485e3f171eaeb4023c0272ba214f47812a52eaf5eb1ebc64ebc5ad29aa40098afc9c8dc7f32deafc92529b540deb2acce4419ea97bfe74179d03ee1a902e0c4d5f8b0ec934bd2fbb41cd51fd2f49ac99b6cdc690efd0288f08e4c07e45e5f91b8abef3a379a3a97b53bd5b5a569abab5ab84a49866279401418e020e39f39e289081a792043fff2034d2e759caf7610de35a6f47e88e0beebe632789930ca720f4e6bd883688961022c238273814ef10dfa4e9c6624f365ebaecaec87dd35f57cface3190c44d66bdfbdc716db33d627e93b5a12b67f22d7a896e748e0a2b3ffc683a45e7b0715d44d6f8622aa2f7eb3a86b7fbb7aeaf77d4386c718834af65d344ab85d6af8872036f8ca6ca9015406f30bd69fba4024a15f4c755ef885d57fb771e0bbcce13ca2be2d42fd153055bfa739f9a945d80562334e94fc7edf0ce7f2b7440bcc5d34692d71ee5a10b981facf4f909f221fb3aa4f5fdece13b5b759c2e582a2d2e8817d95f162577613cd7f4be25f388a5c923574198ee9845456853b029381987507a4f5c178ace15a88a357328dc37975ac0723d53ec7c06656888fa99b5a91ff885e251e5e37a46f66cb3813e770e479201127d4b7bb05ff575f6497eb37d75dc56c5e77a374651cf1c4135f2eaf2d2d1eb895a045ed3a08aefa430a880dfbb4438446eb390037f11a60f35ca7392a21ef69be02fdd759b620631e2187ed8ace3883746870837629663b05b60bc97ba6025749d88e9439d30e0a4a3daeba9940a9a4414f3569fd83fb9f547c903e82196407f56db09eed7e81b53d1dfc4b79364f7825ba3309f74db304f1ac8cff00cf73f56cdc678b6489684777532d8677edf6ed807c9c9f3351c6f7fd089d3cebb59ed97e6f589676adcf2b3460a273b4897a7e7709eafc0a60520b8466f33aea436c03e1fdf289fd5e8cc2f9feb33f38bfc23ae56ce63f543b2e76e135363cc4b8c66a937ddcc472441f7f08b56aae45f35f69fde91a44fa58f896cd17bd4251785323e3c4102bed29ea085073b75679b5216759d48c0226e8bb437ece58c0e264a35fa6499d768009f136be41ae7e49524c04fa12143d0a93f7fd720cb6144cbb446571e3f8d616e2de52320e64dead487e7797de0874e54f8bdaf82e1d69f1b908216250d6203573f016b06c8a5e3a341032fffebf22be3554ed4ce84d9558caf36dbdbca4e4fe5591cb36111f779ef55b4a8779dd22bb095657968ec9b475e3eb0f3edf85a1ae5b8cc341b447d9107db77f20e17efcaed691701e4f9c288923e58ef835e85bc94f008a08155f07b2660bd5757469db3549b9a1b386521a61bddeaef64f43d3ac3dc2c4686f143ae9c5e7a3b57a3b433563fbe0a52698754ac3d4cc536f52d59714f8b9bdae623217d685b0b295b1bdf8fa86abaf02f9853520f56b3e34754fc2ed3ea52493585e6189445de78638c9e227b4986ed1b9e45d4c09c05963d96ddc7aff1ca9dbc9e716210da45bc41052a5a1c45a4d680dffd702b39f7482f1df49a48e8ed646cb4ed39c6485837cc2d25818bf4d059b4c0343796d0a028b186548e0f0aa5ac0fc5e6082537acfddd54e9f496d87251a545cf6d0cc494af5ecbb22761d26d8fe8a36151f98b46d56d95cc90837af8d2d63783a6a685a304357ebd7fd70551ea7390b00fec7db015db02bc39fe0c85ce308db8f75e67dea4c2306d663cac83d6faafda8b43c7f9d641c50934059044d687293da1f2d5c7ed5a857ddee03f20e4f4848eb6f65fea82a865664b9dde7ba5e7ab027b07856dde1bff4e430c124a36e88f6c3535fa5fca6bcbbc88573d168a44767999bf045fdda4948dd873609e35e5e1e0ffcdbc4aa246ce455c9c9d0194f44f524127711deccbd6f6904dfdd5ae8142b09946a35f6a6678c57914af3a35667156acaf1620c5ad4587caafb32eb0771e37d51c9a7d1d727d32eec8ea84298952fc06af1763fa2cf83c74d866c80b1316b8ff41a0b0d0f5a7a63bc513355bffe596d10f187521a27f146f84c3c0198df8d0034486a25c47cc1b504d499b4a083f0fb1739655c725ece6e4cf4a651fa418f93b22365c05dc19a0bfd710cecb495b3af409d48f141854eb0d448b5b847f48518d7c4fccfb92d8c69438c1eb5357ac91aa3cc0795e7e4a5a364a1343b7b829c6edeed8597fd75b7095fe285b2f78997e84e5fe6805e36eebb31a3158962feeccf399807efedba5ceccd4788b8c9676268c2e4361090b5f720a3f9fa4677ab2e8ce9ff117e224331d52b929bcb2a1834d070539f56109ba9b181561e390743ab36b8517c9be43cd8ace4d808f562e4b0efb30d0d27d930d003aad70f8984391c8b4297da8bc7f43005aacb5673704bade0c9dc94e64ad12a4006b0b3055b8099169d8a5d9f46d3f193dab8bd8ea0f9abdfb907ed71575c37f8b8a8f19a10fc6b2d61d2fb0083b3b98e7a5e4f9a0681a805cf24860c376a9b0d9a988f7337868d7cd05991714ba1a5c5b9a854114b8dae015b3d3a09390c757c4d6c4a675b5c04d5c3214398aa4300fd028408e241775e8e0e1342dd9d38d45701694dfefad86b9c551623a8c74f97eb4aa029e0db3afb831b010b6e52f1e7f0917846a9daaa88d74685255fe979c78cbfe66c0edc10d7f3fe5c3fbbccc3d180063a072f1bb18491a31a6eda16212adc1ff86cb25227c9cc0a0376b89dd7c53b9932f9323375b7093655bf72ed3d97162e3f721c1759fbdd4eab77bf4227d76b5e0759a2caaf8f809cb0a0364be319286de0cd9a592e6c9c1d846cbc1cdbd616cb2c426a8795a87fe6b0ae8dcb65f0d85dc175d64a0d85e4c3d7eac6bb4e7ae061d9cdd0efb6be995422e998b1c318c7029b2dc273e64f3928803206ee2831c873e80908e912b82346802bd222d3df0fa554e7a774f11ec6296c8c529f8a1f29034f709a3aac172c6aa10833cc12860c35a660c8d19aac183c5f0936abd4dfc7f6416dfd9f2ed77b22518b236a8ea10f8037f22bcdaffd55f0701062c6557eeb8d6533272a4254d467aad9fad43ecec93c58fcd8b2bb79761f6f8500de1d260f0da672670fb245ad0a2affced54c163559385464c4433bfe3404cc99512b5f27f9d56dca440a1cfeef8ae96c37c6dff33dc0652ce5ec718de4ddc38664c601756f065e766139b9ed5807af0d2ff3fa851bba7c8a45ec8016be8bee4e4046e948082c110cfb2d22b1482b17f7c664aed953f5e621c7a96b42aa9b9bd5191b0e10c586f6e48b27d6e65fd83f21d13ed15ce672f4bfa94344b6926384181903824888f1f41d136ebd8fa93307904c168b08efd2de3de64a9f52a4ff5d22c8a8237586a85bbabd7e504347056b5f7b325604fa264f048a1277eb746d7f362c7c0ff68a3664f2b4d5d5f17d67ae6805ee8a0f871acd19d8638b61128cc632ebc3b8b704d91619aa211c6e52bb69933fafef350f64c6209f736b914da2ab0053c1bb8101a3c238f95a56d97943593ce83974d2c3f8805bad7a5f61cf849792d501d6f31ffe11ebb7a184a2dc2cd564999c0d527a2daf5b092c514605ebf42876703cfeb83c2f9d3315758eba75d6c985fb3875072feebcc35ceb64e06e3e7686b73531c3146160988369040ba52b7d2c4f2ea2368ba710c7e35eaa4c00966f629851b105ea9f7c568407ef9444d0a9f9054d26378fb1ad00fe9358d9983c660a6572e1fc67a75b3730ad8c5377a64322ee96e58de7be31c429bbcaf6abc15498844e0d6dbafe1b2ec13fb02cf7013a7aefaf9f6a4f8c6f199f7504aed3da55259a1d36fb8b82f9d5345471bd43d007ff1f3296278176cf5c328bcbee636dd80d587d147e5ebf12c29129b940df0efab3840e45d7ada426bbaf46d0a8affcd8b22b315da7bff6b65de6654233b2551564535f1db9c7f71be7bd991700abf2d5e282057827133b827ed3c402f4b58a5ea4f7e3d2f32a2afb2cb1fa0ef111694a0d6cb8baa509568b723d6feec65683d1895aa250fac4577dff27964afdde1a6d8da9718846c461be77e58e520a3a6d8e9ab76f60ff2f71a209a32af004a46fa8b0b2ea811b682487c606c1cb820cecab4fd7efa8d68fd23125a06deaa898b59debc5fa900358004fbfa8425a51011194686e856e90f7d6a27b43f359908b693d6860dddaab87d5ed655998efab7e30237268602add81999304f900f56b581f7f8f7193d0b65b455b708239a1bbc9629a80818cbc5e833492e22e96238b3132bb8abd36665e49b5df9e2d8e4b1485ed9e6701592e2b8754cd13ab10326257741f861a58c6342b494662a7266e1bb57e187fd84b3b99b22077e08a7b8fd16f87e803a7709ef6345a8fda44802d9073746ba715e380e25e960fce6ccf2549b5f4c047a677059cac41fd7d907d4aa3c39c7dc47af950ff55a2f5486c2e010b62130809e811b9bb47eeafca258a734e18b74fec6a896df3c5ccf1ad5f418f92e6f4c1eeb5ae350b0918fd50c02be46a0a941bb8bea12e69cd26fe118142ccf80a4d15f028214f6da822e38a2e4a3077453b7d18d98f2fe09f27caf801beaf59fba8a59d31c89e4968a352fc013975833fe2465ee9eead50e7165c1c216458e460a11065b09a88bc5ad5889e4385ab5b29efc8f170cbeee40ad7e81d70e3ba0f4968573f026af629b61335b1127e933a09fd2f87df6f2563c0bdf43db8556ce88290b8f3455273adce5377fc3a7ed8f69ffd0d1afb2e9d438358a6e6e06e6e8812f283bcc509bd78a723e14b6429d3ae4eb506611295ac85c5a232a16d00c77ab29463f59289a83651de8e3095eaffbf6b00cbc2d843e8d7e148ebec5ed5d266ee56bfb59e111a8be0bb8cac2dab7db70f16daaa710db56db45ee8043b4d81babaa5c6aacdef723958b3b948ff563a325bcabfe27cbc48969113c935b122bbe68aedc11c05d64b0fa8fe1fead84278178d58123f8fc1ae2eadba55569c16663a3f5ddfd01f561f06115d76dc7d9fa0599032ac35e10139eee86ead287d62a877cb307bf79def503803e6f16694a12d013b9dfb0eaa576ad66e9ec5057515deb5338018a6f2feab8b387f2ddce2efee8123d4dd79994c86cde5001a9ecad8614207893bbc217165d8e6fe17c6937eb890903c38bbfd16d6c68a79a85ccb219eb7442a204a05373a61290af2d8619f57de8ef2377f3d88d58f62ba687ba6de0adb57068f232a151a996fbccd5e1201ad3d05bc7f7f1c60ad6fbb444a51877578ee1df1ab610c5b50a2fd57d7bd92c1edc21b67fe586239379dd40ae4c0dc1bb102c88c62a05b2adb3fd3c3b77218ec74bd0e37fd31db19170fb8ab321283df109899956ca25f89e85f59121eb8dcddbdef2f2a522301143725e19d14dea042d766958d4d3d04a51f3481a28f7977f51394f18c3300cb18dd069f76d25597e80b08a7c05473301277ab272c616ebcd4de72b07915ed2ca96f0744abea2d6321f29d0233951f792cbc22603c0db5fe1d8cabf1ee0b53dd256d5261f1cc70281505d7bc3b29cb7bf9360e34e3e57f8aa32b5c6c85eafbcf0632322a3b52e43d76dd59697927896689f173cfcecc333e964682dedbce5bb9b30ad24a5deaf31f3de93e36452efb1f84d5708f329e357343c86913d8905c51f2c33445e2a457d7feda05044fbe5e4a35c80efab5b060e85ca8b772cc32868e6e162797e72b655bc9b5e3378bc930b3b83aac40d26ec9d8e412b7a228990b23f177104eaa8043708f90e8d3d267274e49f195802d53a6fcfcd60cd3bdc430f2c23ff009429c76d0dabe9285ef971ae474f727177348c02bd31b882471dd6f7c22986f79624ba0d25ee14065045d97d75cefea1c9169e71ffe33b832d1655c7f4d8d922fabed77660c72aeccd7dad9367b5e7084310954fd69397cc4376710ac6ce0065f7db67bd87816d9251536807cfe2cb84b2e10c303461c7a5a55c4f21a3c99a706f380a927ef0e6b71300a0e5ce495fe044a3dc269a9051ef7d2d8f74e66269c7c286d08ce8069ec2f89715770b46f211de60339058520ea2a7b716e25e7115d8dadd5c95b0e1707cea1a4ee99238b2dc98fb2b67cd60f7b97e4669190e46d7689217e18eac8f73c8c7253a0fb356e357975c8cab2b5d50415f759f3d2a7117115b8ba4fac10387b88ff8c8beaee5ebf154ae86530c3b1a757a33f355645855612bd0ca4517a193154d1ae54ed31acf5c068d450da49a5dbf30c6a9bc532ee7d5b30fd76cc46c74827ba2fb1bfc945ab6c376325808ca49a3c2f5037bdb382762da2f7288371a2b1ad977acb357edca6ec774cb5922b86ac9e70d9d95677fdb5dde943c57c071d4b2243c3aa24316848561569e82f8f55565dd2f367d7a5599171e33b3b528f6ffc3a4416fea1c6b49be75963b2a37c00d99bf1cc121265f82e76e55b6ca6bfd5b243fe21cdcee0717668ce5acb3195a21928384affa73cdd2d507271e93a2eb408ce4a24d2a38d6651a4a2a445e3b327767c9c4c9158b5e8c7360d3478f76bee059994b3c39e2a907babad910be2bef45df1461859a1aa88151bf2b487bb52026c901818f6ef3479a866f9be1130a1b814df5e2b59d5359516c0ee1685a53ef5eadf35e7a425d766846fc01ca2b4a7a593fe7968e6b3b3f23c1836c5231dd43896d827b065d3821ce9029134d9e83c46f7166c2a433b6de607b9e643ca26c808d79aa298dbabda2390b5bac6a190776caa42459f410dd5520a10895174a3dcd0e9fb4761fe31239f7b2e00674377fe4c79de5fc910726d55a07ddebe68cf5d13231eab920ae23acd05e37b62ac7e8adf33dd7cb9d7c28d57c751a54e03fccdd265971a3dbeac2ee4d4dd30017c98db7930653feac19ebe40ec48fb2c7b3b0c92d916008f5f4d2ac0bab216c4e67bea7a8643d148872b476f8a0121c033f5a15e5ced93108dea3caf76afa96ba92f20eb92b33f233f2223cedd17888a33a6b2328a5b3ac98863de87e0295db822a6659c479e4b1728dd23a2c9c59d56fc43f2a2c704fc2a5664d5f13cc7c3c75eb155e8dacf917f49070acc5c7abe348cff96b0375b4b00ceafc2031ed73dbce2087c8ab5e4140d55449218f3c6f1282e4f2ab0dc81585e54f5a1a7d7837fa5d1d6243079cadaa4a671289a1312e7953a58f9f85d588771667a9c59c9c27a2627816b7235312f24f5e3f91af68618b16a0062d8f20f20cae9693e67bc0cbaa27a5a98b29bf653dbbc65a5f59566fe554b729d223874a34ce4b3feba1eb295d23f627c58a3d9529b37559209ba45a3e069494712b5e48d42304bc67e6c958bcda70fd50611c6ac7bdc34f2dc23036d23ab91f6caf63a959f3d01030d6a9ad1a906657a76792b4e19d68b5aef8633b185ae274d591da4c043404f1e910f463a641bd973076c021220f26378a4455687e79ee1763dfb64b74a9bd89a983c7a59adcf247c42d9f388ef8cc0dd29614184d2729b2d84ca1ea9b3af8f89214f13463e2e485b0434cbb33f9aa21c094effaec0edbbed700b44f71526ff6608e2a9e14d50a0441b9532fbb1e5a9ce59ebb87d801acd0db2c89ed39a7abd2f6e4a6fd82063539dde59721f7b68c35f89b85f6e69277e85ee41e785612126ffca91a8838e81995c3b5ffeaa7f54aae82e80d174bed3c88b398af5df8fec34ad4ffa09d5c6d66ed698504ecf5153721d804ce4ac484c9f61b93a4b01afab59b7a8baa4d8803859e43f79b04d5b7079d54246363660b8c76d4a5062e8e23e49ce3ac523d69848bc1604aa443519891caaa52a574c08523b95355335c52a49ffd7a9694b94caacb62cc2713441b703906e72b7e18c8121f6c336e331eafd53a278c49f0b0d35b2d03fa5eb028ea14632cc34955d7c1be270f10c500b9e4c1558bd21dcce79b6a8318220219b43c1469ce50b56e17d2a86375218a8de20f38a87ce0b52c09a159f5e310bd48dad9a54d47ef4916584092d876749753dc28ffb65219290561cf4ff88e66a9ce10a54a2bbdc706e991358f52c500dc3d8287e0c6289293b4f0db94c834b65b4608a746e1759d381fa8266aafd416cacaae24978632cb813d8df64a596132bf30a0f3f1ac568f881c214b75107bd8aed28cca6717a41c6c1c933e3bd24d2ad803c2bf84083a8bb731571499c1e5100ff672bd578f2e0243cda0249085f1a986fbddd13eaf23712d85505fd437fa0a31ea6275ac7a383e30c635da0dfbfdcd0ae10839a294847a75f60426ff9c1e53d3ee74810143ec90afc0727ee99577d3a10958a752f869028d66394284b5888cef60560e59f79626d0ff97265da319ae82306434e48f5700f69ed1bfd2bc407a71a59a60271506ff5da0f0657cbe3df47244e4f60659b43c02d721049aa829f33fe790682f995f599b8476decb25e854b496ce233b1c313706f07b65ab90e1ef7254a85fd610aec52d8d213f8e0f011005f336fbfc543420670ed7fd51ecf5687f19f380afb8d42cceb8a482d6b162d9026ad223bd068b97917969ec9e2e7621d5f885cef9009536e004b91049f4040be8208d4ae50a20f87cfabd699d8a0bad20de2d3f74b68e647be23554554e655d56cd5d859505c0b667ae12279874fd5a14770762c91d24f81ff291c21027721638b15998aed5cc8b40a5aee9e320adb292e2bc77b55d4e9a175fade476e2fb4318fdddd716b875f2d800e37a363ae7f92805ebbd59d3733f0bbb20fcf6f291302183cb2f7573e4ddc9990e420b66e69b38f8c75cd89261159c59818601213898f0f7f5a5174eb074e6f97aa283a1ce1c53e4cd6d8b4e7d37d1028cb479a7b61761dc88d071b1aa8ce19b48e6a368eb18294f382e67ec37174f8fd93931f3f9f584d336145e7c6c1d651eb22140042db2b9ced3a3e6459b65e983d0883e4312aa54e427e47b63f53e7f4c4265522161651b9e9441ba0e9b75e111f8ec904e93f66f743fc41f3b940d14b20b28f45db0c94baac233dd04aed2b5ab6c57f231c63c8bc67fd33994a5141b54ad8f6198f30881afbe2d598ea46e0ec114449d4a7986dcc1705d9b9f2bc2effa6c39c58657ad117bd676bbaf958d09d90189a4e6cd7379a50c80c522b2bf083a84805b9775e159aae6ffd571ad0843c7dde3471439265846fbec37e2e8e456aa55e3b99b5511dea22e2d75549ac0ad1a63336d6f3a68af0fe19f329fa2e3e80fe25fc20d474e3b59f145b9650c6785288d6fbe36cf609e18d3bfa23bcfb74babda46f46acb613d35c74181b0203b58af321578e20e47d3995ea3a9da2900fc785e6e0b8ac7b990b44eb6ce4390ec1cc23c8339752b3fc6a0c4d431a9772df87b0339bedac47bd575f81f1107b328a230c9abcf5b6aee949c6180ca4066eacc228d8d7a8286fc915ac42e37483b561434bfcb27dca42a95f0a96190395d3d2d11d4fdf25cb4c296f11fb8446544cc230d6757aa2f82300edaf01c591abe51aa88bc345957574e24427f827e4cf40a0c22c68922b63a5d938c95b850178f39b6b393da8851f7321e456206f54468152ba43e0883cd64604714f2c39965c965b24b78521ad350324126b21c4f20c16b1eade97be8602afb9a54fc811154a3b48b974948086f9ac0e7c2776772e4764f0a0e6b064ab01fdbefb9785a5c56a22cc80a266d35f777a3994e1c83b8b059af975762071b8da9586ebfed0775c04e6c08bbaebd8ae1061e0ac90b8e88f106e77641e6d51d0ea63a4f248347fc2d2bfcb4bc92a6477aceda8fa299c65480e02756ac9c975ad88e954594c1fddffcb7576e14db9e9acad7860e74d5369c04339aff97ee8ed5399d7f72fc885f499020171594b570b24d7da9b8f0b938ea93c9ea73e94f1965e7de8711e9dd971b857c8c9bf7c3fb67","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"022f7031796100c2f085595b3725c2b5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
